<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>19</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    19
                    <a href="18.html">prev</a>
                    <a href="20.html">next</a>
                    <a href="19_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_651db90b99455d330ec1889f5728cc2d0742d9f9_app/src/main/java/com/arialyy/simple/core/download/m3u8/M3U8VodDLoadActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9:app/src/main/java/com/arialyy/simple/core/download/m3u8/M3U8VodDLoadActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9^1:app/src/main/java/com/arialyy/simple/core/download/m3u8/M3U8VodDLoadActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9^2:app/src/main/java/com/arialyy/simple/core/download/m3u8/M3U8VodDLoadActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;fdb607e10faf4051fac8bac66cb5751ec828ae36:app/src/main/java/com/arialyy/simple/core/download/m3u8/M3U8VodDLoadActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj], [s], [s]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="3670365592273295132" onmouseenter="enter('3670365592273295132');" onmouseout="out('3670365592273295132');" style="">  17 package com.arialyy.simple.core.download.m3u8;                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  21 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  22 import android.support.annotation.Nullable;                                                              </span>
<span class="-6014425323136974319" onmouseenter="enter('-6014425323136974319');" onmouseout="out('-6014425323136974319');" style="">  23 import android.support.v4.app.FragmentTransaction;                                                       </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  24 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  25 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  26 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  27 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  28 import android.widget.Toast;                                                                             </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  29 import com.arialyy.annotations.Download;                                                                 </span>
<span class="7539213708840141912" onmouseenter="enter('7539213708840141912');" onmouseout="out('7539213708840141912');" style="">  30 import com.arialyy.annotations.M3U8;                                                                     </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  31 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1967721218311900918" onmouseenter="enter('1967721218311900918');" onmouseout="out('1967721218311900918');" style="">  32 import com.arialyy.aria.core.common.controller.ControllerType;                                           </span>
<span class="8060362624302769351" onmouseenter="enter('8060362624302769351');" onmouseout="out('8060362624302769351');" style="">  33 import com.arialyy.aria.core.common.controller.StartController;                                          </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  35 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="4302346346630386353" onmouseenter="enter('4302346346630386353');" onmouseout="out('4302346346630386353');" style="">  36 import com.arialyy.aria.core.download.m3u8.IBandWidthUrlConverter;                                       </span>
<span class="8365981073999279791" onmouseenter="enter('8365981073999279791');" onmouseout="out('8365981073999279791');" style="">  37 import com.arialyy.aria.core.download.m3u8.ITsMergeHandler;                                              </span>
<span class="-1397243372643346296" onmouseenter="enter('-1397243372643346296');" onmouseout="out('-1397243372643346296');" style="">  38 import com.arialyy.aria.core.download.m3u8.IVodTsUrlConverter;                                           </span>
<span class="-708713135562974886" onmouseenter="enter('-708713135562974886');" onmouseout="out('-708713135562974886');" style="">  39 import com.arialyy.aria.core.download.m3u8.M3U8KeyInfo;                                                  </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  40 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  41 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  42 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  43 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  44 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  45 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  46 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  47 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1307542565308038571" onmouseenter="enter('1307542565308038571');" onmouseout="out('1307542565308038571');" style="">  48 import com.arialyy.simple.databinding.ActivityM3u8VodBinding;                                            </span>
<span class="9036854522153759042" onmouseenter="enter('9036854522153759042');" onmouseout="out('9036854522153759042');" style="">  49 import com.arialyy.simple.to.PeerIndex;                                                                  </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  50 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  51 import java.io.File;                                                                                     </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  52 import java.util.ArrayList;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53 import java.util.List;                                                                                   </span>
<span class="3503666319709454343" onmouseenter="enter('3503666319709454343');" onmouseout="out('3503666319709454343');" style="">  54 import org.greenrobot.eventbus.EventBus;                                                                 </span>
<span class="3037664280149370344" onmouseenter="enter('3037664280149370344');" onmouseout="out('3037664280149370344');" style="">  55 import org.greenrobot.eventbus.Subscribe;                                                                </span>
<span class="8120446511931565165" onmouseenter="enter('8120446511931565165');" onmouseout="out('8120446511931565165');" style="">  56 import org.greenrobot.eventbus.ThreadMode;                                                               </span>
<span  style="">  57                                                                                                          </span>
<span class="-7216669447016418891" onmouseenter="enter('-7216669447016418891');" onmouseout="out('-7216669447016418891');" style="">  58 public class M3U8VodDLoadActivity extends BaseActivity&lt;ActivityM3u8VodBinding&gt; {                         </span>
<span  style="">  59                                                                                                          </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  60   private String mUrl;                                                                                   </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  61   private String mFilePath;                                                                              </span>
<span class="-2931738951207666539" onmouseenter="enter('-2931738951207666539');" onmouseout="out('-2931738951207666539');" style="">  62   private M3U8VodModule mModule;                                                                         </span>
<span class="512536483953907449" onmouseenter="enter('512536483953907449');" onmouseout="out('512536483953907449');" style="">  63   private VideoPlayerFragment mVideoFragment;                                                            </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="">  64   private DownloadEntity mEntity;                                                                        </span>
<span  style="">  65                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  66   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  67   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  68     super.init(savedInstanceState);                                                                      </span>
<span class="-7814287328075845790" onmouseenter="enter('-7814287328075845790');" onmouseout="out('-7814287328075845790');" style="">  69     setTitle(getString(R.string.m3u8_file));                                                             </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  70     Aria.download(this).register();                                                                      </span>
<span class="3017969102112740857" onmouseenter="enter('3017969102112740857');" onmouseout="out('3017969102112740857');" style="">  71     mModule = ViewModelProviders.of(this).get(M3U8VodModule.class);                                      </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  72     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span  style="">  73                                                                                                          </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  74       @Override public void onChanged(@Nullable DownloadEntity entity) {                                 </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  75         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  76           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77         }                                                                                                </span>
<span class="-8715036685753598047" onmouseenter="enter('-8715036685753598047');" onmouseout="out('-8715036685753598047');" style="">  78         mEntity = entity;                                                                                </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="">  79         if (mEntity.getState() == IEntity.STATE_STOP) {                                                  </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style="">  80           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="">  81         } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                        </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style="">  82           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span  style="">  84                                                                                                          </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style="">  85         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style="">  86           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87         }                                                                                                </span>
<span class="-6662093099069258511" onmouseenter="enter('-6662093099069258511');" onmouseout="out('-6662093099069258511');" style="">  88         getBinding().setProgress(entity.getPercent());                                                   </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style="">  89         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style="">  90         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style="">  91         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style="">  92         mFilePath = entity.getFilePath();                                                                </span>
<span class="-2554559306567435401" onmouseenter="enter('-2554559306567435401');" onmouseout="out('-2554559306567435401');" style="">  93         mVideoFragment = new VideoPlayerFragment(0, entity);                                             </span>
<span class="-1823607611739302524" onmouseenter="enter('-1823607611739302524');" onmouseout="out('-1823607611739302524');" style="">  94         FragmentTransaction ft = getSupportFragmentManager().beginTransaction();                         </span>
<span class="-4813819219282528373" onmouseenter="enter('-4813819219282528373');" onmouseout="out('-4813819219282528373');" style="">  95         ft.add(R.id.video_content, mVideoFragment);                                                      </span>
<span class="-7355635385715514523" onmouseenter="enter('-7355635385715514523');" onmouseout="out('-7355635385715514523');" style="">  96         ft.commit();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  98     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style="">  99     getBinding().setViewModel(this);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100   }                                                                                                      </span>
<span  style=""> 101                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 102   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 103     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 104         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 105     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106   }                                                                                                      </span>
<span  style=""> 107                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 108   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 109     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 110         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 111     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112   }                                                                                                      </span>
<span  style=""> 113                                                                                                          </span>
<span class="7849318491336065590" onmouseenter="enter('7849318491336065590');" onmouseout="out('7849318491336065590');" style=""> 114   @Override protected void onStart() {                                                                   </span>
<span class="8068463127664630279" onmouseenter="enter('8068463127664630279');" onmouseout="out('8068463127664630279');" style=""> 115     super.onStart();                                                                                     </span>
<span class="7840442864832301791" onmouseenter="enter('7840442864832301791');" onmouseout="out('7840442864832301791');" style=""> 116     EventBus.getDefault().register(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117   }                                                                                                      </span>
<span  style=""> 118                                                                                                          </span>
<span class="8218595092732559103" onmouseenter="enter('8218595092732559103');" onmouseout="out('8218595092732559103');" style=""> 119   @Override protected void onStop() {                                                                    </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 120     super.onStop();                                                                                      </span>
<span class="-1920523848747996349" onmouseenter="enter('-1920523848747996349');" onmouseout="out('-1920523848747996349');" style=""> 121     EventBus.getDefault().unregister(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122   }                                                                                                      </span>
<span  style=""> 123                                                                                                          </span>
<span class="-2936055030687467762" onmouseenter="enter('-2936055030687467762');" onmouseout="out('-2936055030687467762');" style=""> 124   @Subscribe(threadMode = ThreadMode.MAIN)                                                               </span>
<span class="-6143975754283413870" onmouseenter="enter('-6143975754283413870');" onmouseout="out('-6143975754283413870');" style=""> 125   public void jumpIndex(PeerIndex index) {                                                               </span>
<span class="-1783898564031212049" onmouseenter="enter('-1783898564031212049');" onmouseout="out('-1783898564031212049');" style=""> 126     Aria.download(this).load(mUrl).asM3U8().asVod().jumPeerIndex(index.index);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127   }                                                                                                      </span>
<span  style=""> 128                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 129   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 130   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 131     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 132     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133   }                                                                                                      </span>
<span  style=""> 134                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 136   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 137     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 138     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 139     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 140       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 141         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 142             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 143             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 144             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 145         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 146         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 147       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 148         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 149         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 150       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 151         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 152         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 153       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 154         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 156       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 157         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 159       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 160         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 163     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 164       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 165       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 166       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 168     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169   }                                                                                                      </span>
<span  style=""> 170                                                                                                          </span>
<span class="-7196614606071181668" onmouseenter="enter('-7196614606071181668');" onmouseout="out('-7196614606071181668');" style=""> 171   @M3U8.onPeerStart                                                                                      </span>
<span class="8781213929357891708" onmouseenter="enter('8781213929357891708');" onmouseout="out('8781213929357891708');" style=""> 172   void onPeerStart(String m3u8Url, String peerPath, int peerIndex) {                                     </span>
<span class="8573615793696815386" onmouseenter="enter('8573615793696815386');" onmouseout="out('8573615793696815386');" style=""> 173     //ALog.d(TAG, &quot;peer start, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174   }                                                                                                      </span>
<span  style=""> 175                                                                                                          </span>
<span class="8257191903504196862" onmouseenter="enter('8257191903504196862');" onmouseout="out('8257191903504196862');" style=""> 176   @M3U8.onPeerComplete                                                                                   </span>
<span class="-7000987268365302218" onmouseenter="enter('-7000987268365302218');" onmouseout="out('-7000987268365302218');" style=""> 177   void onPeerComplete(String m3u8Url, String peerPath, int peerIndex) {                                  </span>
<span class="7667457690162356529" onmouseenter="enter('7667457690162356529');" onmouseout="out('7667457690162356529');" style=""> 178     //ALog.d(TAG, &quot;peer complete, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                         </span>
<span class="-6420212799708974856" onmouseenter="enter('-6420212799708974856');" onmouseout="out('-6420212799708974856');" style=""> 179     mVideoFragment.addPlayer(peerIndex, peerPath);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180   }                                                                                                      </span>
<span  style=""> 181                                                                                                          </span>
<span class="-4638286725806180126" onmouseenter="enter('-4638286725806180126');" onmouseout="out('-4638286725806180126');" style=""> 182   @M3U8.onPeerFail                                                                                       </span>
<span class="8438590222169085504" onmouseenter="enter('8438590222169085504');" onmouseout="out('8438590222169085504');" style=""> 183   void onPeerFail(String m3u8Url, String peerPath, int peerIndex) {                                      </span>
<span class="1720500463605535160" onmouseenter="enter('1720500463605535160');" onmouseout="out('1720500463605535160');" style=""> 184     //ALog.d(TAG, &quot;peer fail, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 187   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 188   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 190       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192   }                                                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 194   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 195   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 197       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199   }                                                                                                      </span>
<span  style=""> 200                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 201   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 202   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 203     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 204       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 205       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207   }                                                                                                      </span>
<span  style=""> 208                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 209   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 210   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 211     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-532612250547539482" onmouseenter="enter('-532612250547539482');" onmouseout="out('-532612250547539482');" style=""> 212       //ALog.d(TAG, &quot;isRunning&quot;);                                                                        </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 213       getBinding().setProgress(task.getPercent());                                                       </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 214       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216   }                                                                                                      </span>
<span  style=""> 217                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 218   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 219   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 220     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 221       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223   }                                                                                                      </span>
<span  style=""> 224                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 225   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 226   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 227     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 228       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 229       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231   }                                                                                                      </span>
<span  style=""> 232                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 233   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 234   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 235     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 236       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 237       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 238       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 239       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241   }                                                                                                      </span>
<span  style=""> 242                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 243   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 244   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 245     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-4413127208299327673" onmouseenter="enter('-4413127208299327673');" onmouseout="out('-4413127208299327673');" style=""> 246       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_fail),                       </span>
<span class="-5913076414972122806" onmouseenter="enter('-5913076414972122806');" onmouseout="out('-5913076414972122806');" style=""> 247           Toast.LENGTH_SHORT)                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 248           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 249       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 250       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="152291097555161157" onmouseenter="enter('152291097555161157');" onmouseout="out('152291097555161157');" style=""> 251       Log.d(TAG, &quot;fail&quot;);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253   }                                                                                                      </span>
<span  style=""> 254                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 255   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 256   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 257     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 258       getBinding().setProgress(100);                                                                     </span>
<span class="8938438353922270892" onmouseenter="enter('8938438353922270892');" onmouseout="out('8938438353922270892');" style=""> 259       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_success),                    </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 260           Toast.LENGTH_SHORT).show();                                                                    </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 261       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 262       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style=""> 263       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265   }                                                                                                      </span>
<span  style=""> 266                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 268   protected int setLayoutId() {                                                                          </span>
<span class="7700684352976678089" onmouseenter="enter('7700684352976678089');" onmouseout="out('7700684352976678089');" style=""> 269     return R.layout.activity_m3u8_vod;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270   }                                                                                                      </span>
<span  style=""> 271                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 272   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 273     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 274       case R.id.start:                                                                                   </span>
<span class="-6541568162940621955" onmouseenter="enter('-6541568162940621955');" onmouseout="out('-6541568162940621955');" style=""> 275         if (!AppUtil.chekEntityValid(mEntity)) {                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 276           startD();                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 277           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278         }                                                                                                </span>
<span class="-8693389289519705875" onmouseenter="enter('-8693389289519705875');" onmouseout="out('-8693389289519705875');" style=""> 279         if (Aria.download(this).load(mEntity.getId()).isRunning()) {                                     </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style=""> 280           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 281         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style=""> 282           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 284         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 285       case R.id.cancel:                                                                                  </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 286         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="-3504775903468549870" onmouseenter="enter('-3504775903468549870');" onmouseout="out('-3504775903468549870');" style=""> 287           Aria.download(this).load(mEntity.getId()).cancel(true);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 289         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291   }                                                                                                      </span>
<span  style=""> 292                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 293   private void startD() {                                                                                </span>
<span class="2362383955665008738" onmouseenter="enter('2362383955665008738');" onmouseout="out('2362383955665008738');" style=""> 294     Aria.download(M3U8VodDLoadActivity.this)                                                             </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 295         .load(mUrl)                                                                                      </span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 296         .useServerFileName(true)                                                                         </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 297         .setFilePath(mFilePath, true)                                                                    </span>
<span class="7592519696267710287" onmouseenter="enter('7592519696267710287');" onmouseout="out('7592519696267710287');" style=""> 298         .asM3U8()                                                                                        </span>
<span class="8446280268103543944" onmouseenter="enter('8446280268103543944');" onmouseout="out('8446280268103543944');" style=""> 299         .setBandWidthUrlConverter(new IBandWidthUrlConverter() {                                         </span>
<span class="1789344830834629004" onmouseenter="enter('1789344830834629004');" onmouseout="out('1789344830834629004');" style=""> 300           @Override public String convert(String bandWidthUrl) {                                         </span>
<span class="-8482620506207967310" onmouseenter="enter('-8482620506207967310');" onmouseout="out('-8482620506207967310');" style=""> 301             int index = mUrl.lastIndexOf(&quot;/&quot;);                                                           </span>
<span class="3446796107414746102" onmouseenter="enter('3446796107414746102');" onmouseout="out('3446796107414746102');" style=""> 302             return mUrl.substring(0, index + 1) + bandWidthUrl;                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 304         })                                                                                               </span>
<span class="3049921691672849590" onmouseenter="enter('3049921691672849590');" onmouseout="out('3049921691672849590');" style=""> 305         .setTsUrlConvert(new IVodTsUrlConverter() {                                                      </span>
<span class="-2369053517215561699" onmouseenter="enter('-2369053517215561699');" onmouseout="out('-2369053517215561699');" style=""> 306           @Override public List&lt;String&gt; convert(String m3u8Url, List&lt;String&gt; tsUrls) {                   </span>
<span class="-8094939120511192988" onmouseenter="enter('-8094939120511192988');" onmouseout="out('-8094939120511192988');" style=""> 307             int index = m3u8Url.lastIndexOf(&quot;/&quot;);                                                        </span>
<span class="8391965110682918539" onmouseenter="enter('8391965110682918539');" onmouseout="out('8391965110682918539');" style=""> 308             String parentUrl = m3u8Url.substring(0, index + 1);                                          </span>
<span class="-6446956523709057118" onmouseenter="enter('-6446956523709057118');" onmouseout="out('-6446956523709057118');" style=""> 309             List&lt;String&gt; newUrls = new ArrayList&lt;&gt;();                                                    </span>
<span class="-1778898905258402356" onmouseenter="enter('-1778898905258402356');" onmouseout="out('-1778898905258402356');" style=""> 310             for (String url : tsUrls) {                                                                  </span>
<span class="4987054833531039515" onmouseenter="enter('4987054833531039515');" onmouseout="out('4987054833531039515');" style=""> 311               newUrls.add(parentUrl + url);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312             }                                                                                            </span>
<span  style=""> 313                                                                                                          </span>
<span class="-836273165766535362" onmouseenter="enter('-836273165766535362');" onmouseout="out('-836273165766535362');" style=""> 314             return newUrls;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 316         })                                                                                               </span>
<span class="3475803604541023097" onmouseenter="enter('3475803604541023097');" onmouseout="out('3475803604541023097');" style=""> 317         .setMergeHandler(new ITsMergeHandler() {                                                         </span>
<span class="135744376371040666" onmouseenter="enter('135744376371040666');" onmouseout="out('135744376371040666');" style=""> 318           @Override public boolean merge(@Nullable M3U8KeyInfo keyInfo, List&lt;String&gt; tsPath) {           </span>
<span class="-7357511131842382885" onmouseenter="enter('-7357511131842382885');" onmouseout="out('-7357511131842382885');" style=""> 319             ALog.d(TAG, &quot;合并TS....&quot;);                                                                     </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 320             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 322         })                                                                                               </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 323 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="5381971171308490599" onmouseenter="enter('5381971171308490599');" onmouseout="out('5381971171308490599');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 324         .controller(ControllerType.START_CONTROLLER)                                                     </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 325 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 326         .start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 327   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 328                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 329   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 330     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 331     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 332       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 333 =======                                                                                                  </span>
<span class="6691172401196312771" onmouseenter="enter('6691172401196312771');" onmouseout="out('6691172401196312771');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 334         .merge(true)                                                                                     </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 335         //.asVod().setPeerIndex(50)                                                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 336 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 337         .start();                                                                                        </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 338     //.start();                                                                                          </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style=""> 339     //.asVod().setPeerIndex(50)                                                                          </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 340     //.start();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341   }                                                                                                      </span>
<span  style=""> 342                                                                                                          </span>
<span class="-4008516653761415035" onmouseenter="enter('-4008516653761415035');" onmouseout="out('-4008516653761415035');" style=""> 343   private Class&lt;StartController&gt; c = StartController.class;                                              </span>
<span  style=""> 344                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 345   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 346     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 347     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 348       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 349     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 350       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353 }                                                                                                        </span>

</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="3670365592273295132" onmouseenter="enter('3670365592273295132');" onmouseout="out('3670365592273295132');" style="">  17 package com.arialyy.simple.core.download.m3u8;                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  21 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  22 import android.support.annotation.Nullable;                                                              </span>
<span class="-6014425323136974319" onmouseenter="enter('-6014425323136974319');" onmouseout="out('-6014425323136974319');" style="">  23 import android.support.v4.app.FragmentTransaction;                                                       </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  24 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  25 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  26 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  27 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  28 import android.widget.Toast;                                                                             </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  29 import com.arialyy.annotations.Download;                                                                 </span>
<span class="7539213708840141912" onmouseenter="enter('7539213708840141912');" onmouseout="out('7539213708840141912');" style="">  30 import com.arialyy.annotations.M3U8;                                                                     </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  31 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1967721218311900918" onmouseenter="enter('1967721218311900918');" onmouseout="out('1967721218311900918');" style="">  32 import com.arialyy.aria.core.common.controller.ControllerType;                                           </span>
<span class="8060362624302769351" onmouseenter="enter('8060362624302769351');" onmouseout="out('8060362624302769351');" style="">  33 import com.arialyy.aria.core.common.controller.StartController;                                          </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  35 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="4302346346630386353" onmouseenter="enter('4302346346630386353');" onmouseout="out('4302346346630386353');" style="">  36 import com.arialyy.aria.core.download.m3u8.IBandWidthUrlConverter;                                       </span>
<span class="8365981073999279791" onmouseenter="enter('8365981073999279791');" onmouseout="out('8365981073999279791');" style="">  37 import com.arialyy.aria.core.download.m3u8.ITsMergeHandler;                                              </span>
<span class="-1397243372643346296" onmouseenter="enter('-1397243372643346296');" onmouseout="out('-1397243372643346296');" style="">  38 import com.arialyy.aria.core.download.m3u8.IVodTsUrlConverter;                                           </span>
<span class="-708713135562974886" onmouseenter="enter('-708713135562974886');" onmouseout="out('-708713135562974886');" style="">  39 import com.arialyy.aria.core.download.m3u8.M3U8KeyInfo;                                                  </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  40 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  41 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  42 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  43 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  44 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  45 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  46 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  47 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1307542565308038571" onmouseenter="enter('1307542565308038571');" onmouseout="out('1307542565308038571');" style="">  48 import com.arialyy.simple.databinding.ActivityM3u8VodBinding;                                            </span>
<span class="9036854522153759042" onmouseenter="enter('9036854522153759042');" onmouseout="out('9036854522153759042');" style="">  49 import com.arialyy.simple.to.PeerIndex;                                                                  </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  50 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  51 import java.io.File;                                                                                     </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  52 import java.util.ArrayList;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53 import java.util.List;                                                                                   </span>
<span class="3503666319709454343" onmouseenter="enter('3503666319709454343');" onmouseout="out('3503666319709454343');" style="">  54 import org.greenrobot.eventbus.EventBus;                                                                 </span>
<span class="3037664280149370344" onmouseenter="enter('3037664280149370344');" onmouseout="out('3037664280149370344');" style="">  55 import org.greenrobot.eventbus.Subscribe;                                                                </span>
<span class="8120446511931565165" onmouseenter="enter('8120446511931565165');" onmouseout="out('8120446511931565165');" style="">  56 import org.greenrobot.eventbus.ThreadMode;                                                               </span>
<span  style="">  57                                                                                                          </span>
<span class="-7216669447016418891" onmouseenter="enter('-7216669447016418891');" onmouseout="out('-7216669447016418891');" style="">  58 public class M3U8VodDLoadActivity extends BaseActivity&lt;ActivityM3u8VodBinding&gt; {                         </span>
<span  style="">  59                                                                                                          </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  60   private String mUrl;                                                                                   </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  61   private String mFilePath;                                                                              </span>
<span class="-2931738951207666539" onmouseenter="enter('-2931738951207666539');" onmouseout="out('-2931738951207666539');" style="">  62   private M3U8VodModule mModule;                                                                         </span>
<span class="512536483953907449" onmouseenter="enter('512536483953907449');" onmouseout="out('512536483953907449');" style="">  63   private VideoPlayerFragment mVideoFragment;                                                            </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="">  64   private DownloadEntity mEntity;                                                                        </span>
<span  style="">  65                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  66   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  67   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  68     super.init(savedInstanceState);                                                                      </span>
<span class="-7814287328075845790" onmouseenter="enter('-7814287328075845790');" onmouseout="out('-7814287328075845790');" style="">  69     setTitle(getString(R.string.m3u8_file));                                                             </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  70     Aria.download(this).register();                                                                      </span>
<span class="3017969102112740857" onmouseenter="enter('3017969102112740857');" onmouseout="out('3017969102112740857');" style="">  71     mModule = ViewModelProviders.of(this).get(M3U8VodModule.class);                                      </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  72     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span  style="">  73                                                                                                          </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  74       @Override public void onChanged(@Nullable DownloadEntity entity) {                                 </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  75         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  76           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77         }                                                                                                </span>
<span class="-8715036685753598047" onmouseenter="enter('-8715036685753598047');" onmouseout="out('-8715036685753598047');" style="">  78         mEntity = entity;                                                                                </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="">  79         if (mEntity.getState() == IEntity.STATE_STOP) {                                                  </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style="">  80           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="">  81         } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                        </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style="">  82           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span  style="">  84                                                                                                          </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style="">  85         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style="">  86           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87         }                                                                                                </span>
<span class="-6662093099069258511" onmouseenter="enter('-6662093099069258511');" onmouseout="out('-6662093099069258511');" style="">  88         getBinding().setProgress(entity.getPercent());                                                   </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style="">  89         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style="">  90         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style="">  91         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style="">  92         mFilePath = entity.getFilePath();                                                                </span>
<span class="-2554559306567435401" onmouseenter="enter('-2554559306567435401');" onmouseout="out('-2554559306567435401');" style="">  93         mVideoFragment = new VideoPlayerFragment(0, entity);                                             </span>
<span class="-1823607611739302524" onmouseenter="enter('-1823607611739302524');" onmouseout="out('-1823607611739302524');" style="">  94         FragmentTransaction ft = getSupportFragmentManager().beginTransaction();                         </span>
<span class="-4813819219282528373" onmouseenter="enter('-4813819219282528373');" onmouseout="out('-4813819219282528373');" style="">  95         ft.add(R.id.video_content, mVideoFragment);                                                      </span>
<span class="-7355635385715514523" onmouseenter="enter('-7355635385715514523');" onmouseout="out('-7355635385715514523');" style="">  96         ft.commit();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  98     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style="">  99     getBinding().setViewModel(this);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100   }                                                                                                      </span>
<span  style=""> 101                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 102   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 103     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 104         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 105     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106   }                                                                                                      </span>
<span  style=""> 107                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 108   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 109     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 110         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 111     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112   }                                                                                                      </span>
<span  style=""> 113                                                                                                          </span>
<span class="7849318491336065590" onmouseenter="enter('7849318491336065590');" onmouseout="out('7849318491336065590');" style=""> 114   @Override protected void onStart() {                                                                   </span>
<span class="8068463127664630279" onmouseenter="enter('8068463127664630279');" onmouseout="out('8068463127664630279');" style=""> 115     super.onStart();                                                                                     </span>
<span class="7840442864832301791" onmouseenter="enter('7840442864832301791');" onmouseout="out('7840442864832301791');" style=""> 116     EventBus.getDefault().register(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117   }                                                                                                      </span>
<span  style=""> 118                                                                                                          </span>
<span class="8218595092732559103" onmouseenter="enter('8218595092732559103');" onmouseout="out('8218595092732559103');" style=""> 119   @Override protected void onStop() {                                                                    </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 120     super.onStop();                                                                                      </span>
<span class="-1920523848747996349" onmouseenter="enter('-1920523848747996349');" onmouseout="out('-1920523848747996349');" style=""> 121     EventBus.getDefault().unregister(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122   }                                                                                                      </span>
<span  style=""> 123                                                                                                          </span>
<span class="-2936055030687467762" onmouseenter="enter('-2936055030687467762');" onmouseout="out('-2936055030687467762');" style=""> 124   @Subscribe(threadMode = ThreadMode.MAIN)                                                               </span>
<span class="-6143975754283413870" onmouseenter="enter('-6143975754283413870');" onmouseout="out('-6143975754283413870');" style=""> 125   public void jumpIndex(PeerIndex index) {                                                               </span>
<span class="-1783898564031212049" onmouseenter="enter('-1783898564031212049');" onmouseout="out('-1783898564031212049');" style=""> 126     Aria.download(this).load(mUrl).asM3U8().asVod().jumPeerIndex(index.index);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127   }                                                                                                      </span>
<span  style=""> 128                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 129   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 130   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 131     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 132     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133   }                                                                                                      </span>
<span  style=""> 134                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 136   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 137     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 138     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 139     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 140       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 141         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 142             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 143             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 144             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 145         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 146         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 147       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 148         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 149         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 150       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 151         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 152         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 153       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 154         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 156       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 157         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 159       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 160         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 163     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 164       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 165       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 166       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 168     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169   }                                                                                                      </span>
<span  style=""> 170                                                                                                          </span>
<span class="-7196614606071181668" onmouseenter="enter('-7196614606071181668');" onmouseout="out('-7196614606071181668');" style=""> 171   @M3U8.onPeerStart                                                                                      </span>
<span class="8781213929357891708" onmouseenter="enter('8781213929357891708');" onmouseout="out('8781213929357891708');" style=""> 172   void onPeerStart(String m3u8Url, String peerPath, int peerIndex) {                                     </span>
<span class="8573615793696815386" onmouseenter="enter('8573615793696815386');" onmouseout="out('8573615793696815386');" style=""> 173     //ALog.d(TAG, &quot;peer start, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174   }                                                                                                      </span>
<span  style=""> 175                                                                                                          </span>
<span class="8257191903504196862" onmouseenter="enter('8257191903504196862');" onmouseout="out('8257191903504196862');" style=""> 176   @M3U8.onPeerComplete                                                                                   </span>
<span class="-7000987268365302218" onmouseenter="enter('-7000987268365302218');" onmouseout="out('-7000987268365302218');" style=""> 177   void onPeerComplete(String m3u8Url, String peerPath, int peerIndex) {                                  </span>
<span class="7667457690162356529" onmouseenter="enter('7667457690162356529');" onmouseout="out('7667457690162356529');" style=""> 178     //ALog.d(TAG, &quot;peer complete, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                         </span>
<span class="-6420212799708974856" onmouseenter="enter('-6420212799708974856');" onmouseout="out('-6420212799708974856');" style=""> 179     mVideoFragment.addPlayer(peerIndex, peerPath);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180   }                                                                                                      </span>
<span  style=""> 181                                                                                                          </span>
<span class="-4638286725806180126" onmouseenter="enter('-4638286725806180126');" onmouseout="out('-4638286725806180126');" style=""> 182   @M3U8.onPeerFail                                                                                       </span>
<span class="8438590222169085504" onmouseenter="enter('8438590222169085504');" onmouseout="out('8438590222169085504');" style=""> 183   void onPeerFail(String m3u8Url, String peerPath, int peerIndex) {                                      </span>
<span class="1720500463605535160" onmouseenter="enter('1720500463605535160');" onmouseout="out('1720500463605535160');" style=""> 184     //ALog.d(TAG, &quot;peer fail, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 187   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 188   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 190       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192   }                                                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 194   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 195   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 197       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199   }                                                                                                      </span>
<span  style=""> 200                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 201   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 202   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 203     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 204       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 205       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207   }                                                                                                      </span>
<span  style=""> 208                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 209   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 210   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 211     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-532612250547539482" onmouseenter="enter('-532612250547539482');" onmouseout="out('-532612250547539482');" style=""> 212       //ALog.d(TAG, &quot;isRunning&quot;);                                                                        </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 213       getBinding().setProgress(task.getPercent());                                                       </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 214       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216   }                                                                                                      </span>
<span  style=""> 217                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 218   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 219   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 220     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 221       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223   }                                                                                                      </span>
<span  style=""> 224                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 225   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 226   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 227     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 228       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 229       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231   }                                                                                                      </span>
<span  style=""> 232                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 233   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 234   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 235     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 236       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 237       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 238       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 239       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241   }                                                                                                      </span>
<span  style=""> 242                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 243   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 244   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 245     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-4413127208299327673" onmouseenter="enter('-4413127208299327673');" onmouseout="out('-4413127208299327673');" style=""> 246       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_fail),                       </span>
<span class="-5913076414972122806" onmouseenter="enter('-5913076414972122806');" onmouseout="out('-5913076414972122806');" style=""> 247           Toast.LENGTH_SHORT)                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 248           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 249       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 250       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="152291097555161157" onmouseenter="enter('152291097555161157');" onmouseout="out('152291097555161157');" style=""> 251       Log.d(TAG, &quot;fail&quot;);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253   }                                                                                                      </span>
<span  style=""> 254                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 255   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 256   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 257     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 258       getBinding().setProgress(100);                                                                     </span>
<span class="8938438353922270892" onmouseenter="enter('8938438353922270892');" onmouseout="out('8938438353922270892');" style=""> 259       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_success),                    </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 260           Toast.LENGTH_SHORT).show();                                                                    </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 261       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 262       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style=""> 263       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265   }                                                                                                      </span>
<span  style=""> 266                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 268   protected int setLayoutId() {                                                                          </span>
<span class="7700684352976678089" onmouseenter="enter('7700684352976678089');" onmouseout="out('7700684352976678089');" style=""> 269     return R.layout.activity_m3u8_vod;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270   }                                                                                                      </span>
<span  style=""> 271                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 272   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 273     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 274       case R.id.start:                                                                                   </span>
<span class="-6541568162940621955" onmouseenter="enter('-6541568162940621955');" onmouseout="out('-6541568162940621955');" style=""> 275         if (!AppUtil.chekEntityValid(mEntity)) {                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 276           startD();                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 277           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278         }                                                                                                </span>
<span class="-8693389289519705875" onmouseenter="enter('-8693389289519705875');" onmouseout="out('-8693389289519705875');" style=""> 279         if (Aria.download(this).load(mEntity.getId()).isRunning()) {                                     </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style=""> 280           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 281         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style=""> 282           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 284         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 285       case R.id.cancel:                                                                                  </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 286         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="-3504775903468549870" onmouseenter="enter('-3504775903468549870');" onmouseout="out('-3504775903468549870');" style=""> 287           Aria.download(this).load(mEntity.getId()).cancel(true);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 289         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291   }                                                                                                      </span>
<span  style=""> 292                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 293   private void startD() {                                                                                </span>
<span class="2362383955665008738" onmouseenter="enter('2362383955665008738');" onmouseout="out('2362383955665008738');" style=""> 294     Aria.download(M3U8VodDLoadActivity.this)                                                             </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 295         .load(mUrl)                                                                                      </span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 296         .useServerFileName(true)                                                                         </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 297         .setFilePath(mFilePath, true)                                                                    </span>
<span class="7592519696267710287" onmouseenter="enter('7592519696267710287');" onmouseout="out('7592519696267710287');" style=""> 298         .asM3U8()                                                                                        </span>
<span class="8446280268103543944" onmouseenter="enter('8446280268103543944');" onmouseout="out('8446280268103543944');" style=""> 299         .setBandWidthUrlConverter(new IBandWidthUrlConverter() {                                         </span>
<span class="1789344830834629004" onmouseenter="enter('1789344830834629004');" onmouseout="out('1789344830834629004');" style=""> 300           @Override public String convert(String bandWidthUrl) {                                         </span>
<span class="-8482620506207967310" onmouseenter="enter('-8482620506207967310');" onmouseout="out('-8482620506207967310');" style=""> 301             int index = mUrl.lastIndexOf(&quot;/&quot;);                                                           </span>
<span class="3446796107414746102" onmouseenter="enter('3446796107414746102');" onmouseout="out('3446796107414746102');" style=""> 302             return mUrl.substring(0, index + 1) + bandWidthUrl;                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 304         })                                                                                               </span>
<span class="3049921691672849590" onmouseenter="enter('3049921691672849590');" onmouseout="out('3049921691672849590');" style=""> 305         .setTsUrlConvert(new IVodTsUrlConverter() {                                                      </span>
<span class="-2369053517215561699" onmouseenter="enter('-2369053517215561699');" onmouseout="out('-2369053517215561699');" style=""> 306           @Override public List&lt;String&gt; convert(String m3u8Url, List&lt;String&gt; tsUrls) {                   </span>
<span class="-8094939120511192988" onmouseenter="enter('-8094939120511192988');" onmouseout="out('-8094939120511192988');" style=""> 307             int index = m3u8Url.lastIndexOf(&quot;/&quot;);                                                        </span>
<span class="8391965110682918539" onmouseenter="enter('8391965110682918539');" onmouseout="out('8391965110682918539');" style=""> 308             String parentUrl = m3u8Url.substring(0, index + 1);                                          </span>
<span class="-6446956523709057118" onmouseenter="enter('-6446956523709057118');" onmouseout="out('-6446956523709057118');" style=""> 309             List&lt;String&gt; newUrls = new ArrayList&lt;&gt;();                                                    </span>
<span class="-1778898905258402356" onmouseenter="enter('-1778898905258402356');" onmouseout="out('-1778898905258402356');" style=""> 310             for (String url : tsUrls) {                                                                  </span>
<span class="4987054833531039515" onmouseenter="enter('4987054833531039515');" onmouseout="out('4987054833531039515');" style=""> 311               newUrls.add(parentUrl + url);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312             }                                                                                            </span>
<span  style=""> 313                                                                                                          </span>
<span class="-836273165766535362" onmouseenter="enter('-836273165766535362');" onmouseout="out('-836273165766535362');" style=""> 314             return newUrls;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 316         })                                                                                               </span>
<span class="3475803604541023097" onmouseenter="enter('3475803604541023097');" onmouseout="out('3475803604541023097');" style=""> 317         .setMergeHandler(new ITsMergeHandler() {                                                         </span>
<span class="135744376371040666" onmouseenter="enter('135744376371040666');" onmouseout="out('135744376371040666');" style=""> 318           @Override public boolean merge(@Nullable M3U8KeyInfo keyInfo, List&lt;String&gt; tsPath) {           </span>
<span class="-7357511131842382885" onmouseenter="enter('-7357511131842382885');" onmouseout="out('-7357511131842382885');" style=""> 319             ALog.d(TAG, &quot;合并TS....&quot;);                                                                     </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 320             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 322         })                                                                                               </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 323 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="5381971171308490599" onmouseenter="enter('5381971171308490599');" onmouseout="out('5381971171308490599');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 324         .controller(ControllerType.START_CONTROLLER)                                                     </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 325 ||||||| BASE                                                                                             </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 326         //.asVod().setPeerIndex(50)                                                                      </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 327         .start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 328   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 329 =======                                                                                                  </span>
<span class="6691172401196312771" onmouseenter="enter('6691172401196312771');" onmouseout="out('6691172401196312771');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330         .merge(true)                                                                                     </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331         //.asVod().setPeerIndex(50)                                                                      </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 332 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 333         .start();                                                                                        </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 334     //.start();                                                                                          </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style=""> 335     //.asVod().setPeerIndex(50)                                                                          </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 336     //.start();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337   }                                                                                                      </span>
<span  style=""> 338                                                                                                          </span>
<span class="-4008516653761415035" onmouseenter="enter('-4008516653761415035');" onmouseout="out('-4008516653761415035');" style=""> 339   private Class&lt;StartController&gt; c = StartController.class;                                              </span>
<span  style=""> 340                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 341   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 342     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 343     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 344       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 345     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 346       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349 }                                                                                                        </span>





</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="3670365592273295132" onmouseenter="enter('3670365592273295132');" onmouseout="out('3670365592273295132');" style="">  16 package com.arialyy.simple.core.download.m3u8;                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  18 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  19 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  20 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  21 import android.support.annotation.Nullable;                                                              </span>
<span class="-6014425323136974319" onmouseenter="enter('-6014425323136974319');" onmouseout="out('-6014425323136974319');" style="">  22 import android.support.v4.app.FragmentTransaction;                                                       </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  23 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  24 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  25 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  26 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  27 import android.widget.Toast;                                                                             </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  28 import com.arialyy.annotations.Download;                                                                 </span>
<span class="7539213708840141912" onmouseenter="enter('7539213708840141912');" onmouseout="out('7539213708840141912');" style="">  29 import com.arialyy.annotations.M3U8;                                                                     </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  30 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1967721218311900918" onmouseenter="enter('1967721218311900918');" onmouseout="out('1967721218311900918');" style="">  31 import com.arialyy.aria.core.common.controller.ControllerType;                                           </span>
<span class="8060362624302769351" onmouseenter="enter('8060362624302769351');" onmouseout="out('8060362624302769351');" style="">  32 import com.arialyy.aria.core.common.controller.StartController;                                          </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  33 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  34 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="4302346346630386353" onmouseenter="enter('4302346346630386353');" onmouseout="out('4302346346630386353');" style="">  35 import com.arialyy.aria.core.download.m3u8.IBandWidthUrlConverter;                                       </span>
<span class="8365981073999279791" onmouseenter="enter('8365981073999279791');" onmouseout="out('8365981073999279791');" style="">  36 import com.arialyy.aria.core.download.m3u8.ITsMergeHandler;                                              </span>
<span class="-1397243372643346296" onmouseenter="enter('-1397243372643346296');" onmouseout="out('-1397243372643346296');" style="">  37 import com.arialyy.aria.core.download.m3u8.IVodTsUrlConverter;                                           </span>
<span class="-708713135562974886" onmouseenter="enter('-708713135562974886');" onmouseout="out('-708713135562974886');" style="">  38 import com.arialyy.aria.core.download.m3u8.M3U8KeyInfo;                                                  </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  39 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1307542565308038571" onmouseenter="enter('1307542565308038571');" onmouseout="out('1307542565308038571');" style="">  47 import com.arialyy.simple.databinding.ActivityM3u8VodBinding;                                            </span>
<span class="9036854522153759042" onmouseenter="enter('9036854522153759042');" onmouseout="out('9036854522153759042');" style="">  48 import com.arialyy.simple.to.PeerIndex;                                                                  </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  49 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  50 import java.io.File;                                                                                     </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  51 import java.util.ArrayList;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52 import java.util.List;                                                                                   </span>
<span class="3503666319709454343" onmouseenter="enter('3503666319709454343');" onmouseout="out('3503666319709454343');" style="">  53 import org.greenrobot.eventbus.EventBus;                                                                 </span>
<span class="3037664280149370344" onmouseenter="enter('3037664280149370344');" onmouseout="out('3037664280149370344');" style="">  54 import org.greenrobot.eventbus.Subscribe;                                                                </span>
<span class="8120446511931565165" onmouseenter="enter('8120446511931565165');" onmouseout="out('8120446511931565165');" style="">  55 import org.greenrobot.eventbus.ThreadMode;                                                               </span>
<span  style="">  56                                                                                                          </span>
<span  style="">  57                                                                                                          </span>
<span class="-7216669447016418891" onmouseenter="enter('-7216669447016418891');" onmouseout="out('-7216669447016418891');" style="">  58 public class M3U8VodDLoadActivity extends BaseActivity&lt;ActivityM3u8VodBinding&gt; {                         </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  59   private String mUrl;                                                                                   </span>
<span  style="">  60                                                                                                          </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  61   private String mFilePath;                                                                              </span>
<span  style="">  62                                                                                                          </span>
<span class="-2931738951207666539" onmouseenter="enter('-2931738951207666539');" onmouseout="out('-2931738951207666539');" style="">  63   private M3U8VodModule mModule;                                                                         </span>
<span  style="">  64                                                                                                          </span>
<span class="512536483953907449" onmouseenter="enter('512536483953907449');" onmouseout="out('512536483953907449');" style="">  65   private VideoPlayerFragment mVideoFragment;                                                            </span>
<span  style="">  66                                                                                                          </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="">  67   private DownloadEntity mEntity;                                                                        </span>
<span  style="">  68                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  69   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  70   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  71     super.init(savedInstanceState);                                                                      </span>
<span class="-7814287328075845790" onmouseenter="enter('-7814287328075845790');" onmouseout="out('-7814287328075845790');" style="">  72     setTitle(getString(R.string.m3u8_file));                                                             </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  73     Aria.download(this).register();                                                                      </span>
<span class="3017969102112740857" onmouseenter="enter('3017969102112740857');" onmouseout="out('3017969102112740857');" style="">  74     mModule = ViewModelProviders.of(this).get(M3U8VodModule.class);                                      </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  75     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  76       @Override                                                                                          </span>
<span class="-6472535687559444113" onmouseenter="enter('-6472535687559444113');" onmouseout="out('-6472535687559444113');" style="">  77       public void onChanged(@Nullable                                                                    </span>
<span class="-8629596519898184055" onmouseenter="enter('-8629596519898184055');" onmouseout="out('-8629596519898184055');" style="">  78       DownloadEntity entity) {                                                                           </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  79         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  80           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81         }                                                                                                </span>
<span class="-8715036685753598047" onmouseenter="enter('-8715036685753598047');" onmouseout="out('-8715036685753598047');" style="">  82         mEntity = entity;                                                                                </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="">  83         if (mEntity.getState() == IEntity.STATE_STOP) {                                                  </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style="">  84           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="">  85         } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                        </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style="">  86           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87         }                                                                                                </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style="">  88         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style="">  89           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90         }                                                                                                </span>
<span class="-6662093099069258511" onmouseenter="enter('-6662093099069258511');" onmouseout="out('-6662093099069258511');" style="">  91         getBinding().setProgress(entity.getPercent());                                                   </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style="">  92         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style="">  93         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style="">  94         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style="">  95         mFilePath = entity.getFilePath();                                                                </span>
<span class="-2554559306567435401" onmouseenter="enter('-2554559306567435401');" onmouseout="out('-2554559306567435401');" style="">  96         mVideoFragment = new VideoPlayerFragment(0, entity);                                             </span>
<span class="-1823607611739302524" onmouseenter="enter('-1823607611739302524');" onmouseout="out('-1823607611739302524');" style="">  97         FragmentTransaction ft = getSupportFragmentManager().beginTransaction();                         </span>
<span class="-4813819219282528373" onmouseenter="enter('-4813819219282528373');" onmouseout="out('-4813819219282528373');" style="">  98         ft.add(R.id.video_content, mVideoFragment);                                                      </span>
<span class="-7355635385715514523" onmouseenter="enter('-7355635385715514523');" onmouseout="out('-7355635385715514523');" style="">  99         ft.commit();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 101     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 102     getBinding().setViewModel(this);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103   }                                                                                                      </span>
<span  style=""> 104                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 105   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 106     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 107         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 108     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109   }                                                                                                      </span>
<span  style=""> 110                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 111   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 112     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 113         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 114     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115   }                                                                                                      </span>
<span  style=""> 116                                                                                                          </span>
<span class="7849318491336065590" onmouseenter="enter('7849318491336065590');" onmouseout="out('7849318491336065590');" style=""> 117   @Override protected void onStart() {                                                                   </span>
<span class="8068463127664630279" onmouseenter="enter('8068463127664630279');" onmouseout="out('8068463127664630279');" style=""> 118     super.onStart();                                                                                     </span>
<span class="7840442864832301791" onmouseenter="enter('7840442864832301791');" onmouseout="out('7840442864832301791');" style=""> 119     EventBus.getDefault().register(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120   }                                                                                                      </span>
<span  style=""> 121                                                                                                          </span>
<span class="8218595092732559103" onmouseenter="enter('8218595092732559103');" onmouseout="out('8218595092732559103');" style=""> 122   @Override protected void onStop() {                                                                    </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 123     super.onStop();                                                                                      </span>
<span class="-1920523848747996349" onmouseenter="enter('-1920523848747996349');" onmouseout="out('-1920523848747996349');" style=""> 124     EventBus.getDefault().unregister(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125   }                                                                                                      </span>
<span  style=""> 126                                                                                                          </span>
<span class="-2936055030687467762" onmouseenter="enter('-2936055030687467762');" onmouseout="out('-2936055030687467762');" style=""> 127   @Subscribe(threadMode = ThreadMode.MAIN)                                                               </span>
<span class="-6143975754283413870" onmouseenter="enter('-6143975754283413870');" onmouseout="out('-6143975754283413870');" style=""> 128   public void jumpIndex(PeerIndex index) {                                                               </span>
<span class="-1783898564031212049" onmouseenter="enter('-1783898564031212049');" onmouseout="out('-1783898564031212049');" style=""> 129     Aria.download(this).load(mUrl).asM3U8().asVod().jumPeerIndex(index.index);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130   }                                                                                                      </span>
<span  style=""> 131                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 133   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 134     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 135     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136   }                                                                                                      </span>
<span  style=""> 137                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 139   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 140     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 141     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 142     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 143       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 144         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 145             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 146             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 147             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 148         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 149         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 150       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 151         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 152         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 153       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 154         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 156       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 157         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 159       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 160         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 162       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 163         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 166     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 167       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 168       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 169       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 171     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172   }                                                                                                      </span>
<span  style=""> 173                                                                                                          </span>
<span class="-7196614606071181668" onmouseenter="enter('-7196614606071181668');" onmouseout="out('-7196614606071181668');" style=""> 174   @M3U8.onPeerStart                                                                                      </span>
<span class="8781213929357891708" onmouseenter="enter('8781213929357891708');" onmouseout="out('8781213929357891708');" style=""> 175   void onPeerStart(String m3u8Url, String peerPath, int peerIndex) {                                     </span>
<span class="8573615793696815386" onmouseenter="enter('8573615793696815386');" onmouseout="out('8573615793696815386');" style=""> 176     //ALog.d(TAG, &quot;peer start, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177   }                                                                                                      </span>
<span  style=""> 178                                                                                                          </span>
<span class="8257191903504196862" onmouseenter="enter('8257191903504196862');" onmouseout="out('8257191903504196862');" style=""> 179   @M3U8.onPeerComplete                                                                                   </span>
<span class="-7000987268365302218" onmouseenter="enter('-7000987268365302218');" onmouseout="out('-7000987268365302218');" style=""> 180   void onPeerComplete(String m3u8Url, String peerPath, int peerIndex) {                                  </span>
<span class="7667457690162356529" onmouseenter="enter('7667457690162356529');" onmouseout="out('7667457690162356529');" style=""> 181     //ALog.d(TAG, &quot;peer complete, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                         </span>
<span class="-6420212799708974856" onmouseenter="enter('-6420212799708974856');" onmouseout="out('-6420212799708974856');" style=""> 182     mVideoFragment.addPlayer(peerIndex, peerPath);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183   }                                                                                                      </span>
<span  style=""> 184                                                                                                          </span>
<span class="-4638286725806180126" onmouseenter="enter('-4638286725806180126');" onmouseout="out('-4638286725806180126');" style=""> 185   @M3U8.onPeerFail                                                                                       </span>
<span class="8438590222169085504" onmouseenter="enter('8438590222169085504');" onmouseout="out('8438590222169085504');" style=""> 186   void onPeerFail(String m3u8Url, String peerPath, int peerIndex) {                                      </span>
<span class="1720500463605535160" onmouseenter="enter('1720500463605535160');" onmouseout="out('1720500463605535160');" style=""> 187     //ALog.d(TAG, &quot;peer fail, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188   }                                                                                                      </span>
<span  style=""> 189                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 190   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 191   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 192     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 193       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195   }                                                                                                      </span>
<span  style=""> 196                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 197   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 198   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 199     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 200       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202   }                                                                                                      </span>
<span  style=""> 203                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 204   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 205   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 206     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 207       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 208       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210   }                                                                                                      </span>
<span  style=""> 211                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 212   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 213   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 214     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-532612250547539482" onmouseenter="enter('-532612250547539482');" onmouseout="out('-532612250547539482');" style=""> 215       //ALog.d(TAG, &quot;isRunning&quot;);                                                                        </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 216       getBinding().setProgress(task.getPercent());                                                       </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 217       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219   }                                                                                                      </span>
<span  style=""> 220                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 221   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 222   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 223     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 224       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226   }                                                                                                      </span>
<span  style=""> 227                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 228   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 229   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 230     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 231       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 232       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234   }                                                                                                      </span>
<span  style=""> 235                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 236   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 237   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 238     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 239       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 240       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 241       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 242       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244   }                                                                                                      </span>
<span  style=""> 245                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 246   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 247   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 248     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-4413127208299327673" onmouseenter="enter('-4413127208299327673');" onmouseout="out('-4413127208299327673');" style=""> 249       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_fail),                       </span>
<span class="-5913076414972122806" onmouseenter="enter('-5913076414972122806');" onmouseout="out('-5913076414972122806');" style=""> 250           Toast.LENGTH_SHORT)                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 251           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 252       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 253       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="152291097555161157" onmouseenter="enter('152291097555161157');" onmouseout="out('152291097555161157');" style=""> 254       Log.d(TAG, &quot;fail&quot;);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256   }                                                                                                      </span>
<span  style=""> 257                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 258   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 259   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 260     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 261       getBinding().setProgress(100);                                                                     </span>
<span class="8938438353922270892" onmouseenter="enter('8938438353922270892');" onmouseout="out('8938438353922270892');" style=""> 262       Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_success),                    </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 263           Toast.LENGTH_SHORT).show();                                                                    </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 264       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 265       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style=""> 266       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268   }                                                                                                      </span>
<span  style=""> 269                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 271   protected int setLayoutId() {                                                                          </span>
<span class="7700684352976678089" onmouseenter="enter('7700684352976678089');" onmouseout="out('7700684352976678089');" style=""> 272     return R.layout.activity_m3u8_vod;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273   }                                                                                                      </span>
<span  style=""> 274                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 275   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 276     switch (view.getId()) {                                                                              </span>
<span class="3923754866021956147" onmouseenter="enter('3923754866021956147');" onmouseout="out('3923754866021956147');" style=""> 277       case R.id.start :                                                                                  </span>
<span class="-6541568162940621955" onmouseenter="enter('-6541568162940621955');" onmouseout="out('-6541568162940621955');" style=""> 278         if (!AppUtil.chekEntityValid(mEntity)) {                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 279           startD();                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 280           break;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span class="-8693389289519705875" onmouseenter="enter('-8693389289519705875');" onmouseout="out('-8693389289519705875');" style=""> 282         if (Aria.download(this).load(mEntity.getId()).isRunning()) {                                     </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style=""> 283           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 284         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style=""> 285           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 287         break;                                                                                           </span>
<span class="4772162423765687246" onmouseenter="enter('4772162423765687246');" onmouseout="out('4772162423765687246');" style=""> 288       case R.id.cancel :                                                                                 </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 289         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="-3504775903468549870" onmouseenter="enter('-3504775903468549870');" onmouseout="out('-3504775903468549870');" style=""> 290           Aria.download(this).load(mEntity.getId()).cancel(true);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 292         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294   }                                                                                                      </span>
<span  style=""> 295                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 296   private void startD() {                                                                                </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style=""> 297         //.asVod().setPeerIndex(50)                                                                      </span>
<span class="3895172482234574361" onmouseenter="enter('3895172482234574361');" onmouseout="out('3895172482234574361');" style=""><abbr title=" 298     Aria.download(this).load(mUrl).useServerFileName(true).setFilePath(mFilePath, true).asM3U8().setBandWidthUrlConverter(new IBandWidthUrlConverter() {"> 298     Aria.download(this).load(mUrl).useServerFileName(true).setFilePath(mFilePath, true).asM3U8().setBandW🔵</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 299       @Override                                                                                          </span>
<span class="-2827798380080249108" onmouseenter="enter('-2827798380080249108');" onmouseout="out('-2827798380080249108');" style=""> 300       public String convert(String bandWidthUrl) {                                                       </span>
<span class="-8482620506207967310" onmouseenter="enter('-8482620506207967310');" onmouseout="out('-8482620506207967310');" style=""> 301         int index = mUrl.lastIndexOf(&quot;/&quot;);                                                               </span>
<span class="3446796107414746102" onmouseenter="enter('3446796107414746102');" onmouseout="out('3446796107414746102');" style=""> 302         return mUrl.substring(0, index + 1) + bandWidthUrl;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303       }                                                                                                  </span>
<span class="-385349648511204408" onmouseenter="enter('-385349648511204408');" onmouseout="out('-385349648511204408');" style=""> 304     }).setTsUrlConvert(new IVodTsUrlConverter() {                                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 305       @Override                                                                                          </span>
<span class="6564931362666024546" onmouseenter="enter('6564931362666024546');" onmouseout="out('6564931362666024546');" style=""> 306       public List&lt;String&gt; convert(String m3u8Url, List&lt;String&gt; tsUrls) {                                 </span>
<span class="-8094939120511192988" onmouseenter="enter('-8094939120511192988');" onmouseout="out('-8094939120511192988');" style=""> 307         int index = m3u8Url.lastIndexOf(&quot;/&quot;);                                                            </span>
<span class="8391965110682918539" onmouseenter="enter('8391965110682918539');" onmouseout="out('8391965110682918539');" style=""> 308         String parentUrl = m3u8Url.substring(0, index + 1);                                              </span>
<span class="-6446956523709057118" onmouseenter="enter('-6446956523709057118');" onmouseout="out('-6446956523709057118');" style=""> 309         List&lt;String&gt; newUrls = new ArrayList&lt;&gt;();                                                        </span>
<span class="-1778898905258402356" onmouseenter="enter('-1778898905258402356');" onmouseout="out('-1778898905258402356');" style=""> 310         for (String url : tsUrls) {                                                                      </span>
<span class="4987054833531039515" onmouseenter="enter('4987054833531039515');" onmouseout="out('4987054833531039515');" style=""> 311           newUrls.add(parentUrl + url);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312         }                                                                                                </span>
<span class="-836273165766535362" onmouseenter="enter('-836273165766535362');" onmouseout="out('-836273165766535362');" style=""> 313         return newUrls;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314       }                                                                                                  </span>
<span class="2183871736430254845" onmouseenter="enter('2183871736430254845');" onmouseout="out('2183871736430254845');" style=""> 315     }).setMergeHandler(new ITsMergeHandler() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 316       @Override                                                                                          </span>
<span class="-5812961446295454799" onmouseenter="enter('-5812961446295454799');" onmouseout="out('-5812961446295454799');" style=""> 317       public boolean merge(@Nullable                                                                     </span>
<span class="2695617629654894248" onmouseenter="enter('2695617629654894248');" onmouseout="out('2695617629654894248');" style=""> 318       M3U8KeyInfo keyInfo, List&lt;String&gt; tsPath) {                                                        </span>
<span class="-7357511131842382885" onmouseenter="enter('-7357511131842382885');" onmouseout="out('-7357511131842382885');" style=""> 319         ALog.d(TAG, &quot;合并TS....&quot;);                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 320         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321       }                                                                                                  </span>
<span class="-1290487568616171787" onmouseenter="enter('-1290487568616171787');" onmouseout="out('-1290487568616171787');" style=""> 322     }).                                                                                                  </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 323 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-1717539497718681079" onmouseenter="enter('-1717539497718681079');" onmouseout="out('-1717539497718681079');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 324 controller                                                                                               </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 325 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 326 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 326 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 327 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328                                                                                                          </span>
<span class="-3576097853680948820" onmouseenter="enter('-3576097853680948820');" onmouseout="out('-3576097853680948820');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329 merge                                                                                                    </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 330 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="66665788494442852" onmouseenter="enter('66665788494442852');" onmouseout="out('66665788494442852');" style=""> 331     (                                                                                                    </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 332 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7734331302102819362" onmouseenter="enter('7734331302102819362');" onmouseout="out('7734331302102819362');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 333 ControllerType.START_CONTROLLER                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 334 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 335 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 335 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 336 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 337                                                                                                          </span>
<span class="4321943036954077467" onmouseenter="enter('4321943036954077467');" onmouseout="out('4321943036954077467');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 338 true                                                                                                     </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 339 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="9108752717916242227" onmouseenter="enter('9108752717916242227');" onmouseout="out('9108752717916242227');" style=""> 340     ).start();                                                                                           </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 341     //.start();                                                                                          </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style=""> 342     //.asVod().setPeerIndex(50)                                                                          </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style=""> 343     //.start();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344   }                                                                                                      </span>
<span  style=""> 345                                                                                                          </span>
<span class="-4008516653761415035" onmouseenter="enter('-4008516653761415035');" onmouseout="out('-4008516653761415035');" style=""> 346   private Class&lt;StartController&gt; c = StartController.class;                                              </span>
<span  style=""> 347                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 348   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 349     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 350     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 351       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 352     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 353       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356 }                                                                                                        </span></pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="3670365592273295132" onmouseenter="enter('3670365592273295132');" onmouseout="out('3670365592273295132');" style="">  17  package com.arialyy.simple.core.download.m3u8;                                                                    </span>
<span  style="">  18                                                                                                                    </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19  import android.arch.lifecycle.Observer;                                                                           </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20  import android.arch.lifecycle.ViewModelProviders;                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  21  import android.os.Bundle;                                                                                         </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  22  import android.support.annotation.Nullable;                                                                       </span>
<span class="-6014425323136974319" onmouseenter="enter('-6014425323136974319');" onmouseout="out('-6014425323136974319');" style="">  23  import android.support.v4.app.FragmentTransaction;                                                                </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  24  import android.util.Log;                                                                                          </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  25  import android.view.Menu;                                                                                         </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  26  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  27  import android.view.View;                                                                                         </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  28  import android.widget.Toast;                                                                                      </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  29  import com.arialyy.annotations.Download;                                                                          </span>
<span class="7539213708840141912" onmouseenter="enter('7539213708840141912');" onmouseout="out('7539213708840141912');" style="">  30  import com.arialyy.annotations.M3U8;                                                                              </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  31  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="1967721218311900918" onmouseenter="enter('1967721218311900918');" onmouseout="out('1967721218311900918');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +import com.arialyy.aria.core.common.controller.ControllerType;                                                    </span>
<span class="8060362624302769351" onmouseenter="enter('8060362624302769351');" onmouseout="out('8060362624302769351');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 +import com.arialyy.aria.core.common.controller.StartController;                                                   </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34  import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import com.arialyy.aria.core.download.DownloadTarget;                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  36  import com.arialyy.aria.core.download.DownloadTask;                                                               </span>
<span class="4302346346630386353" onmouseenter="enter('4302346346630386353');" onmouseout="out('4302346346630386353');" style="">  37  import com.arialyy.aria.core.download.m3u8.IBandWidthUrlConverter;                                                </span>
<span class="8365981073999279791" onmouseenter="enter('8365981073999279791');" onmouseout="out('8365981073999279791');" style="">  38  import com.arialyy.aria.core.download.m3u8.ITsMergeHandler;                                                       </span>
<span class="-1397243372643346296" onmouseenter="enter('-1397243372643346296');" onmouseout="out('-1397243372643346296');" style="">  39  import com.arialyy.aria.core.download.m3u8.IVodTsUrlConverter;                                                    </span>
<span class="-708713135562974886" onmouseenter="enter('-708713135562974886');" onmouseout="out('-708713135562974886');" style="">  40  import com.arialyy.aria.core.download.m3u8.M3U8KeyInfo;                                                           </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  41  import com.arialyy.aria.core.inf.IEntity;                                                                         </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  42  import com.arialyy.aria.util.ALog;                                                                                </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  43  import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  44  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  45  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  46  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  47  import com.arialyy.simple.common.ModifyPathDialog;                                                                </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  48  import com.arialyy.simple.common.ModifyUrlDialog;                                                                 </span>
<span class="1307542565308038571" onmouseenter="enter('1307542565308038571');" onmouseout="out('1307542565308038571');" style="">  49  import com.arialyy.simple.databinding.ActivityM3u8VodBinding;                                                     </span>
<span class="9036854522153759042" onmouseenter="enter('9036854522153759042');" onmouseout="out('9036854522153759042');" style="">  50  import com.arialyy.simple.to.PeerIndex;                                                                           </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  51 +import com.arialyy.simple.util.AppUtil;                                                                           </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  52  import java.io.File;                                                                                              </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  53  import java.util.ArrayList;                                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  54  import java.util.List;                                                                                            </span>
<span class="3503666319709454343" onmouseenter="enter('3503666319709454343');" onmouseout="out('3503666319709454343');" style="">  55  import org.greenrobot.eventbus.EventBus;                                                                          </span>
<span class="3037664280149370344" onmouseenter="enter('3037664280149370344');" onmouseout="out('3037664280149370344');" style="">  56  import org.greenrobot.eventbus.Subscribe;                                                                         </span>
<span class="8120446511931565165" onmouseenter="enter('8120446511931565165');" onmouseout="out('8120446511931565165');" style="">  57  import org.greenrobot.eventbus.ThreadMode;                                                                        </span>
<span  style="">  58                                                                                                                    </span>
<span class="-7216669447016418891" onmouseenter="enter('-7216669447016418891');" onmouseout="out('-7216669447016418891');" style="">  59  public class M3U8VodDLoadActivity extends BaseActivity&lt;ActivityM3u8VodBinding&gt; {                                  </span>
<span  style="">  60                                                                                                                    </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  61    private String mUrl;                                                                                            </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  62    private String mFilePath;                                                                                       </span>
<span class="-2931738951207666539" onmouseenter="enter('-2931738951207666539');" onmouseout="out('-2931738951207666539');" style="">  63    private M3U8VodModule mModule;                                                                                  </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -  private DownloadTarget mTarget;                                                                                 </span>
<span class="512536483953907449" onmouseenter="enter('512536483953907449');" onmouseout="out('512536483953907449');" style="">  65    private VideoPlayerFragment mVideoFragment;                                                                     </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +  private DownloadEntity mEntity;                                                                                 </span>
<span  style="">  67                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  68    @Override                                                                                                       </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  69    protected void init(Bundle savedInstanceState) {                                                                </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  70      super.init(savedInstanceState);                                                                               </span>
<span class="-7814287328075845790" onmouseenter="enter('-7814287328075845790');" onmouseout="out('-7814287328075845790');" style="">  71      setTitle(getString(R.string.m3u8_file));                                                                      </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  72      Aria.download(this).register();                                                                               </span>
<span class="3017969102112740857" onmouseenter="enter('3017969102112740857');" onmouseout="out('3017969102112740857');" style="">  73      mModule = ViewModelProviders.of(this).get(M3U8VodModule.class);                                               </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  74      mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                              </span>
<span  style="">  75                                                                                                                    </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  76        @Override public void onChanged(@Nullable DownloadEntity entity) {                                          </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  77          if (entity == null) {                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  78            return;                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79          }                                                                                                         </span>
<span class="-8055250673403421196" onmouseenter="enter('-8055250673403421196');" onmouseout="out('-8055250673403421196');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -        mTarget = Aria.download(M3U8VodDLoadActivity.this).load(entity.getUrl());                                 </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -        if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                                       </span>
<span class="-8715036685753598047" onmouseenter="enter('-8715036685753598047');" onmouseout="out('-8715036685753598047');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +        mEntity = entity;                                                                                         </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +        if (mEntity.getState() == IEntity.STATE_STOP) {                                                           </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style="">  84            getBinding().setStateStr(getString(R.string.resume));                                                   </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -        } else if (mTarget.isRunning()) {                                                                         </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +        } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                                 </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style="">  87            getBinding().setStateStr(getString(R.string.stop));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88          }                                                                                                         </span>
<span  style="">  89                                                                                                                    </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style="">  90          if (entity.getFileSize() != 0) {                                                                          </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style="">  91            getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92          }                                                                                                         </span>
<span class="-6662093099069258511" onmouseenter="enter('-6662093099069258511');" onmouseout="out('-6662093099069258511');" style="">  93          getBinding().setProgress(entity.getPercent());                                                            </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style="">  94          getBinding().setUrl(entity.getUrl());                                                                     </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style="">  95          getBinding().setFilePath(entity.getFilePath());                                                           </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style="">  96          mUrl = entity.getUrl();                                                                                   </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style="">  97          mFilePath = entity.getFilePath();                                                                         </span>
<span class="-2554559306567435401" onmouseenter="enter('-2554559306567435401');" onmouseout="out('-2554559306567435401');" style="">  98          mVideoFragment = new VideoPlayerFragment(0, entity);                                                      </span>
<span class="-1823607611739302524" onmouseenter="enter('-1823607611739302524');" onmouseout="out('-1823607611739302524');" style="">  99          FragmentTransaction ft = getSupportFragmentManager().beginTransaction();                                  </span>
<span class="-4813819219282528373" onmouseenter="enter('-4813819219282528373');" onmouseout="out('-4813819219282528373');" style=""> 100          ft.add(R.id.video_content, mVideoFragment);                                                               </span>
<span class="-7355635385715514523" onmouseenter="enter('-7355635385715514523');" onmouseout="out('-7355635385715514523');" style=""> 101          ft.commit();                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102        }                                                                                                           </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 103      });                                                                                                           </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 104      getBinding().setViewModel(this);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105    }                                                                                                               </span>
<span  style=""> 106                                                                                                                    </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 107    public void chooseUrl() {                                                                                       </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 108      ModifyUrlDialog dialog =                                                                                      </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 109          new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                             </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 110      dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111    }                                                                                                               </span>
<span  style=""> 112                                                                                                                    </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 113    public void chooseFilePath() {                                                                                  </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 114      ModifyPathDialog dialog =                                                                                     </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 115          new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                              </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 116      dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117    }                                                                                                               </span>
<span  style=""> 118                                                                                                                    </span>
<span class="7849318491336065590" onmouseenter="enter('7849318491336065590');" onmouseout="out('7849318491336065590');" style=""> 119    @Override protected void onStart() {                                                                            </span>
<span class="8068463127664630279" onmouseenter="enter('8068463127664630279');" onmouseout="out('8068463127664630279');" style=""> 120      super.onStart();                                                                                              </span>
<span class="7840442864832301791" onmouseenter="enter('7840442864832301791');" onmouseout="out('7840442864832301791');" style=""> 121      EventBus.getDefault().register(this);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122    }                                                                                                               </span>
<span  style=""> 123                                                                                                                    </span>
<span class="8218595092732559103" onmouseenter="enter('8218595092732559103');" onmouseout="out('8218595092732559103');" style=""> 124    @Override protected void onStop() {                                                                             </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 125      super.onStop();                                                                                               </span>
<span class="-1920523848747996349" onmouseenter="enter('-1920523848747996349');" onmouseout="out('-1920523848747996349');" style=""> 126      EventBus.getDefault().unregister(this);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127    }                                                                                                               </span>
<span  style=""> 128                                                                                                                    </span>
<span class="-2936055030687467762" onmouseenter="enter('-2936055030687467762');" onmouseout="out('-2936055030687467762');" style=""> 129    @Subscribe(threadMode = ThreadMode.MAIN)                                                                        </span>
<span class="-6143975754283413870" onmouseenter="enter('-6143975754283413870');" onmouseout="out('-6143975754283413870');" style=""> 130    public void jumpIndex(PeerIndex index) {                                                                        </span>
<span class="-1783898564031212049" onmouseenter="enter('-1783898564031212049');" onmouseout="out('-1783898564031212049');" style=""> 131      Aria.download(this).load(mUrl).asM3U8().asVod().jumPeerIndex(index.index);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132    }                                                                                                               </span>
<span  style=""> 133                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134    @Override                                                                                                       </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 135    public boolean onCreateOptionsMenu(Menu menu) {                                                                 </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 136      getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                            </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 137      return super.onCreateOptionsMenu(menu);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138    }                                                                                                               </span>
<span  style=""> 139                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 140    @Override                                                                                                       </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 141    public boolean onMenuItemClick(MenuItem item) {                                                                 </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 142      int speed = -1;                                                                                               </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 143      String msg = &quot;&quot;;                                                                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 144      switch (item.getItemId()) {                                                                                   </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 145        case R.id.help:                                                                                             </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 146          msg = &quot;一些小知识点：\n&quot;                                                                                         </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 147              + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                              </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 148              + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;                 </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 149              + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                         </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 150          showMsgDialog(&quot;tip&quot;, msg);                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 151          break;                                                                                                    </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 152        case R.id.speed_0:                                                                                          </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 153          speed = 0;                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 154          break;                                                                                                    </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 155        case R.id.speed_128:                                                                                        </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 156          speed = 128;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 157          break;                                                                                                    </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 158        case R.id.speed_256:                                                                                        </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 159          speed = 256;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 160          break;                                                                                                    </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 161        case R.id.speed_512:                                                                                        </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 162          speed = 512;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 163          break;                                                                                                    </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 164        case R.id.speed_1m:                                                                                         </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 165          speed = 1024;                                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 166          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167      }                                                                                                             </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 168      if (speed &gt; -1) {                                                                                             </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 169        msg = item.getTitle().toString();                                                                           </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 170        Aria.download(this).setMaxSpeed(speed);                                                                     </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 171        T.showShort(this, msg);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172      }                                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 173      return true;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174    }                                                                                                               </span>
<span  style=""> 175                                                                                                                    </span>
<span class="-7196614606071181668" onmouseenter="enter('-7196614606071181668');" onmouseout="out('-7196614606071181668');" style=""> 176    @M3U8.onPeerStart                                                                                               </span>
<span class="8781213929357891708" onmouseenter="enter('8781213929357891708');" onmouseout="out('8781213929357891708');" style=""> 177    void onPeerStart(String m3u8Url, String peerPath, int peerIndex) {                                              </span>
<span class="8573615793696815386" onmouseenter="enter('8573615793696815386');" onmouseout="out('8573615793696815386');" style=""> 178      //ALog.d(TAG, &quot;peer start, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179    }                                                                                                               </span>
<span  style=""> 180                                                                                                                    </span>
<span class="8257191903504196862" onmouseenter="enter('8257191903504196862');" onmouseout="out('8257191903504196862');" style=""> 181    @M3U8.onPeerComplete                                                                                            </span>
<span class="-7000987268365302218" onmouseenter="enter('-7000987268365302218');" onmouseout="out('-7000987268365302218');" style=""> 182    void onPeerComplete(String m3u8Url, String peerPath, int peerIndex) {                                           </span>
<span class="7667457690162356529" onmouseenter="enter('7667457690162356529');" onmouseout="out('7667457690162356529');" style=""> 183      //ALog.d(TAG, &quot;peer complete, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                  </span>
<span class="-6420212799708974856" onmouseenter="enter('-6420212799708974856');" onmouseout="out('-6420212799708974856');" style=""> 184      mVideoFragment.addPlayer(peerIndex, peerPath);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185    }                                                                                                               </span>
<span  style=""> 186                                                                                                                    </span>
<span class="-4638286725806180126" onmouseenter="enter('-4638286725806180126');" onmouseout="out('-4638286725806180126');" style=""> 187    @M3U8.onPeerFail                                                                                                </span>
<span class="8438590222169085504" onmouseenter="enter('8438590222169085504');" onmouseout="out('8438590222169085504');" style=""> 188    void onPeerFail(String m3u8Url, String peerPath, int peerIndex) {                                               </span>
<span class="1720500463605535160" onmouseenter="enter('1720500463605535160');" onmouseout="out('1720500463605535160');" style=""> 189      //ALog.d(TAG, &quot;peer fail, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190    }                                                                                                               </span>
<span  style=""> 191                                                                                                                    </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 192    @Download.onWait                                                                                                </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 193    void onWait(DownloadTask task) {                                                                                </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 194      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 195        Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197    }                                                                                                               </span>
<span  style=""> 198                                                                                                                    </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 199    @Download.onPre                                                                                                 </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 200    protected void onPre(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 201      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 202        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204    }                                                                                                               </span>
<span  style=""> 205                                                                                                                    </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 206    @Download.onTaskStart                                                                                           </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 207    void taskStart(DownloadTask task) {                                                                             </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 208      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 209        getBinding().setFileSize(task.getConvertFileSize());                                                        </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 210        ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212    }                                                                                                               </span>
<span  style=""> 213                                                                                                                    </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 214    @Download.onTaskRunning                                                                                         </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 215    protected void running(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 216      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-532612250547539482" onmouseenter="enter('-532612250547539482');" onmouseout="out('-532612250547539482');" style=""> 217        //ALog.d(TAG, &quot;isRunning&quot;);                                                                                 </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 218        getBinding().setProgress(task.getPercent());                                                                </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 219        getBinding().setSpeed(task.getConvertSpeed());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221    }                                                                                                               </span>
<span  style=""> 222                                                                                                                    </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 223    @Download.onTaskResume                                                                                          </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 224    void taskResume(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 225      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 226        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228    }                                                                                                               </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 230    @Download.onTaskStop                                                                                            </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 231    void taskStop(DownloadTask task) {                                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 232      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 233        getBinding().setStateStr(getString(R.string.resume));                                                       </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 234        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236    }                                                                                                               </span>
<span  style=""> 237                                                                                                                    </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 238    @Download.onTaskCancel                                                                                          </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 239    void taskCancel(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 240      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 241        getBinding().setProgress(0);                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 242        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 243        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 244        Log.d(TAG, &quot;cancel&quot;);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246    }                                                                                                               </span>
<span  style=""> 247                                                                                                                    </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 248    @Download.onTaskFail                                                                                            </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 249    void taskFail(DownloadTask task, Exception e) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 250      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-4413127208299327673" onmouseenter="enter('-4413127208299327673');" onmouseout="out('-4413127208299327673');" style=""> 251        Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_fail),                                </span>
<span class="-5913076414972122806" onmouseenter="enter('-5913076414972122806');" onmouseout="out('-5913076414972122806');" style=""> 252            Toast.LENGTH_SHORT)                                                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 253            .show();                                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 254        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 255        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="152291097555161157" onmouseenter="enter('152291097555161157');" onmouseout="out('152291097555161157');" style=""> 256        Log.d(TAG, &quot;fail&quot;);                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258    }                                                                                                               </span>
<span  style=""> 259                                                                                                                    </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 260    @Download.onTaskComplete                                                                                        </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 261    void taskComplete(DownloadTask task) {                                                                          </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 262      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 263        getBinding().setProgress(100);                                                                              </span>
<span class="8938438353922270892" onmouseenter="enter('8938438353922270892');" onmouseout="out('8938438353922270892');" style=""> 264        Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_success),                             </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 265            Toast.LENGTH_SHORT).show();                                                                             </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 266        getBinding().setStateStr(getString(R.string.re_start));                                                     </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 267        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style=""> 268        ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270    }                                                                                                               </span>
<span  style=""> 271                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272    @Override                                                                                                       </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 273    protected int setLayoutId() {                                                                                   </span>
<span class="7700684352976678089" onmouseenter="enter('7700684352976678089');" onmouseout="out('7700684352976678089');" style=""> 274      return R.layout.activity_m3u8_vod;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275    }                                                                                                               </span>
<span  style=""> 276                                                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 277    public void onClick(View view) {                                                                                </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 278      switch (view.getId()) {                                                                                       </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 279        case R.id.start:                                                                                            </span>
<span class="2996656728279419282" onmouseenter="enter('2996656728279419282');" onmouseout="out('2996656728279419282');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 280 -        ALog.d(TAG, &quot;isRunning = &quot; + mTarget.isRunning());                                                        </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 281 -        if (mTarget.isRunning()) {                                                                                </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 282 -          Aria.download(this).load(mUrl).stop();                                                                  </span>
<span class="-6541568162940621955" onmouseenter="enter('-6541568162940621955');" onmouseout="out('-6541568162940621955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +        if (!AppUtil.chekEntityValid(mEntity)) {                                                                  </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +          startD();                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +          break;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +        }                                                                                                         </span>
<span class="-8693389289519705875" onmouseenter="enter('-8693389289519705875');" onmouseout="out('-8693389289519705875');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +        if (Aria.download(this).load(mEntity.getId()).isRunning()) {                                              </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +          Aria.download(this).load(mEntity.getId()).stop();                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 289          } else {                                                                                                  </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 290 -          startD();                                                                                               </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +          Aria.download(this).load(mEntity.getId()).resume();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292          }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 293          break;                                                                                                    </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 294        case R.id.cancel:                                                                                           </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 295 -        Aria.download(this).load(mUrl).cancel(true);                                                              </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 296 +        if (AppUtil.chekEntityValid(mEntity)) {                                                                   </span>
<span class="-3504775903468549870" onmouseenter="enter('-3504775903468549870');" onmouseout="out('-3504775903468549870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 297 +          Aria.download(this).load(mEntity.getId()).cancel(true);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +        }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 299          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301    }                                                                                                               </span>
<span  style=""> 302                                                                                                                    </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 303    private void startD() {                                                                                         </span>
<span class="2362383955665008738" onmouseenter="enter('2362383955665008738');" onmouseout="out('2362383955665008738');" style=""> 304      Aria.download(M3U8VodDLoadActivity.this)                                                                      </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 305          .load(mUrl)                                                                                               </span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 306          .useServerFileName(true)                                                                                  </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 307          .setFilePath(mFilePath, true)                                                                             </span>
<span class="7592519696267710287" onmouseenter="enter('7592519696267710287');" onmouseout="out('7592519696267710287');" style=""> 308          .asM3U8()                                                                                                 </span>
<span class="8446280268103543944" onmouseenter="enter('8446280268103543944');" onmouseout="out('8446280268103543944');" style=""> 309          .setBandWidthUrlConverter(new IBandWidthUrlConverter() {                                                  </span>
<span class="1789344830834629004" onmouseenter="enter('1789344830834629004');" onmouseout="out('1789344830834629004');" style=""> 310            @Override public String convert(String bandWidthUrl) {                                                  </span>
<span class="-8482620506207967310" onmouseenter="enter('-8482620506207967310');" onmouseout="out('-8482620506207967310');" style=""> 311              int index = mUrl.lastIndexOf(&quot;/&quot;);                                                                    </span>
<span class="3446796107414746102" onmouseenter="enter('3446796107414746102');" onmouseout="out('3446796107414746102');" style=""> 312              return mUrl.substring(0, index + 1) + bandWidthUrl;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 314          })                                                                                                        </span>
<span class="3049921691672849590" onmouseenter="enter('3049921691672849590');" onmouseout="out('3049921691672849590');" style=""> 315          .setTsUrlConvert(new IVodTsUrlConverter() {                                                               </span>
<span class="-2369053517215561699" onmouseenter="enter('-2369053517215561699');" onmouseout="out('-2369053517215561699');" style=""> 316            @Override public List&lt;String&gt; convert(String m3u8Url, List&lt;String&gt; tsUrls) {                            </span>
<span class="-8094939120511192988" onmouseenter="enter('-8094939120511192988');" onmouseout="out('-8094939120511192988');" style=""> 317              int index = m3u8Url.lastIndexOf(&quot;/&quot;);                                                                 </span>
<span class="8391965110682918539" onmouseenter="enter('8391965110682918539');" onmouseout="out('8391965110682918539');" style=""> 318              String parentUrl = m3u8Url.substring(0, index + 1);                                                   </span>
<span class="-6446956523709057118" onmouseenter="enter('-6446956523709057118');" onmouseout="out('-6446956523709057118');" style=""> 319              List&lt;String&gt; newUrls = new ArrayList&lt;&gt;();                                                             </span>
<span class="-1778898905258402356" onmouseenter="enter('-1778898905258402356');" onmouseout="out('-1778898905258402356');" style=""> 320              for (String url : tsUrls) {                                                                           </span>
<span class="4987054833531039515" onmouseenter="enter('4987054833531039515');" onmouseout="out('4987054833531039515');" style=""> 321                newUrls.add(parentUrl + url);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322              }                                                                                                     </span>
<span  style=""> 323                                                                                                                    </span>
<span class="-836273165766535362" onmouseenter="enter('-836273165766535362');" onmouseout="out('-836273165766535362');" style=""> 324              return newUrls;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 326          })                                                                                                        </span>
<span class="3475803604541023097" onmouseenter="enter('3475803604541023097');" onmouseout="out('3475803604541023097');" style=""> 327          .setMergeHandler(new ITsMergeHandler() {                                                                  </span>
<span class="135744376371040666" onmouseenter="enter('135744376371040666');" onmouseout="out('135744376371040666');" style=""> 328            @Override public boolean merge(@Nullable M3U8KeyInfo keyInfo, List&lt;String&gt; tsPath) {                    </span>

<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 329              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 331          })                                                                                                        </span>

<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 332 -        //.asVod().setPeerIndex(50)                                                                               </span>
<span class="5381971171308490599" onmouseenter="enter('5381971171308490599');" onmouseout="out('5381971171308490599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 333 +        .controller(ControllerType.START_CONTROLLER)                                                              </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 334          .start();                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -  }                                                                                                               </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 336 +    //.start();                                                                                                   </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +    //.asVod().setPeerIndex(50)                                                                                   </span>
<span class="-7497627121238707854" onmouseenter="enter('-7497627121238707854');" onmouseout="out('-7497627121238707854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 338 +    //.start();                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 339 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +                                                                                                                  </span>
<span class="-4008516653761415035" onmouseenter="enter('-4008516653761415035');" onmouseout="out('-4008516653761415035');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 341 +  private Class&lt;StartController&gt; c = StartController.class;                                                       </span>
<span  style=""> 342                                                                                                                    </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 343    @Override protected void dataCallback(int result, Object data) {                                                </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 344      super.dataCallback(result, data);                                                                             </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 345      if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                                     </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 346        mModule.uploadUrl(this, String.valueOf(data));                                                              </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 347      } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                                   </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 348        mModule.updateFilePath(this, String.valueOf(data));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="3670365592273295132" onmouseenter="enter('3670365592273295132');" onmouseout="out('3670365592273295132');" style="">  17  package com.arialyy.simple.core.download.m3u8;                                                                    </span>
<span  style="">  18                                                                                                                    </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19  import android.arch.lifecycle.Observer;                                                                           </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20  import android.arch.lifecycle.ViewModelProviders;                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  21  import android.os.Bundle;                                                                                         </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  22  import android.support.annotation.Nullable;                                                                       </span>
<span class="-6014425323136974319" onmouseenter="enter('-6014425323136974319');" onmouseout="out('-6014425323136974319');" style="">  23  import android.support.v4.app.FragmentTransaction;                                                                </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  24  import android.util.Log;                                                                                          </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  25  import android.view.Menu;                                                                                         </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  26  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  27  import android.view.View;                                                                                         </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  28  import android.widget.Toast;                                                                                      </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  29  import com.arialyy.annotations.Download;                                                                          </span>
<span class="7539213708840141912" onmouseenter="enter('7539213708840141912');" onmouseout="out('7539213708840141912');" style="">  30  import com.arialyy.annotations.M3U8;                                                                              </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  31  import com.arialyy.aria.core.Aria;                                                                                </span>


<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  32  import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  33  import com.arialyy.aria.core.download.DownloadTarget;                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  34  import com.arialyy.aria.core.download.DownloadTask;                                                               </span>
<span class="4302346346630386353" onmouseenter="enter('4302346346630386353');" onmouseout="out('4302346346630386353');" style="">  35  import com.arialyy.aria.core.download.m3u8.IBandWidthUrlConverter;                                                </span>
<span class="8365981073999279791" onmouseenter="enter('8365981073999279791');" onmouseout="out('8365981073999279791');" style="">  36  import com.arialyy.aria.core.download.m3u8.ITsMergeHandler;                                                       </span>
<span class="-1397243372643346296" onmouseenter="enter('-1397243372643346296');" onmouseout="out('-1397243372643346296');" style="">  37  import com.arialyy.aria.core.download.m3u8.IVodTsUrlConverter;                                                    </span>
<span class="-708713135562974886" onmouseenter="enter('-708713135562974886');" onmouseout="out('-708713135562974886');" style="">  38  import com.arialyy.aria.core.download.m3u8.M3U8KeyInfo;                                                           </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  39  import com.arialyy.aria.core.inf.IEntity;                                                                         </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40  import com.arialyy.aria.util.ALog;                                                                                </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41  import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45  import com.arialyy.simple.common.ModifyPathDialog;                                                                </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46  import com.arialyy.simple.common.ModifyUrlDialog;                                                                 </span>
<span class="1307542565308038571" onmouseenter="enter('1307542565308038571');" onmouseout="out('1307542565308038571');" style="">  47  import com.arialyy.simple.databinding.ActivityM3u8VodBinding;                                                     </span>
<span class="9036854522153759042" onmouseenter="enter('9036854522153759042');" onmouseout="out('9036854522153759042');" style="">  48  import com.arialyy.simple.to.PeerIndex;                                                                           </span>

<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  49  import java.io.File;                                                                                              </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  50  import java.util.ArrayList;                                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  51  import java.util.List;                                                                                            </span>
<span class="3503666319709454343" onmouseenter="enter('3503666319709454343');" onmouseout="out('3503666319709454343');" style="">  52  import org.greenrobot.eventbus.EventBus;                                                                          </span>
<span class="3037664280149370344" onmouseenter="enter('3037664280149370344');" onmouseout="out('3037664280149370344');" style="">  53  import org.greenrobot.eventbus.Subscribe;                                                                         </span>
<span class="8120446511931565165" onmouseenter="enter('8120446511931565165');" onmouseout="out('8120446511931565165');" style="">  54  import org.greenrobot.eventbus.ThreadMode;                                                                        </span>
<span  style="">  55                                                                                                                    </span>
<span class="-7216669447016418891" onmouseenter="enter('-7216669447016418891');" onmouseout="out('-7216669447016418891');" style="">  56  public class M3U8VodDLoadActivity extends BaseActivity&lt;ActivityM3u8VodBinding&gt; {                                  </span>
<span  style="">  57                                                                                                                    </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  58    private String mUrl;                                                                                            </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  59    private String mFilePath;                                                                                       </span>
<span class="-2931738951207666539" onmouseenter="enter('-2931738951207666539');" onmouseout="out('-2931738951207666539');" style="">  60    private M3U8VodModule mModule;                                                                                  </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  61    private DownloadTarget mTarget;                                                                                 </span>
<span class="512536483953907449" onmouseenter="enter('512536483953907449');" onmouseout="out('512536483953907449');" style="">  62    private VideoPlayerFragment mVideoFragment;                                                                     </span>

<span  style="">  63                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  64    @Override                                                                                                       </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  65    protected void init(Bundle savedInstanceState) {                                                                </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  66      super.init(savedInstanceState);                                                                               </span>
<span class="-7814287328075845790" onmouseenter="enter('-7814287328075845790');" onmouseout="out('-7814287328075845790');" style="">  67      setTitle(getString(R.string.m3u8_file));                                                                      </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  68      Aria.download(this).register();                                                                               </span>
<span class="3017969102112740857" onmouseenter="enter('3017969102112740857');" onmouseout="out('3017969102112740857');" style="">  69      mModule = ViewModelProviders.of(this).get(M3U8VodModule.class);                                               </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  70      mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                              </span>
<span  style="">  71                                                                                                                    </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  72        @Override public void onChanged(@Nullable DownloadEntity entity) {                                          </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  73          if (entity == null) {                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  74            return;                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75          }                                                                                                         </span>
<span class="-8055250673403421196" onmouseenter="enter('-8055250673403421196');" onmouseout="out('-8055250673403421196');" style="">  76          mTarget = Aria.download(M3U8VodDLoadActivity.this).load(entity.getUrl());                                 </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style="">  77          if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                                       </span>


<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style="">  78            getBinding().setStateStr(getString(R.string.resume));                                                   </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style="">  79          } else if (mTarget.isRunning()) {                                                                         </span>

<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style="">  80            getBinding().setStateStr(getString(R.string.stop));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81          }                                                                                                         </span>
<span  style="">  82                                                                                                                    </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style="">  83          if (entity.getFileSize() != 0) {                                                                          </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style="">  84            getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85          }                                                                                                         </span>
<span class="-6662093099069258511" onmouseenter="enter('-6662093099069258511');" onmouseout="out('-6662093099069258511');" style="">  86          getBinding().setProgress(entity.getPercent());                                                            </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style="">  87          getBinding().setUrl(entity.getUrl());                                                                     </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style="">  88          getBinding().setFilePath(entity.getFilePath());                                                           </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style="">  89          mUrl = entity.getUrl();                                                                                   </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style="">  90          mFilePath = entity.getFilePath();                                                                         </span>
<span class="-2554559306567435401" onmouseenter="enter('-2554559306567435401');" onmouseout="out('-2554559306567435401');" style="">  91          mVideoFragment = new VideoPlayerFragment(0, entity);                                                      </span>
<span class="-1823607611739302524" onmouseenter="enter('-1823607611739302524');" onmouseout="out('-1823607611739302524');" style="">  92          FragmentTransaction ft = getSupportFragmentManager().beginTransaction();                                  </span>
<span class="-4813819219282528373" onmouseenter="enter('-4813819219282528373');" onmouseout="out('-4813819219282528373');" style="">  93          ft.add(R.id.video_content, mVideoFragment);                                                               </span>
<span class="-7355635385715514523" onmouseenter="enter('-7355635385715514523');" onmouseout="out('-7355635385715514523');" style="">  94          ft.commit();                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95        }                                                                                                           </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  96      });                                                                                                           </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style="">  97      getBinding().setViewModel(this);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98    }                                                                                                               </span>
<span  style="">  99                                                                                                                    </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 100    public void chooseUrl() {                                                                                       </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 101      ModifyUrlDialog dialog =                                                                                      </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 102          new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                             </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 103      dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104    }                                                                                                               </span>
<span  style=""> 105                                                                                                                    </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 106    public void chooseFilePath() {                                                                                  </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 107      ModifyPathDialog dialog =                                                                                     </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 108          new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                              </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 109      dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110    }                                                                                                               </span>
<span  style=""> 111                                                                                                                    </span>
<span class="7849318491336065590" onmouseenter="enter('7849318491336065590');" onmouseout="out('7849318491336065590');" style=""> 112    @Override protected void onStart() {                                                                            </span>
<span class="8068463127664630279" onmouseenter="enter('8068463127664630279');" onmouseout="out('8068463127664630279');" style=""> 113      super.onStart();                                                                                              </span>
<span class="7840442864832301791" onmouseenter="enter('7840442864832301791');" onmouseout="out('7840442864832301791');" style=""> 114      EventBus.getDefault().register(this);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115    }                                                                                                               </span>
<span  style=""> 116                                                                                                                    </span>
<span class="8218595092732559103" onmouseenter="enter('8218595092732559103');" onmouseout="out('8218595092732559103');" style=""> 117    @Override protected void onStop() {                                                                             </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 118      super.onStop();                                                                                               </span>
<span class="-1920523848747996349" onmouseenter="enter('-1920523848747996349');" onmouseout="out('-1920523848747996349');" style=""> 119      EventBus.getDefault().unregister(this);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120    }                                                                                                               </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-2936055030687467762" onmouseenter="enter('-2936055030687467762');" onmouseout="out('-2936055030687467762');" style=""> 122    @Subscribe(threadMode = ThreadMode.MAIN)                                                                        </span>
<span class="-6143975754283413870" onmouseenter="enter('-6143975754283413870');" onmouseout="out('-6143975754283413870');" style=""> 123    public void jumpIndex(PeerIndex index) {                                                                        </span>
<span class="-1783898564031212049" onmouseenter="enter('-1783898564031212049');" onmouseout="out('-1783898564031212049');" style=""> 124      Aria.download(this).load(mUrl).asM3U8().asVod().jumPeerIndex(index.index);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125    }                                                                                                               </span>
<span  style=""> 126                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127    @Override                                                                                                       </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 128    public boolean onCreateOptionsMenu(Menu menu) {                                                                 </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 129      getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                            </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 130      return super.onCreateOptionsMenu(menu);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131    }                                                                                                               </span>
<span  style=""> 132                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133    @Override                                                                                                       </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 134    public boolean onMenuItemClick(MenuItem item) {                                                                 </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 135      int speed = -1;                                                                                               </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 136      String msg = &quot;&quot;;                                                                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 137      switch (item.getItemId()) {                                                                                   </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 138        case R.id.help:                                                                                             </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 139          msg = &quot;一些小知识点：\n&quot;                                                                                         </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 140              + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                              </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 141              + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;                 </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 142              + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                         </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 143          showMsgDialog(&quot;tip&quot;, msg);                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 144          break;                                                                                                    </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 145        case R.id.speed_0:                                                                                          </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 146          speed = 0;                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 147          break;                                                                                                    </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 148        case R.id.speed_128:                                                                                        </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 149          speed = 128;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 150          break;                                                                                                    </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 151        case R.id.speed_256:                                                                                        </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 152          speed = 256;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 153          break;                                                                                                    </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 154        case R.id.speed_512:                                                                                        </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 155          speed = 512;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 156          break;                                                                                                    </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 157        case R.id.speed_1m:                                                                                         </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 158          speed = 1024;                                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 159          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160      }                                                                                                             </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 161      if (speed &gt; -1) {                                                                                             </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 162        msg = item.getTitle().toString();                                                                           </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 163        Aria.download(this).setMaxSpeed(speed);                                                                     </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 164        T.showShort(this, msg);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165      }                                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 166      return true;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167    }                                                                                                               </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-7196614606071181668" onmouseenter="enter('-7196614606071181668');" onmouseout="out('-7196614606071181668');" style=""> 169    @M3U8.onPeerStart                                                                                               </span>
<span class="8781213929357891708" onmouseenter="enter('8781213929357891708');" onmouseout="out('8781213929357891708');" style=""> 170    void onPeerStart(String m3u8Url, String peerPath, int peerIndex) {                                              </span>
<span class="8573615793696815386" onmouseenter="enter('8573615793696815386');" onmouseout="out('8573615793696815386');" style=""> 171      //ALog.d(TAG, &quot;peer start, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172    }                                                                                                               </span>
<span  style=""> 173                                                                                                                    </span>
<span class="8257191903504196862" onmouseenter="enter('8257191903504196862');" onmouseout="out('8257191903504196862');" style=""> 174    @M3U8.onPeerComplete                                                                                            </span>
<span class="-7000987268365302218" onmouseenter="enter('-7000987268365302218');" onmouseout="out('-7000987268365302218');" style=""> 175    void onPeerComplete(String m3u8Url, String peerPath, int peerIndex) {                                           </span>
<span class="7667457690162356529" onmouseenter="enter('7667457690162356529');" onmouseout="out('7667457690162356529');" style=""> 176      //ALog.d(TAG, &quot;peer complete, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                  </span>
<span class="-6420212799708974856" onmouseenter="enter('-6420212799708974856');" onmouseout="out('-6420212799708974856');" style=""> 177      mVideoFragment.addPlayer(peerIndex, peerPath);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178    }                                                                                                               </span>
<span  style=""> 179                                                                                                                    </span>
<span class="-4638286725806180126" onmouseenter="enter('-4638286725806180126');" onmouseout="out('-4638286725806180126');" style=""> 180    @M3U8.onPeerFail                                                                                                </span>
<span class="8438590222169085504" onmouseenter="enter('8438590222169085504');" onmouseout="out('8438590222169085504');" style=""> 181    void onPeerFail(String m3u8Url, String peerPath, int peerIndex) {                                               </span>
<span class="1720500463605535160" onmouseenter="enter('1720500463605535160');" onmouseout="out('1720500463605535160');" style=""> 182      //ALog.d(TAG, &quot;peer fail, path: &quot; + peerPath + &quot;, index: &quot; + peerIndex);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183    }                                                                                                               </span>
<span  style=""> 184                                                                                                                    </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 185    @Download.onWait                                                                                                </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 186    void onWait(DownloadTask task) {                                                                                </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 187      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 188        Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190    }                                                                                                               </span>
<span  style=""> 191                                                                                                                    </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 192    @Download.onPre                                                                                                 </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 193    protected void onPre(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 194      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 195        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197    }                                                                                                               </span>
<span  style=""> 198                                                                                                                    </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 199    @Download.onTaskStart                                                                                           </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 200    void taskStart(DownloadTask task) {                                                                             </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 201      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 202        getBinding().setFileSize(task.getConvertFileSize());                                                        </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 203        ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205    }                                                                                                               </span>
<span  style=""> 206                                                                                                                    </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 207    @Download.onTaskRunning                                                                                         </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 208    protected void running(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 209      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-532612250547539482" onmouseenter="enter('-532612250547539482');" onmouseout="out('-532612250547539482');" style=""> 210        //ALog.d(TAG, &quot;isRunning&quot;);                                                                                 </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211        getBinding().setProgress(task.getPercent());                                                                </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 212        getBinding().setSpeed(task.getConvertSpeed());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214    }                                                                                                               </span>
<span  style=""> 215                                                                                                                    </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 216    @Download.onTaskResume                                                                                          </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 217    void taskResume(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 218      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 219        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221    }                                                                                                               </span>
<span  style=""> 222                                                                                                                    </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 223    @Download.onTaskStop                                                                                            </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 224    void taskStop(DownloadTask task) {                                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 225      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 226        getBinding().setStateStr(getString(R.string.resume));                                                       </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 227        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229    }                                                                                                               </span>
<span  style=""> 230                                                                                                                    </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 231    @Download.onTaskCancel                                                                                          </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 232    void taskCancel(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 233      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 234        getBinding().setProgress(0);                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 235        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 236        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 237        Log.d(TAG, &quot;cancel&quot;);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239    }                                                                                                               </span>
<span  style=""> 240                                                                                                                    </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 241    @Download.onTaskFail                                                                                            </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 242    void taskFail(DownloadTask task, Exception e) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 243      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-4413127208299327673" onmouseenter="enter('-4413127208299327673');" onmouseout="out('-4413127208299327673');" style=""> 244        Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_fail),                                </span>
<span class="-5913076414972122806" onmouseenter="enter('-5913076414972122806');" onmouseout="out('-5913076414972122806');" style=""> 245            Toast.LENGTH_SHORT)                                                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246            .show();                                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 248        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="152291097555161157" onmouseenter="enter('152291097555161157');" onmouseout="out('152291097555161157');" style=""> 249        Log.d(TAG, &quot;fail&quot;);                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251    }                                                                                                               </span>
<span  style=""> 252                                                                                                                    </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 253    @Download.onTaskComplete                                                                                        </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 254    void taskComplete(DownloadTask task) {                                                                          </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 255      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 256        getBinding().setProgress(100);                                                                              </span>
<span class="8938438353922270892" onmouseenter="enter('8938438353922270892');" onmouseout="out('8938438353922270892');" style=""> 257        Toast.makeText(M3U8VodDLoadActivity.this, getString(R.string.download_success),                             </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 258            Toast.LENGTH_SHORT).show();                                                                             </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 259        getBinding().setStateStr(getString(R.string.re_start));                                                     </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 260        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style=""> 261        ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263    }                                                                                                               </span>
<span  style=""> 264                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 265    @Override                                                                                                       </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 266    protected int setLayoutId() {                                                                                   </span>
<span class="7700684352976678089" onmouseenter="enter('7700684352976678089');" onmouseout="out('7700684352976678089');" style=""> 267      return R.layout.activity_m3u8_vod;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268    }                                                                                                               </span>
<span  style=""> 269                                                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 270    public void onClick(View view) {                                                                                </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 271      switch (view.getId()) {                                                                                       </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 272        case R.id.start:                                                                                            </span>
<span class="2996656728279419282" onmouseenter="enter('2996656728279419282');" onmouseout="out('2996656728279419282');" style=""> 273          ALog.d(TAG, &quot;isRunning = &quot; + mTarget.isRunning());                                                        </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 274          if (mTarget.isRunning()) {                                                                                </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 275            Aria.download(this).load(mUrl).stop();                                                                  </span>






<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 276          } else {                                                                                                  </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 277            startD();                                                                                               </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278          }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 279          break;                                                                                                    </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 280        case R.id.cancel:                                                                                           </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 281          Aria.download(this).load(mUrl).cancel(true);                                                              </span>



<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 282          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284    }                                                                                                               </span>
<span  style=""> 285                                                                                                                    </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 286    private void startD() {                                                                                         </span>
<span class="2362383955665008738" onmouseenter="enter('2362383955665008738');" onmouseout="out('2362383955665008738');" style=""> 287      Aria.download(M3U8VodDLoadActivity.this)                                                                      </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 288          .load(mUrl)                                                                                               </span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 289          .useServerFileName(true)                                                                                  </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 290          .setFilePath(mFilePath, true)                                                                             </span>
<span class="7592519696267710287" onmouseenter="enter('7592519696267710287');" onmouseout="out('7592519696267710287');" style=""> 291          .asM3U8()                                                                                                 </span>
<span class="8446280268103543944" onmouseenter="enter('8446280268103543944');" onmouseout="out('8446280268103543944');" style=""> 292          .setBandWidthUrlConverter(new IBandWidthUrlConverter() {                                                  </span>
<span class="1789344830834629004" onmouseenter="enter('1789344830834629004');" onmouseout="out('1789344830834629004');" style=""> 293            @Override public String convert(String bandWidthUrl) {                                                  </span>
<span class="-8482620506207967310" onmouseenter="enter('-8482620506207967310');" onmouseout="out('-8482620506207967310');" style=""> 294              int index = mUrl.lastIndexOf(&quot;/&quot;);                                                                    </span>
<span class="3446796107414746102" onmouseenter="enter('3446796107414746102');" onmouseout="out('3446796107414746102');" style=""> 295              return mUrl.substring(0, index + 1) + bandWidthUrl;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 297          })                                                                                                        </span>
<span class="3049921691672849590" onmouseenter="enter('3049921691672849590');" onmouseout="out('3049921691672849590');" style=""> 298          .setTsUrlConvert(new IVodTsUrlConverter() {                                                               </span>
<span class="-2369053517215561699" onmouseenter="enter('-2369053517215561699');" onmouseout="out('-2369053517215561699');" style=""> 299            @Override public List&lt;String&gt; convert(String m3u8Url, List&lt;String&gt; tsUrls) {                            </span>
<span class="-8094939120511192988" onmouseenter="enter('-8094939120511192988');" onmouseout="out('-8094939120511192988');" style=""> 300              int index = m3u8Url.lastIndexOf(&quot;/&quot;);                                                                 </span>
<span class="8391965110682918539" onmouseenter="enter('8391965110682918539');" onmouseout="out('8391965110682918539');" style=""> 301              String parentUrl = m3u8Url.substring(0, index + 1);                                                   </span>
<span class="-6446956523709057118" onmouseenter="enter('-6446956523709057118');" onmouseout="out('-6446956523709057118');" style=""> 302              List&lt;String&gt; newUrls = new ArrayList&lt;&gt;();                                                             </span>
<span class="-1778898905258402356" onmouseenter="enter('-1778898905258402356');" onmouseout="out('-1778898905258402356');" style=""> 303              for (String url : tsUrls) {                                                                           </span>
<span class="4987054833531039515" onmouseenter="enter('4987054833531039515');" onmouseout="out('4987054833531039515');" style=""> 304                newUrls.add(parentUrl + url);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305              }                                                                                                     </span>
<span  style=""> 306                                                                                                                    </span>
<span class="-836273165766535362" onmouseenter="enter('-836273165766535362');" onmouseout="out('-836273165766535362');" style=""> 307              return newUrls;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 309          })                                                                                                        </span>
<span class="3475803604541023097" onmouseenter="enter('3475803604541023097');" onmouseout="out('3475803604541023097');" style=""> 310          .setMergeHandler(new ITsMergeHandler() {                                                                  </span>
<span class="135744376371040666" onmouseenter="enter('135744376371040666');" onmouseout="out('135744376371040666');" style=""> 311            @Override public boolean merge(@Nullable M3U8KeyInfo keyInfo, List&lt;String&gt; tsPath) {                    </span>
<span class="-7357511131842382885" onmouseenter="enter('-7357511131842382885');" onmouseout="out('-7357511131842382885');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 312 +            ALog.d(TAG, &quot;合并TS....&quot;);                                                                              </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 313              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 315          })                                                                                                        </span>
<span class="6691172401196312771" onmouseenter="enter('6691172401196312771');" onmouseout="out('6691172401196312771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 316 +        .merge(true)                                                                                              </span>
<span class="5671628341811150773" onmouseenter="enter('5671628341811150773');" onmouseout="out('5671628341811150773');" style=""> 317          //.asVod().setPeerIndex(50)                                                                               </span>

<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 318          .start();                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319    }                                                                                                               </span>






<span  style=""> 320                                                                                                                    </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 321    @Override protected void dataCallback(int result, Object data) {                                                </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 322      super.dataCallback(result, data);                                                                             </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 323      if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                                     </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 324        mModule.uploadUrl(this, String.valueOf(data));                                                              </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 325      } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                                   </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 326        mModule.updateFilePath(this, String.valueOf(data));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            