<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>356</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    356
                    <a href="355.html">prev</a>
                    <a href="357.html">next</a>
                    <a href="356_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    EhsanTang/ApiManager_89d9ce2e8c22723ce04ffb9c91f9374eea57358f_api/src/main/java/cn/crap/controller/user/InterfaceController.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\EhsanTang\ApiManager show &quot;89d9ce2e8c22723ce04ffb9c91f9374eea57358f:api/src/main/java/cn/crap/controller/user/InterfaceController.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\EhsanTang\ApiManager show &quot;89d9ce2e8c22723ce04ffb9c91f9374eea57358f^1:api/src/main/java/cn/crap/controller/user/InterfaceController.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\EhsanTang\ApiManager show &quot;89d9ce2e8c22723ce04ffb9c91f9374eea57358f^2:api/src/main/java/cn/crap/controller/user/InterfaceController.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\EhsanTang\ApiManager show &quot;ae7b7af96578599840c94cd69d84013baa5297ba:api/src/main/java/cn/crap/controller/user/InterfaceController.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bs], [j]], subset: [[bs], [j]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8453884345636310198" onmouseenter="enter('8453884345636310198');" onmouseout="out('8453884345636310198');" style="">   1 package cn.crap.controller.user;                                                                        </span>
<span  style="">   2                                                                                                         </span>
<span class="3872670124992133569" onmouseenter="enter('3872670124992133569');" onmouseout="out('3872670124992133569');" style="">   3 import cn.crap.adapter.InterfaceAdapter;                                                                </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="">   4 import cn.crap.beans.Config;                                                                            </span>
<span class="6807184333094047547" onmouseenter="enter('6807184333094047547');" onmouseout="out('6807184333094047547');" style="">   5 import cn.crap.dto.InterfaceDto;                                                                        </span>
<span class="7929325164483847730" onmouseenter="enter('7929325164483847730');" onmouseout="out('7929325164483847730');" style="">   6 import cn.crap.dto.LoginInfoDto;                                                                        </span>
<span class="7576644326008164675" onmouseenter="enter('7576644326008164675');" onmouseout="out('7576644326008164675');" style="">   7 import cn.crap.dto.ParamDto;                                                                            </span>
<span class="1522833305812512221" onmouseenter="enter('1522833305812512221');" onmouseout="out('1522833305812512221');" style="">   8 import cn.crap.dto.SearchDto;                                                                           </span>
<span class="-1875408054571239611" onmouseenter="enter('-1875408054571239611');" onmouseout="out('-1875408054571239611');" style="">   9 import cn.crap.enu.InterfaceContentType;                                                                </span>
<span class="7537949687285328270" onmouseenter="enter('7537949687285328270');" onmouseout="out('7537949687285328270');" style="">  10 import cn.crap.enu.InterfaceStatus;                                                                     </span>
<span class="3589208192092537681" onmouseenter="enter('3589208192092537681');" onmouseout="out('3589208192092537681');" style="">  11 import cn.crap.enu.MonitorType;                                                                         </span>
<span class="4068195648627809360" onmouseenter="enter('4068195648627809360');" onmouseout="out('4068195648627809360');" style="">  12 import cn.crap.enu.MyError;                                                                             </span>
<span class="-7847071603028321447" onmouseenter="enter('-7847071603028321447');" onmouseout="out('-7847071603028321447');" style="">  13 import cn.crap.framework.JsonResult;                                                                    </span>
<span class="-7574536783671103865" onmouseenter="enter('-7574536783671103865');" onmouseout="out('-7574536783671103865');" style="">  14 import cn.crap.framework.MyException;                                                                   </span>
<span class="-4522781807489195049" onmouseenter="enter('-4522781807489195049');" onmouseout="out('-4522781807489195049');" style="">  15 import cn.crap.framework.base.BaseController;                                                           </span>
<span class="4903612087055488212" onmouseenter="enter('4903612087055488212');" onmouseout="out('4903612087055488212');" style="">  16 import cn.crap.framework.interceptor.AuthPassport;                                                      </span>
<span class="8147845229390238491" onmouseenter="enter('8147845229390238491');" onmouseout="out('8147845229390238491');" style="">  17 import cn.crap.model.Error;                                                                             </span>
<span class="6961814849649346163" onmouseenter="enter('6961814849649346163');" onmouseout="out('6961814849649346163');" style="">  18 import cn.crap.model.InterfaceWithBLOBs;                                                                </span>
<span class="-3829059158540726081" onmouseenter="enter('-3829059158540726081');" onmouseout="out('-3829059158540726081');" style="">  19 import cn.crap.model.Module;                                                                            </span>
<span class="-2569611458616973012" onmouseenter="enter('-2569611458616973012');" onmouseout="out('-2569611458616973012');" style="">  20 import cn.crap.model.Project;                                                                           </span>
<span class="24505043057363846" onmouseenter="enter('24505043057363846');" onmouseout="out('24505043057363846');" style="">  21 import cn.crap.query.ErrorQuery;                                                                        </span>
<span class="5577390926415763020" onmouseenter="enter('5577390926415763020');" onmouseout="out('5577390926415763020');" style="">  22 import cn.crap.query.InterfaceQuery;                                                                    </span>
<span class="-5580999983088044782" onmouseenter="enter('-5580999983088044782');" onmouseout="out('-5580999983088044782');" style="">  23 import cn.crap.service.ErrorService;                                                                    </span>
<span class="2810978048240697020" onmouseenter="enter('2810978048240697020');" onmouseout="out('2810978048240697020');" style="">  24 import cn.crap.service.ISearchService;                                                                  </span>
<span class="-256793303282880299" onmouseenter="enter('-256793303282880299');" onmouseout="out('-256793303282880299');" style="">  25 import cn.crap.service.InterfaceService;                                                                </span>
<span class="3571843901690526929" onmouseenter="enter('3571843901690526929');" onmouseout="out('3571843901690526929');" style="">  26 import cn.crap.utils.*;                                                                                 </span>
<span class="-3919641806686363409" onmouseenter="enter('-3919641806686363409');" onmouseout="out('-3919641806686363409');" style="">  27 import com.alibaba.fastjson.JSONArray;                                                                  </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  28 import org.springframework.beans.factory.annotation.Autowired;                                          </span>
<span class="4128309806836178094" onmouseenter="enter('4128309806836178094');" onmouseout="out('4128309806836178094');" style="">  29 import org.springframework.stereotype.Controller;                                                       </span>
<span class="7608804911988512946" onmouseenter="enter('7608804911988512946');" onmouseout="out('7608804911988512946');" style="">  30 import org.springframework.util.Assert;                                                                 </span>
<span class="2718246165073723950" onmouseenter="enter('2718246165073723950');" onmouseout="out('2718246165073723950');" style="">  31 import org.springframework.web.bind.annotation.ModelAttribute;                                          </span>
<span class="-7989471178862524182" onmouseenter="enter('-7989471178862524182');" onmouseout="out('-7989471178862524182');" style="">  32 import org.springframework.web.bind.annotation.RequestMapping;                                          </span>
<span class="-8913037601281016619" onmouseenter="enter('-8913037601281016619');" onmouseout="out('-8913037601281016619');" style="">  33 import org.springframework.web.bind.annotation.RequestParam;                                            </span>
<span class="-7662224364501075428" onmouseenter="enter('-7662224364501075428');" onmouseout="out('-7662224364501075428');" style="">  34 import org.springframework.web.bind.annotation.ResponseBody;                                            </span>
<span  style="">  35                                                                                                         </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  36 import java.io.IOException;                                                                             </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  37 import java.util.HashMap;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  38 import java.util.List;                                                                                  </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  39 import java.util.Map;                                                                                   </span>
<span  style="">  40                                                                                                         </span>
<span class="4777805177773543995" onmouseenter="enter('4777805177773543995');" onmouseout="out('4777805177773543995');" style="">  41 @Controller                                                                                             </span>
<span class="-1946225143665328935" onmouseenter="enter('-1946225143665328935');" onmouseout="out('-1946225143665328935');" style="">  42 @RequestMapping(&quot;/user/interface&quot;)                                                                      </span>
<span class="6388668049573310758" onmouseenter="enter('6388668049573310758');" onmouseout="out('6388668049573310758');" style="">  43 public class InterfaceController extends BaseController{                                                </span>
<span  style="">  44                                                                                                         </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  45 	@Autowired                                                                                             </span>
<span class="5676854317382137038" onmouseenter="enter('5676854317382137038');" onmouseout="out('5676854317382137038');" style="">  46 	private InterfaceService interfaceService;                                                             </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  47 	@Autowired                                                                                             </span>
<span class="-925519006397285322" onmouseenter="enter('-925519006397285322');" onmouseout="out('-925519006397285322');" style="">  48 	private ISearchService luceneService;                                                                  </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  49 	@Autowired                                                                                             </span>
<span class="-3968544807213930836" onmouseenter="enter('-3968544807213930836');" onmouseout="out('-3968544807213930836');" style="">  50 	private ErrorService errorService;                                                                     </span>
<span  style="">  51                                                                                                         </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="">  52 	@RequestMapping(&quot;/list.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  53 	@ResponseBody                                                                                          </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="">  54 	@AuthPassport                                                                                          </span>
<span class="2892798472039456685" onmouseenter="enter('2892798472039456685');" onmouseout="out('2892798472039456685');" style="">  55 	public JsonResult list(@ModelAttribute InterfaceQuery query, String url) throws MyException{           </span>
<span class="5524533179462183259" onmouseenter="enter('5524533179462183259');" onmouseout="out('5524533179462183259');" style="">  56         Module module = getModule(query);                                                               </span>
<span class="1109214781424356184" onmouseenter="enter('1109214781424356184');" onmouseout="out('1109214781424356184');" style="">  57         Project project = getProject(query);                                                            </span>
<span class="-1137060650182227256" onmouseenter="enter('-1137060650182227256');" onmouseout="out('-1137060650182227256');" style="">  58         checkPermission(project, READ);                                                                 </span>
<span  style="">  59                                                                                                         </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  60 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-7191320329016185556" onmouseenter="enter('-7191320329016185556');" onmouseout="out('-7191320329016185556');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61         InterfaceQuery interfaceQuery = query.setFullUrl(url);                                          </span>
<span class="-5279124502853396526" onmouseenter="enter('-5279124502853396526');" onmouseout="out('-5279124502853396526');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  62 		Page page= new Page(interfaceQuery);                                                                  </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  63 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64 		InterfaceCriteria example = new InterfaceCriteria();                                                  </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65 		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);          </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66 		if (!MyString.isEmpty(interfaceName)){                                                                </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67 			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68 		}                                                                                                     </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69 		if (!MyString.isEmpty(url)){                                                                          </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70 			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71 		}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72                                                                                                         </span>
<span class="-8743619996132367741" onmouseenter="enter('-8743619996132367741');" onmouseout="out('-8743619996132367741');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  73 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example), null);">  73 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOB🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  74 =======                                                                                                  </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75 		InterfaceCriteria example = new InterfaceCriteria();                                                  </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76 		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);          </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77 		if (!MyString.isEmpty(interfaceName)){                                                                </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78 			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79 		}                                                                                                     </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80 		if (!MyString.isEmpty(url)){                                                                          </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81 			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82 		}                                                                                                     </span>
<span class="1112952252269419270" onmouseenter="enter('1112952252269419270');" onmouseout="out('1112952252269419270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83 		example.setLimitStart(page.getStart());                                                               </span>
<span class="-4311839423825542362" onmouseenter="enter('-4311839423825542362');" onmouseout="out('-4311839423825542362');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84 		example.setMaxResults(page.getSize());                                                                </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  85 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  86                                                                                                         </span>
<span class="-8091314608405686849" onmouseenter="enter('-8091314608405686849');" onmouseout="out('-8091314608405686849');" style=""><abbr title="  87 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module, project);">  87 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module,🔵</abbr></span>
<span class="-3280997506223267100" onmouseenter="enter('-3280997506223267100');" onmouseout="out('-3280997506223267100');" style="">  88 		page.setAllRow(interfaceService.count(interfaceQuery));                                               </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="">  89 		JsonResult result = new JsonResult(1, interfaces, page);                                              </span>
<span class="-9087557087086822651" onmouseenter="enter('-9087557087086822651');" onmouseout="out('-9087557087086822651');" style="">  90 		result.putOthers(&quot;module&quot;, module);                                                                   </span>
<span  style="">  91                                                                                                         </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="">  92 		return result;                                                                                        </span>
<span  style="">  93 		                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94 	}                                                                                                      </span>
<span  style="">  95                                                                                                         </span>
<span class="-557002042091694149" onmouseenter="enter('-557002042091694149');" onmouseout="out('-557002042091694149');" style="">  96 	@RequestMapping(&quot;/detail.do&quot;)                                                                          </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  97 	@ResponseBody                                                                                          </span>
<span class="5290464852810964839" onmouseenter="enter('5290464852810964839');" onmouseout="out('5290464852810964839');" style="">  98 	public JsonResult detail(String id, String moduleId, String projectId) throws MyException {            </span>
<span class="-5013732608106508542" onmouseenter="enter('-5013732608106508542');" onmouseout="out('-5013732608106508542');" style="">  99 		InterfaceWithBLOBs model;                                                                             </span>
<span class="2610682483254535033" onmouseenter="enter('2610682483254535033');" onmouseout="out('2610682483254535033');" style=""> 100 		Module module;                                                                                        </span>
<span class="-6983393444998086393" onmouseenter="enter('-6983393444998086393');" onmouseout="out('-6983393444998086393');" style=""> 101 		if(id != null){                                                                                       </span>
<span class="-2399207700769929325" onmouseenter="enter('-2399207700769929325');" onmouseout="out('-2399207700769929325');" style=""> 102 			model= interfaceService.getById(id);                                                                 </span>
<span class="1040064000347861178" onmouseenter="enter('1040064000347861178');" onmouseout="out('1040064000347861178');" style=""> 103 			module = moduleCache.get(model.getModuleId());                                                       </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style=""> 104 		}else{                                                                                                </span>
<span class="-7029962562203235323" onmouseenter="enter('-7029962562203235323');" onmouseout="out('-7029962562203235323');" style=""> 105 			model = new InterfaceWithBLOBs();                                                                    </span>
<span class="-2587857982027861322" onmouseenter="enter('-2587857982027861322');" onmouseout="out('-2587857982027861322');" style=""> 106 			module = moduleCache.get(moduleId);                                                                  </span>
<span class="-853942339085784102" onmouseenter="enter('-853942339085784102');" onmouseout="out('-853942339085784102');" style=""> 107 			model.setModuleId( moduleId);                                                                        </span>
<span class="1766527927860713999" onmouseenter="enter('1766527927860713999');" onmouseout="out('1766527927860713999');" style=""> 108 			model.setProjectId(module.getProjectId() == null ? projectId : module.getProjectId());               </span>
<span class="-646854625022819456" onmouseenter="enter('-646854625022819456');" onmouseout="out('-646854625022819456');" style=""> 109 			model.setResponseParam(&quot;[]&quot;);                                                                        </span>
<span class="-7417036509485016685" onmouseenter="enter('-7417036509485016685');" onmouseout="out('-7417036509485016685');" style=""> 110 			model.setHeader(&quot;[]&quot;);                                                                               </span>
<span class="2272429349124999400" onmouseenter="enter('2272429349124999400');" onmouseout="out('2272429349124999400');" style=""> 111 			model.setParamRemark(&quot;[]&quot;);                                                                          </span>
<span class="5629681036155585428" onmouseenter="enter('5629681036155585428');" onmouseout="out('5629681036155585428');" style=""> 112             model.setErrors(&quot;[]&quot;);                                                                      </span>
<span class="5346704725079118574" onmouseenter="enter('5346704725079118574');" onmouseout="out('5346704725079118574');" style=""> 113             model.setMethod(IConst.C_METHOD_GET);                                                       </span>
<span class="7556183691054851898" onmouseenter="enter('7556183691054851898');" onmouseout="out('7556183691054851898');" style=""> 114             model.setStatus(InterfaceStatus.ONLINE.getByteValue());                                     </span>
<span class="5499796354931457666" onmouseenter="enter('5499796354931457666');" onmouseout="out('5499796354931457666');" style=""> 115             model.setContentType(InterfaceContentType.JSON.getType());                                  </span>
<span class="-7842162056922652960" onmouseenter="enter('-7842162056922652960');" onmouseout="out('-7842162056922652960');" style=""> 116             model.setParam(IConst.C_PARAM_FORM_PRE + &quot;[]&quot;);                                             </span>
<span  style=""> 117                                                                                                         </span>
<span class="-8254387329445674854" onmouseenter="enter('-8254387329445674854');" onmouseout="out('-8254387329445674854');" style=""> 118             if(!MyString.isEmpty(module.getTemplateId())){                                              </span>
<span class="-4020697440483671496" onmouseenter="enter('-4020697440483671496');" onmouseout="out('-4020697440483671496');" style=""> 119 				InterfaceWithBLOBs template = interfaceService.getById(module.getTemplateId());                     </span>
<span class="5678506116785444717" onmouseenter="enter('5678506116785444717');" onmouseout="out('5678506116785444717');" style=""> 120 				// 根据模板初始化接口                                                                                        </span>
<span class="-4452779201008749745" onmouseenter="enter('-4452779201008749745');" onmouseout="out('-4452779201008749745');" style=""> 121 				if(template != null){                                                                               </span>
<span class="5089751341604219548" onmouseenter="enter('5089751341604219548');" onmouseout="out('5089751341604219548');" style=""> 122 					model.setHeader(template.getHeader());                                                             </span>
<span class="-7527905069934626121" onmouseenter="enter('-7527905069934626121');" onmouseout="out('-7527905069934626121');" style=""> 123 					model.setParam(template.getParam());                                                               </span>
<span class="-7059470924530166388" onmouseenter="enter('-7059470924530166388');" onmouseout="out('-7059470924530166388');" style=""> 124 					model.setMethod(template.getMethod());                                                             </span>
<span class="5940911261599321088" onmouseenter="enter('5940911261599321088');" onmouseout="out('5940911261599321088');" style=""> 125 					model.setVersion(template.getVersion());                                                           </span>
<span class="-3448468761886356175" onmouseenter="enter('-3448468761886356175');" onmouseout="out('-3448468761886356175');" style=""> 126 					model.setParamRemark(template.getParamRemark());                                                   </span>
<span class="1622152235047204734" onmouseenter="enter('1622152235047204734');" onmouseout="out('1622152235047204734');" style=""> 127 					model.setResponseParam(template.getResponseParam());                                               </span>
<span class="-6414379266760239220" onmouseenter="enter('-6414379266760239220');" onmouseout="out('-6414379266760239220');" style=""> 128 					model.setErrorList(template.getErrorList());                                                       </span>
<span class="-379237002060688021" onmouseenter="enter('-379237002060688021');" onmouseout="out('-379237002060688021');" style=""> 129 					model.setErrors(template.getErrors());                                                             </span>
<span class="2306293464665606986" onmouseenter="enter('2306293464665606986');" onmouseout="out('2306293464665606986');" style=""> 130 					model.setFalseExam(template.getFalseExam());                                                       </span>
<span class="5307078882417853010" onmouseenter="enter('5307078882417853010');" onmouseout="out('5307078882417853010');" style=""> 131 					model.setTrueExam(template.getTrueExam());                                                         </span>
<span class="-994236842464253118" onmouseenter="enter('-994236842464253118');" onmouseout="out('-994236842464253118');" style=""> 132 					model.setStatus(template.getStatus());                                                             </span>
<span class="-2721857626840181883" onmouseenter="enter('-2721857626840181883');" onmouseout="out('-2721857626840181883');" style=""> 133 					model.setContentType(template.getContentType());                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134 				}                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135 			}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136 		}                                                                                                     </span>
<span class="-1189875346814839096" onmouseenter="enter('-1189875346814839096');" onmouseout="out('-1189875346814839096');" style=""> 137         checkPermission(model.getProjectId(), READ);                                                    </span>
<span class="-6563016959985097734" onmouseenter="enter('-6563016959985097734');" onmouseout="out('-6563016959985097734');" style=""> 138 		return new JsonResult(1, InterfaceAdapter.getDtoWithBLOBs(model, module, null, false));               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139 	}                                                                                                      </span>
<span  style=""> 140 	                                                                                                       </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 141 	/**                                                                                                    </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 142 	 * @return                                                                                             </span>
<span class="-5665355684135370133" onmouseenter="enter('-5665355684135370133');" onmouseout="out('-5665355684135370133');" style=""> 143 	 * @throws MyException                                                                                 </span>
<span class="-2042953791166134795" onmouseenter="enter('-2042953791166134795');" onmouseout="out('-2042953791166134795');" style=""> 144 	 * @throws IOException                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145 	 */                                                                                                    </span>
<span class="3944392597235221522" onmouseenter="enter('3944392597235221522');" onmouseout="out('3944392597235221522');" style=""> 146 	@RequestMapping(&quot;/copy.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 147 	@ResponseBody                                                                                          </span>
<span class="-5082836863041242555" onmouseenter="enter('-5082836863041242555');" onmouseout="out('-5082836863041242555');" style=""><abbr title=" 148 	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throws MyException, IOException {"> 148 	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throw🔵</abbr></span>
<span class="3934678378551446762" onmouseenter="enter('3934678378551446762');" onmouseout="out('3934678378551446762');" style=""> 149 		InterfaceWithBLOBs interFace = interfaceService.getById(id);                                          </span>
<span  style=""> 150                                                                                                         </span>
<span class="-4221915995793202203" onmouseenter="enter('-4221915995793202203');" onmouseout="out('-4221915995793202203');" style=""> 151 		//判断是否拥有原来项目的权限                                                                                       </span>
<span class="962943237176822878" onmouseenter="enter('962943237176822878');" onmouseout="out('962943237176822878');" style=""> 152 		checkPermission(interFace.getProjectId(), READ);                                                      </span>
<span class="2572240230111123057" onmouseenter="enter('2572240230111123057');" onmouseout="out('2572240230111123057');" style=""> 153         Project project = getProject(interFace.getProjectId(), moduleId);                               </span>
<span class="3442007748957955908" onmouseenter="enter('3442007748957955908');" onmouseout="out('3442007748957955908');" style=""> 154         Module module = moduleCache.get(moduleId);                                                      </span>
<span class="1334308259496682157" onmouseenter="enter('1334308259496682157');" onmouseout="out('1334308259496682157');" style=""> 155 		// 检查新项目的权限                                                                                           </span>
<span class="-741693448261288691" onmouseenter="enter('-741693448261288691');" onmouseout="out('-741693448261288691');" style=""> 156         checkPermission(project, ADD_INTER);                                                            </span>
<span  style=""> 157                                                                                                         </span>
<span class="-2121896499688911861" onmouseenter="enter('-2121896499688911861');" onmouseout="out('-2121896499688911861');" style=""> 158 		if(!Config.canRepeatUrl){                                                                             </span>
<span class="7008517791276156581" onmouseenter="enter('7008517791276156581');" onmouseout="out('7008517791276156581');" style=""><abbr title=" 159 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() + interFace.getUrl())) &gt; 0){"> 159 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() 🔵</abbr></span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 160 				throw new MyException(MyError.E000004);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 			}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162 		}                                                                                                     </span>
<span  style=""> 163                                                                                                         </span>
<span class="-4927829934273936544" onmouseenter="enter('-4927829934273936544');" onmouseout="out('-4927829934273936544');" style=""> 164 		interFace.setId(null);                                                                                </span>
<span class="4295450166033773932" onmouseenter="enter('4295450166033773932');" onmouseout="out('4295450166033773932');" style=""> 165 		interFace.setUrl(url);                                                                                </span>
<span class="2993932738191275931" onmouseenter="enter('2993932738191275931');" onmouseout="out('2993932738191275931');" style=""> 166         interFace.setFullUrl((module.getUrl() == null ? &quot;&quot; : module.getUrl()) + url);                   </span>
<span class="-7123918959665289303" onmouseenter="enter('-7123918959665289303');" onmouseout="out('-7123918959665289303');" style=""> 167         interFace.setInterfaceName(interfaceName);                                                      </span>
<span class="3798115092898655491" onmouseenter="enter('3798115092898655491');" onmouseout="out('3798115092898655491');" style=""> 168         interFace.setModuleId(moduleId);                                                                </span>
<span class="-5570231032452560814" onmouseenter="enter('-5570231032452560814');" onmouseout="out('-5570231032452560814');" style=""> 169         interFace.setProjectId(project.getId());                                                        </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 170         interfaceService.insert(interFace);                                                             </span>
<span  style=""> 171                                                                                                         </span>
<span class="-8728764175324637686" onmouseenter="enter('-8728764175324637686');" onmouseout="out('-8728764175324637686');" style=""> 172         interFace.setId(interFace.getId());                                                             </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 173 		luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                          </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 174 		return new JsonResult(1, interFace);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175 	}                                                                                                      </span>
<span  style=""> 176                                                                                                         </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style=""> 177 	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                     </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 178 	@ResponseBody                                                                                          </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 179 	@AuthPassport                                                                                          </span>
<span class="-1191287975845616504" onmouseenter="enter('-1191287975845616504');" onmouseout="out('-1191287975845616504');" style=""><abbr title=" 180 	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException, MyException {"> 180 	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException,🔵</abbr></span>
<span class="-3500327742939940407" onmouseenter="enter('-3500327742939940407');" onmouseout="out('-3500327742939940407');" style=""> 181 		Assert.notNull(dto.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                        </span>
<span class="-3686250460961182714" onmouseenter="enter('-3686250460961182714');" onmouseout="out('-3686250460961182714');" style=""> 182         Assert.notNull(dto.getUrl(), &quot;url can&#x27;t be null&quot;);                                              </span>
<span  style=""> 183                                                                                                         </span>
<span class="4333020959192383715" onmouseenter="enter('4333020959192383715');" onmouseout="out('4333020959192383715');" style=""> 184         String id = dto.getId();                                                                        </span>
<span class="3835886801284251087" onmouseenter="enter('3835886801284251087');" onmouseout="out('3835886801284251087');" style=""> 185         Module module = moduleCache.get(dto.getModuleId());                                             </span>
<span class="-6580321634713632415" onmouseenter="enter('-6580321634713632415');" onmouseout="out('-6580321634713632415');" style=""> 186         String newProjectId = getProjectId(dto.getProjectId(), dto.getModuleId());                      </span>
<span class="-3781223136710888845" onmouseenter="enter('-3781223136710888845');" onmouseout="out('-3781223136710888845');" style=""> 187         dto.setProjectId(newProjectId);                                                                 </span>
<span class="-4968471341233894350" onmouseenter="enter('-4968471341233894350');" onmouseout="out('-4968471341233894350');" style=""> 188 		dto.setUrl(dto.getUrl().trim());                                                                      </span>
<span class="-7463501822402269713" onmouseenter="enter('-7463501822402269713');" onmouseout="out('-7463501822402269713');" style=""> 189         dto.setFullUrl(module.getUrl() + dto.getUrl());                                                 </span>
<span  style=""> 190                                                                                                         </span>
<span class="-1144806292306049190" onmouseenter="enter('-1144806292306049190');" onmouseout="out('-1144806292306049190');" style=""> 191         if (C_PARAM_FORM.equals(dto.getParamType())){                                                   </span>
<span class="5328201193467369142" onmouseenter="enter('5328201193467369142');" onmouseout="out('5328201193467369142');" style=""> 192 		    dto.setParam(C_PARAM_FORM_PRE + dto.getParam());                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193         }                                                                                               </span>
<span  style=""> 194 		                                                                                                      </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 195 		/**                                                                                                   </span>
<span class="7045250225799015466" onmouseenter="enter('7045250225799015466');" onmouseout="out('7045250225799015466');" style=""> 196 		 * 根据选着的错误码id，组装json字符串                                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 197 		 */                                                                                                   </span>
<span class="1252267335350984887" onmouseenter="enter('1252267335350984887');" onmouseout="out('1252267335350984887');" style=""><abbr title=" 198         ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(dto.getErrorList())).setPageSize(100);"> 198         ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromF🔵</abbr></span>
<span class="7007176770365788864" onmouseenter="enter('7007176770365788864');" onmouseout="out('7007176770365788864');" style=""> 199         List&lt;Error&gt; errors  = errorService.query(query);                                                </span>
<span class="-2878214233682854280" onmouseenter="enter('-2878214233682854280');" onmouseout="out('-2878214233682854280');" style=""> 200 		dto.setErrors(JSONArray.toJSONString(errors));                                                        </span>
<span  style=""> 201                                                                                                         </span>
<span class="1766529869277441370" onmouseenter="enter('1766529869277441370');" onmouseout="out('1766529869277441370');" style=""> 202 		LoginInfoDto user = LoginUserHelper.getUser();                                                        </span>
<span class="107427306152347096" onmouseenter="enter('107427306152347096');" onmouseout="out('107427306152347096');" style=""> 203 		dto.setUpdateBy(&quot;userName：&quot;+user.getUserName()+&quot; | trueName：&quot;+ user.getTrueName());                   </span>
<span class="4831447535634441964" onmouseenter="enter('4831447535634441964');" onmouseout="out('4831447535634441964');" style=""> 204         dto.setMonitorType(MonitorType.No.getValue());                                                  </span>
<span class="4973707410508928935" onmouseenter="enter('4973707410508928935');" onmouseout="out('4973707410508928935');" style=""> 205         InterfaceWithBLOBs interFace = InterfaceAdapter.getModel(dto);                                  </span>
<span class="-168595834781466469" onmouseenter="enter('-168595834781466469');" onmouseout="out('-168595834781466469');" style=""> 206         if (id != null) {                                                                               </span>
<span class="-2095657132029350572" onmouseenter="enter('-2095657132029350572');" onmouseout="out('-2095657132029350572');" style=""> 207 			String oldProjectId = interfaceService.getById(interFace.getId()).getProjectId();                    </span>
<span class="7913111081342953879" onmouseenter="enter('7913111081342953879');" onmouseout="out('7913111081342953879');" style=""> 208 			// 判断是否有修改模块的权限                                                                                      </span>
<span class="7877480553019103118" onmouseenter="enter('7877480553019103118');" onmouseout="out('7877480553019103118');" style=""> 209 			checkPermission(oldProjectId, READ);                                                                 </span>
<span class="-841225222761265417" onmouseenter="enter('-841225222761265417');" onmouseout="out('-841225222761265417');" style=""> 210             checkPermission(newProjectId, MOD_INTER);                                                   </span>
<span  style=""> 211                                                                                                         </span>
<span class="-2337234168619506843" onmouseenter="enter('-2337234168619506843');" onmouseout="out('-2337234168619506843');" style=""> 212 			//同一模块下不允许 url 重复                                                                                    </span>
<span class="4583694866099931844" onmouseenter="enter('4583694866099931844');" onmouseout="out('4583694866099931844');" style=""><abbr title=" 213             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl()).setExceptId(interFace.getId());"> 213             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(in🔵</abbr></span>
<span class="1980642517102120004" onmouseenter="enter('1980642517102120004');" onmouseout="out('1980642517102120004');" style=""> 214 			if( !Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery) &gt;0 ){                             </span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 215 				throw new MyException(MyError.E000004);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216 			}                                                                                                    </span>
<span  style=""> 217 			                                                                                                     </span>
<span class="-5397395633479684746" onmouseenter="enter('-5397395633479684746');" onmouseout="out('-5397395633479684746');" style=""> 218 			interfaceService.update(interFace, &quot;接口&quot;, modifyRemark);                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 219 		} else {                                                                                              </span>
<span class="-4544441711958312547" onmouseenter="enter('-4544441711958312547');" onmouseout="out('-4544441711958312547');" style=""> 220 			checkPermission(interFace.getProjectId(), ADD_INTER);                                                </span>
<span class="6993090260120932776" onmouseenter="enter('6993090260120932776');" onmouseout="out('6993090260120932776');" style=""><abbr title=" 221             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl());"> 221             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(in🔵</abbr></span>
<span class="-8052293516261748065" onmouseenter="enter('-8052293516261748065');" onmouseout="out('-8052293516261748065');" style=""> 222 			if(!Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery)&gt;0){                                </span>
<span class="8772628239303623293" onmouseenter="enter('8772628239303623293');" onmouseout="out('8772628239303623293');" style=""> 223 				return new JsonResult(MyError.E000004);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224 			}                                                                                                    </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 225 			interfaceService.insert(interFace);                                                                  </span>
<span class="6568602618187019485" onmouseenter="enter('6568602618187019485');" onmouseout="out('6568602618187019485');" style=""> 226 			id = interFace.getId();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227 		}                                                                                                     </span>
<span  style=""> 228                                                                                                         </span>
<span class="-8435530835866397772" onmouseenter="enter('-8435530835866397772');" onmouseout="out('-8435530835866397772');" style=""> 229         luceneService.update(InterfaceAdapter.getSearchDto(interfaceService.getById(id)));              </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 230         return new JsonResult(1, interFace);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231 	}                                                                                                      </span>
<span  style=""> 232                                                                                                         </span>
<span  style=""> 233                                                                                                         </span>
<span class="-6964648231366196325" onmouseenter="enter('-6964648231366196325');" onmouseout="out('-6964648231366196325');" style=""> 234 	@RequestMapping(&quot;/debug.do&quot;)                                                                           </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 235 	@ResponseBody                                                                                          </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 236 	@AuthPassport                                                                                          </span>
<span class="-8209476752026465697" onmouseenter="enter('-8209476752026465697');" onmouseout="out('-8209476752026465697');" style=""> 237 	public JsonResult debug(@ModelAttribute InterfaceDto interFace) throws IOException, Exception {        </span>
<span class="-857909214726102048" onmouseenter="enter('-857909214726102048');" onmouseout="out('-857909214726102048');" style=""> 238 		Assert.notNull(interFace.getMethod(), &quot;请求方法不能为空&quot;);                                                    </span>
<span class="-5248537465732866548" onmouseenter="enter('-5248537465732866548');" onmouseout="out('-5248537465732866548');" style=""> 239 		Assert.notNull(interFace.getFullUrl(), &quot;地址不能为空&quot;);                                                     </span>
<span class="-6952800964811379899" onmouseenter="enter('-6952800964811379899');" onmouseout="out('-6952800964811379899');" style=""> 240         Assert.isTrue(interFace.getFullUrl().startsWith(&quot;http&quot;), &quot;地址必须以 http开头&quot;);                       </span>
<span  style=""> 241                                                                                                         </span>
<span class="-6374405635748053038" onmouseenter="enter('-6374405635748053038');" onmouseout="out('-6374405635748053038');" style=""> 242         String fullUrl = interFace.getFullUrl();                                                        </span>
<span  style=""> 243                                                                                                         </span>
<span class="-5425264664081477159" onmouseenter="enter('-5425264664081477159');" onmouseout="out('-5425264664081477159');" style=""><abbr title=" 244 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHeader(), ParamDto.class);"> 244 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHe🔵</abbr></span>
<span  style=""> 245                                                                                                         </span>
<span class="-358173397027013968" onmouseenter="enter('-358173397027013968');" onmouseout="out('-358173397027013968');" style=""> 246         Map&lt;String, String&gt; httpHeaders = new HashMap&lt;&gt;();                                              </span>
<span class="-144697395149533285" onmouseenter="enter('-144697395149533285');" onmouseout="out('-144697395149533285');" style=""> 247         for (ParamDto paramDto : headerList) {                                                          </span>
<span class="6677538940601376914" onmouseenter="enter('6677538940601376914');" onmouseout="out('6677538940601376914');" style=""> 248             httpHeaders.put(paramDto.getName(), paramDto.getDef());                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249         }                                                                                               </span>
<span class="-7197443773516450962" onmouseenter="enter('-7197443773516450962');" onmouseout="out('-7197443773516450962');" style=""> 250         // 如果自定义参数不为空，则表示需要使用post发送自定义包体                                                                </span>
<span class="-6617072984433725815" onmouseenter="enter('-6617072984433725815');" onmouseout="out('-6617072984433725815');" style=""> 251         if (C_PARAM_RAW.equals(interFace.getParamType())) {                                             </span>
<span class="-7315409697012940159" onmouseenter="enter('-7315409697012940159');" onmouseout="out('-7315409697012940159');" style=""><abbr title=" 252             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(), httpHeaders)));"> 252             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253         }                                                                                               </span>
<span  style=""> 254                                                                                                         </span>
<span class="-5944068785760083864" onmouseenter="enter('-5944068785760083864');" onmouseout="out('-5944068785760083864');" style=""><abbr title=" 255         List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getParam(), ParamDto.class);"> 255         List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.g🔵</abbr></span>
<span  style=""> 256                                                                                                         </span>
<span  style=""> 257                                                                                                         </span>
<span class="6495342511049191823" onmouseenter="enter('6495342511049191823');" onmouseout="out('6495342511049191823');" style=""> 258         Map&lt;String, String&gt; httpParams = new HashMap&lt;&gt;();                                               </span>
<span class="-2939771329775203143" onmouseenter="enter('-2939771329775203143');" onmouseout="out('-2939771329775203143');" style=""> 259         for (ParamDto paramDto : paramList) {                                                           </span>
<span class="4885942122438216039" onmouseenter="enter('4885942122438216039');" onmouseout="out('4885942122438216039');" style=""> 260             if (fullUrl.contains(&quot;{&quot; + paramDto.getRealName() + &quot;}&quot;)) {                                 </span>
<span class="-5425547815249620490" onmouseenter="enter('-5425547815249620490');" onmouseout="out('-5425547815249620490');" style=""> 261                 fullUrl = fullUrl.replace(&quot;{&quot; + paramDto.getName() + &quot;}&quot;, paramDto.getDef());           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 262             } else {                                                                                    </span>
<span class="3853225928579086816" onmouseenter="enter('3853225928579086816');" onmouseout="out('3853225928579086816');" style=""> 263                 httpParams.put(paramDto.getName(), paramDto.getDef());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264             }                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265         }                                                                                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 266         try {                                                                                           </span>
<span class="7698493343903286588" onmouseenter="enter('7698493343903286588');" onmouseout="out('7698493343903286588');" style=""> 267             switch (interFace.getMethod()) {                                                            </span>
<span class="7892944175315482245" onmouseenter="enter('7892944175315482245');" onmouseout="out('7892944175315482245');" style=""> 268                 case &quot;POST&quot;:                                                                            </span>
<span class="2157599781076166526" onmouseenter="enter('2157599781076166526');" onmouseout="out('2157599781076166526');" style=""><abbr title=" 269                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, httpHeaders)));"> 269                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpPa🔵</abbr></span>
<span class="4716385075727439579" onmouseenter="enter('4716385075727439579');" onmouseout="out('4716385075727439579');" style=""> 270                 case &quot;GET&quot;:                                                                             </span>
<span class="-665413068450082307" onmouseenter="enter('-665413068450082307');" onmouseout="out('-665413068450082307');" style=""><abbr title=" 271                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, httpHeaders)));"> 271                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpPar🔵</abbr></span>
<span class="-5729331644489035419" onmouseenter="enter('-5729331644489035419');" onmouseout="out('-5729331644489035419');" style=""> 272                 case &quot;PUT&quot;:                                                                             </span>
<span class="-3734030575894127039" onmouseenter="enter('-3734030575894127039');" onmouseout="out('-3734030575894127039');" style=""><abbr title=" 273                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, httpHeaders)));"> 273                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpPar🔵</abbr></span>
<span class="-1252674823953365764" onmouseenter="enter('-1252674823953365764');" onmouseout="out('-1252674823953365764');" style=""> 274                 case &quot;DELETE&quot;:                                                                          </span>
<span class="6419163237734326387" onmouseenter="enter('6419163237734326387');" onmouseout="out('6419163237734326387');" style=""><abbr title=" 275                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, httpHeaders)));"> 275                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, http🔵</abbr></span>
<span class="-3614836558630745606" onmouseenter="enter('-3614836558630745606');" onmouseout="out('-3614836558630745606');" style=""> 276                 case &quot;HEAD&quot;:                                                                            </span>
<span class="-8045729609655389523" onmouseenter="enter('-8045729609655389523');" onmouseout="out('-8045729609655389523');" style=""><abbr title=" 277                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, httpHeaders)));"> 277                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpPa🔵</abbr></span>
<span class="5118455566205188263" onmouseenter="enter('5118455566205188263');" onmouseout="out('5118455566205188263');" style=""> 278                 case &quot;OPTIONS&quot;:                                                                         </span>
<span class="3844041568119148194" onmouseenter="enter('3844041568119148194');" onmouseout="out('3844041568119148194');" style=""><abbr title=" 279                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, httpHeaders)));"> 279                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, htt🔵</abbr></span>
<span class="9107175809460343031" onmouseenter="enter('9107175809460343031');" onmouseout="out('9107175809460343031');" style=""> 280                 case &quot;TRACE&quot;:                                                                           </span>
<span class="-2956677331143050404" onmouseenter="enter('-2956677331143050404');" onmouseout="out('-2956677331143050404');" style=""><abbr title=" 281                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, httpHeaders)));"> 281                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpP🔵</abbr></span>
<span class="3332084310769245269" onmouseenter="enter('3332084310769245269');" onmouseout="out('3332084310769245269');" style=""> 282 				case &quot;PATCH&quot;:                                                                                       </span>
<span class="-1078405668674751253" onmouseenter="enter('-1078405668674751253');" onmouseout="out('-1078405668674751253');" style=""><abbr title=" 283 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHeaders)));"> 283 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHead🔵</abbr></span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 284                 default:                                                                                </span>
<span class="6882017481289444776" onmouseenter="enter('6882017481289444776');" onmouseout="out('6882017481289444776');" style=""><abbr title=" 285                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMethod()));"> 285                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMetho🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286             }                                                                                           </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 287         } catch (Exception e) {                                                                         </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 288             e.printStackTrace();                                                                        </span>
<span class="-1799841489783118215" onmouseenter="enter('-1799841489783118215');" onmouseout="out('-1799841489783118215');" style=""> 289             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;调试出错\r\nmessage:&quot; + e.getMessage())); </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290         }                                                                                               </span>
<span  style=""> 291                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292 	}                                                                                                      </span>
<span  style=""> 293                                                                                                         </span>
<span class="3908622465717054108" onmouseenter="enter('3908622465717054108');" onmouseout="out('3908622465717054108');" style=""> 294 	@RequestMapping(&quot;/delete.do&quot;)                                                                          </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 295 	@ResponseBody                                                                                          </span>
<span class="-5585810528016230380" onmouseenter="enter('-5585810528016230380');" onmouseout="out('-5585810528016230380');" style=""> 296 	public JsonResult delete(String id, String ids) throws MyException, IOException{                       </span>
<span class="5500260682396997685" onmouseenter="enter('5500260682396997685');" onmouseout="out('5500260682396997685');" style=""> 297 		if( MyString.isEmpty(id) &amp;&amp; MyString.isEmpty(ids)){                                                   </span>
<span class="5841283794467303202" onmouseenter="enter('5841283794467303202');" onmouseout="out('5841283794467303202');" style=""> 298 			throw new MyException(MyError.E000029);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299 		}                                                                                                     </span>
<span class="-8135195691626680328" onmouseenter="enter('-8135195691626680328');" onmouseout="out('-8135195691626680328');" style=""> 300 		if( MyString.isEmpty(ids) ){                                                                          </span>
<span class="3511947876673837079" onmouseenter="enter('3511947876673837079');" onmouseout="out('3511947876673837079');" style=""> 301 			ids = id;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302 		}                                                                                                     </span>
<span  style=""> 303 		                                                                                                      </span>
<span class="-2656961914898447548" onmouseenter="enter('-2656961914898447548');" onmouseout="out('-2656961914898447548');" style=""> 304 		for(String tempId : ids.split(&quot;,&quot;)){                                                                  </span>
<span class="-3040966783477954494" onmouseenter="enter('-3040966783477954494');" onmouseout="out('-3040966783477954494');" style=""> 305 			if(MyString.isEmpty(tempId)){                                                                        </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 306 				continue;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307 			}                                                                                                    </span>
<span class="6005130977645696533" onmouseenter="enter('6005130977645696533');" onmouseout="out('6005130977645696533');" style=""> 308 			InterfaceWithBLOBs interFace = interfaceService.getById( tempId );                                   </span>
<span class="-2374229721201647812" onmouseenter="enter('-2374229721201647812');" onmouseout="out('-2374229721201647812');" style=""> 309 			checkPermission(interFace.getProjectId(), DEL_INTER);                                                </span>
<span  style=""> 310                                                                                                         </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style=""> 311             luceneService.delete(new SearchDto(interFace.getId()));                                     </span>
<span class="5403926906782818954" onmouseenter="enter('5403926906782818954');" onmouseout="out('5403926906782818954');" style=""> 312 			interfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313 		}                                                                                                     </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 314 		return new JsonResult(1, null);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315 	}                                                                                                      </span>
<span  style=""> 316                                                                                                         </span>
<span class="3383448423842759854" onmouseenter="enter('3383448423842759854');" onmouseout="out('3383448423842759854');" style=""> 317 	@RequestMapping(&quot;/changeSequence.do&quot;)                                                                  </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 318 	@ResponseBody                                                                                          </span>
<span class="-4262891591549373351" onmouseenter="enter('-4262891591549373351');" onmouseout="out('-4262891591549373351');" style=""><abbr title=" 319 	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyException {"> 319 	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyExcepti🔵</abbr></span>
<span class="-114025814901609390" onmouseenter="enter('-114025814901609390');" onmouseout="out('-114025814901609390');" style=""> 320 		InterfaceWithBLOBs change = interfaceService.getById(changeId);                                       </span>
<span class="1535172332471428490" onmouseenter="enter('1535172332471428490');" onmouseout="out('1535172332471428490');" style=""> 321 		InterfaceWithBLOBs model = interfaceService.getById(id);                                              </span>
<span class="-9056666078458333552" onmouseenter="enter('-9056666078458333552');" onmouseout="out('-9056666078458333552');" style=""> 322 		checkPermission(model.getProjectId(), MOD_INTER);                                                     </span>
<span class="2520631124281925400" onmouseenter="enter('2520631124281925400');" onmouseout="out('2520631124281925400');" style=""> 323 		checkPermission(change.getProjectId(), MOD_INTER);                                                    </span>
<span  style=""> 324 		                                                                                                      </span>
<span class="-6471227968333011823" onmouseenter="enter('-6471227968333011823');" onmouseout="out('-6471227968333011823');" style=""> 325 		int modelSequence = model.getSequence();                                                              </span>
<span  style=""> 326 		                                                                                                      </span>
<span class="-7348627876629533627" onmouseenter="enter('-7348627876629533627');" onmouseout="out('-7348627876629533627');" style=""> 327 		model.setSequence(change.getSequence());                                                              </span>
<span class="-8403247859037350919" onmouseenter="enter('-8403247859037350919');" onmouseout="out('-8403247859037350919');" style=""> 328 		change.setSequence(modelSequence);                                                                    </span>
<span  style=""> 329                                                                                                         </span>
<span class="1992515717850273638" onmouseenter="enter('1992515717850273638');" onmouseout="out('1992515717850273638');" style=""> 330 		interfaceService.update(model);                                                                       </span>
<span class="8445067308225092068" onmouseenter="enter('8445067308225092068');" onmouseout="out('8445067308225092068');" style=""> 331 		interfaceService.update(change);                                                                      </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 332 		return new JsonResult(1, null);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333 	}                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334 }                                                                                                       </span>

































</pre></td>
                            <td><pre><span class="8453884345636310198" onmouseenter="enter('8453884345636310198');" onmouseout="out('8453884345636310198');" style="">   1 package cn.crap.controller.user;                                                                         </span>
<span  style="">   2                                                                                                          </span>
<span class="3872670124992133569" onmouseenter="enter('3872670124992133569');" onmouseout="out('3872670124992133569');" style="">   3 import cn.crap.adapter.InterfaceAdapter;                                                                 </span>
<span class="6807184333094047547" onmouseenter="enter('6807184333094047547');" onmouseout="out('6807184333094047547');" style="">   4 import cn.crap.dto.InterfaceDto;                                                                         </span>
<span class="7929325164483847730" onmouseenter="enter('7929325164483847730');" onmouseout="out('7929325164483847730');" style="">   5 import cn.crap.dto.LoginInfoDto;                                                                         </span>
<span class="7576644326008164675" onmouseenter="enter('7576644326008164675');" onmouseout="out('7576644326008164675');" style="">   6 import cn.crap.dto.ParamDto;                                                                             </span>
<span class="1522833305812512221" onmouseenter="enter('1522833305812512221');" onmouseout="out('1522833305812512221');" style="">   7 import cn.crap.dto.SearchDto;                                                                            </span>
<span class="-1875408054571239611" onmouseenter="enter('-1875408054571239611');" onmouseout="out('-1875408054571239611');" style="">   8 import cn.crap.enu.InterfaceContentType;                                                                 </span>
<span class="7537949687285328270" onmouseenter="enter('7537949687285328270');" onmouseout="out('7537949687285328270');" style="">   9 import cn.crap.enu.InterfaceStatus;                                                                      </span>
<span class="3589208192092537681" onmouseenter="enter('3589208192092537681');" onmouseout="out('3589208192092537681');" style="">  10 import cn.crap.enu.MonitorType;                                                                          </span>
<span class="4068195648627809360" onmouseenter="enter('4068195648627809360');" onmouseout="out('4068195648627809360');" style="">  11 import cn.crap.enu.MyError;                                                                              </span>
<span class="-7847071603028321447" onmouseenter="enter('-7847071603028321447');" onmouseout="out('-7847071603028321447');" style="">  12 import cn.crap.framework.JsonResult;                                                                     </span>
<span class="-7574536783671103865" onmouseenter="enter('-7574536783671103865');" onmouseout="out('-7574536783671103865');" style="">  13 import cn.crap.framework.MyException;                                                                    </span>
<span class="-4522781807489195049" onmouseenter="enter('-4522781807489195049');" onmouseout="out('-4522781807489195049');" style="">  14 import cn.crap.framework.base.BaseController;                                                            </span>
<span class="4903612087055488212" onmouseenter="enter('4903612087055488212');" onmouseout="out('4903612087055488212');" style="">  15 import cn.crap.framework.interceptor.AuthPassport;                                                       </span>
<span class="8147845229390238491" onmouseenter="enter('8147845229390238491');" onmouseout="out('8147845229390238491');" style="">  16 import cn.crap.model.Error;                                                                              </span>
<span class="6961814849649346163" onmouseenter="enter('6961814849649346163');" onmouseout="out('6961814849649346163');" style="">  17 import cn.crap.model.InterfaceWithBLOBs;                                                                 </span>
<span class="-3829059158540726081" onmouseenter="enter('-3829059158540726081');" onmouseout="out('-3829059158540726081');" style="">  18 import cn.crap.model.Module;                                                                             </span>
<span class="-2569611458616973012" onmouseenter="enter('-2569611458616973012');" onmouseout="out('-2569611458616973012');" style="">  19 import cn.crap.model.Project;                                                                            </span>
<span class="24505043057363846" onmouseenter="enter('24505043057363846');" onmouseout="out('24505043057363846');" style="">  20 import cn.crap.query.ErrorQuery;                                                                         </span>
<span class="5577390926415763020" onmouseenter="enter('5577390926415763020');" onmouseout="out('5577390926415763020');" style="">  21 import cn.crap.query.InterfaceQuery;                                                                     </span>
<span class="-5580999983088044782" onmouseenter="enter('-5580999983088044782');" onmouseout="out('-5580999983088044782');" style="">  22 import cn.crap.service.ErrorService;                                                                     </span>
<span class="2810978048240697020" onmouseenter="enter('2810978048240697020');" onmouseout="out('2810978048240697020');" style="">  23 import cn.crap.service.ISearchService;                                                                   </span>
<span class="-256793303282880299" onmouseenter="enter('-256793303282880299');" onmouseout="out('-256793303282880299');" style="">  24 import cn.crap.service.InterfaceService;                                                                 </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="">  25 import cn.crap.beans.Config;                                                                             </span>
<span class="3571843901690526929" onmouseenter="enter('3571843901690526929');" onmouseout="out('3571843901690526929');" style="">  26 import cn.crap.utils.*;                                                                                  </span>
<span class="-3919641806686363409" onmouseenter="enter('-3919641806686363409');" onmouseout="out('-3919641806686363409');" style="">  27 import com.alibaba.fastjson.JSONArray;                                                                   </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  28 import org.springframework.beans.factory.annotation.Autowired;                                           </span>
<span class="4128309806836178094" onmouseenter="enter('4128309806836178094');" onmouseout="out('4128309806836178094');" style="">  29 import org.springframework.stereotype.Controller;                                                        </span>
<span class="7608804911988512946" onmouseenter="enter('7608804911988512946');" onmouseout="out('7608804911988512946');" style="">  30 import org.springframework.util.Assert;                                                                  </span>
<span class="2718246165073723950" onmouseenter="enter('2718246165073723950');" onmouseout="out('2718246165073723950');" style="">  31 import org.springframework.web.bind.annotation.ModelAttribute;                                           </span>
<span class="-7989471178862524182" onmouseenter="enter('-7989471178862524182');" onmouseout="out('-7989471178862524182');" style="">  32 import org.springframework.web.bind.annotation.RequestMapping;                                           </span>
<span class="-8913037601281016619" onmouseenter="enter('-8913037601281016619');" onmouseout="out('-8913037601281016619');" style="">  33 import org.springframework.web.bind.annotation.RequestParam;                                             </span>
<span class="-7662224364501075428" onmouseenter="enter('-7662224364501075428');" onmouseout="out('-7662224364501075428');" style="">  34 import org.springframework.web.bind.annotation.ResponseBody;                                             </span>
<span  style="">  35                                                                                                          </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  36 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  37 import java.util.HashMap;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  38 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  39 import java.util.Map;                                                                                    </span>
<span  style="">  40                                                                                                          </span>
<span class="4777805177773543995" onmouseenter="enter('4777805177773543995');" onmouseout="out('4777805177773543995');" style="">  41 @Controller                                                                                              </span>
<span class="-1946225143665328935" onmouseenter="enter('-1946225143665328935');" onmouseout="out('-1946225143665328935');" style="">  42 @RequestMapping(&quot;/user/interface&quot;)                                                                       </span>
<span class="6388668049573310758" onmouseenter="enter('6388668049573310758');" onmouseout="out('6388668049573310758');" style="">  43 public class InterfaceController extends BaseController{                                                 </span>
<span  style="">  44                                                                                                          </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  45 	@Autowired                                                                                              </span>
<span class="5676854317382137038" onmouseenter="enter('5676854317382137038');" onmouseout="out('5676854317382137038');" style="">  46 	private InterfaceService interfaceService;                                                              </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  47 	@Autowired                                                                                              </span>
<span class="-925519006397285322" onmouseenter="enter('-925519006397285322');" onmouseout="out('-925519006397285322');" style="">  48 	private ISearchService luceneService;                                                                   </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  49 	@Autowired                                                                                              </span>
<span class="-3968544807213930836" onmouseenter="enter('-3968544807213930836');" onmouseout="out('-3968544807213930836');" style="">  50 	private ErrorService errorService;                                                                      </span>
<span  style="">  51                                                                                                          </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="">  52 	@RequestMapping(&quot;/list.do&quot;)                                                                             </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  53 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="">  54 	@AuthPassport                                                                                           </span>
<span class="2892798472039456685" onmouseenter="enter('2892798472039456685');" onmouseout="out('2892798472039456685');" style="">  55 	public JsonResult list(@ModelAttribute InterfaceQuery query, String url) throws MyException{            </span>
<span class="5524533179462183259" onmouseenter="enter('5524533179462183259');" onmouseout="out('5524533179462183259');" style="">  56         Module module = getModule(query);                                                                </span>
<span class="1109214781424356184" onmouseenter="enter('1109214781424356184');" onmouseout="out('1109214781424356184');" style="">  57         Project project = getProject(query);                                                             </span>
<span class="-1137060650182227256" onmouseenter="enter('-1137060650182227256');" onmouseout="out('-1137060650182227256');" style="">  58         checkPermission(project, READ);                                                                  </span>
<span  style="">  59                                                                                                          </span>
<span class="-7191320329016185556" onmouseenter="enter('-7191320329016185556');" onmouseout="out('-7191320329016185556');" style="">  60         InterfaceQuery interfaceQuery = query.setFullUrl(url);                                           </span>
<span class="-5279124502853396526" onmouseenter="enter('-5279124502853396526');" onmouseout="out('-5279124502853396526');" style="">  61 		Page page= new Page(interfaceQuery);                                                                   </span>
<span  style="">  62                                                                                                          </span>
<span class="-8091314608405686849" onmouseenter="enter('-8091314608405686849');" onmouseout="out('-8091314608405686849');" style=""><abbr title="  63 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module, project);">  63 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module,🔵</abbr></span>
<span class="-3280997506223267100" onmouseenter="enter('-3280997506223267100');" onmouseout="out('-3280997506223267100');" style="">  64 		page.setAllRow(interfaceService.count(interfaceQuery));                                                </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="">  65 		JsonResult result = new JsonResult(1, interfaces, page);                                               </span>
<span class="-9087557087086822651" onmouseenter="enter('-9087557087086822651');" onmouseout="out('-9087557087086822651');" style="">  66 		result.putOthers(&quot;module&quot;, module);                                                                    </span>
<span  style="">  67                                                                                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="">  68 		return result;                                                                                         </span>
<span  style="">  69                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70 	}                                                                                                       </span>
<span  style="">  71                                                                                                          </span>
<span class="-557002042091694149" onmouseenter="enter('-557002042091694149');" onmouseout="out('-557002042091694149');" style="">  72 	@RequestMapping(&quot;/detail.do&quot;)                                                                           </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  73 	@ResponseBody                                                                                           </span>
<span class="5290464852810964839" onmouseenter="enter('5290464852810964839');" onmouseout="out('5290464852810964839');" style="">  74 	public JsonResult detail(String id, String moduleId, String projectId) throws MyException {             </span>
<span class="-5013732608106508542" onmouseenter="enter('-5013732608106508542');" onmouseout="out('-5013732608106508542');" style="">  75 		InterfaceWithBLOBs model;                                                                              </span>
<span class="2610682483254535033" onmouseenter="enter('2610682483254535033');" onmouseout="out('2610682483254535033');" style="">  76 		Module module;                                                                                         </span>
<span class="-6983393444998086393" onmouseenter="enter('-6983393444998086393');" onmouseout="out('-6983393444998086393');" style="">  77 		if(id != null){                                                                                        </span>
<span class="-2399207700769929325" onmouseenter="enter('-2399207700769929325');" onmouseout="out('-2399207700769929325');" style="">  78 			model= interfaceService.getById(id);                                                                  </span>
<span class="1040064000347861178" onmouseenter="enter('1040064000347861178');" onmouseout="out('1040064000347861178');" style="">  79 			module = moduleCache.get(model.getModuleId());                                                        </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style="">  80 		}else{                                                                                                 </span>
<span class="-7029962562203235323" onmouseenter="enter('-7029962562203235323');" onmouseout="out('-7029962562203235323');" style="">  81 			model = new InterfaceWithBLOBs();                                                                     </span>
<span class="-2587857982027861322" onmouseenter="enter('-2587857982027861322');" onmouseout="out('-2587857982027861322');" style="">  82 			module = moduleCache.get(moduleId);                                                                   </span>
<span class="-853942339085784102" onmouseenter="enter('-853942339085784102');" onmouseout="out('-853942339085784102');" style="">  83 			model.setModuleId( moduleId);                                                                         </span>
<span class="1766527927860713999" onmouseenter="enter('1766527927860713999');" onmouseout="out('1766527927860713999');" style="">  84 			model.setProjectId(module.getProjectId() == null ? projectId : module.getProjectId());                </span>
<span class="-646854625022819456" onmouseenter="enter('-646854625022819456');" onmouseout="out('-646854625022819456');" style="">  85 			model.setResponseParam(&quot;[]&quot;);                                                                         </span>
<span class="-7417036509485016685" onmouseenter="enter('-7417036509485016685');" onmouseout="out('-7417036509485016685');" style="">  86 			model.setHeader(&quot;[]&quot;);                                                                                </span>
<span class="2272429349124999400" onmouseenter="enter('2272429349124999400');" onmouseout="out('2272429349124999400');" style="">  87 			model.setParamRemark(&quot;[]&quot;);                                                                           </span>
<span class="5629681036155585428" onmouseenter="enter('5629681036155585428');" onmouseout="out('5629681036155585428');" style="">  88             model.setErrors(&quot;[]&quot;);                                                                       </span>
<span class="5346704725079118574" onmouseenter="enter('5346704725079118574');" onmouseout="out('5346704725079118574');" style="">  89             model.setMethod(IConst.C_METHOD_GET);                                                        </span>
<span class="7556183691054851898" onmouseenter="enter('7556183691054851898');" onmouseout="out('7556183691054851898');" style="">  90             model.setStatus(InterfaceStatus.ONLINE.getByteValue());                                      </span>
<span class="5499796354931457666" onmouseenter="enter('5499796354931457666');" onmouseout="out('5499796354931457666');" style="">  91             model.setContentType(InterfaceContentType.JSON.getType());                                   </span>
<span class="-7842162056922652960" onmouseenter="enter('-7842162056922652960');" onmouseout="out('-7842162056922652960');" style="">  92             model.setParam(IConst.C_PARAM_FORM_PRE + &quot;[]&quot;);                                              </span>
<span  style="">  93                                                                                                          </span>
<span class="-8254387329445674854" onmouseenter="enter('-8254387329445674854');" onmouseout="out('-8254387329445674854');" style="">  94 			if(!MyString.isEmpty(module.getTemplateId())){                                                        </span>
<span class="-4020697440483671496" onmouseenter="enter('-4020697440483671496');" onmouseout="out('-4020697440483671496');" style="">  95 				InterfaceWithBLOBs template = interfaceService.getById(module.getTemplateId());                      </span>
<span class="5678506116785444717" onmouseenter="enter('5678506116785444717');" onmouseout="out('5678506116785444717');" style="">  96 				// 根据模板初始化接口                                                                                         </span>
<span class="-4452779201008749745" onmouseenter="enter('-4452779201008749745');" onmouseout="out('-4452779201008749745');" style="">  97 				if(template != null){                                                                                </span>
<span class="5089751341604219548" onmouseenter="enter('5089751341604219548');" onmouseout="out('5089751341604219548');" style="">  98 					model.setHeader(template.getHeader());                                                              </span>
<span class="-7527905069934626121" onmouseenter="enter('-7527905069934626121');" onmouseout="out('-7527905069934626121');" style="">  99 					model.setParam(template.getParam());                                                                </span>
<span class="-7059470924530166388" onmouseenter="enter('-7059470924530166388');" onmouseout="out('-7059470924530166388');" style=""> 100 					model.setMethod(template.getMethod());                                                              </span>
<span class="5940911261599321088" onmouseenter="enter('5940911261599321088');" onmouseout="out('5940911261599321088');" style=""> 101 					model.setVersion(template.getVersion());                                                            </span>
<span class="-3448468761886356175" onmouseenter="enter('-3448468761886356175');" onmouseout="out('-3448468761886356175');" style=""> 102 					model.setParamRemark(template.getParamRemark());                                                    </span>
<span class="1622152235047204734" onmouseenter="enter('1622152235047204734');" onmouseout="out('1622152235047204734');" style=""> 103 					model.setResponseParam(template.getResponseParam());                                                </span>
<span class="-6414379266760239220" onmouseenter="enter('-6414379266760239220');" onmouseout="out('-6414379266760239220');" style=""> 104 					model.setErrorList(template.getErrorList());                                                        </span>
<span class="-379237002060688021" onmouseenter="enter('-379237002060688021');" onmouseout="out('-379237002060688021');" style=""> 105 					model.setErrors(template.getErrors());                                                              </span>
<span class="2306293464665606986" onmouseenter="enter('2306293464665606986');" onmouseout="out('2306293464665606986');" style=""> 106 					model.setFalseExam(template.getFalseExam());                                                        </span>
<span class="5307078882417853010" onmouseenter="enter('5307078882417853010');" onmouseout="out('5307078882417853010');" style=""> 107 					model.setTrueExam(template.getTrueExam());                                                          </span>
<span class="-994236842464253118" onmouseenter="enter('-994236842464253118');" onmouseout="out('-994236842464253118');" style=""> 108 					model.setStatus(template.getStatus());                                                              </span>
<span class="-2721857626840181883" onmouseenter="enter('-2721857626840181883');" onmouseout="out('-2721857626840181883');" style=""> 109 					model.setContentType(template.getContentType());                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112 		}                                                                                                      </span>
<span class="-1189875346814839096" onmouseenter="enter('-1189875346814839096');" onmouseout="out('-1189875346814839096');" style=""> 113         checkPermission(model.getProjectId(), READ);                                                     </span>
<span class="-6563016959985097734" onmouseenter="enter('-6563016959985097734');" onmouseout="out('-6563016959985097734');" style=""> 114 		return new JsonResult(1, InterfaceAdapter.getDtoWithBLOBs(model, module, null, false));                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115 	}                                                                                                       </span>
<span  style=""> 116                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 117 	/**                                                                                                     </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 118 	 * @return                                                                                              </span>
<span class="-5665355684135370133" onmouseenter="enter('-5665355684135370133');" onmouseout="out('-5665355684135370133');" style=""> 119 	 * @throws MyException                                                                                  </span>
<span class="-2042953791166134795" onmouseenter="enter('-2042953791166134795');" onmouseout="out('-2042953791166134795');" style=""> 120 	 * @throws IOException                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121 	 */                                                                                                     </span>
<span class="3944392597235221522" onmouseenter="enter('3944392597235221522');" onmouseout="out('3944392597235221522');" style=""> 122 	@RequestMapping(&quot;/copy.do&quot;)                                                                             </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 123 	@ResponseBody                                                                                           </span>
<span class="-5082836863041242555" onmouseenter="enter('-5082836863041242555');" onmouseout="out('-5082836863041242555');" style=""><abbr title=" 124 	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throws MyException, IOException {"> 124 	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throw🔵</abbr></span>
<span class="3934678378551446762" onmouseenter="enter('3934678378551446762');" onmouseout="out('3934678378551446762');" style=""> 125 		InterfaceWithBLOBs interFace = interfaceService.getById(id);                                           </span>
<span  style=""> 126                                                                                                          </span>
<span class="-4221915995793202203" onmouseenter="enter('-4221915995793202203');" onmouseout="out('-4221915995793202203');" style=""> 127 		//判断是否拥有原来项目的权限                                                                                        </span>
<span class="962943237176822878" onmouseenter="enter('962943237176822878');" onmouseout="out('962943237176822878');" style=""> 128 		checkPermission(interFace.getProjectId(), READ);                                                       </span>
<span class="2572240230111123057" onmouseenter="enter('2572240230111123057');" onmouseout="out('2572240230111123057');" style=""> 129         Project project = getProject(interFace.getProjectId(), moduleId);                                </span>
<span class="3442007748957955908" onmouseenter="enter('3442007748957955908');" onmouseout="out('3442007748957955908');" style=""> 130         Module module = moduleCache.get(moduleId);                                                       </span>
<span class="1334308259496682157" onmouseenter="enter('1334308259496682157');" onmouseout="out('1334308259496682157');" style=""> 131 		// 检查新项目的权限                                                                                            </span>
<span class="-741693448261288691" onmouseenter="enter('-741693448261288691');" onmouseout="out('-741693448261288691');" style=""> 132         checkPermission(project, ADD_INTER);                                                             </span>
<span  style=""> 133                                                                                                          </span>
<span class="-2121896499688911861" onmouseenter="enter('-2121896499688911861');" onmouseout="out('-2121896499688911861');" style=""> 134 		if(!Config.canRepeatUrl){                                                                              </span>
<span class="7008517791276156581" onmouseenter="enter('7008517791276156581');" onmouseout="out('7008517791276156581');" style=""><abbr title=" 135 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() + interFace.getUrl())) &gt; 0){"> 135 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() 🔵</abbr></span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 136 				throw new MyException(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138 		}                                                                                                      </span>
<span  style=""> 139                                                                                                          </span>
<span class="-4927829934273936544" onmouseenter="enter('-4927829934273936544');" onmouseout="out('-4927829934273936544');" style=""> 140 		interFace.setId(null);                                                                                 </span>
<span class="4295450166033773932" onmouseenter="enter('4295450166033773932');" onmouseout="out('4295450166033773932');" style=""> 141 		interFace.setUrl(url);                                                                                 </span>
<span class="2993932738191275931" onmouseenter="enter('2993932738191275931');" onmouseout="out('2993932738191275931');" style=""> 142         interFace.setFullUrl((module.getUrl() == null ? &quot;&quot; : module.getUrl()) + url);                    </span>
<span class="-7123918959665289303" onmouseenter="enter('-7123918959665289303');" onmouseout="out('-7123918959665289303');" style=""> 143         interFace.setInterfaceName(interfaceName);                                                       </span>
<span class="3798115092898655491" onmouseenter="enter('3798115092898655491');" onmouseout="out('3798115092898655491');" style=""> 144         interFace.setModuleId(moduleId);                                                                 </span>
<span class="-5570231032452560814" onmouseenter="enter('-5570231032452560814');" onmouseout="out('-5570231032452560814');" style=""> 145         interFace.setProjectId(project.getId());                                                         </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 146         interfaceService.insert(interFace);                                                              </span>
<span  style=""> 147                                                                                                          </span>
<span class="-8728764175324637686" onmouseenter="enter('-8728764175324637686');" onmouseout="out('-8728764175324637686');" style=""> 148         interFace.setId(interFace.getId());                                                              </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 149 		luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                           </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 150 		return new JsonResult(1, interFace);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151 	}                                                                                                       </span>
<span  style=""> 152                                                                                                          </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style=""> 153 	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 154 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 155 	@AuthPassport                                                                                           </span>
<span class="-1191287975845616504" onmouseenter="enter('-1191287975845616504');" onmouseout="out('-1191287975845616504');" style=""><abbr title=" 156 	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException, MyException {"> 156 	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException,🔵</abbr></span>
<span class="-3500327742939940407" onmouseenter="enter('-3500327742939940407');" onmouseout="out('-3500327742939940407');" style=""> 157 		Assert.notNull(dto.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                         </span>
<span class="-3686250460961182714" onmouseenter="enter('-3686250460961182714');" onmouseout="out('-3686250460961182714');" style=""> 158         Assert.notNull(dto.getUrl(), &quot;url can&#x27;t be null&quot;);                                               </span>
<span  style=""> 159                                                                                                          </span>
<span class="4333020959192383715" onmouseenter="enter('4333020959192383715');" onmouseout="out('4333020959192383715');" style=""> 160         String id = dto.getId();                                                                         </span>
<span class="3835886801284251087" onmouseenter="enter('3835886801284251087');" onmouseout="out('3835886801284251087');" style=""> 161         Module module = moduleCache.get(dto.getModuleId());                                              </span>
<span class="-6580321634713632415" onmouseenter="enter('-6580321634713632415');" onmouseout="out('-6580321634713632415');" style=""> 162         String newProjectId = getProjectId(dto.getProjectId(), dto.getModuleId());                       </span>
<span class="-3781223136710888845" onmouseenter="enter('-3781223136710888845');" onmouseout="out('-3781223136710888845');" style=""> 163         dto.setProjectId(newProjectId);                                                                  </span>
<span class="-4968471341233894350" onmouseenter="enter('-4968471341233894350');" onmouseout="out('-4968471341233894350');" style=""> 164 		dto.setUrl(dto.getUrl().trim());                                                                       </span>
<span class="-7463501822402269713" onmouseenter="enter('-7463501822402269713');" onmouseout="out('-7463501822402269713');" style=""> 165         dto.setFullUrl(module.getUrl() + dto.getUrl());                                                  </span>
<span  style=""> 166                                                                                                          </span>
<span class="-1144806292306049190" onmouseenter="enter('-1144806292306049190');" onmouseout="out('-1144806292306049190');" style=""> 167         if (C_PARAM_FORM.equals(dto.getParamType())){                                                    </span>
<span class="5328201193467369142" onmouseenter="enter('5328201193467369142');" onmouseout="out('5328201193467369142');" style=""> 168 		    dto.setParam(C_PARAM_FORM_PRE + dto.getParam());                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169         }                                                                                                </span>
<span  style=""> 170                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 171 		/**                                                                                                    </span>
<span class="7045250225799015466" onmouseenter="enter('7045250225799015466');" onmouseout="out('7045250225799015466');" style=""> 172 		 * 根据选着的错误码id，组装json字符串                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 173 		 */                                                                                                    </span>
<span class="1252267335350984887" onmouseenter="enter('1252267335350984887');" onmouseout="out('1252267335350984887');" style=""><abbr title=" 174         ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(dto.getErrorList())).setPageSize(100);"> 174         ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromF🔵</abbr></span>
<span class="7007176770365788864" onmouseenter="enter('7007176770365788864');" onmouseout="out('7007176770365788864');" style=""> 175         List&lt;Error&gt; errors  = errorService.query(query);                                                 </span>
<span class="-2878214233682854280" onmouseenter="enter('-2878214233682854280');" onmouseout="out('-2878214233682854280');" style=""> 176 		dto.setErrors(JSONArray.toJSONString(errors));                                                         </span>
<span  style=""> 177                                                                                                          </span>
<span class="1766529869277441370" onmouseenter="enter('1766529869277441370');" onmouseout="out('1766529869277441370');" style=""> 178 		LoginInfoDto user = LoginUserHelper.getUser();                                                         </span>
<span class="107427306152347096" onmouseenter="enter('107427306152347096');" onmouseout="out('107427306152347096');" style=""> 179 		dto.setUpdateBy(&quot;userName：&quot;+user.getUserName()+&quot; | trueName：&quot;+ user.getTrueName());                    </span>
<span class="4831447535634441964" onmouseenter="enter('4831447535634441964');" onmouseout="out('4831447535634441964');" style=""> 180         dto.setMonitorType(MonitorType.No.getValue());                                                   </span>
<span class="4973707410508928935" onmouseenter="enter('4973707410508928935');" onmouseout="out('4973707410508928935');" style=""> 181         InterfaceWithBLOBs interFace = InterfaceAdapter.getModel(dto);                                   </span>
<span class="-168595834781466469" onmouseenter="enter('-168595834781466469');" onmouseout="out('-168595834781466469');" style=""> 182         if (id != null) {                                                                                </span>
<span class="-2095657132029350572" onmouseenter="enter('-2095657132029350572');" onmouseout="out('-2095657132029350572');" style=""> 183 			String oldProjectId = interfaceService.getById(interFace.getId()).getProjectId();                     </span>
<span class="7913111081342953879" onmouseenter="enter('7913111081342953879');" onmouseout="out('7913111081342953879');" style=""> 184 			// 判断是否有修改模块的权限                                                                                       </span>
<span class="7877480553019103118" onmouseenter="enter('7877480553019103118');" onmouseout="out('7877480553019103118');" style=""> 185 			checkPermission(oldProjectId, READ);                                                                  </span>
<span class="-841225222761265417" onmouseenter="enter('-841225222761265417');" onmouseout="out('-841225222761265417');" style=""> 186             checkPermission(newProjectId, MOD_INTER);                                                    </span>
<span  style=""> 187                                                                                                          </span>
<span class="-2337234168619506843" onmouseenter="enter('-2337234168619506843');" onmouseout="out('-2337234168619506843');" style=""> 188 			//同一模块下不允许 url 重复                                                                                     </span>
<span class="4583694866099931844" onmouseenter="enter('4583694866099931844');" onmouseout="out('4583694866099931844');" style=""><abbr title=" 189             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl()).setExceptId(interFace.getId());"> 189             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(in🔵</abbr></span>
<span class="1980642517102120004" onmouseenter="enter('1980642517102120004');" onmouseout="out('1980642517102120004');" style=""> 190 			if( !Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery) &gt;0 ){                              </span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 191 				throw new MyException(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192 			}                                                                                                     </span>
<span  style=""> 193                                                                                                          </span>
<span class="-5397395633479684746" onmouseenter="enter('-5397395633479684746');" onmouseout="out('-5397395633479684746');" style=""> 194 			interfaceService.update(interFace, &quot;接口&quot;, modifyRemark);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 195 		} else {                                                                                               </span>
<span class="-4544441711958312547" onmouseenter="enter('-4544441711958312547');" onmouseout="out('-4544441711958312547');" style=""> 196 			checkPermission(interFace.getProjectId(), ADD_INTER);                                                 </span>
<span class="6993090260120932776" onmouseenter="enter('6993090260120932776');" onmouseout="out('6993090260120932776');" style=""><abbr title=" 197             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl());"> 197             InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(in🔵</abbr></span>
<span class="-8052293516261748065" onmouseenter="enter('-8052293516261748065');" onmouseout="out('-8052293516261748065');" style=""> 198 			if(!Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery)&gt;0){                                 </span>
<span class="8772628239303623293" onmouseenter="enter('8772628239303623293');" onmouseout="out('8772628239303623293');" style=""> 199 				return new JsonResult(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200 			}                                                                                                     </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 201 			interfaceService.insert(interFace);                                                                   </span>
<span class="6568602618187019485" onmouseenter="enter('6568602618187019485');" onmouseout="out('6568602618187019485');" style=""> 202 			id = interFace.getId();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203 		}                                                                                                      </span>
<span  style=""> 204                                                                                                          </span>
<span class="-8435530835866397772" onmouseenter="enter('-8435530835866397772');" onmouseout="out('-8435530835866397772');" style=""> 205         luceneService.update(InterfaceAdapter.getSearchDto(interfaceService.getById(id)));               </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 206         return new JsonResult(1, interFace);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207 	}                                                                                                       </span>
<span  style=""> 208                                                                                                          </span>
<span  style=""> 209                                                                                                          </span>
<span class="-6964648231366196325" onmouseenter="enter('-6964648231366196325');" onmouseout="out('-6964648231366196325');" style=""> 210 	@RequestMapping(&quot;/debug.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 211 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 212 	@AuthPassport                                                                                           </span>
<span class="-8209476752026465697" onmouseenter="enter('-8209476752026465697');" onmouseout="out('-8209476752026465697');" style=""> 213 	public JsonResult debug(@ModelAttribute InterfaceDto interFace) throws IOException, Exception {         </span>
<span class="-857909214726102048" onmouseenter="enter('-857909214726102048');" onmouseout="out('-857909214726102048');" style=""> 214 		Assert.notNull(interFace.getMethod(), &quot;请求方法不能为空&quot;);                                                     </span>
<span class="-5248537465732866548" onmouseenter="enter('-5248537465732866548');" onmouseout="out('-5248537465732866548');" style=""> 215 		Assert.notNull(interFace.getFullUrl(), &quot;地址不能为空&quot;);                                                      </span>
<span class="-6952800964811379899" onmouseenter="enter('-6952800964811379899');" onmouseout="out('-6952800964811379899');" style=""> 216         Assert.isTrue(interFace.getFullUrl().startsWith(&quot;http&quot;), &quot;地址必须以 http开头&quot;);                        </span>
<span  style=""> 217                                                                                                          </span>
<span class="-6374405635748053038" onmouseenter="enter('-6374405635748053038');" onmouseout="out('-6374405635748053038');" style=""> 218         String fullUrl = interFace.getFullUrl();                                                         </span>
<span  style=""> 219                                                                                                          </span>
<span class="-5425264664081477159" onmouseenter="enter('-5425264664081477159');" onmouseout="out('-5425264664081477159');" style=""><abbr title=" 220 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHeader(), ParamDto.class);"> 220 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHe🔵</abbr></span>
<span  style=""> 221                                                                                                          </span>
<span class="-358173397027013968" onmouseenter="enter('-358173397027013968');" onmouseout="out('-358173397027013968');" style=""> 222         Map&lt;String, String&gt; httpHeaders = new HashMap&lt;&gt;();                                               </span>
<span class="-144697395149533285" onmouseenter="enter('-144697395149533285');" onmouseout="out('-144697395149533285');" style=""> 223         for (ParamDto paramDto : headerList) {                                                           </span>
<span class="6677538940601376914" onmouseenter="enter('6677538940601376914');" onmouseout="out('6677538940601376914');" style=""> 224             httpHeaders.put(paramDto.getName(), paramDto.getDef());                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225         }                                                                                                </span>
<span class="-7197443773516450962" onmouseenter="enter('-7197443773516450962');" onmouseout="out('-7197443773516450962');" style=""> 226         // 如果自定义参数不为空，则表示需要使用post发送自定义包体                                                                 </span>
<span class="-6617072984433725815" onmouseenter="enter('-6617072984433725815');" onmouseout="out('-6617072984433725815');" style=""> 227         if (C_PARAM_RAW.equals(interFace.getParamType())) {                                              </span>
<span class="-7315409697012940159" onmouseenter="enter('-7315409697012940159');" onmouseout="out('-7315409697012940159');" style=""><abbr title=" 228             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(), httpHeaders)));"> 228             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229         }                                                                                                </span>
<span  style=""> 230                                                                                                          </span>
<span class="-5944068785760083864" onmouseenter="enter('-5944068785760083864');" onmouseout="out('-5944068785760083864');" style=""><abbr title=" 231         List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getParam(), ParamDto.class);"> 231         List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.g🔵</abbr></span>
<span  style=""> 232                                                                                                          </span>
<span  style=""> 233                                                                                                          </span>
<span class="6495342511049191823" onmouseenter="enter('6495342511049191823');" onmouseout="out('6495342511049191823');" style=""> 234         Map&lt;String, String&gt; httpParams = new HashMap&lt;&gt;();                                                </span>
<span class="-2939771329775203143" onmouseenter="enter('-2939771329775203143');" onmouseout="out('-2939771329775203143');" style=""> 235         for (ParamDto paramDto : paramList) {                                                            </span>
<span class="4885942122438216039" onmouseenter="enter('4885942122438216039');" onmouseout="out('4885942122438216039');" style=""> 236             if (fullUrl.contains(&quot;{&quot; + paramDto.getRealName() + &quot;}&quot;)) {                                  </span>
<span class="-5425547815249620490" onmouseenter="enter('-5425547815249620490');" onmouseout="out('-5425547815249620490');" style=""> 237                 fullUrl = fullUrl.replace(&quot;{&quot; + paramDto.getName() + &quot;}&quot;, paramDto.getDef());            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 238             } else {                                                                                     </span>
<span class="3853225928579086816" onmouseenter="enter('3853225928579086816');" onmouseout="out('3853225928579086816');" style=""> 239                 httpParams.put(paramDto.getName(), paramDto.getDef());                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 242         try {                                                                                            </span>
<span class="7698493343903286588" onmouseenter="enter('7698493343903286588');" onmouseout="out('7698493343903286588');" style=""> 243             switch (interFace.getMethod()) {                                                             </span>
<span class="7892944175315482245" onmouseenter="enter('7892944175315482245');" onmouseout="out('7892944175315482245');" style=""> 244                 case &quot;POST&quot;:                                                                             </span>
<span class="2157599781076166526" onmouseenter="enter('2157599781076166526');" onmouseout="out('2157599781076166526');" style=""><abbr title=" 245                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, httpHeaders)));"> 245                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpPa🔵</abbr></span>
<span class="4716385075727439579" onmouseenter="enter('4716385075727439579');" onmouseout="out('4716385075727439579');" style=""> 246                 case &quot;GET&quot;:                                                                              </span>
<span class="-665413068450082307" onmouseenter="enter('-665413068450082307');" onmouseout="out('-665413068450082307');" style=""><abbr title=" 247                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, httpHeaders)));"> 247                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpPar🔵</abbr></span>
<span class="-5729331644489035419" onmouseenter="enter('-5729331644489035419');" onmouseout="out('-5729331644489035419');" style=""> 248                 case &quot;PUT&quot;:                                                                              </span>
<span class="-3734030575894127039" onmouseenter="enter('-3734030575894127039');" onmouseout="out('-3734030575894127039');" style=""><abbr title=" 249                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, httpHeaders)));"> 249                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpPar🔵</abbr></span>
<span class="-1252674823953365764" onmouseenter="enter('-1252674823953365764');" onmouseout="out('-1252674823953365764');" style=""> 250                 case &quot;DELETE&quot;:                                                                           </span>
<span class="6419163237734326387" onmouseenter="enter('6419163237734326387');" onmouseout="out('6419163237734326387');" style=""><abbr title=" 251                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, httpHeaders)));"> 251                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, http🔵</abbr></span>
<span class="-3614836558630745606" onmouseenter="enter('-3614836558630745606');" onmouseout="out('-3614836558630745606');" style=""> 252                 case &quot;HEAD&quot;:                                                                             </span>
<span class="-8045729609655389523" onmouseenter="enter('-8045729609655389523');" onmouseout="out('-8045729609655389523');" style=""><abbr title=" 253                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, httpHeaders)));"> 253                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpPa🔵</abbr></span>
<span class="5118455566205188263" onmouseenter="enter('5118455566205188263');" onmouseout="out('5118455566205188263');" style=""> 254                 case &quot;OPTIONS&quot;:                                                                          </span>
<span class="3844041568119148194" onmouseenter="enter('3844041568119148194');" onmouseout="out('3844041568119148194');" style=""><abbr title=" 255                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, httpHeaders)));"> 255                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, htt🔵</abbr></span>
<span class="9107175809460343031" onmouseenter="enter('9107175809460343031');" onmouseout="out('9107175809460343031');" style=""> 256                 case &quot;TRACE&quot;:                                                                            </span>
<span class="-2956677331143050404" onmouseenter="enter('-2956677331143050404');" onmouseout="out('-2956677331143050404');" style=""><abbr title=" 257                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, httpHeaders)));"> 257                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpP🔵</abbr></span>
<span class="3332084310769245269" onmouseenter="enter('3332084310769245269');" onmouseout="out('3332084310769245269');" style=""> 258 				case &quot;PATCH&quot;:                                                                                        </span>
<span class="-1078405668674751253" onmouseenter="enter('-1078405668674751253');" onmouseout="out('-1078405668674751253');" style=""><abbr title=" 259 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHeaders)));"> 259 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHead🔵</abbr></span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 260                 default:                                                                                 </span>
<span class="6882017481289444776" onmouseenter="enter('6882017481289444776');" onmouseout="out('6882017481289444776');" style=""><abbr title=" 261                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMethod()));"> 261                     return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMetho🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262             }                                                                                            </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 263         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 264             e.printStackTrace();                                                                         </span>
<span class="-1799841489783118215" onmouseenter="enter('-1799841489783118215');" onmouseout="out('-1799841489783118215');" style=""> 265             return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;调试出错\r\nmessage:&quot; + e.getMessage()));  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266         }                                                                                                </span>
<span  style=""> 267                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268 	}                                                                                                       </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 269 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 270 ||||||| BASE                                                                                             </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271 @RequestMapping(&quot;/list.do&quot;)                                                                              </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273 	@AuthPassport                                                                                           </span>
<span class="406281474848555250" onmouseenter="enter('406281474848555250');" onmouseout="out('406281474848555250');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274 	public JsonResult list(@RequestParam String moduleId, String interfaceName, String url,                 </span>
<span class="6957141086400891835" onmouseenter="enter('6957141086400891835');" onmouseout="out('6957141086400891835');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275 			 Integer currentPage) throws MyException{                                                             </span>
<span class="-3788017470690474402" onmouseenter="enter('-3788017470690474402');" onmouseout="out('-3788017470690474402');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276 		Page page= new Page(currentPage);                                                                      </span>
<span class="-1257262529751619377" onmouseenter="enter('-1257262529751619377');" onmouseout="out('-1257262529751619377');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277 		checkUserPermissionByModuleId(moduleId, VIEW);                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278                                                                                                          </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279 		InterfaceCriteria example = new InterfaceCriteria();                                                   </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280 		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);           </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281 		if (!MyString.isEmpty(interfaceName)){                                                                 </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282 			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283 		}                                                                                                      </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284 		if (!MyString.isEmpty(url)){                                                                           </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285 			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287                                                                                                          </span>
<span class="-8743619996132367741" onmouseenter="enter('-8743619996132367741');" onmouseout="out('-8743619996132367741');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 288 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example), null);"> 288 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOB🔵</abbr></span>
<span class="7334426988050538035" onmouseenter="enter('7334426988050538035');" onmouseout="out('7334426988050538035');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289         page.setAllRow(mybatisInterfaceService.countByExample(example));                                 </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290 		JsonResult result = new JsonResult(1, interfaces, page);                                               </span>
<span class="-3039605850617260143" onmouseenter="enter('-3039605850617260143');" onmouseout="out('-3039605850617260143');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291 		result.putOthers(&quot;crumbs&quot;, Tools.getCrumbs(&quot;接口列表:&quot;+ moduleCache.get(moduleId).getName(),&quot;void&quot;))       </span>
<span class="-2242017820679200314" onmouseenter="enter('-2242017820679200314');" onmouseout="out('-2242017820679200314');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292 				.putOthers(&quot;module&quot;, moduleCache.get(moduleId));                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293                                                                                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294 		return result;                                                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296 	}                                                                                                       </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 297 =======                                                                                                  </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 298 @RequestMapping(&quot;/list.do&quot;)                                                                              </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 299 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 300 	@AuthPassport                                                                                           </span>
<span class="406281474848555250" onmouseenter="enter('406281474848555250');" onmouseout="out('406281474848555250');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 301 	public JsonResult list(@RequestParam String moduleId, String interfaceName, String url,                 </span>
<span class="6957141086400891835" onmouseenter="enter('6957141086400891835');" onmouseout="out('6957141086400891835');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 302 			 Integer currentPage) throws MyException{                                                             </span>
<span class="-3788017470690474402" onmouseenter="enter('-3788017470690474402');" onmouseout="out('-3788017470690474402');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 303 		Page page= new Page(currentPage);                                                                      </span>
<span class="-1257262529751619377" onmouseenter="enter('-1257262529751619377');" onmouseout="out('-1257262529751619377');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 304 		checkUserPermissionByModuleId(moduleId, VIEW);                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 305                                                                                                          </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 306 		InterfaceCriteria example = new InterfaceCriteria();                                                   </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 307 		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);           </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 308 		if (!MyString.isEmpty(interfaceName)){                                                                 </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 309 			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 310 		}                                                                                                      </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 311 		if (!MyString.isEmpty(url)){                                                                           </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 312 			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 313 		}                                                                                                      </span>
<span class="1112952252269419270" onmouseenter="enter('1112952252269419270');" onmouseout="out('1112952252269419270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 314 		example.setLimitStart(page.getStart());                                                                </span>
<span class="-4311839423825542362" onmouseenter="enter('-4311839423825542362');" onmouseout="out('-4311839423825542362');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 315 		example.setMaxResults(page.getSize());                                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 316                                                                                                          </span>
<span class="-8743619996132367741" onmouseenter="enter('-8743619996132367741');" onmouseout="out('-8743619996132367741');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 317 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example), null);"> 317 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOB🔵</abbr></span>
<span class="7334426988050538035" onmouseenter="enter('7334426988050538035');" onmouseout="out('7334426988050538035');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 318         page.setAllRow(mybatisInterfaceService.countByExample(example));                                 </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 319 		JsonResult result = new JsonResult(1, interfaces, page);                                               </span>
<span class="-3039605850617260143" onmouseenter="enter('-3039605850617260143');" onmouseout="out('-3039605850617260143');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 320 		result.putOthers(&quot;crumbs&quot;, Tools.getCrumbs(&quot;接口列表:&quot;+ moduleCache.get(moduleId).getName(),&quot;void&quot;))       </span>
<span class="-2242017820679200314" onmouseenter="enter('-2242017820679200314');" onmouseout="out('-2242017820679200314');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321 				.putOthers(&quot;module&quot;, moduleCache.get(moduleId));                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322                                                                                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323 		return result;                                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325 	}                                                                                                       </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 326 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 327                                                                                                          </span>
<span  style=""> 328                                                                                                          </span>
<span class="3908622465717054108" onmouseenter="enter('3908622465717054108');" onmouseout="out('3908622465717054108');" style=""> 329 	@RequestMapping(&quot;/delete.do&quot;)                                                                           </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 330 	@ResponseBody                                                                                           </span>
<span class="-5585810528016230380" onmouseenter="enter('-5585810528016230380');" onmouseout="out('-5585810528016230380');" style=""> 331 	public JsonResult delete(String id, String ids) throws MyException, IOException{                        </span>
<span class="5500260682396997685" onmouseenter="enter('5500260682396997685');" onmouseout="out('5500260682396997685');" style=""> 332 		if( MyString.isEmpty(id) &amp;&amp; MyString.isEmpty(ids)){                                                    </span>
<span class="5841283794467303202" onmouseenter="enter('5841283794467303202');" onmouseout="out('5841283794467303202');" style=""> 333 			throw new MyException(MyError.E000029);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334 		}                                                                                                      </span>
<span class="-8135195691626680328" onmouseenter="enter('-8135195691626680328');" onmouseout="out('-8135195691626680328');" style=""> 335 		if( MyString.isEmpty(ids) ){                                                                           </span>
<span class="3511947876673837079" onmouseenter="enter('3511947876673837079');" onmouseout="out('3511947876673837079');" style=""> 336 			ids = id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337 		}                                                                                                      </span>
<span  style=""> 338                                                                                                          </span>
<span class="-2656961914898447548" onmouseenter="enter('-2656961914898447548');" onmouseout="out('-2656961914898447548');" style=""> 339 		for(String tempId : ids.split(&quot;,&quot;)){                                                                   </span>
<span class="-3040966783477954494" onmouseenter="enter('-3040966783477954494');" onmouseout="out('-3040966783477954494');" style=""> 340 			if(MyString.isEmpty(tempId)){                                                                         </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 341 				continue;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342 			}                                                                                                     </span>
<span class="6005130977645696533" onmouseenter="enter('6005130977645696533');" onmouseout="out('6005130977645696533');" style=""> 343 			InterfaceWithBLOBs interFace = interfaceService.getById( tempId );                                    </span>
<span class="-2374229721201647812" onmouseenter="enter('-2374229721201647812');" onmouseout="out('-2374229721201647812');" style=""> 344 			checkPermission(interFace.getProjectId(), DEL_INTER);                                                 </span>
<span  style=""> 345                                                                                                          </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style=""> 346 			luceneService.delete(new SearchDto(interFace.getId()));                                               </span>
<span class="5403926906782818954" onmouseenter="enter('5403926906782818954');" onmouseout="out('5403926906782818954');" style=""> 347 			interfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348 		}                                                                                                      </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 349 		return new JsonResult(1, null);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350 	}                                                                                                       </span>
<span  style=""> 351                                                                                                          </span>
<span class="3383448423842759854" onmouseenter="enter('3383448423842759854');" onmouseout="out('3383448423842759854');" style=""> 352 	@RequestMapping(&quot;/changeSequence.do&quot;)                                                                   </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 353 	@ResponseBody                                                                                           </span>
<span class="-4262891591549373351" onmouseenter="enter('-4262891591549373351');" onmouseout="out('-4262891591549373351');" style=""><abbr title=" 354 	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyException {"> 354 	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyExcepti🔵</abbr></span>
<span class="-114025814901609390" onmouseenter="enter('-114025814901609390');" onmouseout="out('-114025814901609390');" style=""> 355 		InterfaceWithBLOBs change = interfaceService.getById(changeId);                                        </span>
<span class="1535172332471428490" onmouseenter="enter('1535172332471428490');" onmouseout="out('1535172332471428490');" style=""> 356 		InterfaceWithBLOBs model = interfaceService.getById(id);                                               </span>
<span class="-9056666078458333552" onmouseenter="enter('-9056666078458333552');" onmouseout="out('-9056666078458333552');" style=""> 357 		checkPermission(model.getProjectId(), MOD_INTER);                                                      </span>
<span class="2520631124281925400" onmouseenter="enter('2520631124281925400');" onmouseout="out('2520631124281925400');" style=""> 358 		checkPermission(change.getProjectId(), MOD_INTER);                                                     </span>
<span  style=""> 359                                                                                                          </span>
<span class="-6471227968333011823" onmouseenter="enter('-6471227968333011823');" onmouseout="out('-6471227968333011823');" style=""> 360 		int modelSequence = model.getSequence();                                                               </span>
<span  style=""> 361                                                                                                          </span>
<span class="-7348627876629533627" onmouseenter="enter('-7348627876629533627');" onmouseout="out('-7348627876629533627');" style=""> 362 		model.setSequence(change.getSequence());                                                               </span>
<span class="-8403247859037350919" onmouseenter="enter('-8403247859037350919');" onmouseout="out('-8403247859037350919');" style=""> 363 		change.setSequence(modelSequence);                                                                     </span>
<span  style=""> 364                                                                                                          </span>
<span class="1992515717850273638" onmouseenter="enter('1992515717850273638');" onmouseout="out('1992515717850273638');" style=""> 365 		interfaceService.update(model);                                                                        </span>
<span class="8445067308225092068" onmouseenter="enter('8445067308225092068');" onmouseout="out('8445067308225092068');" style=""> 366 		interfaceService.update(change);                                                                       </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 367 		return new JsonResult(1, null);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8453884345636310198" onmouseenter="enter('8453884345636310198');" onmouseout="out('8453884345636310198');" style="">   1 package cn.crap.controller.user;                                                                         </span>
<span  style="">   2                                                                                                          </span>
<span class="3872670124992133569" onmouseenter="enter('3872670124992133569');" onmouseout="out('3872670124992133569');" style="">   3 import cn.crap.adapter.InterfaceAdapter;                                                                 </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="">   4 import cn.crap.beans.Config;                                                                             </span>
<span class="6807184333094047547" onmouseenter="enter('6807184333094047547');" onmouseout="out('6807184333094047547');" style="">   5 import cn.crap.dto.InterfaceDto;                                                                         </span>
<span class="7929325164483847730" onmouseenter="enter('7929325164483847730');" onmouseout="out('7929325164483847730');" style="">   6 import cn.crap.dto.LoginInfoDto;                                                                         </span>
<span class="7576644326008164675" onmouseenter="enter('7576644326008164675');" onmouseout="out('7576644326008164675');" style="">   7 import cn.crap.dto.ParamDto;                                                                             </span>
<span class="1522833305812512221" onmouseenter="enter('1522833305812512221');" onmouseout="out('1522833305812512221');" style="">   8 import cn.crap.dto.SearchDto;                                                                            </span>
<span class="-1875408054571239611" onmouseenter="enter('-1875408054571239611');" onmouseout="out('-1875408054571239611');" style="">   9 import cn.crap.enu.InterfaceContentType;                                                                 </span>
<span class="7537949687285328270" onmouseenter="enter('7537949687285328270');" onmouseout="out('7537949687285328270');" style="">  10 import cn.crap.enu.InterfaceStatus;                                                                      </span>
<span class="3589208192092537681" onmouseenter="enter('3589208192092537681');" onmouseout="out('3589208192092537681');" style="">  11 import cn.crap.enu.MonitorType;                                                                          </span>
<span class="4068195648627809360" onmouseenter="enter('4068195648627809360');" onmouseout="out('4068195648627809360');" style="">  12 import cn.crap.enu.MyError;                                                                              </span>
<span class="-7847071603028321447" onmouseenter="enter('-7847071603028321447');" onmouseout="out('-7847071603028321447');" style="">  13 import cn.crap.framework.JsonResult;                                                                     </span>
<span class="-7574536783671103865" onmouseenter="enter('-7574536783671103865');" onmouseout="out('-7574536783671103865');" style="">  14 import cn.crap.framework.MyException;                                                                    </span>
<span class="-4522781807489195049" onmouseenter="enter('-4522781807489195049');" onmouseout="out('-4522781807489195049');" style="">  15 import cn.crap.framework.base.BaseController;                                                            </span>
<span class="4903612087055488212" onmouseenter="enter('4903612087055488212');" onmouseout="out('4903612087055488212');" style="">  16 import cn.crap.framework.interceptor.AuthPassport;                                                       </span>
<span class="8147845229390238491" onmouseenter="enter('8147845229390238491');" onmouseout="out('8147845229390238491');" style="">  17 import cn.crap.model.Error;                                                                              </span>
<span class="6961814849649346163" onmouseenter="enter('6961814849649346163');" onmouseout="out('6961814849649346163');" style="">  18 import cn.crap.model.InterfaceWithBLOBs;                                                                 </span>
<span class="-3829059158540726081" onmouseenter="enter('-3829059158540726081');" onmouseout="out('-3829059158540726081');" style="">  19 import cn.crap.model.Module;                                                                             </span>
<span class="-2569611458616973012" onmouseenter="enter('-2569611458616973012');" onmouseout="out('-2569611458616973012');" style="">  20 import cn.crap.model.Project;                                                                            </span>
<span class="24505043057363846" onmouseenter="enter('24505043057363846');" onmouseout="out('24505043057363846');" style="">  21 import cn.crap.query.ErrorQuery;                                                                         </span>
<span class="5577390926415763020" onmouseenter="enter('5577390926415763020');" onmouseout="out('5577390926415763020');" style="">  22 import cn.crap.query.InterfaceQuery;                                                                     </span>
<span class="-5580999983088044782" onmouseenter="enter('-5580999983088044782');" onmouseout="out('-5580999983088044782');" style="">  23 import cn.crap.service.ErrorService;                                                                     </span>
<span class="2810978048240697020" onmouseenter="enter('2810978048240697020');" onmouseout="out('2810978048240697020');" style="">  24 import cn.crap.service.ISearchService;                                                                   </span>
<span class="-256793303282880299" onmouseenter="enter('-256793303282880299');" onmouseout="out('-256793303282880299');" style="">  25 import cn.crap.service.InterfaceService;                                                                 </span>
<span class="3571843901690526929" onmouseenter="enter('3571843901690526929');" onmouseout="out('3571843901690526929');" style="">  26 import cn.crap.utils.*;                                                                                  </span>
<span class="-3919641806686363409" onmouseenter="enter('-3919641806686363409');" onmouseout="out('-3919641806686363409');" style="">  27 import com.alibaba.fastjson.JSONArray;                                                                   </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  28 import java.io.IOException;                                                                              </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  29 import java.util.HashMap;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  30 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  31 import java.util.Map;                                                                                    </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  32 import org.springframework.beans.factory.annotation.Autowired;                                           </span>
<span class="4128309806836178094" onmouseenter="enter('4128309806836178094');" onmouseout="out('4128309806836178094');" style="">  33 import org.springframework.stereotype.Controller;                                                        </span>
<span class="7608804911988512946" onmouseenter="enter('7608804911988512946');" onmouseout="out('7608804911988512946');" style="">  34 import org.springframework.util.Assert;                                                                  </span>
<span class="2718246165073723950" onmouseenter="enter('2718246165073723950');" onmouseout="out('2718246165073723950');" style="">  35 import org.springframework.web.bind.annotation.ModelAttribute;                                           </span>
<span class="-7989471178862524182" onmouseenter="enter('-7989471178862524182');" onmouseout="out('-7989471178862524182');" style="">  36 import org.springframework.web.bind.annotation.RequestMapping;                                           </span>
<span class="-8913037601281016619" onmouseenter="enter('-8913037601281016619');" onmouseout="out('-8913037601281016619');" style="">  37 import org.springframework.web.bind.annotation.RequestParam;                                             </span>
<span class="-7662224364501075428" onmouseenter="enter('-7662224364501075428');" onmouseout="out('-7662224364501075428');" style="">  38 import org.springframework.web.bind.annotation.ResponseBody;                                             </span>
<span  style="">  39                                                                                                          </span>
<span  style="">  40                                                                                                          </span>
<span class="4777805177773543995" onmouseenter="enter('4777805177773543995');" onmouseout="out('4777805177773543995');" style="">  41 @Controller                                                                                              </span>
<span class="-1946225143665328935" onmouseenter="enter('-1946225143665328935');" onmouseout="out('-1946225143665328935');" style="">  42 @RequestMapping(&quot;/user/interface&quot;)                                                                       </span>
<span class="-5803183987450937954" onmouseenter="enter('-5803183987450937954');" onmouseout="out('-5803183987450937954');" style="">  43 public class InterfaceController extends BaseController {                                                </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  44 	@Autowired                                                                                              </span>
<span class="5676854317382137038" onmouseenter="enter('5676854317382137038');" onmouseout="out('5676854317382137038');" style="">  45 	private InterfaceService interfaceService;                                                              </span>
<span  style="">  46                                                                                                          </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  47 	@Autowired                                                                                              </span>
<span class="-925519006397285322" onmouseenter="enter('-925519006397285322');" onmouseout="out('-925519006397285322');" style="">  48 	private ISearchService luceneService;                                                                   </span>
<span  style="">  49                                                                                                          </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  50 	@Autowired                                                                                              </span>
<span class="-3968544807213930836" onmouseenter="enter('-3968544807213930836');" onmouseout="out('-3968544807213930836');" style="">  51 	private ErrorService errorService;                                                                      </span>
<span  style="">  52                                                                                                          </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="">  53 	@RequestMapping(&quot;/list.do&quot;)                                                                             </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  54 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="">  55 	@AuthPassport                                                                                           </span>
<span class="-924293483914351833" onmouseenter="enter('-924293483914351833');" onmouseout="out('-924293483914351833');" style="">  56 	public JsonResult list(@ModelAttribute                                                                  </span>
<span class="-6784596410836208308" onmouseenter="enter('-6784596410836208308');" onmouseout="out('-6784596410836208308');" style="">  57 	InterfaceQuery query, String url) throws MyException {                                                  </span>
<span class="5524533179462183259" onmouseenter="enter('5524533179462183259');" onmouseout="out('5524533179462183259');" style="">  58 	       Module module = getModule(query);                                                                </span>
<span class="1109214781424356184" onmouseenter="enter('1109214781424356184');" onmouseout="out('1109214781424356184');" style="">  59 	       Project project = getProject(query);                                                             </span>
<span class="-1137060650182227256" onmouseenter="enter('-1137060650182227256');" onmouseout="out('-1137060650182227256');" style="">  60 	       checkPermission(project, READ);                                                                  </span>
<span  style="">  61                                                                                                          </span>
<span  style="">  62                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">  63 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-7191320329016185556" onmouseenter="enter('-7191320329016185556');" onmouseout="out('-7191320329016185556');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  64 	       InterfaceQuery interfaceQuery = query.setFullUrl(url);                                           </span>
<span class="-5279124502853396526" onmouseenter="enter('-5279124502853396526');" onmouseout="out('-5279124502853396526');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  65 		Page page= new Page(interfaceQuery);                                                                   </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  66                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  67 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  68 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">  68 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  69 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70                                                                                                          </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71 		InterfaceCriteria example = new InterfaceCriteria();                                                   </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72 		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);           </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73 		if (!MyString.isEmpty(interfaceName)){                                                                 </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74 			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75 		}                                                                                                      </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76 		if (!MyString.isEmpty(url)){                                                                           </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77 			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78 		}                                                                                                      </span>
<span class="1112952252269419270" onmouseenter="enter('1112952252269419270');" onmouseout="out('1112952252269419270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79 		example.setLimitStart(page.getStart());                                                                </span>
<span class="-4311839423825542362" onmouseenter="enter('-4311839423825542362');" onmouseout="out('-4311839423825542362');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80 		example.setMaxResults(page.getSize());                                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style="">  82 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style="">  83                                                                                                          </span>
<span class="-8091314608405686849" onmouseenter="enter('-8091314608405686849');" onmouseout="out('-8091314608405686849');" style=""><abbr title="  84 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module, project);">  84 		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module,🔵</abbr></span>
<span class="-3280997506223267100" onmouseenter="enter('-3280997506223267100');" onmouseout="out('-3280997506223267100');" style="">  85 		page.setAllRow(interfaceService.count(interfaceQuery));                                                </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="">  86 		JsonResult result = new JsonResult(1, interfaces, page);                                               </span>
<span class="-9087557087086822651" onmouseenter="enter('-9087557087086822651');" onmouseout="out('-9087557087086822651');" style="">  87 		result.putOthers(&quot;module&quot;, module);                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="">  89 		return result;                                                                                         </span>
<span  style="">  90                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91 	}                                                                                                       </span>
<span  style="">  92                                                                                                          </span>
<span class="-557002042091694149" onmouseenter="enter('-557002042091694149');" onmouseout="out('-557002042091694149');" style="">  93 	@RequestMapping(&quot;/detail.do&quot;)                                                                           </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  94 	@ResponseBody                                                                                           </span>
<span class="5290464852810964839" onmouseenter="enter('5290464852810964839');" onmouseout="out('5290464852810964839');" style="">  95 	public JsonResult detail(String id, String moduleId, String projectId) throws MyException {             </span>
<span class="-5013732608106508542" onmouseenter="enter('-5013732608106508542');" onmouseout="out('-5013732608106508542');" style="">  96 		InterfaceWithBLOBs model;                                                                              </span>
<span class="2610682483254535033" onmouseenter="enter('2610682483254535033');" onmouseout="out('2610682483254535033');" style="">  97 		Module module;                                                                                         </span>
<span class="-168595834781466469" onmouseenter="enter('-168595834781466469');" onmouseout="out('-168595834781466469');" style="">  98 		if (id != null) {                                                                                      </span>
<span class="7470666660414541298" onmouseenter="enter('7470666660414541298');" onmouseout="out('7470666660414541298');" style="">  99 			model = interfaceService.getById(id);                                                                 </span>
<span class="1040064000347861178" onmouseenter="enter('1040064000347861178');" onmouseout="out('1040064000347861178');" style=""> 100 			module = moduleCache.get(model.getModuleId());                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 101 		} else {                                                                                               </span>
<span class="-7029962562203235323" onmouseenter="enter('-7029962562203235323');" onmouseout="out('-7029962562203235323');" style=""> 102 			model = new InterfaceWithBLOBs();                                                                     </span>
<span class="-2587857982027861322" onmouseenter="enter('-2587857982027861322');" onmouseout="out('-2587857982027861322');" style=""> 103 			module = moduleCache.get(moduleId);                                                                   </span>
<span class="2198248050508074195" onmouseenter="enter('2198248050508074195');" onmouseout="out('2198248050508074195');" style=""> 104 			model.setModuleId(moduleId);                                                                          </span>
<span class="1766527927860713999" onmouseenter="enter('1766527927860713999');" onmouseout="out('1766527927860713999');" style=""> 105 			model.setProjectId(module.getProjectId() == null ? projectId : module.getProjectId());                </span>
<span class="-646854625022819456" onmouseenter="enter('-646854625022819456');" onmouseout="out('-646854625022819456');" style=""> 106 			model.setResponseParam(&quot;[]&quot;);                                                                         </span>
<span class="-7417036509485016685" onmouseenter="enter('-7417036509485016685');" onmouseout="out('-7417036509485016685');" style=""> 107 			model.setHeader(&quot;[]&quot;);                                                                                </span>
<span class="2272429349124999400" onmouseenter="enter('2272429349124999400');" onmouseout="out('2272429349124999400');" style=""> 108 			model.setParamRemark(&quot;[]&quot;);                                                                           </span>
<span class="5629681036155585428" onmouseenter="enter('5629681036155585428');" onmouseout="out('5629681036155585428');" style=""> 109 			model.setErrors(&quot;[]&quot;);                                                                                </span>
<span class="5346704725079118574" onmouseenter="enter('5346704725079118574');" onmouseout="out('5346704725079118574');" style=""> 110 			model.setMethod(IConst.C_METHOD_GET);                                                                 </span>
<span class="7556183691054851898" onmouseenter="enter('7556183691054851898');" onmouseout="out('7556183691054851898');" style=""> 111 			model.setStatus(InterfaceStatus.ONLINE.getByteValue());                                               </span>
<span class="5499796354931457666" onmouseenter="enter('5499796354931457666');" onmouseout="out('5499796354931457666');" style=""> 112 			model.setContentType(InterfaceContentType.JSON.getType());                                            </span>
<span class="-7842162056922652960" onmouseenter="enter('-7842162056922652960');" onmouseout="out('-7842162056922652960');" style=""> 113 			model.setParam(IConst.C_PARAM_FORM_PRE + &quot;[]&quot;);                                                       </span>
<span class="3773924671439589779" onmouseenter="enter('3773924671439589779');" onmouseout="out('3773924671439589779');" style=""> 114 			if (!MyString.isEmpty(module.getTemplateId())) {                                                      </span>
<span class="-4020697440483671496" onmouseenter="enter('-4020697440483671496');" onmouseout="out('-4020697440483671496');" style=""> 115 				InterfaceWithBLOBs template = interfaceService.getById(module.getTemplateId());                      </span>
<span class="5678506116785444717" onmouseenter="enter('5678506116785444717');" onmouseout="out('5678506116785444717');" style=""> 116 				// 根据模板初始化接口                                                                                         </span>
<span class="7740475940313126071" onmouseenter="enter('7740475940313126071');" onmouseout="out('7740475940313126071');" style=""> 117 				if (template != null) {                                                                              </span>
<span class="5089751341604219548" onmouseenter="enter('5089751341604219548');" onmouseout="out('5089751341604219548');" style=""> 118 					model.setHeader(template.getHeader());                                                              </span>
<span class="-7527905069934626121" onmouseenter="enter('-7527905069934626121');" onmouseout="out('-7527905069934626121');" style=""> 119 					model.setParam(template.getParam());                                                                </span>
<span class="-7059470924530166388" onmouseenter="enter('-7059470924530166388');" onmouseout="out('-7059470924530166388');" style=""> 120 					model.setMethod(template.getMethod());                                                              </span>
<span class="5940911261599321088" onmouseenter="enter('5940911261599321088');" onmouseout="out('5940911261599321088');" style=""> 121 					model.setVersion(template.getVersion());                                                            </span>
<span class="-3448468761886356175" onmouseenter="enter('-3448468761886356175');" onmouseout="out('-3448468761886356175');" style=""> 122 					model.setParamRemark(template.getParamRemark());                                                    </span>
<span class="1622152235047204734" onmouseenter="enter('1622152235047204734');" onmouseout="out('1622152235047204734');" style=""> 123 					model.setResponseParam(template.getResponseParam());                                                </span>
<span class="-6414379266760239220" onmouseenter="enter('-6414379266760239220');" onmouseout="out('-6414379266760239220');" style=""> 124 					model.setErrorList(template.getErrorList());                                                        </span>
<span class="-379237002060688021" onmouseenter="enter('-379237002060688021');" onmouseout="out('-379237002060688021');" style=""> 125 					model.setErrors(template.getErrors());                                                              </span>
<span class="2306293464665606986" onmouseenter="enter('2306293464665606986');" onmouseout="out('2306293464665606986');" style=""> 126 					model.setFalseExam(template.getFalseExam());                                                        </span>
<span class="5307078882417853010" onmouseenter="enter('5307078882417853010');" onmouseout="out('5307078882417853010');" style=""> 127 					model.setTrueExam(template.getTrueExam());                                                          </span>
<span class="-994236842464253118" onmouseenter="enter('-994236842464253118');" onmouseout="out('-994236842464253118');" style=""> 128 					model.setStatus(template.getStatus());                                                              </span>
<span class="-2721857626840181883" onmouseenter="enter('-2721857626840181883');" onmouseout="out('-2721857626840181883');" style=""> 129 					model.setContentType(template.getContentType());                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130 				}                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132 		}                                                                                                      </span>
<span class="-1189875346814839096" onmouseenter="enter('-1189875346814839096');" onmouseout="out('-1189875346814839096');" style=""> 133 		checkPermission(model.getProjectId(), READ);                                                           </span>
<span class="-6563016959985097734" onmouseenter="enter('-6563016959985097734');" onmouseout="out('-6563016959985097734');" style=""> 134 		return new JsonResult(1, InterfaceAdapter.getDtoWithBLOBs(model, module, null, false));                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135 	}                                                                                                       </span>
<span  style=""> 136                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 137 	/**                                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 138 	 *                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 139 	 *                                                                                                      </span>
<span class="-4379264201720330868" onmouseenter="enter('-4379264201720330868');" onmouseout="out('-4379264201720330868');" style=""> 140 	 * @param interFace                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 141 	 *                                                                                                      </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 142 	 * @return                                                                                              </span>
<span class="-2042953791166134795" onmouseenter="enter('-2042953791166134795');" onmouseout="out('-2042953791166134795');" style=""> 143 	 * @throws IOException                                                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 144 	 *                                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145 	 */                                                                                                     </span>
<span class="3944392597235221522" onmouseenter="enter('3944392597235221522');" onmouseout="out('3944392597235221522');" style=""> 146 	@RequestMapping(&quot;/copy.do&quot;)                                                                             </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 147 	@ResponseBody                                                                                           </span>
<span class="236448088017597436" onmouseenter="enter('236448088017597436');" onmouseout="out('236448088017597436');" style=""> 148 	public JsonResult copy(@RequestParam                                                                    </span>
<span class="5200632985734270596" onmouseenter="enter('5200632985734270596');" onmouseout="out('5200632985734270596');" style=""> 149 	String id, String interfaceName, String url, String moduleId) throws MyException, IOException {         </span>
<span class="3934678378551446762" onmouseenter="enter('3934678378551446762');" onmouseout="out('3934678378551446762');" style=""> 150 		InterfaceWithBLOBs interFace = interfaceService.getById(id);                                           </span>
<span class="5778507494634830117" onmouseenter="enter('5778507494634830117');" onmouseout="out('5778507494634830117');" style=""> 151 		// 判断是否拥有原来项目的权限                                                                                       </span>
<span class="962943237176822878" onmouseenter="enter('962943237176822878');" onmouseout="out('962943237176822878');" style=""> 152 		checkPermission(interFace.getProjectId(), READ);                                                       </span>
<span class="2572240230111123057" onmouseenter="enter('2572240230111123057');" onmouseout="out('2572240230111123057');" style=""> 153 		Project project = getProject(interFace.getProjectId(), moduleId);                                      </span>
<span class="3442007748957955908" onmouseenter="enter('3442007748957955908');" onmouseout="out('3442007748957955908');" style=""> 154 		Module module = moduleCache.get(moduleId);                                                             </span>
<span class="1334308259496682157" onmouseenter="enter('1334308259496682157');" onmouseout="out('1334308259496682157');" style=""> 155 		// 检查新项目的权限                                                                                            </span>
<span class="-741693448261288691" onmouseenter="enter('-741693448261288691');" onmouseout="out('-741693448261288691');" style=""> 156 		checkPermission(project, ADD_INTER);                                                                   </span>
<span class="-6006174561522478854" onmouseenter="enter('-6006174561522478854');" onmouseout="out('-6006174561522478854');" style=""> 157 		if (!Config.canRepeatUrl) {                                                                            </span>
<span class="2933438384767285545" onmouseenter="enter('2933438384767285545');" onmouseout="out('2933438384767285545');" style=""><abbr title=" 158 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() + interFace.getUrl())) &gt; 0) {"> 158 			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() 🔵</abbr></span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 159 				throw new MyException(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161 		}                                                                                                      </span>
<span class="-4927829934273936544" onmouseenter="enter('-4927829934273936544');" onmouseout="out('-4927829934273936544');" style=""> 162 		interFace.setId(null);                                                                                 </span>
<span class="4295450166033773932" onmouseenter="enter('4295450166033773932');" onmouseout="out('4295450166033773932');" style=""> 163 		interFace.setUrl(url);                                                                                 </span>
<span class="2993932738191275931" onmouseenter="enter('2993932738191275931');" onmouseout="out('2993932738191275931');" style=""> 164 		interFace.setFullUrl((module.getUrl() == null ? &quot;&quot; : module.getUrl()) + url);                          </span>
<span class="-7123918959665289303" onmouseenter="enter('-7123918959665289303');" onmouseout="out('-7123918959665289303');" style=""> 165 		interFace.setInterfaceName(interfaceName);                                                             </span>
<span class="3798115092898655491" onmouseenter="enter('3798115092898655491');" onmouseout="out('3798115092898655491');" style=""> 166 		interFace.setModuleId(moduleId);                                                                       </span>
<span class="-5570231032452560814" onmouseenter="enter('-5570231032452560814');" onmouseout="out('-5570231032452560814');" style=""> 167 		interFace.setProjectId(project.getId());                                                               </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 168 		interfaceService.insert(interFace);                                                                    </span>
<span class="-8728764175324637686" onmouseenter="enter('-8728764175324637686');" onmouseout="out('-8728764175324637686');" style=""> 169 		interFace.setId(interFace.getId());                                                                    </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 170 		luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                           </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 171 		return new JsonResult(1, interFace);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172 	}                                                                                                       </span>
<span  style=""> 173                                                                                                          </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style=""> 174 	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 175 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 176 	@AuthPassport                                                                                           </span>
<span class="4070281136153192463" onmouseenter="enter('4070281136153192463');" onmouseout="out('4070281136153192463');" style=""> 177 	public JsonResult addOrUpdate(@ModelAttribute                                                           </span>
<span class="7662356588518157487" onmouseenter="enter('7662356588518157487');" onmouseout="out('7662356588518157487');" style=""> 178 	InterfaceDto dto, String modifyRemark) throws IOException, MyException {                                </span>
<span class="-3500327742939940407" onmouseenter="enter('-3500327742939940407');" onmouseout="out('-3500327742939940407');" style=""> 179 		Assert.notNull(dto.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                         </span>
<span class="-3686250460961182714" onmouseenter="enter('-3686250460961182714');" onmouseout="out('-3686250460961182714');" style=""> 180 		Assert.notNull(dto.getUrl(), &quot;url can&#x27;t be null&quot;);                                                     </span>
<span class="4333020959192383715" onmouseenter="enter('4333020959192383715');" onmouseout="out('4333020959192383715');" style=""> 181 		String id = dto.getId();                                                                               </span>
<span class="3835886801284251087" onmouseenter="enter('3835886801284251087');" onmouseout="out('3835886801284251087');" style=""> 182 		Module module = moduleCache.get(dto.getModuleId());                                                    </span>
<span class="-6580321634713632415" onmouseenter="enter('-6580321634713632415');" onmouseout="out('-6580321634713632415');" style=""> 183 		String newProjectId = getProjectId(dto.getProjectId(), dto.getModuleId());                             </span>
<span class="-3781223136710888845" onmouseenter="enter('-3781223136710888845');" onmouseout="out('-3781223136710888845');" style=""> 184 		dto.setProjectId(newProjectId);                                                                        </span>
<span class="-4968471341233894350" onmouseenter="enter('-4968471341233894350');" onmouseout="out('-4968471341233894350');" style=""> 185 		dto.setUrl(dto.getUrl().trim());                                                                       </span>
<span class="-7463501822402269713" onmouseenter="enter('-7463501822402269713');" onmouseout="out('-7463501822402269713');" style=""> 186 		dto.setFullUrl(module.getUrl() + dto.getUrl());                                                        </span>
<span class="-1439778034999622886" onmouseenter="enter('-1439778034999622886');" onmouseout="out('-1439778034999622886');" style=""> 187 		if (C_PARAM_FORM.equals(dto.getParamType())) {                                                         </span>
<span class="5328201193467369142" onmouseenter="enter('5328201193467369142');" onmouseout="out('5328201193467369142');" style=""> 188 			dto.setParam(C_PARAM_FORM_PRE + dto.getParam());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189 		}                                                                                                      </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 190 		/**                                                                                                    </span>
<span class="7045250225799015466" onmouseenter="enter('7045250225799015466');" onmouseout="out('7045250225799015466');" style=""> 191 		 * 根据选着的错误码id，组装json字符串                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 192 		 */                                                                                                    </span>
<span class="1252267335350984887" onmouseenter="enter('1252267335350984887');" onmouseout="out('1252267335350984887');" style=""><abbr title=" 193 		ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(dto.getErrorList())).setPageSize(100);"> 193 		ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(d🔵</abbr></span>
<span class="6721326658202550169" onmouseenter="enter('6721326658202550169');" onmouseout="out('6721326658202550169');" style=""> 194 		List&lt;Error&gt; errors = errorService.query(query);                                                        </span>
<span class="-2878214233682854280" onmouseenter="enter('-2878214233682854280');" onmouseout="out('-2878214233682854280');" style=""> 195 		dto.setErrors(JSONArray.toJSONString(errors));                                                         </span>
<span class="1766529869277441370" onmouseenter="enter('1766529869277441370');" onmouseout="out('1766529869277441370');" style=""> 196 		LoginInfoDto user = LoginUserHelper.getUser();                                                         </span>
<span class="-8270513758047397274" onmouseenter="enter('-8270513758047397274');" onmouseout="out('-8270513758047397274');" style=""> 197 		dto.setUpdateBy(((&quot;userName：&quot; + user.getUserName()) + &quot; | trueName：&quot;) + user.getTrueName());           </span>
<span class="4831447535634441964" onmouseenter="enter('4831447535634441964');" onmouseout="out('4831447535634441964');" style=""> 198 		dto.setMonitorType(MonitorType.No.getValue());                                                         </span>
<span class="4973707410508928935" onmouseenter="enter('4973707410508928935');" onmouseout="out('4973707410508928935');" style=""> 199 		InterfaceWithBLOBs interFace = InterfaceAdapter.getModel(dto);                                         </span>
<span class="-168595834781466469" onmouseenter="enter('-168595834781466469');" onmouseout="out('-168595834781466469');" style=""> 200 		if (id != null) {                                                                                      </span>
<span class="-2095657132029350572" onmouseenter="enter('-2095657132029350572');" onmouseout="out('-2095657132029350572');" style=""> 201 			String oldProjectId = interfaceService.getById(interFace.getId()).getProjectId();                     </span>
<span class="7913111081342953879" onmouseenter="enter('7913111081342953879');" onmouseout="out('7913111081342953879');" style=""> 202 			// 判断是否有修改模块的权限                                                                                       </span>
<span class="7877480553019103118" onmouseenter="enter('7877480553019103118');" onmouseout="out('7877480553019103118');" style=""> 203 			checkPermission(oldProjectId, READ);                                                                  </span>
<span class="-841225222761265417" onmouseenter="enter('-841225222761265417');" onmouseout="out('-841225222761265417');" style=""> 204 			checkPermission(newProjectId, MOD_INTER);                                                             </span>
<span class="-2337234168619506843" onmouseenter="enter('-2337234168619506843');" onmouseout="out('-2337234168619506843');" style=""> 205 			//同一模块下不允许 url 重复                                                                                     </span>
<span class="4583694866099931844" onmouseenter="enter('4583694866099931844');" onmouseout="out('4583694866099931844');" style=""><abbr title=" 206 			InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl()).setExceptId(interFace.getId());"> 206 			InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.g🔵</abbr></span>
<span class="-7278194403431536229" onmouseenter="enter('-7278194403431536229');" onmouseout="out('-7278194403431536229');" style=""> 207 			if ((!Config.canRepeatUrl) &amp;&amp; (interfaceService.count(interfaceQuery) &gt; 0)) {                         </span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 208 				throw new MyException(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209 			}                                                                                                     </span>
<span class="-5397395633479684746" onmouseenter="enter('-5397395633479684746');" onmouseout="out('-5397395633479684746');" style=""> 210 			interfaceService.update(interFace, &quot;接口&quot;, modifyRemark);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 211 		} else {                                                                                               </span>
<span class="-4544441711958312547" onmouseenter="enter('-4544441711958312547');" onmouseout="out('-4544441711958312547');" style=""> 212 			checkPermission(interFace.getProjectId(), ADD_INTER);                                                 </span>
<span class="6993090260120932776" onmouseenter="enter('6993090260120932776');" onmouseout="out('6993090260120932776');" style=""><abbr title=" 213 			InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl());"> 213 			InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.g🔵</abbr></span>
<span class="-7278194403431536229" onmouseenter="enter('-7278194403431536229');" onmouseout="out('-7278194403431536229');" style=""> 214 			if ((!Config.canRepeatUrl) &amp;&amp; (interfaceService.count(interfaceQuery) &gt; 0)) {                         </span>
<span class="8772628239303623293" onmouseenter="enter('8772628239303623293');" onmouseout="out('8772628239303623293');" style=""> 215 				return new JsonResult(MyError.E000004);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216 			}                                                                                                     </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style=""> 217 			interfaceService.insert(interFace);                                                                   </span>
<span class="6568602618187019485" onmouseenter="enter('6568602618187019485');" onmouseout="out('6568602618187019485');" style=""> 218 			id = interFace.getId();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219 		}                                                                                                      </span>
<span class="-8435530835866397772" onmouseenter="enter('-8435530835866397772');" onmouseout="out('-8435530835866397772');" style=""> 220 		luceneService.update(InterfaceAdapter.getSearchDto(interfaceService.getById(id)));                     </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 221 		return new JsonResult(1, interFace);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222 	}                                                                                                       </span>
<span  style=""> 223                                                                                                          </span>
<span class="-6964648231366196325" onmouseenter="enter('-6964648231366196325');" onmouseout="out('-6964648231366196325');" style=""> 224 	@RequestMapping(&quot;/debug.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 225 	@ResponseBody                                                                                           </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 226 	@AuthPassport                                                                                           </span>
<span class="5541045803326583446" onmouseenter="enter('5541045803326583446');" onmouseout="out('5541045803326583446');" style=""> 227 	public JsonResult debug(@ModelAttribute                                                                 </span>
<span class="4021815430556038328" onmouseenter="enter('4021815430556038328');" onmouseout="out('4021815430556038328');" style=""> 228 	InterfaceDto interFace) throws IOException, Exception {                                                 </span>
<span class="-857909214726102048" onmouseenter="enter('-857909214726102048');" onmouseout="out('-857909214726102048');" style=""> 229 		Assert.notNull(interFace.getMethod(), &quot;请求方法不能为空&quot;);                                                     </span>
<span class="-5248537465732866548" onmouseenter="enter('-5248537465732866548');" onmouseout="out('-5248537465732866548');" style=""> 230 		Assert.notNull(interFace.getFullUrl(), &quot;地址不能为空&quot;);                                                      </span>
<span class="-6952800964811379899" onmouseenter="enter('-6952800964811379899');" onmouseout="out('-6952800964811379899');" style=""> 231 		Assert.isTrue(interFace.getFullUrl().startsWith(&quot;http&quot;), &quot;地址必须以 http开头&quot;);                              </span>
<span class="-6374405635748053038" onmouseenter="enter('-6374405635748053038');" onmouseout="out('-6374405635748053038');" style=""> 232 		String fullUrl = interFace.getFullUrl();                                                               </span>
<span class="-5425264664081477159" onmouseenter="enter('-5425264664081477159');" onmouseout="out('-5425264664081477159');" style=""><abbr title=" 233 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHeader(), ParamDto.class);"> 233 		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHe🔵</abbr></span>
<span class="-358173397027013968" onmouseenter="enter('-358173397027013968');" onmouseout="out('-358173397027013968');" style=""> 234 		Map&lt;String, String&gt; httpHeaders = new HashMap&lt;&gt;();                                                     </span>
<span class="-144697395149533285" onmouseenter="enter('-144697395149533285');" onmouseout="out('-144697395149533285');" style=""> 235 		for (ParamDto paramDto : headerList) {                                                                 </span>
<span class="6677538940601376914" onmouseenter="enter('6677538940601376914');" onmouseout="out('6677538940601376914');" style=""> 236 			httpHeaders.put(paramDto.getName(), paramDto.getDef());                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237 		}                                                                                                      </span>
<span class="-7197443773516450962" onmouseenter="enter('-7197443773516450962');" onmouseout="out('-7197443773516450962');" style=""> 238 								// 如果自定义参数不为空，则表示需要使用post发送自定义包体                                                                 </span>
<span class="-6617072984433725815" onmouseenter="enter('-6617072984433725815');" onmouseout="out('-6617072984433725815');" style=""> 239 		if (C_PARAM_RAW.equals(interFace.getParamType())) {                                                    </span>
<span class="-7315409697012940159" onmouseenter="enter('-7315409697012940159');" onmouseout="out('-7315409697012940159');" style=""><abbr title=" 240 			return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(), httpHeaders)));"> 240 			return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241 		}                                                                                                      </span>
<span class="-5944068785760083864" onmouseenter="enter('-5944068785760083864');" onmouseout="out('-5944068785760083864');" style=""><abbr title=" 242 		List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getParam(), ParamDto.class);"> 242 		List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getPara🔵</abbr></span>
<span class="6495342511049191823" onmouseenter="enter('6495342511049191823');" onmouseout="out('6495342511049191823');" style=""> 243 		Map&lt;String, String&gt; httpParams = new HashMap&lt;&gt;();                                                      </span>
<span class="-2939771329775203143" onmouseenter="enter('-2939771329775203143');" onmouseout="out('-2939771329775203143');" style=""> 244 		for (ParamDto paramDto : paramList) {                                                                  </span>
<span class="84112278751313107" onmouseenter="enter('84112278751313107');" onmouseout="out('84112278751313107');" style=""> 245 			if (fullUrl.contains((&quot;{&quot; + paramDto.getRealName()) + &quot;}&quot;)) {                                         </span>
<span class="2364395119117879951" onmouseenter="enter('2364395119117879951');" onmouseout="out('2364395119117879951');" style=""> 246 				fullUrl = fullUrl.replace((&quot;{&quot; + paramDto.getName()) + &quot;}&quot;, paramDto.getDef());                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 247 			} else {                                                                                              </span>
<span class="3853225928579086816" onmouseenter="enter('3853225928579086816');" onmouseout="out('3853225928579086816');" style=""> 248 				httpParams.put(paramDto.getName(), paramDto.getDef());                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250 		}                                                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 251 		try {                                                                                                  </span>
<span class="7698493343903286588" onmouseenter="enter('7698493343903286588');" onmouseout="out('7698493343903286588');" style=""> 252 			switch (interFace.getMethod()) {                                                                      </span>
<span class="-9094218770921294476" onmouseenter="enter('-9094218770921294476');" onmouseout="out('-9094218770921294476');" style=""> 253 				case &quot;POST&quot; :                                                                                        </span>
<span class="2157599781076166526" onmouseenter="enter('2157599781076166526');" onmouseout="out('2157599781076166526');" style=""><abbr title=" 254 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, httpHeaders)));"> 254 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, httpHeade🔵</abbr></span>
<span class="6939860533536529115" onmouseenter="enter('6939860533536529115');" onmouseout="out('6939860533536529115');" style=""> 255 				case &quot;GET&quot; :                                                                                         </span>
<span class="-665413068450082307" onmouseenter="enter('-665413068450082307');" onmouseout="out('-665413068450082307');" style=""><abbr title=" 256 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, httpHeaders)));"> 256 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, httpHeader🔵</abbr></span>
<span class="2846314878414834599" onmouseenter="enter('2846314878414834599');" onmouseout="out('2846314878414834599');" style=""> 257 				case &quot;PUT&quot; :                                                                                         </span>
<span class="-3734030575894127039" onmouseenter="enter('-3734030575894127039');" onmouseout="out('-3734030575894127039');" style=""><abbr title=" 258 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, httpHeaders)));"> 258 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, httpHeader🔵</abbr></span>
<span class="3293962560963424989" onmouseenter="enter('3293962560963424989');" onmouseout="out('3293962560963424989');" style=""> 259 				case &quot;DELETE&quot; :                                                                                      </span>
<span class="6419163237734326387" onmouseenter="enter('6419163237734326387');" onmouseout="out('6419163237734326387');" style=""><abbr title=" 260 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, httpHeaders)));"> 260 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, httpHea🔵</abbr></span>
<span class="-3237514698242056778" onmouseenter="enter('-3237514698242056778');" onmouseout="out('-3237514698242056778');" style=""> 261 				case &quot;HEAD&quot; :                                                                                        </span>
<span class="-8045729609655389523" onmouseenter="enter('-8045729609655389523');" onmouseout="out('-8045729609655389523');" style=""><abbr title=" 262 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, httpHeaders)));"> 262 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, httpHeade🔵</abbr></span>
<span class="4253337960364585914" onmouseenter="enter('4253337960364585914');" onmouseout="out('4253337960364585914');" style=""> 263 				case &quot;OPTIONS&quot; :                                                                                     </span>
<span class="3844041568119148194" onmouseenter="enter('3844041568119148194');" onmouseout="out('3844041568119148194');" style=""><abbr title=" 264 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, httpHeaders)));"> 264 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, httpHe🔵</abbr></span>
<span class="-7361274870987749928" onmouseenter="enter('-7361274870987749928');" onmouseout="out('-7361274870987749928');" style=""> 265 				case &quot;TRACE&quot; :                                                                                       </span>
<span class="-2956677331143050404" onmouseenter="enter('-2956677331143050404');" onmouseout="out('-2956677331143050404');" style=""><abbr title=" 266 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, httpHeaders)));"> 266 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, httpHead🔵</abbr></span>
<span class="4148277350291157596" onmouseenter="enter('4148277350291157596');" onmouseout="out('4148277350291157596');" style=""> 267 				case &quot;PATCH&quot; :                                                                                       </span>
<span class="-1078405668674751253" onmouseenter="enter('-1078405668674751253');" onmouseout="out('-1078405668674751253');" style=""><abbr title=" 268 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHeaders)));"> 268 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHead🔵</abbr></span>
<span class="3050734735710613783" onmouseenter="enter('3050734735710613783');" onmouseout="out('3050734735710613783');" style=""> 269 				default :                                                                                            </span>
<span class="6882017481289444776" onmouseenter="enter('6882017481289444776');" onmouseout="out('6882017481289444776');" style=""> 270 					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMethod()));         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271 			}                                                                                                     </span>
<span class="-3589222456918676513" onmouseenter="enter('-3589222456918676513');" onmouseout="out('-3589222456918676513');" style=""> 272 		} catch (java.lang.Exception e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 273 			e.printStackTrace();                                                                                  </span>
<span class="-1799841489783118215" onmouseenter="enter('-1799841489783118215');" onmouseout="out('-1799841489783118215');" style=""> 274 			return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;调试出错\r\nmessage:&quot; + e.getMessage()));           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275 		}                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276 	}                                                                                                       </span>
<span  style=""> 277                                                                                                          </span>
<span class="3908622465717054108" onmouseenter="enter('3908622465717054108');" onmouseout="out('3908622465717054108');" style=""> 278 	@RequestMapping(&quot;/delete.do&quot;)                                                                           </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 279 	@ResponseBody                                                                                           </span>
<span class="-5864823594683390936" onmouseenter="enter('-5864823594683390936');" onmouseout="out('-5864823594683390936');" style=""> 280 	public JsonResult delete(String id, String ids) throws MyException, IOException {                       </span>
<span class="-3461427893236609634" onmouseenter="enter('-3461427893236609634');" onmouseout="out('-3461427893236609634');" style=""> 281 		if (MyString.isEmpty(id) &amp;&amp; MyString.isEmpty(ids)) {                                                   </span>
<span class="5841283794467303202" onmouseenter="enter('5841283794467303202');" onmouseout="out('5841283794467303202');" style=""> 282 			throw new MyException(MyError.E000029);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283 		}                                                                                                      </span>
<span class="-1116094427166003898" onmouseenter="enter('-1116094427166003898');" onmouseout="out('-1116094427166003898');" style=""> 284 		if (MyString.isEmpty(ids)) {                                                                           </span>
<span class="3511947876673837079" onmouseenter="enter('3511947876673837079');" onmouseout="out('3511947876673837079');" style=""> 285 			ids = id;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286 		}                                                                                                      </span>
<span class="-4167522595921394461" onmouseenter="enter('-4167522595921394461');" onmouseout="out('-4167522595921394461');" style=""> 287 		for (String tempId : ids.split(&quot;,&quot;)) {                                                                 </span>
<span class="-540512292166039300" onmouseenter="enter('-540512292166039300');" onmouseout="out('-540512292166039300');" style=""> 288 			if (MyString.isEmpty(tempId)) {                                                                       </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 289 				continue;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290 			}                                                                                                     </span>
<span class="9026621319827941550" onmouseenter="enter('9026621319827941550');" onmouseout="out('9026621319827941550');" style=""> 291 			InterfaceWithBLOBs interFace = interfaceService.getById(tempId);                                      </span>
<span class="-2374229721201647812" onmouseenter="enter('-2374229721201647812');" onmouseout="out('-2374229721201647812');" style=""> 292 			checkPermission(interFace.getProjectId(), DEL_INTER);                                                 </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style=""> 293 			luceneService.delete(new SearchDto(interFace.getId()));                                               </span>
<span class="5403926906782818954" onmouseenter="enter('5403926906782818954');" onmouseout="out('5403926906782818954');" style=""> 294 			interfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295 		}                                                                                                      </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 296 		return new JsonResult(1, null);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297 	}                                                                                                       </span>
<span  style=""> 298                                                                                                          </span>
<span class="3383448423842759854" onmouseenter="enter('3383448423842759854');" onmouseout="out('3383448423842759854');" style=""> 299 	@RequestMapping(&quot;/changeSequence.do&quot;)                                                                   </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 300 	@ResponseBody                                                                                           </span>
<span class="-4895017852740811338" onmouseenter="enter('-4895017852740811338');" onmouseout="out('-4895017852740811338');" style=""> 301 	public JsonResult changeSequence(@RequestParam                                                          </span>
<span class="1513688614479317028" onmouseenter="enter('1513688614479317028');" onmouseout="out('1513688614479317028');" style=""> 302 	String id, @RequestParam                                                                                </span>
<span class="2100765133056061676" onmouseenter="enter('2100765133056061676');" onmouseout="out('2100765133056061676');" style=""> 303 	String changeId) throws MyException {                                                                   </span>
<span class="-114025814901609390" onmouseenter="enter('-114025814901609390');" onmouseout="out('-114025814901609390');" style=""> 304 		InterfaceWithBLOBs change = interfaceService.getById(changeId);                                        </span>
<span class="1535172332471428490" onmouseenter="enter('1535172332471428490');" onmouseout="out('1535172332471428490');" style=""> 305 		InterfaceWithBLOBs model = interfaceService.getById(id);                                               </span>
<span class="-9056666078458333552" onmouseenter="enter('-9056666078458333552');" onmouseout="out('-9056666078458333552');" style=""> 306 		checkPermission(model.getProjectId(), MOD_INTER);                                                      </span>
<span class="2520631124281925400" onmouseenter="enter('2520631124281925400');" onmouseout="out('2520631124281925400');" style=""> 307 		checkPermission(change.getProjectId(), MOD_INTER);                                                     </span>
<span class="-6471227968333011823" onmouseenter="enter('-6471227968333011823');" onmouseout="out('-6471227968333011823');" style=""> 308 		int modelSequence = model.getSequence();                                                               </span>
<span class="-7348627876629533627" onmouseenter="enter('-7348627876629533627');" onmouseout="out('-7348627876629533627');" style=""> 309 		model.setSequence(change.getSequence());                                                               </span>
<span class="-8403247859037350919" onmouseenter="enter('-8403247859037350919');" onmouseout="out('-8403247859037350919');" style=""> 310 		change.setSequence(modelSequence);                                                                     </span>
<span class="1992515717850273638" onmouseenter="enter('1992515717850273638');" onmouseout="out('1992515717850273638');" style=""> 311 		interfaceService.update(model);                                                                        </span>
<span class="8445067308225092068" onmouseenter="enter('8445067308225092068');" onmouseout="out('8445067308225092068');" style=""> 312 		interfaceService.update(change);                                                                       </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 313 		return new JsonResult(1, null);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315 }                                                                                                        </span>




















































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8453884345636310198" onmouseenter="enter('8453884345636310198');" onmouseout="out('8453884345636310198');" style="">   1  package cn.crap.controller.user;                                                                                  </span>
<span  style="">   2                                                                                                                    </span>
<span class="3872670124992133569" onmouseenter="enter('3872670124992133569');" onmouseout="out('3872670124992133569');" style="">   3  import cn.crap.adapter.InterfaceAdapter;                                                                          </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   4 +import cn.crap.beans.Config;                                                                                      </span>
<span class="6807184333094047547" onmouseenter="enter('6807184333094047547');" onmouseout="out('6807184333094047547');" style="">   5  import cn.crap.dto.InterfaceDto;                                                                                  </span>
<span class="7929325164483847730" onmouseenter="enter('7929325164483847730');" onmouseout="out('7929325164483847730');" style="">   6  import cn.crap.dto.LoginInfoDto;                                                                                  </span>
<span class="7576644326008164675" onmouseenter="enter('7576644326008164675');" onmouseout="out('7576644326008164675');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   7 +import cn.crap.dto.ParamDto;                                                                                      </span>
<span class="1522833305812512221" onmouseenter="enter('1522833305812512221');" onmouseout="out('1522833305812512221');" style="">   8  import cn.crap.dto.SearchDto;                                                                                     </span>
<span class="-911749451892422883" onmouseenter="enter('-911749451892422883');" onmouseout="out('-911749451892422883');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   9 -import cn.crap.enumer.MonitorType;                                                                                </span>
<span class="5139023199245080803" onmouseenter="enter('5139023199245080803');" onmouseout="out('5139023199245080803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 -import cn.crap.enumer.MyError;                                                                                    </span>
<span class="-1875408054571239611" onmouseenter="enter('-1875408054571239611');" onmouseout="out('-1875408054571239611');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +import cn.crap.enu.InterfaceContentType;                                                                          </span>
<span class="7537949687285328270" onmouseenter="enter('7537949687285328270');" onmouseout="out('7537949687285328270');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +import cn.crap.enu.InterfaceStatus;                                                                               </span>
<span class="3589208192092537681" onmouseenter="enter('3589208192092537681');" onmouseout="out('3589208192092537681');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 +import cn.crap.enu.MonitorType;                                                                                   </span>
<span class="4068195648627809360" onmouseenter="enter('4068195648627809360');" onmouseout="out('4068195648627809360');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 +import cn.crap.enu.MyError;                                                                                       </span>
<span class="-7847071603028321447" onmouseenter="enter('-7847071603028321447');" onmouseout="out('-7847071603028321447');" style="">  15  import cn.crap.framework.JsonResult;                                                                              </span>
<span class="-7574536783671103865" onmouseenter="enter('-7574536783671103865');" onmouseout="out('-7574536783671103865');" style="">  16  import cn.crap.framework.MyException;                                                                             </span>
<span class="-4522781807489195049" onmouseenter="enter('-4522781807489195049');" onmouseout="out('-4522781807489195049');" style="">  17  import cn.crap.framework.base.BaseController;                                                                     </span>
<span class="4903612087055488212" onmouseenter="enter('4903612087055488212');" onmouseout="out('4903612087055488212');" style="">  18  import cn.crap.framework.interceptor.AuthPassport;                                                                </span>
<span class="6918812738981283976" onmouseenter="enter('6918812738981283976');" onmouseout="out('6918812738981283976');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  19 -import cn.crap.model.mybatis.Error;                                                                               </span>
<span class="7947320592764196414" onmouseenter="enter('7947320592764196414');" onmouseout="out('7947320592764196414');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -import cn.crap.model.mybatis.*;                                                                                   </span>
<span class="8147845229390238491" onmouseenter="enter('8147845229390238491');" onmouseout="out('8147845229390238491');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import cn.crap.model.Error;                                                                                       </span>
<span class="6961814849649346163" onmouseenter="enter('6961814849649346163');" onmouseout="out('6961814849649346163');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import cn.crap.model.InterfaceWithBLOBs;                                                                          </span>
<span class="-3829059158540726081" onmouseenter="enter('-3829059158540726081');" onmouseout="out('-3829059158540726081');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import cn.crap.model.Module;                                                                                      </span>
<span class="-2569611458616973012" onmouseenter="enter('-2569611458616973012');" onmouseout="out('-2569611458616973012');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  24 +import cn.crap.model.Project;                                                                                     </span>
<span class="24505043057363846" onmouseenter="enter('24505043057363846');" onmouseout="out('24505043057363846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  25 +import cn.crap.query.ErrorQuery;                                                                                  </span>
<span class="5577390926415763020" onmouseenter="enter('5577390926415763020');" onmouseout="out('5577390926415763020');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +import cn.crap.query.InterfaceQuery;                                                                              </span>
<span class="-5580999983088044782" onmouseenter="enter('-5580999983088044782');" onmouseout="out('-5580999983088044782');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import cn.crap.service.ErrorService;                                                                              </span>
<span class="2810978048240697020" onmouseenter="enter('2810978048240697020');" onmouseout="out('2810978048240697020');" style="">  28  import cn.crap.service.ISearchService;                                                                            </span>
<span class="3204752822407608187" onmouseenter="enter('3204752822407608187');" onmouseout="out('3204752822407608187');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  29 -import cn.crap.service.custom.CustomErrorService;                                                                 </span>
<span class="-5830266922446194054" onmouseenter="enter('-5830266922446194054');" onmouseout="out('-5830266922446194054');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -import cn.crap.service.custom.CustomInterfaceService;                                                             </span>
<span class="3152424729930326541" onmouseenter="enter('3152424729930326541');" onmouseout="out('3152424729930326541');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -import cn.crap.service.mybatis.InterfaceService;                                                                  </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  32 -import cn.crap.beans.Config;                                                                                      </span>
<span class="-256793303282880299" onmouseenter="enter('-256793303282880299');" onmouseout="out('-256793303282880299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 +import cn.crap.service.InterfaceService;                                                                          </span>
<span class="3571843901690526929" onmouseenter="enter('3571843901690526929');" onmouseout="out('3571843901690526929');" style="">  34  import cn.crap.utils.*;                                                                                           </span>
<span class="9045939009765002950" onmouseenter="enter('9045939009765002950');" onmouseout="out('9045939009765002950');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import net.sf.json.JSONArray;                                                                                     </span>
<span class="-3919641806686363409" onmouseenter="enter('-3919641806686363409');" onmouseout="out('-3919641806686363409');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import com.alibaba.fastjson.JSONArray;                                                                            </span>
<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  37  import org.springframework.beans.factory.annotation.Autowired;                                                    </span>
<span class="4128309806836178094" onmouseenter="enter('4128309806836178094');" onmouseout="out('4128309806836178094');" style="">  38  import org.springframework.stereotype.Controller;                                                                 </span>
<span class="7608804911988512946" onmouseenter="enter('7608804911988512946');" onmouseout="out('7608804911988512946');" style="">  39  import org.springframework.util.Assert;                                                                           </span>
<span class="2718246165073723950" onmouseenter="enter('2718246165073723950');" onmouseout="out('2718246165073723950');" style="">  40  import org.springframework.web.bind.annotation.ModelAttribute;                                                    </span>
<span class="-7989471178862524182" onmouseenter="enter('-7989471178862524182');" onmouseout="out('-7989471178862524182');" style="">  41  import org.springframework.web.bind.annotation.RequestMapping;                                                    </span>
<span class="-8913037601281016619" onmouseenter="enter('-8913037601281016619');" onmouseout="out('-8913037601281016619');" style="">  42  import org.springframework.web.bind.annotation.RequestParam;                                                      </span>
<span class="-7662224364501075428" onmouseenter="enter('-7662224364501075428');" onmouseout="out('-7662224364501075428');" style="">  43  import org.springframework.web.bind.annotation.ResponseBody;                                                      </span>
<span  style="">  44                                                                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  45  import java.io.IOException;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -import java.util.Date;                                                                                            </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +import java.util.HashMap;                                                                                         </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  48  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +import java.util.Map;                                                                                             </span>
<span  style="">  50                                                                                                                    </span>
<span class="4777805177773543995" onmouseenter="enter('4777805177773543995');" onmouseout="out('4777805177773543995');" style="">  51  @Controller                                                                                                       </span>
<span class="-1946225143665328935" onmouseenter="enter('-1946225143665328935');" onmouseout="out('-1946225143665328935');" style="">  52  @RequestMapping(&quot;/user/interface&quot;)                                                                                </span>
<span class="6388668049573310758" onmouseenter="enter('6388668049573310758');" onmouseout="out('6388668049573310758');" style="">  53  public class InterfaceController extends BaseController{                                                          </span>
<span  style="">  54                                                                                                                    </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  55  	@Autowired                                                                                                       </span>
<span class="2899478971554593826" onmouseenter="enter('2899478971554593826');" onmouseout="out('2899478971554593826');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -	private CustomInterfaceService customInterfaceService;                                                           </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  57 -	@Autowired                                                                                                       </span>
<span class="7679472003521629176" onmouseenter="enter('7679472003521629176');" onmouseout="out('7679472003521629176');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -	private InterfaceService mybatisInterfaceService;                                                                </span>
<span class="5676854317382137038" onmouseenter="enter('5676854317382137038');" onmouseout="out('5676854317382137038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +	private InterfaceService interfaceService;                                                                       </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  60  	@Autowired                                                                                                       </span>
<span class="-925519006397285322" onmouseenter="enter('-925519006397285322');" onmouseout="out('-925519006397285322');" style="">  61  	private ISearchService luceneService;                                                                            </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  62  	@Autowired                                                                                                       </span>
<span class="-5513827626367361969" onmouseenter="enter('-5513827626367361969');" onmouseout="out('-5513827626367361969');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -	private CustomErrorService customErrorService;                                                                   </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -	@Autowired                                                                                                       </span>
<span class="-3607813097408339844" onmouseenter="enter('-3607813097408339844');" onmouseout="out('-3607813097408339844');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -	private Config config;                                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -                                                                                                                  </span>
<span class="-3968544807213930836" onmouseenter="enter('-3968544807213930836');" onmouseout="out('-3968544807213930836');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +	private ErrorService errorService;                                                                               </span>
<span  style="">  68                                                                                                                    </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="">  69  	@RequestMapping(&quot;/list.do&quot;)                                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  70  	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="">  71  	@AuthPassport                                                                                                    </span>
<span class="406281474848555250" onmouseenter="enter('406281474848555250');" onmouseout="out('406281474848555250');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -	public JsonResult list(@RequestParam String moduleId, String interfaceName, String url,                          </span>
<span class="6957141086400891835" onmouseenter="enter('6957141086400891835');" onmouseout="out('6957141086400891835');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -			 Integer currentPage) throws MyException{                                                                      </span>
<span class="-3788017470690474402" onmouseenter="enter('-3788017470690474402');" onmouseout="out('-3788017470690474402');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -		Page page= new Page(currentPage);                                                                               </span>
<span class="-1257262529751619377" onmouseenter="enter('-1257262529751619377');" onmouseout="out('-1257262529751619377');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -		checkUserPermissionByModuleId(moduleId, VIEW);                                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -                                                                                                                  </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -		InterfaceCriteria example = new InterfaceCriteria();                                                            </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);                    </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -		if (!MyString.isEmpty(interfaceName)){                                                                          </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -		}                                                                                                               </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -		if (!MyString.isEmpty(url)){                                                                                    </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -		}                                                                                                               </span>


<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -                                                                                                                  </span>
<span class="-8743619996132367741" onmouseenter="enter('-8743619996132367741');" onmouseout="out('-8743619996132367741');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  86 -		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example), null);">  86 -		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example🔵</abbr></span>
<span class="7334426988050538035" onmouseenter="enter('7334426988050538035');" onmouseout="out('7334426988050538035');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -        page.setAllRow(mybatisInterfaceService.countByExample(example));                                          </span>
<span class="2892798472039456685" onmouseenter="enter('2892798472039456685');" onmouseout="out('2892798472039456685');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +	public JsonResult list(@ModelAttribute InterfaceQuery query, String url) throws MyException{                     </span>
<span class="5524533179462183259" onmouseenter="enter('5524533179462183259');" onmouseout="out('5524533179462183259');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +        Module module = getModule(query);                                                                         </span>
<span class="1109214781424356184" onmouseenter="enter('1109214781424356184');" onmouseout="out('1109214781424356184');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +        Project project = getProject(query);                                                                      </span>
<span class="-1137060650182227256" onmouseenter="enter('-1137060650182227256');" onmouseout="out('-1137060650182227256');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +        checkPermission(project, READ);                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +                                                                                                                  </span>
<span class="-7191320329016185556" onmouseenter="enter('-7191320329016185556');" onmouseout="out('-7191320329016185556');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +        InterfaceQuery interfaceQuery = query.setFullUrl(url);                                                    </span>
<span class="-5279124502853396526" onmouseenter="enter('-5279124502853396526');" onmouseout="out('-5279124502853396526');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +		Page page= new Page(interfaceQuery);                                                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +                                                                                                                  </span>
<span class="-8091314608405686849" onmouseenter="enter('-8091314608405686849');" onmouseout="out('-8091314608405686849');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  96 +		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module, project);">  96 +		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(interfaceService.query(interfaceQuery), module, project)🔵</abbr></span>
<span class="-3280997506223267100" onmouseenter="enter('-3280997506223267100');" onmouseout="out('-3280997506223267100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +		page.setAllRow(interfaceService.count(interfaceQuery));                                                         </span>
<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="">  98  		JsonResult result = new JsonResult(1, interfaces, page);                                                        </span>
<span class="-3039605850617260143" onmouseenter="enter('-3039605850617260143');" onmouseout="out('-3039605850617260143');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -		result.putOthers(&quot;crumbs&quot;, Tools.getCrumbs(&quot;接口列表:&quot;+ moduleCache.get(moduleId).getName(),&quot;void&quot;))                </span>
<span class="-2242017820679200314" onmouseenter="enter('-2242017820679200314');" onmouseout="out('-2242017820679200314');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 -				.putOthers(&quot;module&quot;, moduleCache.get(moduleId));                                                              </span>
<span class="-9087557087086822651" onmouseenter="enter('-9087557087086822651');" onmouseout="out('-9087557087086822651');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +		result.putOthers(&quot;module&quot;, module);                                                                             </span>
<span  style=""> 102                                                                                                                    </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style=""> 103  		return result;                                                                                                  </span>
<span  style=""> 104                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105  	}                                                                                                                </span>
<span  style=""> 106                                                                                                                    </span>
<span class="-557002042091694149" onmouseenter="enter('-557002042091694149');" onmouseout="out('-557002042091694149');" style=""> 107  	@RequestMapping(&quot;/detail.do&quot;)                                                                                    </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 108  	@ResponseBody                                                                                                    </span>
<span class="-7956266425262709264" onmouseenter="enter('-7956266425262709264');" onmouseout="out('-7956266425262709264');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -	public JsonResult detail(String id, String moduleId) throws MyException {                                        </span>
<span class="5290464852810964839" onmouseenter="enter('5290464852810964839');" onmouseout="out('5290464852810964839');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +	public JsonResult detail(String id, String moduleId, String projectId) throws MyException {                      </span>
<span class="-5013732608106508542" onmouseenter="enter('-5013732608106508542');" onmouseout="out('-5013732608106508542');" style=""> 111  		InterfaceWithBLOBs model;                                                                                       </span>
<span class="6526027684909256553" onmouseenter="enter('6526027684909256553');" onmouseout="out('6526027684909256553');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -		Module module = null;                                                                                           </span>
<span class="2610682483254535033" onmouseenter="enter('2610682483254535033');" onmouseout="out('2610682483254535033');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +		Module module;                                                                                                  </span>
<span class="-6983393444998086393" onmouseenter="enter('-6983393444998086393');" onmouseout="out('-6983393444998086393');" style=""> 114  		if(id != null){                                                                                                 </span>
<span class="2136695934268049965" onmouseenter="enter('2136695934268049965');" onmouseout="out('2136695934268049965');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -			model= mybatisInterfaceService.getById(id);                                                                    </span>
<span class="-2399207700769929325" onmouseenter="enter('-2399207700769929325');" onmouseout="out('-2399207700769929325');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +			model= interfaceService.getById(id);                                                                           </span>
<span class="1040064000347861178" onmouseenter="enter('1040064000347861178');" onmouseout="out('1040064000347861178');" style=""> 117  			module = moduleCache.get(model.getModuleId());                                                                 </span>
<span class="-185843402063825431" onmouseenter="enter('-185843402063825431');" onmouseout="out('-185843402063825431');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 118 -			checkUserPermissionByProject(model.getProjectId(), VIEW);                                                      </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style=""> 119  		}else{                                                                                                          </span>
<span class="-7029962562203235323" onmouseenter="enter('-7029962562203235323');" onmouseout="out('-7029962562203235323');" style=""> 120  			model = new InterfaceWithBLOBs();                                                                              </span>
<span class="-2587857982027861322" onmouseenter="enter('-2587857982027861322');" onmouseout="out('-2587857982027861322');" style=""> 121  			module = moduleCache.get(moduleId);                                                                            </span>
<span class="-853942339085784102" onmouseenter="enter('-853942339085784102');" onmouseout="out('-853942339085784102');" style=""> 122  			model.setModuleId( moduleId);                                                                                  </span>
<span class="-5617097986837608318" onmouseenter="enter('-5617097986837608318');" onmouseout="out('-5617097986837608318');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -			model.setProjectId(module.getProjectId());                                                                     </span>
<span class="4623621077757195404" onmouseenter="enter('4623621077757195404');" onmouseout="out('4623621077757195404');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -			model.setParam(&quot;form=[]&quot;);                                                                                     </span>
<span class="1766527927860713999" onmouseenter="enter('1766527927860713999');" onmouseout="out('1766527927860713999');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +			model.setProjectId(module.getProjectId() == null ? projectId : module.getProjectId());                         </span>
<span class="-646854625022819456" onmouseenter="enter('-646854625022819456');" onmouseout="out('-646854625022819456');" style=""> 126  			model.setResponseParam(&quot;[]&quot;);                                                                                  </span>
<span class="-7417036509485016685" onmouseenter="enter('-7417036509485016685');" onmouseout="out('-7417036509485016685');" style=""> 127  			model.setHeader(&quot;[]&quot;);                                                                                         </span>
<span class="2272429349124999400" onmouseenter="enter('2272429349124999400');" onmouseout="out('2272429349124999400');" style=""> 128  			model.setParamRemark(&quot;[]&quot;);                                                                                    </span>
<span class="-8254387329445674854" onmouseenter="enter('-8254387329445674854');" onmouseout="out('-8254387329445674854');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 129 -			if(!MyString.isEmpty(module.getTemplateId())){                                                                 </span>
<span class="15965008614372872" onmouseenter="enter('15965008614372872');" onmouseout="out('15965008614372872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 130 -				InterfaceWithBLOBs template = mybatisInterfaceService.getById(module.getTemplateId());                        </span>
<span class="5629681036155585428" onmouseenter="enter('5629681036155585428');" onmouseout="out('5629681036155585428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +            model.setErrors(&quot;[]&quot;);                                                                                </span>
<span class="5346704725079118574" onmouseenter="enter('5346704725079118574');" onmouseout="out('5346704725079118574');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +            model.setMethod(IConst.C_METHOD_GET);                                                                 </span>
<span class="7556183691054851898" onmouseenter="enter('7556183691054851898');" onmouseout="out('7556183691054851898');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +            model.setStatus(InterfaceStatus.ONLINE.getByteValue());                                               </span>
<span class="5499796354931457666" onmouseenter="enter('5499796354931457666');" onmouseout="out('5499796354931457666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +            model.setContentType(InterfaceContentType.JSON.getType());                                            </span>
<span class="-7842162056922652960" onmouseenter="enter('-7842162056922652960');" onmouseout="out('-7842162056922652960');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +            model.setParam(IConst.C_PARAM_FORM_PRE + &quot;[]&quot;);                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +                                                                                                                  </span>
<span class="-8254387329445674854" onmouseenter="enter('-8254387329445674854');" onmouseout="out('-8254387329445674854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +            if(!MyString.isEmpty(module.getTemplateId())){                                                        </span>
<span class="-4020697440483671496" onmouseenter="enter('-4020697440483671496');" onmouseout="out('-4020697440483671496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +				InterfaceWithBLOBs template = interfaceService.getById(module.getTemplateId());                               </span>
<span class="5678506116785444717" onmouseenter="enter('5678506116785444717');" onmouseout="out('5678506116785444717');" style=""> 139  				// 根据模板初始化接口                                                                                                  </span>
<span class="-4452779201008749745" onmouseenter="enter('-4452779201008749745');" onmouseout="out('-4452779201008749745');" style=""> 140  				if(template != null){                                                                                         </span>
<span class="5089751341604219548" onmouseenter="enter('5089751341604219548');" onmouseout="out('5089751341604219548');" style=""> 141  					model.setHeader(template.getHeader());                                                                       </span>
<span class="-7527905069934626121" onmouseenter="enter('-7527905069934626121');" onmouseout="out('-7527905069934626121');" style=""> 142  					model.setParam(template.getParam());                                                                         </span>
<span class="-7059470924530166388" onmouseenter="enter('-7059470924530166388');" onmouseout="out('-7059470924530166388');" style=""> 143  					model.setMethod(template.getMethod());                                                                       </span>
<span class="5940911261599321088" onmouseenter="enter('5940911261599321088');" onmouseout="out('5940911261599321088');" style=""> 144  					model.setVersion(template.getVersion());                                                                     </span>
<span class="-3448468761886356175" onmouseenter="enter('-3448468761886356175');" onmouseout="out('-3448468761886356175');" style=""> 145  					model.setParamRemark(template.getParamRemark());                                                             </span>
<span class="1622152235047204734" onmouseenter="enter('1622152235047204734');" onmouseout="out('1622152235047204734');" style=""> 146  					model.setResponseParam(template.getResponseParam());                                                         </span>
<span class="-6414379266760239220" onmouseenter="enter('-6414379266760239220');" onmouseout="out('-6414379266760239220');" style=""> 147  					model.setErrorList(template.getErrorList());                                                                 </span>
<span class="-379237002060688021" onmouseenter="enter('-379237002060688021');" onmouseout="out('-379237002060688021');" style=""> 148  					model.setErrors(template.getErrors());                                                                       </span>
<span class="2306293464665606986" onmouseenter="enter('2306293464665606986');" onmouseout="out('2306293464665606986');" style=""> 149  					model.setFalseExam(template.getFalseExam());                                                                 </span>
<span class="5307078882417853010" onmouseenter="enter('5307078882417853010');" onmouseout="out('5307078882417853010');" style=""> 150  					model.setTrueExam(template.getTrueExam());                                                                   </span>
<span class="-994236842464253118" onmouseenter="enter('-994236842464253118');" onmouseout="out('-994236842464253118');" style=""> 151  					model.setStatus(template.getStatus());                                                                       </span>
<span class="-2721857626840181883" onmouseenter="enter('-2721857626840181883');" onmouseout="out('-2721857626840181883');" style=""> 152  					model.setContentType(template.getContentType());                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153  				}                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154  			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155  		}                                                                                                               </span>
<span class="-3285112137533597017" onmouseenter="enter('-3285112137533597017');" onmouseout="out('-3285112137533597017');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -		return new JsonResult(1, InterfaceAdapter.getDto(model, module, false));                                        </span>
<span class="-1189875346814839096" onmouseenter="enter('-1189875346814839096');" onmouseout="out('-1189875346814839096');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +        checkPermission(model.getProjectId(), READ);                                                              </span>
<span class="-6563016959985097734" onmouseenter="enter('-6563016959985097734');" onmouseout="out('-6563016959985097734');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +		return new JsonResult(1, InterfaceAdapter.getDtoWithBLOBs(model, module, null, false));                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159  	}                                                                                                                </span>
<span  style=""> 160                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 161  	/**                                                                                                              </span>
<span class="-4379264201720330868" onmouseenter="enter('-4379264201720330868');" onmouseout="out('-4379264201720330868');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -	 * @param interFace                                                                                              </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 163  	 * @return                                                                                                       </span>
<span class="-5665355684135370133" onmouseenter="enter('-5665355684135370133');" onmouseout="out('-5665355684135370133');" style=""> 164  	 * @throws MyException                                                                                           </span>
<span class="-2042953791166134795" onmouseenter="enter('-2042953791166134795');" onmouseout="out('-2042953791166134795');" style=""> 165  	 * @throws IOException                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 166  	 */                                                                                                              </span>
<span class="3944392597235221522" onmouseenter="enter('3944392597235221522');" onmouseout="out('3944392597235221522');" style=""> 167  	@RequestMapping(&quot;/copy.do&quot;)                                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 168  	@ResponseBody                                                                                                    </span>
<span class="1639735162589969103" onmouseenter="enter('1639735162589969103');" onmouseout="out('1639735162589969103');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 169 -	public JsonResult copy(@ModelAttribute InterfaceDto interFace) throws MyException, IOException {                 </span>
<span class="-8206169773439054267" onmouseenter="enter('-8206169773439054267');" onmouseout="out('-8206169773439054267');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 170 -		//判断是否拥有该模块的权限                                                                                                  </span>
<span class="2279808889297804532" onmouseenter="enter('2279808889297804532');" onmouseout="out('2279808889297804532');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 171 -		checkUserPermissionByProject(interFace.getProjectId(), ADD_INTER);                                              </span>
<span class="4900000768952865515" onmouseenter="enter('4900000768952865515');" onmouseout="out('4900000768952865515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 172 -		Module module = moduleCache.get(interFace.getModuleId());                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 173 -                                                                                                                  </span>
<span class="6932488038728960880" onmouseenter="enter('6932488038728960880');" onmouseout="out('6932488038728960880');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 174 -		if(!config.isCanRepeatUrl()){                                                                                   </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 175 -			InterfaceCriteria example = new InterfaceCriteria();                                                           </span>
<span class="1875924719643896699" onmouseenter="enter('1875924719643896699');" onmouseout="out('1875924719643896699');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 176 -			InterfaceCriteria.Criteria criteria = example.createCriteria();                                                </span>
<span class="8511472322804707057" onmouseenter="enter('8511472322804707057');" onmouseout="out('8511472322804707057');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -			criteria.andModuleIdEqualTo(interFace.getModuleId()).andFullUrlEqualTo(module.getUrl() + interFace.getUrl());  </span>
<span class="4391789810700113516" onmouseenter="enter('4391789810700113516');" onmouseout="out('4391789810700113516');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -			if (mybatisInterfaceService.countByExample(example) &gt; 0){                                                      </span>
<span class="-5082836863041242555" onmouseenter="enter('-5082836863041242555');" onmouseout="out('-5082836863041242555');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 179 +	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throws MyException, IOException {"> 179 +	public JsonResult copy(@RequestParam String id, String interfaceName, String url, String moduleId) throws MyExcep🔵</abbr></span>
<span class="3934678378551446762" onmouseenter="enter('3934678378551446762');" onmouseout="out('3934678378551446762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +		InterfaceWithBLOBs interFace = interfaceService.getById(id);                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +                                                                                                                  </span>
<span class="-4221915995793202203" onmouseenter="enter('-4221915995793202203');" onmouseout="out('-4221915995793202203');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +		//判断是否拥有原来项目的权限                                                                                                 </span>
<span class="962943237176822878" onmouseenter="enter('962943237176822878');" onmouseout="out('962943237176822878');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +		checkPermission(interFace.getProjectId(), READ);                                                                </span>
<span class="2572240230111123057" onmouseenter="enter('2572240230111123057');" onmouseout="out('2572240230111123057');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +        Project project = getProject(interFace.getProjectId(), moduleId);                                         </span>
<span class="3442007748957955908" onmouseenter="enter('3442007748957955908');" onmouseout="out('3442007748957955908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +        Module module = moduleCache.get(moduleId);                                                                </span>
<span class="1334308259496682157" onmouseenter="enter('1334308259496682157');" onmouseout="out('1334308259496682157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +		// 检查新项目的权限                                                                                                     </span>
<span class="-741693448261288691" onmouseenter="enter('-741693448261288691');" onmouseout="out('-741693448261288691');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +        checkPermission(project, ADD_INTER);                                                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +                                                                                                                  </span>
<span class="-2121896499688911861" onmouseenter="enter('-2121896499688911861');" onmouseout="out('-2121896499688911861');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +		if(!Config.canRepeatUrl){                                                                                       </span>
<span class="7008517791276156581" onmouseenter="enter('7008517791276156581');" onmouseout="out('7008517791276156581');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 190 +			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() + interFace.getUrl())) &gt; 0){"> 190 +			if (interfaceService.count(new InterfaceQuery().setModuleId(moduleId).setEqualFullUrl(module.getUrl() + interFa🔵</abbr></span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 191  				throw new MyException(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192  			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193  		}                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                                                                                                                  </span>
<span class="-4927829934273936544" onmouseenter="enter('-4927829934273936544');" onmouseout="out('-4927829934273936544');" style=""> 195  		interFace.setId(null);                                                                                          </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -		interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                     </span>
<span class="-8789612314220373117" onmouseenter="enter('-8789612314220373117');" onmouseout="out('-8789612314220373117');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -		mybatisInterfaceService.insert(InterfaceAdapter.getModel(interFace));                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -                                                                                                                  </span>
<span class="4295450166033773932" onmouseenter="enter('4295450166033773932');" onmouseout="out('4295450166033773932');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +		interFace.setUrl(url);                                                                                          </span>
<span class="2993932738191275931" onmouseenter="enter('2993932738191275931');" onmouseout="out('2993932738191275931');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +        interFace.setFullUrl((module.getUrl() == null ? &quot;&quot; : module.getUrl()) + url);                             </span>
<span class="-7123918959665289303" onmouseenter="enter('-7123918959665289303');" onmouseout="out('-7123918959665289303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +        interFace.setInterfaceName(interfaceName);                                                                </span>
<span class="3798115092898655491" onmouseenter="enter('3798115092898655491');" onmouseout="out('3798115092898655491');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +        interFace.setModuleId(moduleId);                                                                          </span>
<span class="-5570231032452560814" onmouseenter="enter('-5570231032452560814');" onmouseout="out('-5570231032452560814');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +        interFace.setProjectId(project.getId());                                                                  </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +        interfaceService.insert(interFace);                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +                                                                                                                  </span>
<span class="-8728764175324637686" onmouseenter="enter('-8728764175324637686');" onmouseout="out('-8728764175324637686');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +        interFace.setId(interFace.getId());                                                                       </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 207  		luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                                    </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 208  		return new JsonResult(1, interFace);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209  	}                                                                                                                </span>
<span  style=""> 210                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -	/**                                                                                                              </span>
<span class="-7492619764061686694" onmouseenter="enter('-7492619764061686694');" onmouseout="out('-7492619764061686694');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -	 * 根据参数生成请求示例                                                                                                    </span>
<span class="-4379264201720330868" onmouseenter="enter('-4379264201720330868');" onmouseout="out('-4379264201720330868');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -	 * @param interFace                                                                                              </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 214 -	 * @return                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 215 -	 */                                                                                                              </span>
<span class="4685904336828752448" onmouseenter="enter('4685904336828752448');" onmouseout="out('4685904336828752448');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 216 -	@RequestMapping(&quot;/getRequestExam.do&quot;)                                                                            </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 217 +	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                               </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 218  	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 219  	@AuthPassport                                                                                                    </span>
<span class="3638284629125143669" onmouseenter="enter('3638284629125143669');" onmouseout="out('3638284629125143669');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 220 -	public JsonResult getRequestExam(@ModelAttribute InterfaceDto interFace) {                                       </span>
<span class="-551733375967960079" onmouseenter="enter('-551733375967960079');" onmouseout="out('-551733375967960079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 221 -		customInterfaceService.getInterFaceRequestExam(interFace);                                                      </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 222 -		return new JsonResult(1, interFace);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 223 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 224 -                                                                                                                  </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                               </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 226 -	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 227 -	@AuthPassport                                                                                                    </span>
<span class="-2371211080264372097" onmouseenter="enter('-2371211080264372097');" onmouseout="out('-2371211080264372097');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 228 -	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto interFace) throws IOException, MyException {          </span>
<span class="-7246000527363885378" onmouseenter="enter('-7246000527363885378');" onmouseout="out('-7246000527363885378');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 229 -		Assert.notNull(interFace.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 230 -                                                                                                                  </span>
<span class="3680314398792253191" onmouseenter="enter('3680314398792253191');" onmouseout="out('3680314398792253191');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 231 -		if(MyString.isEmpty(interFace.getUrl())) {                                                                      </span>
<span class="-2022936812063158899" onmouseenter="enter('-2022936812063158899');" onmouseout="out('-2022936812063158899');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 232 -			return new JsonResult(MyError.E000005);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 233 -		}                                                                                                               </span>
<span class="-1520907386631176867" onmouseenter="enter('-1520907386631176867');" onmouseout="out('-1520907386631176867');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 234 -		interFace.setUrl(interFace.getUrl().trim());                                                                    </span>
<span class="-1191287975845616504" onmouseenter="enter('-1191287975845616504');" onmouseout="out('-1191287975845616504');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 235 +	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException, MyException {"> 235 +	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto dto, String modifyRemark) throws IOException, MyExcept🔵</abbr></span>
<span class="-3500327742939940407" onmouseenter="enter('-3500327742939940407');" onmouseout="out('-3500327742939940407');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +		Assert.notNull(dto.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                                  </span>
<span class="-3686250460961182714" onmouseenter="enter('-3686250460961182714');" onmouseout="out('-3686250460961182714');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +        Assert.notNull(dto.getUrl(), &quot;url can&#x27;t be null&quot;);                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +                                                                                                                  </span>
<span class="4333020959192383715" onmouseenter="enter('4333020959192383715');" onmouseout="out('4333020959192383715');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +        String id = dto.getId();                                                                                  </span>
<span class="3835886801284251087" onmouseenter="enter('3835886801284251087');" onmouseout="out('3835886801284251087');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +        Module module = moduleCache.get(dto.getModuleId());                                                       </span>
<span class="-6580321634713632415" onmouseenter="enter('-6580321634713632415');" onmouseout="out('-6580321634713632415');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +        String newProjectId = getProjectId(dto.getProjectId(), dto.getModuleId());                                </span>
<span class="-3781223136710888845" onmouseenter="enter('-3781223136710888845');" onmouseout="out('-3781223136710888845');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +        dto.setProjectId(newProjectId);                                                                           </span>
<span class="-4968471341233894350" onmouseenter="enter('-4968471341233894350');" onmouseout="out('-4968471341233894350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +		dto.setUrl(dto.getUrl().trim());                                                                                </span>
<span class="-7463501822402269713" onmouseenter="enter('-7463501822402269713');" onmouseout="out('-7463501822402269713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +        dto.setFullUrl(module.getUrl() + dto.getUrl());                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +                                                                                                                  </span>
<span class="-1144806292306049190" onmouseenter="enter('-1144806292306049190');" onmouseout="out('-1144806292306049190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +        if (C_PARAM_FORM.equals(dto.getParamType())){                                                             </span>
<span class="5328201193467369142" onmouseenter="enter('5328201193467369142');" onmouseout="out('5328201193467369142');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 247 +		    dto.setParam(C_PARAM_FORM_PRE + dto.getParam());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 248 +        }                                                                                                         </span>
<span  style=""> 249                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 250  		/**                                                                                                             </span>
<span class="7045250225799015466" onmouseenter="enter('7045250225799015466');" onmouseout="out('7045250225799015466');" style=""> 251  		 * 根据选着的错误码id，组装json字符串                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 252  		 */                                                                                                             </span>
<span class="28798638763014117" onmouseenter="enter('28798638763014117');" onmouseout="out('28798638763014117');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 253 -		String errorIds = interFace.getErrorList();                                                                     </span>
<span class="-3521543674443001094" onmouseenter="enter('-3521543674443001094');" onmouseout="out('-3521543674443001094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 254 -		List&lt;Error&gt; errors  = customErrorService.queryByProjectIdAndErrorCode(interFace.getProjectId(), Tools.getIdsFromField(errorIds));"> 254 -		List&lt;Error&gt; errors  = customErrorService.queryByProjectIdAndErrorCode(interFace.getProjectId(), Tools.getIdsFrom🔵</abbr></span>
<span class="8099633558915995513" onmouseenter="enter('8099633558915995513');" onmouseout="out('8099633558915995513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 255 -		interFace.setErrors(JSONArray.fromObject(errors).toString());                                                   </span>
<span class="1252267335350984887" onmouseenter="enter('1252267335350984887');" onmouseout="out('1252267335350984887');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 256 +        ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(dto.getErrorList())).setPageSize(100);"> 256 +        ErrorQuery query = new ErrorQuery().setProjectId(newProjectId).setErrorCodeList(Tools.getIdsFromField(dto.🔵</abbr></span>
<span class="7007176770365788864" onmouseenter="enter('7007176770365788864');" onmouseout="out('7007176770365788864');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +        List&lt;Error&gt; errors  = errorService.query(query);                                                          </span>
<span class="-2878214233682854280" onmouseenter="enter('-2878214233682854280');" onmouseout="out('-2878214233682854280');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 258 +		dto.setErrors(JSONArray.toJSONString(errors));                                                                  </span>
<span  style=""> 259                                                                                                                    </span>
<span class="1766529869277441370" onmouseenter="enter('1766529869277441370');" onmouseout="out('1766529869277441370');" style=""> 260  		LoginInfoDto user = LoginUserHelper.getUser();                                                                  </span>
<span class="3045017157654780991" onmouseenter="enter('3045017157654780991');" onmouseout="out('3045017157654780991');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 261 -		interFace.setUpdateBy(&quot;userName：&quot;+user.getUserName()+&quot; | trueName：&quot;+ user.getTrueName());                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 262 -                                                                                                                  </span>
<span class="8532154523355485279" onmouseenter="enter('8532154523355485279');" onmouseout="out('8532154523355485279');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -		//请求示例为空，则自动添加                                                                                                  </span>
<span class="4679476040111179483" onmouseenter="enter('4679476040111179483');" onmouseout="out('4679476040111179483');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -		if(MyString.isEmpty(interFace.getRequestExam())){                                                               </span>
<span class="-551733375967960079" onmouseenter="enter('-551733375967960079');" onmouseout="out('-551733375967960079');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -			customInterfaceService.getInterFaceRequestExam(interFace);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -		}                                                                                                               </span>
<span class="2009751668094616815" onmouseenter="enter('2009751668094616815');" onmouseout="out('2009751668094616815');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -        interFace.setMonitorType(MonitorType.No.getValue());                                                      </span>
<span class="-941211001760564316" onmouseenter="enter('-941211001760564316');" onmouseout="out('-941211001760564316');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -		//检查邮件格式是否正确                                                                                                    </span>
<span class="-22728527345241303" onmouseenter="enter('-22728527345241303');" onmouseout="out('-22728527345241303');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -		/**if(interFace.getMonitorType() != MonitorType.No.getValue()){                                                 </span>
<span class="6470615935665347659" onmouseenter="enter('6470615935665347659');" onmouseout="out('6470615935665347659');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -			if(!MyString.isEmpty(interFace.getMonitorEmails())){                                                           </span>
<span class="9144489970704028395" onmouseenter="enter('9144489970704028395');" onmouseout="out('9144489970704028395');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 271 -				for(String email : interFace.getMonitorEmails().split(&quot;;&quot;)){                                                  </span>
<span class="1445021202833529364" onmouseenter="enter('1445021202833529364');" onmouseout="out('1445021202833529364');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 272 -					if( !Tools.checkEmail(email) ){                                                                              </span>
<span class="7348859531950873456" onmouseenter="enter('7348859531950873456');" onmouseout="out('7348859531950873456');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 273 -						throw new MyException(E000032&quot;);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 274 -					}                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 275 -				}                                                                                                             </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 276 -			}else{                                                                                                         </span>
<span class="7348859531950873456" onmouseenter="enter('7348859531950873456');" onmouseout="out('7348859531950873456');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 277 -				throw new MyException(E000032&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 278 -			}                                                                                                              </span>
<span class="4278934915650879980" onmouseenter="enter('4278934915650879980');" onmouseout="out('4278934915650879980');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 279 -		}**/                                                                                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 280 -                                                                                                                  </span>
<span class="4900000768952865515" onmouseenter="enter('4900000768952865515');" onmouseout="out('4900000768952865515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 281 -		Module module = moduleCache.get(interFace.getModuleId());                                                       </span>
<span class="5243642841384736036" onmouseenter="enter('5243642841384736036');" onmouseout="out('5243642841384736036');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 282 -		if (!MyString.isEmpty(interFace.getId())) {                                                                     </span>
<span class="4634617091812320018" onmouseenter="enter('4634617091812320018');" onmouseout="out('4634617091812320018');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 283 -			String oldModuleId = mybatisInterfaceService.getById(interFace.getId()).getModuleId();                         </span>
<span class="-2347736199422220093" onmouseenter="enter('-2347736199422220093');" onmouseout="out('-2347736199422220093');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 284 -			String projectId = moduleCache.get(oldModuleId).getProjectId();                                                </span>
<span class="3404097771773836763" onmouseenter="enter('3404097771773836763');" onmouseout="out('3404097771773836763');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 285 -			Project project = projectCache.get(interFace.getProjectId() );                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 286 -                                                                                                                  </span>
<span class="8257633002726469813" onmouseenter="enter('8257633002726469813');" onmouseout="out('8257633002726469813');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 287 -			// 接口只能在同一个项目下的模块中移动                                                                                           </span>
<span class="-8654578892208964423" onmouseenter="enter('-8654578892208964423');" onmouseout="out('-8654578892208964423');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 288 -			if( !projectId.equals(project.getId())){                                                                       </span>
<span class="3828115358811128245" onmouseenter="enter('3828115358811128245');" onmouseout="out('3828115358811128245');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 289 -				throw new MyException(MyError.E000047);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 290 -			}                                                                                                              </span>
<span class="107427306152347096" onmouseenter="enter('107427306152347096');" onmouseout="out('107427306152347096');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +		dto.setUpdateBy(&quot;userName：&quot;+user.getUserName()+&quot; | trueName：&quot;+ user.getTrueName());                             </span>
<span class="4831447535634441964" onmouseenter="enter('4831447535634441964');" onmouseout="out('4831447535634441964');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +        dto.setMonitorType(MonitorType.No.getValue());                                                            </span>
<span class="4973707410508928935" onmouseenter="enter('4973707410508928935');" onmouseout="out('4973707410508928935');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +        InterfaceWithBLOBs interFace = InterfaceAdapter.getModel(dto);                                            </span>
<span class="-168595834781466469" onmouseenter="enter('-168595834781466469');" onmouseout="out('-168595834781466469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +        if (id != null) {                                                                                         </span>
<span class="-2095657132029350572" onmouseenter="enter('-2095657132029350572');" onmouseout="out('-2095657132029350572');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +			String oldProjectId = interfaceService.getById(interFace.getId()).getProjectId();                              </span>
<span class="7913111081342953879" onmouseenter="enter('7913111081342953879');" onmouseout="out('7913111081342953879');" style=""> 296  			// 判断是否有修改模块的权限                                                                                                </span>
<span class="-3388185289221243217" onmouseenter="enter('-3388185289221243217');" onmouseout="out('-3388185289221243217');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 297 -			checkUserPermissionByProject(project, MOD_INTER);                                                              </span>
<span class="7877480553019103118" onmouseenter="enter('7877480553019103118');" onmouseout="out('7877480553019103118');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +			checkPermission(oldProjectId, READ);                                                                           </span>
<span class="-841225222761265417" onmouseenter="enter('-841225222761265417');" onmouseout="out('-841225222761265417');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 299 +            checkPermission(newProjectId, MOD_INTER);                                                             </span>
<span  style=""> 300                                                                                                                    </span>
<span class="-2337234168619506843" onmouseenter="enter('-2337234168619506843');" onmouseout="out('-2337234168619506843');" style=""> 301  			//同一模块下不允许 url 重复                                                                                              </span>
<span class="-1727492280611767040" onmouseenter="enter('-1727492280611767040');" onmouseout="out('-1727492280611767040');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 302 -			if( !config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),                 </span>
<span class="1797095910007032596" onmouseenter="enter('1797095910007032596');" onmouseout="out('1797095910007032596');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 303 -					module.getUrl() +interFace.getUrl(), interFace.getId()) &gt;0 ){                                                </span>
<span class="4583694866099931844" onmouseenter="enter('4583694866099931844');" onmouseout="out('4583694866099931844');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 304 +            InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl()).setExceptId(interFace.getId());"> 304 +            InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.g🔵</abbr></span>
<span class="1980642517102120004" onmouseenter="enter('1980642517102120004');" onmouseout="out('1980642517102120004');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +			if( !Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery) &gt;0 ){                                       </span>
<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 306  				throw new MyException(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307  			}                                                                                                              </span>
<span  style=""> 308                                                                                                                    </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 309 -			interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                    </span>
<span class="-1055638939010755303" onmouseenter="enter('-1055638939010755303');" onmouseout="out('-1055638939010755303');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 310 -			customInterfaceService.update(InterfaceAdapter.getModel(interFace), &quot;接口&quot;, &quot;&quot;);                                 </span>
<span class="40941063765621390" onmouseenter="enter('40941063765621390');" onmouseout="out('40941063765621390');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 311 -			if(interFace.getId().equals(interFace.getProjectId())){                                                        </span>
<span class="8284136097153874854" onmouseenter="enter('8284136097153874854');" onmouseout="out('8284136097153874854');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 312 -				throw new MyException(MyError.E000027);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 313 -			}                                                                                                              </span>
<span class="-8095562614157245048" onmouseenter="enter('-8095562614157245048');" onmouseout="out('-8095562614157245048');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 314 -			luceneService.update(InterfaceAdapter.getSearchDto(interFace));                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 315 -                                                                                                                  </span>
<span class="-5397395633479684746" onmouseenter="enter('-5397395633479684746');" onmouseout="out('-5397395633479684746');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 316 +			interfaceService.update(interFace, &quot;接口&quot;, modifyRemark);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317  		} else {                                                                                                        </span>
<span class="-7477248359633755306" onmouseenter="enter('-7477248359633755306');" onmouseout="out('-7477248359633755306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 318 -			checkUserPermissionByProject(projectCache.get(interFace.getProjectId() ), ADD_INTER);                          </span>
<span class="7893577801508787229" onmouseenter="enter('7893577801508787229');" onmouseout="out('7893577801508787229');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 319 -			if(!config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),module.getUrl() + interFace.getUrl(), null)&gt;0){"> 319 -			if(!config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),module.getUrl() + 🔵</abbr></span>
<span class="-4544441711958312547" onmouseenter="enter('-4544441711958312547');" onmouseout="out('-4544441711958312547');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 320 +			checkPermission(interFace.getProjectId(), ADD_INTER);                                                          </span>
<span class="6993090260120932776" onmouseenter="enter('6993090260120932776');" onmouseout="out('6993090260120932776');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 321 +            InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.getFullUrl());"> 321 +            InterfaceQuery interfaceQuery = new InterfaceQuery().setProjectId(newProjectId).setFullUrl(interFace.g🔵</abbr></span>
<span class="-8052293516261748065" onmouseenter="enter('-8052293516261748065');" onmouseout="out('-8052293516261748065');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +			if(!Config.canRepeatUrl &amp;&amp; interfaceService.count(interfaceQuery)&gt;0){                                          </span>
<span class="8772628239303623293" onmouseenter="enter('8772628239303623293');" onmouseout="out('8772628239303623293');" style=""> 323  				return new JsonResult(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324  			}                                                                                                              </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 325 -			interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                    </span>
<span class="-8789612314220373117" onmouseenter="enter('-8789612314220373117');" onmouseout="out('-8789612314220373117');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 326 -			mybatisInterfaceService.insert(InterfaceAdapter.getModel(interFace));                                          </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 327 -			luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 328 -		}                                                                                                               </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 329 -		return new JsonResult(1, interFace);                                                                            </span>
<span class="-6224522351779705283" onmouseenter="enter('-6224522351779705283');" onmouseout="out('-6224522351779705283');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 330 +			interfaceService.insert(interFace);                                                                            </span>
<span class="6568602618187019485" onmouseenter="enter('6568602618187019485');" onmouseout="out('6568602618187019485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 331 +			id = interFace.getId();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 332 +		}                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 333 +                                                                                                                  </span>
<span class="-8435530835866397772" onmouseenter="enter('-8435530835866397772');" onmouseout="out('-8435530835866397772');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 334 +        luceneService.update(InterfaceAdapter.getSearchDto(interfaceService.getById(id)));                        </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 335 +        return new JsonResult(1, interFace);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 336 +	}                                                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +                                                                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 338 +                                                                                                                  </span>
<span class="-6964648231366196325" onmouseenter="enter('-6964648231366196325');" onmouseout="out('-6964648231366196325');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 339 +	@RequestMapping(&quot;/debug.do&quot;)                                                                                     </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 341 +	@AuthPassport                                                                                                    </span>
<span class="-8209476752026465697" onmouseenter="enter('-8209476752026465697');" onmouseout="out('-8209476752026465697');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 342 +	public JsonResult debug(@ModelAttribute InterfaceDto interFace) throws IOException, Exception {                  </span>
<span class="-857909214726102048" onmouseenter="enter('-857909214726102048');" onmouseout="out('-857909214726102048');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 343 +		Assert.notNull(interFace.getMethod(), &quot;请求方法不能为空&quot;);                                                              </span>
<span class="-5248537465732866548" onmouseenter="enter('-5248537465732866548');" onmouseout="out('-5248537465732866548');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 344 +		Assert.notNull(interFace.getFullUrl(), &quot;地址不能为空&quot;);                                                               </span>
<span class="-6952800964811379899" onmouseenter="enter('-6952800964811379899');" onmouseout="out('-6952800964811379899');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 345 +        Assert.isTrue(interFace.getFullUrl().startsWith(&quot;http&quot;), &quot;地址必须以 http开头&quot;);                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 346 +                                                                                                                  </span>
<span class="-6374405635748053038" onmouseenter="enter('-6374405635748053038');" onmouseout="out('-6374405635748053038');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 347 +        String fullUrl = interFace.getFullUrl();                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 348 +                                                                                                                  </span>
<span class="-5425264664081477159" onmouseenter="enter('-5425264664081477159');" onmouseout="out('-5425264664081477159');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 349 +		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHeader(), ParamDto.class);"> 349 +		List&lt;ParamDto&gt; headerList = JSONArray.parseArray(interFace.getHeader() == null ? &quot;[]&quot; : interFace.getHeader(), P🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 350 +                                                                                                                  </span>
<span class="-358173397027013968" onmouseenter="enter('-358173397027013968');" onmouseout="out('-358173397027013968');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 351 +        Map&lt;String, String&gt; httpHeaders = new HashMap&lt;&gt;();                                                        </span>
<span class="-144697395149533285" onmouseenter="enter('-144697395149533285');" onmouseout="out('-144697395149533285');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 352 +        for (ParamDto paramDto : headerList) {                                                                    </span>
<span class="6677538940601376914" onmouseenter="enter('6677538940601376914');" onmouseout="out('6677538940601376914');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 353 +            httpHeaders.put(paramDto.getName(), paramDto.getDef());                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 354 +        }                                                                                                         </span>
<span class="-7197443773516450962" onmouseenter="enter('-7197443773516450962');" onmouseout="out('-7197443773516450962');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 355 +        // 如果自定义参数不为空，则表示需要使用post发送自定义包体                                                                          </span>
<span class="-6617072984433725815" onmouseenter="enter('-6617072984433725815');" onmouseout="out('-6617072984433725815');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 356 +        if (C_PARAM_RAW.equals(interFace.getParamType())) {                                                       </span>
<span class="-7315409697012940159" onmouseenter="enter('-7315409697012940159');" onmouseout="out('-7315409697012940159');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 357 +            return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(), httpHeaders)));"> 357 +            return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.postBody(fullUrl, interFace.getParam(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 358 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 359 +                                                                                                                  </span>
<span class="-5944068785760083864" onmouseenter="enter('-5944068785760083864');" onmouseout="out('-5944068785760083864');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 360 +        List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getParam(), ParamDto.class);"> 360 +        List&lt;ParamDto&gt; paramList = JSONArray.parseArray(interFace.getParam() == null ? &quot;[]&quot; : interFace.getParam()🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 361 +                                                                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 362 +                                                                                                                  </span>
<span class="6495342511049191823" onmouseenter="enter('6495342511049191823');" onmouseout="out('6495342511049191823');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 363 +        Map&lt;String, String&gt; httpParams = new HashMap&lt;&gt;();                                                         </span>
<span class="-2939771329775203143" onmouseenter="enter('-2939771329775203143');" onmouseout="out('-2939771329775203143');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 364 +        for (ParamDto paramDto : paramList) {                                                                     </span>
<span class="4885942122438216039" onmouseenter="enter('4885942122438216039');" onmouseout="out('4885942122438216039');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 365 +            if (fullUrl.contains(&quot;{&quot; + paramDto.getRealName() + &quot;}&quot;)) {                                           </span>
<span class="-5425547815249620490" onmouseenter="enter('-5425547815249620490');" onmouseout="out('-5425547815249620490');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 366 +                fullUrl = fullUrl.replace(&quot;{&quot; + paramDto.getName() + &quot;}&quot;, paramDto.getDef());                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 367 +            } else {                                                                                              </span>
<span class="3853225928579086816" onmouseenter="enter('3853225928579086816');" onmouseout="out('3853225928579086816');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 368 +                httpParams.put(paramDto.getName(), paramDto.getDef());                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 369 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 370 +        }                                                                                                         </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 371 +        try {                                                                                                     </span>
<span class="7698493343903286588" onmouseenter="enter('7698493343903286588');" onmouseout="out('7698493343903286588');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 372 +            switch (interFace.getMethod()) {                                                                      </span>
<span class="7892944175315482245" onmouseenter="enter('7892944175315482245');" onmouseout="out('7892944175315482245');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 373 +                case &quot;POST&quot;:                                                                                      </span>
<span class="2157599781076166526" onmouseenter="enter('2157599781076166526');" onmouseout="out('2157599781076166526');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 374 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, httpHeaders)));"> 374 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.post(fullUrl, httpParams, htt🔵</abbr></span>
<span class="4716385075727439579" onmouseenter="enter('4716385075727439579');" onmouseout="out('4716385075727439579');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 375 +                case &quot;GET&quot;:                                                                                       </span>
<span class="-665413068450082307" onmouseenter="enter('-665413068450082307');" onmouseout="out('-665413068450082307');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 376 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, httpHeaders)));"> 376 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.get(fullUrl, httpParams, http🔵</abbr></span>
<span class="-5729331644489035419" onmouseenter="enter('-5729331644489035419');" onmouseout="out('-5729331644489035419');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 377 +                case &quot;PUT&quot;:                                                                                       </span>
<span class="-3734030575894127039" onmouseenter="enter('-3734030575894127039');" onmouseout="out('-3734030575894127039');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 378 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, httpHeaders)));"> 378 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.put(fullUrl, httpParams, http🔵</abbr></span>
<span class="-1252674823953365764" onmouseenter="enter('-1252674823953365764');" onmouseout="out('-1252674823953365764');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 379 +                case &quot;DELETE&quot;:                                                                                    </span>
<span class="6419163237734326387" onmouseenter="enter('6419163237734326387');" onmouseout="out('6419163237734326387');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 380 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, httpHeaders)));"> 380 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.delete(fullUrl, httpParams, h🔵</abbr></span>
<span class="-3614836558630745606" onmouseenter="enter('-3614836558630745606');" onmouseout="out('-3614836558630745606');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 381 +                case &quot;HEAD&quot;:                                                                                      </span>
<span class="-8045729609655389523" onmouseenter="enter('-8045729609655389523');" onmouseout="out('-8045729609655389523');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 382 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, httpHeaders)));"> 382 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.head(fullUrl, httpParams, htt🔵</abbr></span>
<span class="5118455566205188263" onmouseenter="enter('5118455566205188263');" onmouseout="out('5118455566205188263');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 383 +                case &quot;OPTIONS&quot;:                                                                                   </span>
<span class="3844041568119148194" onmouseenter="enter('3844041568119148194');" onmouseout="out('3844041568119148194');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 384 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, httpHeaders)));"> 384 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.options(fullUrl, httpParams, 🔵</abbr></span>
<span class="9107175809460343031" onmouseenter="enter('9107175809460343031');" onmouseout="out('9107175809460343031');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 385 +                case &quot;TRACE&quot;:                                                                                     </span>
<span class="-2956677331143050404" onmouseenter="enter('-2956677331143050404');" onmouseout="out('-2956677331143050404');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 386 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, httpHeaders)));"> 386 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.trace(fullUrl, httpParams, ht🔵</abbr></span>
<span class="3332084310769245269" onmouseenter="enter('3332084310769245269');" onmouseout="out('3332084310769245269');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 387 +				case &quot;PATCH&quot;:                                                                                                 </span>
<span class="-1078405668674751253" onmouseenter="enter('-1078405668674751253');" onmouseout="out('-1078405668674751253');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 388 +					return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, HttpPostGet.patch(fullUrl, httpParams, httpHeaders)));  </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 389 +                default:                                                                                          </span>
<span class="6882017481289444776" onmouseenter="enter('6882017481289444776');" onmouseout="out('6882017481289444776');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 390 +                    return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;不支持的请求方法：&quot; + interFace.getMethod()));   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 391 +            }                                                                                                     </span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 392 +        } catch (Exception e) {                                                                                   </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 393 +            e.printStackTrace();                                                                                  </span>
<span class="-1799841489783118215" onmouseenter="enter('-1799841489783118215');" onmouseout="out('-1799841489783118215');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 394 +            return new JsonResult(1, Tools.getMap(&quot;debugResult&quot;, &quot;调试出错\r\nmessage:&quot; + e.getMessage()));           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 395 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 396 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397  	}                                                                                                                </span>
<span  style=""> 398                                                                                                                    </span>
<span class="3908622465717054108" onmouseenter="enter('3908622465717054108');" onmouseout="out('3908622465717054108');" style=""> 399  	@RequestMapping(&quot;/delete.do&quot;)                                                                                    </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 400  	@ResponseBody                                                                                                    </span>
<span class="-5585810528016230380" onmouseenter="enter('-5585810528016230380');" onmouseout="out('-5585810528016230380');" style=""> 401  	public JsonResult delete(String id, String ids) throws MyException, IOException{                                 </span>
<span class="5500260682396997685" onmouseenter="enter('5500260682396997685');" onmouseout="out('5500260682396997685');" style=""> 402  		if( MyString.isEmpty(id) &amp;&amp; MyString.isEmpty(ids)){                                                             </span>
<span class="5841283794467303202" onmouseenter="enter('5841283794467303202');" onmouseout="out('5841283794467303202');" style=""> 403  			throw new MyException(MyError.E000029);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404  		}                                                                                                               </span>
<span class="-8135195691626680328" onmouseenter="enter('-8135195691626680328');" onmouseout="out('-8135195691626680328');" style=""> 405  		if( MyString.isEmpty(ids) ){                                                                                    </span>
<span class="3511947876673837079" onmouseenter="enter('3511947876673837079');" onmouseout="out('3511947876673837079');" style=""> 406  			ids = id;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407  		}                                                                                                               </span>
<span  style=""> 408                                                                                                                    </span>
<span class="-2656961914898447548" onmouseenter="enter('-2656961914898447548');" onmouseout="out('-2656961914898447548');" style=""> 409  		for(String tempId : ids.split(&quot;,&quot;)){                                                                            </span>
<span class="-3040966783477954494" onmouseenter="enter('-3040966783477954494');" onmouseout="out('-3040966783477954494');" style=""> 410  			if(MyString.isEmpty(tempId)){                                                                                  </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 411  				continue;                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412  			}                                                                                                              </span>
<span class="4615658532965343080" onmouseenter="enter('4615658532965343080');" onmouseout="out('4615658532965343080');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 413 -			InterfaceWithBLOBs interFace = mybatisInterfaceService.getById( tempId );                                      </span>
<span class="-3259762685715036382" onmouseenter="enter('-3259762685715036382');" onmouseout="out('-3259762685715036382');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 414 -			checkUserPermissionByProject(interFace.getProjectId(), DEL_INTER);                                             </span>
<span class="1056590746991860519" onmouseenter="enter('1056590746991860519');" onmouseout="out('1056590746991860519');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 415 -			customInterfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                    </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 416 -			luceneService.delete(new SearchDto(interFace.getId()));                                                        </span>
<span class="6005130977645696533" onmouseenter="enter('6005130977645696533');" onmouseout="out('6005130977645696533');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 417 +			InterfaceWithBLOBs interFace = interfaceService.getById( tempId );                                             </span>
<span class="-2374229721201647812" onmouseenter="enter('-2374229721201647812');" onmouseout="out('-2374229721201647812');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +			checkPermission(interFace.getProjectId(), DEL_INTER);                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +                                                                                                                  </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +            luceneService.delete(new SearchDto(interFace.getId()));                                               </span>
<span class="5403926906782818954" onmouseenter="enter('5403926906782818954');" onmouseout="out('5403926906782818954');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +			interfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422  		}                                                                                                               </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 423  		return new JsonResult(1, null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424  	}                                                                                                                </span>
<span  style=""> 425                                                                                                                    </span>
<span class="3383448423842759854" onmouseenter="enter('3383448423842759854');" onmouseout="out('3383448423842759854');" style=""> 426  	@RequestMapping(&quot;/changeSequence.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 427  	@ResponseBody                                                                                                    </span>
<span class="-4262891591549373351" onmouseenter="enter('-4262891591549373351');" onmouseout="out('-4262891591549373351');" style=""> 428  	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyException {     </span>
<span class="-8109615337570232534" onmouseenter="enter('-8109615337570232534');" onmouseout="out('-8109615337570232534');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 429 -		InterfaceWithBLOBs change = mybatisInterfaceService.getById(changeId);                                          </span>
<span class="-1139618140683157175" onmouseenter="enter('-1139618140683157175');" onmouseout="out('-1139618140683157175');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 430 -		InterfaceWithBLOBs model = mybatisInterfaceService.getById(id);                                                 </span>
<span class="1373326694122548312" onmouseenter="enter('1373326694122548312');" onmouseout="out('1373326694122548312');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 431 -		checkUserPermissionByProject(model.getProjectId(), MOD_INTER);                                                  </span>
<span class="9185443680929913036" onmouseenter="enter('9185443680929913036');" onmouseout="out('9185443680929913036');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 432 -		checkUserPermissionByProject(change.getProjectId(), MOD_INTER);                                                 </span>
<span class="-114025814901609390" onmouseenter="enter('-114025814901609390');" onmouseout="out('-114025814901609390');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +		InterfaceWithBLOBs change = interfaceService.getById(changeId);                                                 </span>
<span class="1535172332471428490" onmouseenter="enter('1535172332471428490');" onmouseout="out('1535172332471428490');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 434 +		InterfaceWithBLOBs model = interfaceService.getById(id);                                                        </span>
<span class="-9056666078458333552" onmouseenter="enter('-9056666078458333552');" onmouseout="out('-9056666078458333552');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 435 +		checkPermission(model.getProjectId(), MOD_INTER);                                                               </span>
<span class="2520631124281925400" onmouseenter="enter('2520631124281925400');" onmouseout="out('2520631124281925400');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 436 +		checkPermission(change.getProjectId(), MOD_INTER);                                                              </span>
<span  style=""> 437                                                                                                                    </span>
<span class="-6471227968333011823" onmouseenter="enter('-6471227968333011823');" onmouseout="out('-6471227968333011823');" style=""> 438  		int modelSequence = model.getSequence();                                                                        </span>
<span  style=""> 439                                                                                                                    </span>
<span class="-7348627876629533627" onmouseenter="enter('-7348627876629533627');" onmouseout="out('-7348627876629533627');" style=""> 440  		model.setSequence(change.getSequence());                                                                        </span>
<span class="-8403247859037350919" onmouseenter="enter('-8403247859037350919');" onmouseout="out('-8403247859037350919');" style=""> 441  		change.setSequence(modelSequence);                                                                              </span>
<span  style=""> 442                                                                                                                    </span>
<span class="-6504951827173969687" onmouseenter="enter('-6504951827173969687');" onmouseout="out('-6504951827173969687');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 443 -		mybatisInterfaceService.update(model);                                                                          </span>
<span class="-8243206060953081636" onmouseenter="enter('-8243206060953081636');" onmouseout="out('-8243206060953081636');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 444 -		mybatisInterfaceService.update(change);                                                                         </span>
<span class="1992515717850273638" onmouseenter="enter('1992515717850273638');" onmouseout="out('1992515717850273638');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 445 +		interfaceService.update(model);                                                                                 </span>
<span class="8445067308225092068" onmouseenter="enter('8445067308225092068');" onmouseout="out('8445067308225092068');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 446 +		interfaceService.update(change);                                                                                </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 447  		return new JsonResult(1, null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448  	}                                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8453884345636310198" onmouseenter="enter('8453884345636310198');" onmouseout="out('8453884345636310198');" style="">   1  package cn.crap.controller.user;                                                                                  </span>
<span  style="">   2                                                                                                                    </span>
<span class="3872670124992133569" onmouseenter="enter('3872670124992133569');" onmouseout="out('3872670124992133569');" style="">   3  import cn.crap.adapter.InterfaceAdapter;                                                                          </span>

<span class="6807184333094047547" onmouseenter="enter('6807184333094047547');" onmouseout="out('6807184333094047547');" style="">   4  import cn.crap.dto.InterfaceDto;                                                                                  </span>
<span class="7929325164483847730" onmouseenter="enter('7929325164483847730');" onmouseout="out('7929325164483847730');" style="">   5  import cn.crap.dto.LoginInfoDto;                                                                                  </span>

<span class="1522833305812512221" onmouseenter="enter('1522833305812512221');" onmouseout="out('1522833305812512221');" style="">   6  import cn.crap.dto.SearchDto;                                                                                     </span>
<span class="-911749451892422883" onmouseenter="enter('-911749451892422883');" onmouseout="out('-911749451892422883');" style="">   7  import cn.crap.enumer.MonitorType;                                                                                </span>
<span class="5139023199245080803" onmouseenter="enter('5139023199245080803');" onmouseout="out('5139023199245080803');" style="">   8  import cn.crap.enumer.MyError;                                                                                    </span>




<span class="-7847071603028321447" onmouseenter="enter('-7847071603028321447');" onmouseout="out('-7847071603028321447');" style="">   9  import cn.crap.framework.JsonResult;                                                                              </span>
<span class="-7574536783671103865" onmouseenter="enter('-7574536783671103865');" onmouseout="out('-7574536783671103865');" style="">  10  import cn.crap.framework.MyException;                                                                             </span>
<span class="-4522781807489195049" onmouseenter="enter('-4522781807489195049');" onmouseout="out('-4522781807489195049');" style="">  11  import cn.crap.framework.base.BaseController;                                                                     </span>
<span class="4903612087055488212" onmouseenter="enter('4903612087055488212');" onmouseout="out('4903612087055488212');" style="">  12  import cn.crap.framework.interceptor.AuthPassport;                                                                </span>
<span class="6918812738981283976" onmouseenter="enter('6918812738981283976');" onmouseout="out('6918812738981283976');" style="">  13  import cn.crap.model.mybatis.Error;                                                                               </span>
<span class="7947320592764196414" onmouseenter="enter('7947320592764196414');" onmouseout="out('7947320592764196414');" style="">  14  import cn.crap.model.mybatis.*;                                                                                   </span>







<span class="2810978048240697020" onmouseenter="enter('2810978048240697020');" onmouseout="out('2810978048240697020');" style="">  15  import cn.crap.service.ISearchService;                                                                            </span>
<span class="3204752822407608187" onmouseenter="enter('3204752822407608187');" onmouseout="out('3204752822407608187');" style="">  16  import cn.crap.service.custom.CustomErrorService;                                                                 </span>
<span class="-5830266922446194054" onmouseenter="enter('-5830266922446194054');" onmouseout="out('-5830266922446194054');" style="">  17  import cn.crap.service.custom.CustomInterfaceService;                                                             </span>
<span class="3152424729930326541" onmouseenter="enter('3152424729930326541');" onmouseout="out('3152424729930326541');" style="">  18  import cn.crap.service.mybatis.InterfaceService;                                                                  </span>
<span class="4279274079824086333" onmouseenter="enter('4279274079824086333');" onmouseout="out('4279274079824086333');" style="">  19  import cn.crap.beans.Config;                                                                                      </span>

<span class="3571843901690526929" onmouseenter="enter('3571843901690526929');" onmouseout="out('3571843901690526929');" style="">  20  import cn.crap.utils.*;                                                                                           </span>
<span class="9045939009765002950" onmouseenter="enter('9045939009765002950');" onmouseout="out('9045939009765002950');" style="">  21  import net.sf.json.JSONArray;                                                                                     </span>

<span class="-6148326362900055524" onmouseenter="enter('-6148326362900055524');" onmouseout="out('-6148326362900055524');" style="">  22  import org.springframework.beans.factory.annotation.Autowired;                                                    </span>
<span class="4128309806836178094" onmouseenter="enter('4128309806836178094');" onmouseout="out('4128309806836178094');" style="">  23  import org.springframework.stereotype.Controller;                                                                 </span>
<span class="7608804911988512946" onmouseenter="enter('7608804911988512946');" onmouseout="out('7608804911988512946');" style="">  24  import org.springframework.util.Assert;                                                                           </span>
<span class="2718246165073723950" onmouseenter="enter('2718246165073723950');" onmouseout="out('2718246165073723950');" style="">  25  import org.springframework.web.bind.annotation.ModelAttribute;                                                    </span>
<span class="-7989471178862524182" onmouseenter="enter('-7989471178862524182');" onmouseout="out('-7989471178862524182');" style="">  26  import org.springframework.web.bind.annotation.RequestMapping;                                                    </span>
<span class="-8913037601281016619" onmouseenter="enter('-8913037601281016619');" onmouseout="out('-8913037601281016619');" style="">  27  import org.springframework.web.bind.annotation.RequestParam;                                                      </span>
<span class="-7662224364501075428" onmouseenter="enter('-7662224364501075428');" onmouseout="out('-7662224364501075428');" style="">  28  import org.springframework.web.bind.annotation.ResponseBody;                                                      </span>
<span  style="">  29                                                                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  30  import java.io.IOException;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  31  import java.util.Date;                                                                                            </span>

<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  32  import java.util.List;                                                                                            </span>

<span  style="">  33                                                                                                                    </span>
<span class="4777805177773543995" onmouseenter="enter('4777805177773543995');" onmouseout="out('4777805177773543995');" style="">  34  @Controller                                                                                                       </span>
<span class="-1946225143665328935" onmouseenter="enter('-1946225143665328935');" onmouseout="out('-1946225143665328935');" style="">  35  @RequestMapping(&quot;/user/interface&quot;)                                                                                </span>
<span class="6388668049573310758" onmouseenter="enter('6388668049573310758');" onmouseout="out('6388668049573310758');" style="">  36  public class InterfaceController extends BaseController{                                                          </span>
<span  style="">  37                                                                                                                    </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  38  	@Autowired                                                                                                       </span>
<span class="2899478971554593826" onmouseenter="enter('2899478971554593826');" onmouseout="out('2899478971554593826');" style="">  39  	private CustomInterfaceService customInterfaceService;                                                           </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  40  	@Autowired                                                                                                       </span>
<span class="7679472003521629176" onmouseenter="enter('7679472003521629176');" onmouseout="out('7679472003521629176');" style="">  41  	private InterfaceService mybatisInterfaceService;                                                                </span>

<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  42  	@Autowired                                                                                                       </span>
<span class="-925519006397285322" onmouseenter="enter('-925519006397285322');" onmouseout="out('-925519006397285322');" style="">  43  	private ISearchService luceneService;                                                                            </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  44  	@Autowired                                                                                                       </span>
<span class="-5513827626367361969" onmouseenter="enter('-5513827626367361969');" onmouseout="out('-5513827626367361969');" style="">  45  	private CustomErrorService customErrorService;                                                                   </span>
<span class="5554564923016007608" onmouseenter="enter('5554564923016007608');" onmouseout="out('5554564923016007608');" style="">  46  	@Autowired                                                                                                       </span>
<span class="-3607813097408339844" onmouseenter="enter('-3607813097408339844');" onmouseout="out('-3607813097408339844');" style="">  47  	private Config config;                                                                                           </span>
<span  style="">  48                                                                                                                    </span>

<span  style="">  49                                                                                                                    </span>
<span class="3216165995479628896" onmouseenter="enter('3216165995479628896');" onmouseout="out('3216165995479628896');" style="">  50  	@RequestMapping(&quot;/list.do&quot;)                                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  51  	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style="">  52  	@AuthPassport                                                                                                    </span>
<span class="406281474848555250" onmouseenter="enter('406281474848555250');" onmouseout="out('406281474848555250');" style="">  53  	public JsonResult list(@RequestParam String moduleId, String interfaceName, String url,                          </span>
<span class="6957141086400891835" onmouseenter="enter('6957141086400891835');" onmouseout="out('6957141086400891835');" style="">  54  			 Integer currentPage) throws MyException{                                                                      </span>
<span class="-3788017470690474402" onmouseenter="enter('-3788017470690474402');" onmouseout="out('-3788017470690474402');" style="">  55  		Page page= new Page(currentPage);                                                                               </span>
<span class="-1257262529751619377" onmouseenter="enter('-1257262529751619377');" onmouseout="out('-1257262529751619377');" style="">  56  		checkUserPermissionByModuleId(moduleId, VIEW);                                                                  </span>
<span  style="">  57                                                                                                                    </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style="">  58  		InterfaceCriteria example = new InterfaceCriteria();                                                            </span>
<span class="877235730442223421" onmouseenter="enter('877235730442223421');" onmouseout="out('877235730442223421');" style="">  59  		InterfaceCriteria.Criteria criteria = example.createCriteria().andModuleIdEqualTo(moduleId);                    </span>
<span class="5947007371237771236" onmouseenter="enter('5947007371237771236');" onmouseout="out('5947007371237771236');" style="">  60  		if (!MyString.isEmpty(interfaceName)){                                                                          </span>
<span class="-1349920481569799161" onmouseenter="enter('-1349920481569799161');" onmouseout="out('-1349920481569799161');" style="">  61  			criteria.andInterfaceNameLike(&quot;%&quot; + interfaceName + &quot;%&quot;);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  62  		}                                                                                                               </span>
<span class="-3262307933636202428" onmouseenter="enter('-3262307933636202428');" onmouseout="out('-3262307933636202428');" style="">  63  		if (!MyString.isEmpty(url)){                                                                                    </span>
<span class="-6698610763898127298" onmouseenter="enter('-6698610763898127298');" onmouseout="out('-6698610763898127298');" style="">  64  			criteria.andFullUrlLike(&quot;%&quot; + url + &quot;%&quot;);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65  		}                                                                                                               </span>
<span class="1112952252269419270" onmouseenter="enter('1112952252269419270');" onmouseout="out('1112952252269419270');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +		example.setLimitStart(page.getStart());                                                                         </span>
<span class="-4311839423825542362" onmouseenter="enter('-4311839423825542362');" onmouseout="out('-4311839423825542362');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +		example.setMaxResults(page.getSize());                                                                          </span>
<span  style="">  68                                                                                                                    </span>
<span class="-8743619996132367741" onmouseenter="enter('-8743619996132367741');" onmouseout="out('-8743619996132367741');" style=""><abbr title="  69  		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example), null);">  69  		List&lt;InterfaceDto&gt; interfaces = InterfaceAdapter.getDto(mybatisInterfaceService.selectByExampleWithBLOBs(example🔵</abbr></span>
<span class="7334426988050538035" onmouseenter="enter('7334426988050538035');" onmouseout="out('7334426988050538035');" style="">  70          page.setAllRow(mybatisInterfaceService.countByExample(example));                                          </span>










<span class="-6516659540432669121" onmouseenter="enter('-6516659540432669121');" onmouseout="out('-6516659540432669121');" style="">  71  		JsonResult result = new JsonResult(1, interfaces, page);                                                        </span>
<span class="-3039605850617260143" onmouseenter="enter('-3039605850617260143');" onmouseout="out('-3039605850617260143');" style="">  72  		result.putOthers(&quot;crumbs&quot;, Tools.getCrumbs(&quot;接口列表:&quot;+ moduleCache.get(moduleId).getName(),&quot;void&quot;))                </span>
<span class="-2242017820679200314" onmouseenter="enter('-2242017820679200314');" onmouseout="out('-2242017820679200314');" style="">  73  				.putOthers(&quot;module&quot;, moduleCache.get(moduleId));                                                              </span>

<span  style="">  74                                                                                                                    </span>
<span class="-6419540350677864751" onmouseenter="enter('-6419540350677864751');" onmouseout="out('-6419540350677864751');" style="">  75  		return result;                                                                                                  </span>
<span  style="">  76                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77  	}                                                                                                                </span>
<span  style="">  78                                                                                                                    </span>
<span class="-557002042091694149" onmouseenter="enter('-557002042091694149');" onmouseout="out('-557002042091694149');" style="">  79  	@RequestMapping(&quot;/detail.do&quot;)                                                                                    </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style="">  80  	@ResponseBody                                                                                                    </span>
<span class="-7956266425262709264" onmouseenter="enter('-7956266425262709264');" onmouseout="out('-7956266425262709264');" style="">  81  	public JsonResult detail(String id, String moduleId) throws MyException {                                        </span>

<span class="-5013732608106508542" onmouseenter="enter('-5013732608106508542');" onmouseout="out('-5013732608106508542');" style="">  82  		InterfaceWithBLOBs model;                                                                                       </span>
<span class="6526027684909256553" onmouseenter="enter('6526027684909256553');" onmouseout="out('6526027684909256553');" style="">  83  		Module module = null;                                                                                           </span>

<span class="-6983393444998086393" onmouseenter="enter('-6983393444998086393');" onmouseout="out('-6983393444998086393');" style="">  84  		if(id != null){                                                                                                 </span>
<span class="2136695934268049965" onmouseenter="enter('2136695934268049965');" onmouseout="out('2136695934268049965');" style="">  85  			model= mybatisInterfaceService.getById(id);                                                                    </span>

<span class="1040064000347861178" onmouseenter="enter('1040064000347861178');" onmouseout="out('1040064000347861178');" style="">  86  			module = moduleCache.get(model.getModuleId());                                                                 </span>
<span class="-185843402063825431" onmouseenter="enter('-185843402063825431');" onmouseout="out('-185843402063825431');" style="">  87  			checkUserPermissionByProject(model.getProjectId(), VIEW);                                                      </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style="">  88  		}else{                                                                                                          </span>
<span class="-7029962562203235323" onmouseenter="enter('-7029962562203235323');" onmouseout="out('-7029962562203235323');" style="">  89  			model = new InterfaceWithBLOBs();                                                                              </span>
<span class="-2587857982027861322" onmouseenter="enter('-2587857982027861322');" onmouseout="out('-2587857982027861322');" style="">  90  			module = moduleCache.get(moduleId);                                                                            </span>
<span class="-853942339085784102" onmouseenter="enter('-853942339085784102');" onmouseout="out('-853942339085784102');" style="">  91  			model.setModuleId( moduleId);                                                                                  </span>
<span class="-5617097986837608318" onmouseenter="enter('-5617097986837608318');" onmouseout="out('-5617097986837608318');" style="">  92  			model.setProjectId(module.getProjectId());                                                                     </span>
<span class="4623621077757195404" onmouseenter="enter('4623621077757195404');" onmouseout="out('4623621077757195404');" style="">  93  			model.setParam(&quot;form=[]&quot;);                                                                                     </span>

<span class="-646854625022819456" onmouseenter="enter('-646854625022819456');" onmouseout="out('-646854625022819456');" style="">  94  			model.setResponseParam(&quot;[]&quot;);                                                                                  </span>
<span class="-7417036509485016685" onmouseenter="enter('-7417036509485016685');" onmouseout="out('-7417036509485016685');" style="">  95  			model.setHeader(&quot;[]&quot;);                                                                                         </span>
<span class="2272429349124999400" onmouseenter="enter('2272429349124999400');" onmouseout="out('2272429349124999400');" style="">  96  			model.setParamRemark(&quot;[]&quot;);                                                                                    </span>
<span class="-8254387329445674854" onmouseenter="enter('-8254387329445674854');" onmouseout="out('-8254387329445674854');" style="">  97  			if(!MyString.isEmpty(module.getTemplateId())){                                                                 </span>
<span class="15965008614372872" onmouseenter="enter('15965008614372872');" onmouseout="out('15965008614372872');" style="">  98  				InterfaceWithBLOBs template = mybatisInterfaceService.getById(module.getTemplateId());                        </span>








<span class="5678506116785444717" onmouseenter="enter('5678506116785444717');" onmouseout="out('5678506116785444717');" style="">  99  				// 根据模板初始化接口                                                                                                  </span>
<span class="-4452779201008749745" onmouseenter="enter('-4452779201008749745');" onmouseout="out('-4452779201008749745');" style=""> 100  				if(template != null){                                                                                         </span>
<span class="5089751341604219548" onmouseenter="enter('5089751341604219548');" onmouseout="out('5089751341604219548');" style=""> 101  					model.setHeader(template.getHeader());                                                                       </span>
<span class="-7527905069934626121" onmouseenter="enter('-7527905069934626121');" onmouseout="out('-7527905069934626121');" style=""> 102  					model.setParam(template.getParam());                                                                         </span>
<span class="-7059470924530166388" onmouseenter="enter('-7059470924530166388');" onmouseout="out('-7059470924530166388');" style=""> 103  					model.setMethod(template.getMethod());                                                                       </span>
<span class="5940911261599321088" onmouseenter="enter('5940911261599321088');" onmouseout="out('5940911261599321088');" style=""> 104  					model.setVersion(template.getVersion());                                                                     </span>
<span class="-3448468761886356175" onmouseenter="enter('-3448468761886356175');" onmouseout="out('-3448468761886356175');" style=""> 105  					model.setParamRemark(template.getParamRemark());                                                             </span>
<span class="1622152235047204734" onmouseenter="enter('1622152235047204734');" onmouseout="out('1622152235047204734');" style=""> 106  					model.setResponseParam(template.getResponseParam());                                                         </span>
<span class="-6414379266760239220" onmouseenter="enter('-6414379266760239220');" onmouseout="out('-6414379266760239220');" style=""> 107  					model.setErrorList(template.getErrorList());                                                                 </span>
<span class="-379237002060688021" onmouseenter="enter('-379237002060688021');" onmouseout="out('-379237002060688021');" style=""> 108  					model.setErrors(template.getErrors());                                                                       </span>
<span class="2306293464665606986" onmouseenter="enter('2306293464665606986');" onmouseout="out('2306293464665606986');" style=""> 109  					model.setFalseExam(template.getFalseExam());                                                                 </span>
<span class="5307078882417853010" onmouseenter="enter('5307078882417853010');" onmouseout="out('5307078882417853010');" style=""> 110  					model.setTrueExam(template.getTrueExam());                                                                   </span>
<span class="-994236842464253118" onmouseenter="enter('-994236842464253118');" onmouseout="out('-994236842464253118');" style=""> 111  					model.setStatus(template.getStatus());                                                                       </span>
<span class="-2721857626840181883" onmouseenter="enter('-2721857626840181883');" onmouseout="out('-2721857626840181883');" style=""> 112  					model.setContentType(template.getContentType());                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113  				}                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114  			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115  		}                                                                                                               </span>
<span class="-3285112137533597017" onmouseenter="enter('-3285112137533597017');" onmouseout="out('-3285112137533597017');" style=""> 116  		return new JsonResult(1, InterfaceAdapter.getDto(model, module, false));                                        </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117  	}                                                                                                                </span>
<span  style=""> 118                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 119  	/**                                                                                                              </span>
<span class="-4379264201720330868" onmouseenter="enter('-4379264201720330868');" onmouseout="out('-4379264201720330868');" style=""> 120  	 * @param interFace                                                                                              </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 121  	 * @return                                                                                                       </span>
<span class="-5665355684135370133" onmouseenter="enter('-5665355684135370133');" onmouseout="out('-5665355684135370133');" style=""> 122  	 * @throws MyException                                                                                           </span>
<span class="-2042953791166134795" onmouseenter="enter('-2042953791166134795');" onmouseout="out('-2042953791166134795');" style=""> 123  	 * @throws IOException                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 124  	 */                                                                                                              </span>
<span class="3944392597235221522" onmouseenter="enter('3944392597235221522');" onmouseout="out('3944392597235221522');" style=""> 125  	@RequestMapping(&quot;/copy.do&quot;)                                                                                      </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 126  	@ResponseBody                                                                                                    </span>
<span class="1639735162589969103" onmouseenter="enter('1639735162589969103');" onmouseout="out('1639735162589969103');" style=""> 127  	public JsonResult copy(@ModelAttribute InterfaceDto interFace) throws MyException, IOException {                 </span>
<span class="-8206169773439054267" onmouseenter="enter('-8206169773439054267');" onmouseout="out('-8206169773439054267');" style=""> 128  		//判断是否拥有该模块的权限                                                                                                  </span>
<span class="2279808889297804532" onmouseenter="enter('2279808889297804532');" onmouseout="out('2279808889297804532');" style=""> 129  		checkUserPermissionByProject(interFace.getProjectId(), ADD_INTER);                                              </span>
<span class="4900000768952865515" onmouseenter="enter('4900000768952865515');" onmouseout="out('4900000768952865515');" style=""> 130  		Module module = moduleCache.get(interFace.getModuleId());                                                       </span>
<span  style=""> 131                                                                                                                    </span>
<span class="6932488038728960880" onmouseenter="enter('6932488038728960880');" onmouseout="out('6932488038728960880');" style=""> 132  		if(!config.isCanRepeatUrl()){                                                                                   </span>
<span class="79352456157947925" onmouseenter="enter('79352456157947925');" onmouseout="out('79352456157947925');" style=""> 133  			InterfaceCriteria example = new InterfaceCriteria();                                                           </span>
<span class="1875924719643896699" onmouseenter="enter('1875924719643896699');" onmouseout="out('1875924719643896699');" style=""> 134  			InterfaceCriteria.Criteria criteria = example.createCriteria();                                                </span>
<span class="8511472322804707057" onmouseenter="enter('8511472322804707057');" onmouseout="out('8511472322804707057');" style=""> 135  			criteria.andModuleIdEqualTo(interFace.getModuleId()).andFullUrlEqualTo(module.getUrl() + interFace.getUrl());  </span>
<span class="4391789810700113516" onmouseenter="enter('4391789810700113516');" onmouseout="out('4391789810700113516');" style=""> 136  			if (mybatisInterfaceService.countByExample(example) &gt; 0){                                                      </span>












<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 137  				throw new MyException(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138  			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139  		}                                                                                                               </span>

<span class="-4927829934273936544" onmouseenter="enter('-4927829934273936544');" onmouseout="out('-4927829934273936544');" style=""> 140  		interFace.setId(null);                                                                                          </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style=""> 141  		interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                     </span>
<span class="-8789612314220373117" onmouseenter="enter('-8789612314220373117');" onmouseout="out('-8789612314220373117');" style=""> 142  		mybatisInterfaceService.insert(InterfaceAdapter.getModel(interFace));                                           </span>
<span  style=""> 143                                                                                                                    </span>








<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 144  		luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                                    </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 145  		return new JsonResult(1, interFace);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146  	}                                                                                                                </span>
<span  style=""> 147                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 148  	/**                                                                                                              </span>
<span class="-7492619764061686694" onmouseenter="enter('-7492619764061686694');" onmouseout="out('-7492619764061686694');" style=""> 149  	 * 根据参数生成请求示例                                                                                                    </span>
<span class="-4379264201720330868" onmouseenter="enter('-4379264201720330868');" onmouseout="out('-4379264201720330868');" style=""> 150  	 * @param interFace                                                                                              </span>
<span class="-9165797340485297481" onmouseenter="enter('-9165797340485297481');" onmouseout="out('-9165797340485297481');" style=""> 151  	 * @return                                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152  	 */                                                                                                              </span>
<span class="4685904336828752448" onmouseenter="enter('4685904336828752448');" onmouseout="out('4685904336828752448');" style=""> 153  	@RequestMapping(&quot;/getRequestExam.do&quot;)                                                                            </span>

<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 154  	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 155  	@AuthPassport                                                                                                    </span>
<span class="3638284629125143669" onmouseenter="enter('3638284629125143669');" onmouseout="out('3638284629125143669');" style=""> 156  	public JsonResult getRequestExam(@ModelAttribute InterfaceDto interFace) {                                       </span>
<span class="-551733375967960079" onmouseenter="enter('-551733375967960079');" onmouseout="out('-551733375967960079');" style=""> 157  		customInterfaceService.getInterFaceRequestExam(interFace);                                                      </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 158  		return new JsonResult(1, interFace);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159  	}                                                                                                                </span>
<span  style=""> 160                                                                                                                    </span>
<span class="9102117119873215850" onmouseenter="enter('9102117119873215850');" onmouseout="out('9102117119873215850');" style=""> 161  	@RequestMapping(&quot;/addOrUpdate.do&quot;)                                                                               </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 162  	@ResponseBody                                                                                                    </span>
<span class="381720208389073649" onmouseenter="enter('381720208389073649');" onmouseout="out('381720208389073649');" style=""> 163  	@AuthPassport                                                                                                    </span>
<span class="-2371211080264372097" onmouseenter="enter('-2371211080264372097');" onmouseout="out('-2371211080264372097');" style=""> 164  	public JsonResult addOrUpdate(@ModelAttribute InterfaceDto interFace) throws IOException, MyException {          </span>
<span class="-7246000527363885378" onmouseenter="enter('-7246000527363885378');" onmouseout="out('-7246000527363885378');" style=""> 165  		Assert.notNull(interFace.getProjectId(), &quot;projectId can&#x27;t be null&quot;);                                            </span>
<span  style=""> 166                                                                                                                    </span>
<span class="3680314398792253191" onmouseenter="enter('3680314398792253191');" onmouseout="out('3680314398792253191');" style=""> 167  		if(MyString.isEmpty(interFace.getUrl())) {                                                                      </span>
<span class="-2022936812063158899" onmouseenter="enter('-2022936812063158899');" onmouseout="out('-2022936812063158899');" style=""> 168  			return new JsonResult(MyError.E000005);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169  		}                                                                                                               </span>
<span class="-1520907386631176867" onmouseenter="enter('-1520907386631176867');" onmouseout="out('-1520907386631176867');" style=""> 170  		interFace.setUrl(interFace.getUrl().trim());                                                                    </span>














<span  style=""> 171                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 172  		/**                                                                                                             </span>
<span class="7045250225799015466" onmouseenter="enter('7045250225799015466');" onmouseout="out('7045250225799015466');" style=""> 173  		 * 根据选着的错误码id，组装json字符串                                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 174  		 */                                                                                                             </span>
<span class="28798638763014117" onmouseenter="enter('28798638763014117');" onmouseout="out('28798638763014117');" style=""> 175  		String errorIds = interFace.getErrorList();                                                                     </span>
<span class="-3521543674443001094" onmouseenter="enter('-3521543674443001094');" onmouseout="out('-3521543674443001094');" style=""><abbr title=" 176  		List&lt;Error&gt; errors  = customErrorService.queryByProjectIdAndErrorCode(interFace.getProjectId(), Tools.getIdsFromField(errorIds));"> 176  		List&lt;Error&gt; errors  = customErrorService.queryByProjectIdAndErrorCode(interFace.getProjectId(), Tools.getIdsFrom🔵</abbr></span>
<span class="8099633558915995513" onmouseenter="enter('8099633558915995513');" onmouseout="out('8099633558915995513');" style=""> 177  		interFace.setErrors(JSONArray.fromObject(errors).toString());                                                   </span>



<span  style=""> 178                                                                                                                    </span>
<span class="1766529869277441370" onmouseenter="enter('1766529869277441370');" onmouseout="out('1766529869277441370');" style=""> 179  		LoginInfoDto user = LoginUserHelper.getUser();                                                                  </span>
<span class="3045017157654780991" onmouseenter="enter('3045017157654780991');" onmouseout="out('3045017157654780991');" style=""> 180  		interFace.setUpdateBy(&quot;userName：&quot;+user.getUserName()+&quot; | trueName：&quot;+ user.getTrueName());                       </span>
<span  style=""> 181                                                                                                                    </span>
<span class="8532154523355485279" onmouseenter="enter('8532154523355485279');" onmouseout="out('8532154523355485279');" style=""> 182  		//请求示例为空，则自动添加                                                                                                  </span>
<span class="4679476040111179483" onmouseenter="enter('4679476040111179483');" onmouseout="out('4679476040111179483');" style=""> 183  		if(MyString.isEmpty(interFace.getRequestExam())){                                                               </span>
<span class="-551733375967960079" onmouseenter="enter('-551733375967960079');" onmouseout="out('-551733375967960079');" style=""> 184  			customInterfaceService.getInterFaceRequestExam(interFace);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185  		}                                                                                                               </span>
<span class="2009751668094616815" onmouseenter="enter('2009751668094616815');" onmouseout="out('2009751668094616815');" style=""> 186          interFace.setMonitorType(MonitorType.No.getValue());                                                      </span>
<span class="-941211001760564316" onmouseenter="enter('-941211001760564316');" onmouseout="out('-941211001760564316');" style=""> 187  		//检查邮件格式是否正确                                                                                                    </span>
<span class="-22728527345241303" onmouseenter="enter('-22728527345241303');" onmouseout="out('-22728527345241303');" style=""> 188  		/**if(interFace.getMonitorType() != MonitorType.No.getValue()){                                                 </span>
<span class="6470615935665347659" onmouseenter="enter('6470615935665347659');" onmouseout="out('6470615935665347659');" style=""> 189  			if(!MyString.isEmpty(interFace.getMonitorEmails())){                                                           </span>
<span class="9144489970704028395" onmouseenter="enter('9144489970704028395');" onmouseout="out('9144489970704028395');" style=""> 190  				for(String email : interFace.getMonitorEmails().split(&quot;;&quot;)){                                                  </span>
<span class="1445021202833529364" onmouseenter="enter('1445021202833529364');" onmouseout="out('1445021202833529364');" style=""> 191  					if( !Tools.checkEmail(email) ){                                                                              </span>
<span class="7348859531950873456" onmouseenter="enter('7348859531950873456');" onmouseout="out('7348859531950873456');" style=""> 192  						throw new MyException(E000032&quot;);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193  					}                                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194  				}                                                                                                             </span>
<span class="2918192000430827733" onmouseenter="enter('2918192000430827733');" onmouseout="out('2918192000430827733');" style=""> 195  			}else{                                                                                                         </span>
<span class="7348859531950873456" onmouseenter="enter('7348859531950873456');" onmouseout="out('7348859531950873456');" style=""> 196  				throw new MyException(E000032&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197  			}                                                                                                              </span>
<span class="4278934915650879980" onmouseenter="enter('4278934915650879980');" onmouseout="out('4278934915650879980');" style=""> 198  		}**/                                                                                                            </span>
<span  style=""> 199                                                                                                                    </span>
<span class="4900000768952865515" onmouseenter="enter('4900000768952865515');" onmouseout="out('4900000768952865515');" style=""> 200  		Module module = moduleCache.get(interFace.getModuleId());                                                       </span>
<span class="5243642841384736036" onmouseenter="enter('5243642841384736036');" onmouseout="out('5243642841384736036');" style=""> 201  		if (!MyString.isEmpty(interFace.getId())) {                                                                     </span>
<span class="4634617091812320018" onmouseenter="enter('4634617091812320018');" onmouseout="out('4634617091812320018');" style=""> 202  			String oldModuleId = mybatisInterfaceService.getById(interFace.getId()).getModuleId();                         </span>
<span class="-2347736199422220093" onmouseenter="enter('-2347736199422220093');" onmouseout="out('-2347736199422220093');" style=""> 203  			String projectId = moduleCache.get(oldModuleId).getProjectId();                                                </span>
<span class="3404097771773836763" onmouseenter="enter('3404097771773836763');" onmouseout="out('3404097771773836763');" style=""> 204  			Project project = projectCache.get(interFace.getProjectId() );                                                 </span>
<span  style=""> 205                                                                                                                    </span>
<span class="8257633002726469813" onmouseenter="enter('8257633002726469813');" onmouseout="out('8257633002726469813');" style=""> 206  			// 接口只能在同一个项目下的模块中移动                                                                                           </span>
<span class="-8654578892208964423" onmouseenter="enter('-8654578892208964423');" onmouseout="out('-8654578892208964423');" style=""> 207  			if( !projectId.equals(project.getId())){                                                                       </span>
<span class="3828115358811128245" onmouseenter="enter('3828115358811128245');" onmouseout="out('3828115358811128245');" style=""> 208  				throw new MyException(MyError.E000047);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209  			}                                                                                                              </span>





<span class="7913111081342953879" onmouseenter="enter('7913111081342953879');" onmouseout="out('7913111081342953879');" style=""> 210  			// 判断是否有修改模块的权限                                                                                                </span>
<span class="-3388185289221243217" onmouseenter="enter('-3388185289221243217');" onmouseout="out('-3388185289221243217');" style=""> 211  			checkUserPermissionByProject(project, MOD_INTER);                                                              </span>


<span  style=""> 212                                                                                                                    </span>
<span class="-2337234168619506843" onmouseenter="enter('-2337234168619506843');" onmouseout="out('-2337234168619506843');" style=""> 213  			//同一模块下不允许 url 重复                                                                                              </span>
<span class="-1727492280611767040" onmouseenter="enter('-1727492280611767040');" onmouseout="out('-1727492280611767040');" style=""> 214  			if( !config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),                 </span>
<span class="1797095910007032596" onmouseenter="enter('1797095910007032596');" onmouseout="out('1797095910007032596');" style=""> 215  					module.getUrl() +interFace.getUrl(), interFace.getId()) &gt;0 ){                                                </span>


<span class="9002550931415075161" onmouseenter="enter('9002550931415075161');" onmouseout="out('9002550931415075161');" style=""> 216  				throw new MyException(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217  			}                                                                                                              </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style=""> 219  			interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                    </span>
<span class="-1055638939010755303" onmouseenter="enter('-1055638939010755303');" onmouseout="out('-1055638939010755303');" style=""> 220  			customInterfaceService.update(InterfaceAdapter.getModel(interFace), &quot;接口&quot;, &quot;&quot;);                                 </span>
<span class="40941063765621390" onmouseenter="enter('40941063765621390');" onmouseout="out('40941063765621390');" style=""> 221  			if(interFace.getId().equals(interFace.getProjectId())){                                                        </span>
<span class="8284136097153874854" onmouseenter="enter('8284136097153874854');" onmouseout="out('8284136097153874854');" style=""> 222  				throw new MyException(MyError.E000027);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223  			}                                                                                                              </span>
<span class="-8095562614157245048" onmouseenter="enter('-8095562614157245048');" onmouseout="out('-8095562614157245048');" style=""> 224  			luceneService.update(InterfaceAdapter.getSearchDto(interFace));                                                </span>
<span  style=""> 225                                                                                                                    </span>

<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 226  		} else {                                                                                                        </span>
<span class="-7477248359633755306" onmouseenter="enter('-7477248359633755306');" onmouseout="out('-7477248359633755306');" style=""> 227  			checkUserPermissionByProject(projectCache.get(interFace.getProjectId() ), ADD_INTER);                          </span>
<span class="7893577801508787229" onmouseenter="enter('7893577801508787229');" onmouseout="out('7893577801508787229');" style=""><abbr title=" 228  			if(!config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),module.getUrl() + interFace.getUrl(), null)&gt;0){"> 228  			if(!config.isCanRepeatUrl() &amp;&amp; customInterfaceService.countByFullUrl(interFace.getModuleId(),module.getUrl() + 🔵</abbr></span>



<span class="8772628239303623293" onmouseenter="enter('8772628239303623293');" onmouseout="out('8772628239303623293');" style=""> 229  				return new JsonResult(MyError.E000004);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230  			}                                                                                                              </span>
<span class="5384413444251314180" onmouseenter="enter('5384413444251314180');" onmouseout="out('5384413444251314180');" style=""> 231  			interFace.setFullUrl(module.getUrl() + interFace.getUrl());                                                    </span>
<span class="-8789612314220373117" onmouseenter="enter('-8789612314220373117');" onmouseout="out('-8789612314220373117');" style=""> 232  			mybatisInterfaceService.insert(InterfaceAdapter.getModel(interFace));                                          </span>
<span class="6969598331868004910" onmouseenter="enter('6969598331868004910');" onmouseout="out('6969598331868004910');" style=""> 233  			luceneService.add(InterfaceAdapter.getSearchDto(interFace));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234  		}                                                                                                               </span>
<span class="6925597905290627630" onmouseenter="enter('6925597905290627630');" onmouseout="out('6925597905290627630');" style=""> 235  		return new JsonResult(1, interFace);                                                                            </span>



































































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236  	}                                                                                                                </span>
<span  style=""> 237                                                                                                                    </span>
<span class="3908622465717054108" onmouseenter="enter('3908622465717054108');" onmouseout="out('3908622465717054108');" style=""> 238  	@RequestMapping(&quot;/delete.do&quot;)                                                                                    </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 239  	@ResponseBody                                                                                                    </span>
<span class="-5585810528016230380" onmouseenter="enter('-5585810528016230380');" onmouseout="out('-5585810528016230380');" style=""> 240  	public JsonResult delete(String id, String ids) throws MyException, IOException{                                 </span>
<span class="5500260682396997685" onmouseenter="enter('5500260682396997685');" onmouseout="out('5500260682396997685');" style=""> 241  		if( MyString.isEmpty(id) &amp;&amp; MyString.isEmpty(ids)){                                                             </span>
<span class="5841283794467303202" onmouseenter="enter('5841283794467303202');" onmouseout="out('5841283794467303202');" style=""> 242  			throw new MyException(MyError.E000029);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243  		}                                                                                                               </span>
<span class="-8135195691626680328" onmouseenter="enter('-8135195691626680328');" onmouseout="out('-8135195691626680328');" style=""> 244  		if( MyString.isEmpty(ids) ){                                                                                    </span>
<span class="3511947876673837079" onmouseenter="enter('3511947876673837079');" onmouseout="out('3511947876673837079');" style=""> 245  			ids = id;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246  		}                                                                                                               </span>
<span  style=""> 247                                                                                                                    </span>
<span class="-2656961914898447548" onmouseenter="enter('-2656961914898447548');" onmouseout="out('-2656961914898447548');" style=""> 248  		for(String tempId : ids.split(&quot;,&quot;)){                                                                            </span>
<span class="-3040966783477954494" onmouseenter="enter('-3040966783477954494');" onmouseout="out('-3040966783477954494');" style=""> 249  			if(MyString.isEmpty(tempId)){                                                                                  </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 250  				continue;                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251  			}                                                                                                              </span>
<span class="4615658532965343080" onmouseenter="enter('4615658532965343080');" onmouseout="out('4615658532965343080');" style=""> 252  			InterfaceWithBLOBs interFace = mybatisInterfaceService.getById( tempId );                                      </span>
<span class="-3259762685715036382" onmouseenter="enter('-3259762685715036382');" onmouseout="out('-3259762685715036382');" style=""> 253  			checkUserPermissionByProject(interFace.getProjectId(), DEL_INTER);                                             </span>
<span class="1056590746991860519" onmouseenter="enter('1056590746991860519');" onmouseout="out('1056590746991860519');" style=""> 254  			customInterfaceService.delete(interFace.getId(), &quot;接口&quot;, &quot;&quot;);                                                    </span>
<span class="2858649065821216875" onmouseenter="enter('2858649065821216875');" onmouseout="out('2858649065821216875');" style=""> 255  			luceneService.delete(new SearchDto(interFace.getId()));                                                        </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256  		}                                                                                                               </span>
<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 257  		return new JsonResult(1, null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258  	}                                                                                                                </span>
<span  style=""> 259                                                                                                                    </span>
<span class="3383448423842759854" onmouseenter="enter('3383448423842759854');" onmouseout="out('3383448423842759854');" style=""> 260  	@RequestMapping(&quot;/changeSequence.do&quot;)                                                                            </span>
<span class="3400436135683901540" onmouseenter="enter('3400436135683901540');" onmouseout="out('3400436135683901540');" style=""> 261  	@ResponseBody                                                                                                    </span>
<span class="-4262891591549373351" onmouseenter="enter('-4262891591549373351');" onmouseout="out('-4262891591549373351');" style=""> 262  	public JsonResult changeSequence(@RequestParam String id,@RequestParam String changeId) throws MyException {     </span>
<span class="-8109615337570232534" onmouseenter="enter('-8109615337570232534');" onmouseout="out('-8109615337570232534');" style=""> 263  		InterfaceWithBLOBs change = mybatisInterfaceService.getById(changeId);                                          </span>
<span class="-1139618140683157175" onmouseenter="enter('-1139618140683157175');" onmouseout="out('-1139618140683157175');" style=""> 264  		InterfaceWithBLOBs model = mybatisInterfaceService.getById(id);                                                 </span>
<span class="1373326694122548312" onmouseenter="enter('1373326694122548312');" onmouseout="out('1373326694122548312');" style=""> 265  		checkUserPermissionByProject(model.getProjectId(), MOD_INTER);                                                  </span>
<span class="9185443680929913036" onmouseenter="enter('9185443680929913036');" onmouseout="out('9185443680929913036');" style=""> 266  		checkUserPermissionByProject(change.getProjectId(), MOD_INTER);                                                 </span>




<span  style=""> 267                                                                                                                    </span>
<span class="-6471227968333011823" onmouseenter="enter('-6471227968333011823');" onmouseout="out('-6471227968333011823');" style=""> 268  		int modelSequence = model.getSequence();                                                                        </span>
<span  style=""> 269                                                                                                                    </span>
<span class="-7348627876629533627" onmouseenter="enter('-7348627876629533627');" onmouseout="out('-7348627876629533627');" style=""> 270  		model.setSequence(change.getSequence());                                                                        </span>
<span class="-8403247859037350919" onmouseenter="enter('-8403247859037350919');" onmouseout="out('-8403247859037350919');" style=""> 271  		change.setSequence(modelSequence);                                                                              </span>
<span  style=""> 272                                                                                                                    </span>
<span class="-6504951827173969687" onmouseenter="enter('-6504951827173969687');" onmouseout="out('-6504951827173969687');" style=""> 273  		mybatisInterfaceService.update(model);                                                                          </span>
<span class="-8243206060953081636" onmouseenter="enter('-8243206060953081636');" onmouseout="out('-8243206060953081636');" style=""> 274  		mybatisInterfaceService.update(change);                                                                         </span>


<span class="-4157589009275146063" onmouseenter="enter('-4157589009275146063');" onmouseout="out('-4157589009275146063');" style=""> 275  		return new JsonResult(1, null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276  	}                                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            