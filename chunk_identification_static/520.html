<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>520</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    520
                    <a href="519.html">prev</a>
                    <a href="521.html">next</a>
                    <a href="520_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Freeyourgadget/Gadgetbridge_822759c2384323f7c4044ccb4438d39e36a5596a_app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil_hr/FossilHRWatchAdapter.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;822759c2384323f7c4044ccb4438d39e36a5596a:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil_hr/FossilHRWatchAdapter.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;822759c2384323f7c4044ccb4438d39e36a5596a^1:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil_hr/FossilHRWatchAdapter.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;822759c2384323f7c4044ccb4438d39e36a5596a^2:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil_hr/FossilHRWatchAdapter.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Freeyourgadget\Gadgetbridge show &quot;961c0aa97c2ba0879c9167a5ae3b423db0c27035:app/src/main/java/nodomain/freeyourgadget/gadgetbridge/service/devices/qhybrid/adapter/fossil_hr/FossilHRWatchAdapter.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-2997913422227863975" onmouseenter="enter('-2997913422227863975');" onmouseout="out('-2997913422227863975');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil_hr;                  </span>
<span  style="">   2                                                                                                          </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   3 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   4 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   5 import android.content.SharedPreferences;                                                                </span>
<span class="-6379310173182770238" onmouseenter="enter('-6379310173182770238');" onmouseout="out('-6379310173182770238');" style="">   6 import android.graphics.Bitmap;                                                                          </span>
<span class="-6358617885644310547" onmouseenter="enter('-6358617885644310547');" onmouseout="out('-6358617885644310547');" style="">   7 import android.graphics.Canvas;                                                                          </span>
<span class="-5868658801447575011" onmouseenter="enter('-5868658801447575011');" onmouseout="out('-5868658801447575011');" style="">   8 import android.graphics.Color;                                                                           </span>
<span class="-1586527322890291073" onmouseenter="enter('-1586527322890291073');" onmouseout="out('-1586527322890291073');" style="">   9 import android.graphics.Paint;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  10 import android.os.Build;                                                                                 </span>
<span  style="">  11                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  12 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  13 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  14 import org.json.JSONObject;                                                                              </span>
<span  style="">  15                                                                                                          </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  16 import java.io.IOException;                                                                              </span>
<span class="-6886346622632588502" onmouseenter="enter('-6886346622632588502');" onmouseout="out('-6886346622632588502');" style="">  17 import java.nio.ByteBuffer;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  18 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  19 import java.util.GregorianCalendar;                                                                      </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  20 import java.util.Random;                                                                                 </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  21 import java.util.TimeZone;                                                                               </span>
<span  style="">  22                                                                                                          </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  23 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7799465992823203826" onmouseenter="enter('-7799465992823203826');" onmouseout="out('-7799465992823203826');" style="">  24 import nodomain.freeyourgadget.gadgetbridge.Widget;                                                      </span>
<span class="3654131406467691963" onmouseenter="enter('3654131406467691963');" onmouseout="out('3654131406467691963');" style="">  25 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.HRConfigActivity;                            </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  26 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  27 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  28 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  29 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="">  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;   </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  34 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="7104057539707130818" onmouseenter="enter('7104057539707130818');" onmouseout="out('7104057539707130818');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title="  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.*;">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-7469566776689025802" onmouseenter="enter('-7469566776689025802');" onmouseout="out('-7469566776689025802');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title="  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteRequest;">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteReques🔵</abbr></span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  37 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;   </span>
<span class="-9112289504640649256" onmouseenter="enter('-9112289504640649256');" onmouseout="out('-9112289504640649256');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.encoder.RLEEncoder;                  </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="7104057539707130818" onmouseenter="enter('7104057539707130818');" onmouseout="out('7104057539707130818');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.*;">  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.Ver🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConf🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  46 =======                                                                                                  </span>
<span class="6112441966638764283" onmouseenter="enter('6112441966638764283');" onmouseout="out('6112441966638764283');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title="  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.TimeConfigItem;">  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  48 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style=""><abbr title="  50 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  50 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.Ver🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style=""><abbr title="  51 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  51 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConf🔵</abbr></span>
<span class="-7616394483813386160" onmouseenter="enter('-7616394483813386160');" onmouseout="out('-7616394483813386160');" style=""><abbr title="  52 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationGetRequest;">  52 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="1784930373847085070" onmouseenter="enter('1784930373847085070');" onmouseout="out('1784930373847085070');" style=""><abbr title="  53 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationPutRequest;">  53 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="-6690984262238362218" onmouseenter="enter('-6690984262238362218');" onmouseout="out('-6690984262238362218');" style="">  54 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFile;   </span>
<span class="-7479827832081411210" onmouseenter="enter('-7479827832081411210');" onmouseout="out('-7479827832081411210');" style=""><abbr title="  55 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutRequest;">  55 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutR🔵</abbr></span>
<span class="6886533222315535550" onmouseenter="enter('6886533222315535550');" onmouseout="out('6886533222315535550');" style="">  56 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImage; </span>
<span class="4714390797546975821" onmouseenter="enter('4714390797546975821');" onmouseout="out('4714390797546975821');" style=""><abbr title="  57 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFactory;">  57 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFa🔵</abbr></span>
<span class="-6584136629945154367" onmouseenter="enter('-6584136629945154367');" onmouseout="out('-6584136629945154367');" style=""><abbr title="  58 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetRequest;">  58 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetReq🔵</abbr></span>
<span class="-3572348114301784964" onmouseenter="enter('-3572348114301784964');" onmouseout="out('-3572348114301784964');" style=""><abbr title="  59 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMenuMessage;">  59 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMen🔵</abbr></span>
<span class="7919188738795660329" onmouseenter="enter('7919188738795660329');" onmouseout="out('7919188738795660329');" style=""><abbr title="  60 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest;">  60 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControl🔵</abbr></span>
<span class="1138328726217316685" onmouseenter="enter('1138328726217316685');" onmouseout="out('1138328726217316685');" style=""><abbr title="  61 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSetRequest;">  61 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSet🔵</abbr></span>
<span class="6618883795787964297" onmouseenter="enter('6618883795787964297');" onmouseout="out('6618883795787964297');" style=""><abbr title="  62 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidget;">  62 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="2778086687948821087" onmouseenter="enter('2778086687948821087');" onmouseout="out('2778086687948821087');" style=""><abbr title="  63 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidgetElement;">  63 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="-7098894210029330155" onmouseenter="enter('-7098894210029330155');" onmouseout="out('-7098894210029330155');" style="">  64 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.utils.StringUtils;                   </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  65 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span  style="">  66                                                                                                          </span>
<span class="-6920508692158968227" onmouseenter="enter('-6920508692158968227');" onmouseout="out('-6920508692158968227');" style=""><abbr title="  67 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_PHONE_REQUEST;">  67 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span class="1244615468169562272" onmouseenter="enter('1244615468169562272');" onmouseout="out('1244615468169562272');" style=""><abbr title="  68 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_WATCH_REQUEST;">  68 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span  style="">  69                                                                                                          </span>
<span class="3592572912775199945" onmouseenter="enter('3592572912775199945');" onmouseout="out('3592572912775199945');" style="">  70 public class FossilHRWatchAdapter extends FossilWatchAdapter {                                           </span>
<span class="6555826699522888981" onmouseenter="enter('6555826699522888981');" onmouseout="out('6555826699522888981');" style=""><abbr title="  71     private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 0x6D, (byte) 0x05, (byte) 0x5E, (byte) 0xDA, (byte) 0xF7, (byte) 0x4B, (byte) 0x49, (byte) 0x98, (byte) 0x78, (byte) 0x02, (byte) 0x38};">  71     private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2🔵</abbr></span>
<span class="5088344414276172788" onmouseenter="enter('5088344414276172788');" onmouseout="out('5088344414276172788');" style="">  72     private byte[] phoneRandomNumber;                                                                    </span>
<span class="-506162566914247320" onmouseenter="enter('-506162566914247320');" onmouseout="out('-506162566914247320');" style="">  73     private byte[] watchRandomNumber;                                                                    </span>
<span  style="">  74                                                                                                          </span>
<span class="963050401348146682" onmouseenter="enter('963050401348146682');" onmouseout="out('963050401348146682');" style="">  75     CustomWidget[] widgets;                                                                              </span>
<span  style="">  76                                                                                                          </span>
<span class="2535750949384339971" onmouseenter="enter('2535750949384339971');" onmouseout="out('2535750949384339971');" style="">  77     private MusicSpec currentSpec = null;                                                                </span>
<span  style="">  78                                                                                                          </span>
<span class="-6092139116600387375" onmouseenter="enter('-6092139116600387375');" onmouseout="out('-6092139116600387375');" style="">  79     int imageNameIndex = 0;                                                                              </span>
<span  style="">  80                                                                                                          </span>
<span class="-5170367685934262595" onmouseenter="enter('-5170367685934262595');" onmouseout="out('-5170367685934262595');" style="">  81     public FossilHRWatchAdapter(QHybridSupport deviceSupport) {                                          </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  82         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83     }                                                                                                    </span>
<span  style="">  84                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  85     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  86     public void initialize() {                                                                           </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  87         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-3436726469441820604" onmouseenter="enter('-3436726469441820604');" onmouseout="out('-3436726469441820604');" style="">  88             queueWrite(new RequestMtuRequest(512));                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89         }                                                                                                </span>
<span  style="">  90                                                                                                          </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style="">  91         negotiateSymmetricKey();                                                                         </span>
<span  style="">  92                                                                                                          </span>
<span class="8190154471164390400" onmouseenter="enter('8190154471164390400');" onmouseout="out('8190154471164390400');" style="">  93         // icons                                                                                         </span>
<span  style="">  94                                                                                                          </span>
<span class="7478845557357973187" onmouseenter="enter('7478845557357973187');" onmouseout="out('7478845557357973187');" style="">  95         // queueWrite(new NotificationFilterPutHRRequest(new NotificationHRConfiguration[]{              </span>
<span class="-4835014852533623208" onmouseenter="enter('-4835014852533623208');" onmouseout="out('-4835014852533623208');" style="">  96         //         new NotificationHRConfiguration(&quot;com.whatsapp&quot;, -1),                                  </span>
<span class="6619193525725887236" onmouseenter="enter('6619193525725887236');" onmouseout="out('6619193525725887236');" style="">  97         //         new NotificationHRConfiguration(&quot;asdasdasdasdasd&quot;, -1),                               </span>
<span class="-9188979562074738481" onmouseenter="enter('-9188979562074738481');" onmouseout="out('-9188979562074738481');" style="">  98         //         // new NotificationHRConfiguration(&quot;twitter&quot;, -1),                                    </span>
<span class="-236319939460584404" onmouseenter="enter('-236319939460584404');" onmouseout="out('-236319939460584404');" style="">  99         // }, this));                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="-642578171158816330" onmouseenter="enter('-642578171158816330');" onmouseout="out('-642578171158816330');" style=""> 101         // queueWrite(new PlayNotificationRequest(&quot;com.whatsapp&quot;, &quot;WhatsAp&quot;, &quot;wHATSaPP&quot;, this));         </span>
<span class="-4771200114595739326" onmouseenter="enter('-4771200114595739326');" onmouseout="out('-4771200114595739326');" style=""> 102         // queueWrite(new PlayNotificationRequest(&quot;twitterrrr&quot;, &quot;Twitterr&quot;, &quot;tWITTER&quot;, this));           </span>
<span  style=""> 103                                                                                                          </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 104         syncSettings();                                                                                  </span>
<span  style=""> 105                                                                                                          </span>
<span class="7548848230134815961" onmouseenter="enter('7548848230134815961');" onmouseout="out('7548848230134815961');" style=""> 106         setTime();                                                                                       </span>
<span  style=""> 107                                                                                                          </span>
<span class="-7476048809216327685" onmouseenter="enter('-7476048809216327685');" onmouseout="out('-7476048809216327685');" style=""> 108         overwriteButtons(null);                                                                          </span>
<span  style=""> 109                                                                                                          </span>
<span class="-7829839226758806406" onmouseenter="enter('-7829839226758806406');" onmouseout="out('-7829839226758806406');" style=""> 110         queueWrite(new FileDeleteRequest((short) 0x0700));                                               </span>
<span  style=""> 111                                                                                                          </span>
<span class="-8671838943786981246" onmouseenter="enter('-8671838943786981246');" onmouseout="out('-8671838943786981246');" style=""> 112         loadWidgets();                                                                                   </span>
<span class="-686042699702875094" onmouseenter="enter('-686042699702875094');" onmouseout="out('-686042699702875094');" style=""> 113         renderWidgets();                                                                                 </span>
<span class="7961004691166238388" onmouseenter="enter('7961004691166238388');" onmouseout="out('7961004691166238388');" style=""><abbr title=" 114         // dunno if there is any point in doing this at start since when no watch is connected the QHybridSupport will not receive any intents anyway"> 114         // dunno if there is any point in doing this at start since when no watch is connected the QHybri🔵</abbr></span>
<span  style=""> 115                                                                                                          </span>
<span class="-673558019044966288" onmouseenter="enter('-673558019044966288');" onmouseout="out('-673558019044966288');" style=""> 116         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED));                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="-3367927790602792525" onmouseenter="enter('-3367927790602792525');" onmouseout="out('-3367927790602792525');" style=""> 119     private void loadWidgets() {                                                                         </span>
<span class="4250227692228494494" onmouseenter="enter('4250227692228494494');" onmouseout="out('4250227692228494494');" style=""> 120         CustomWidget ethWidget = new CustomWidget(0, 63);                                                </span>
<span class="-5583627876467172720" onmouseenter="enter('-5583627876467172720');" onmouseout="out('-5583627876467172720');" style=""><abbr title=" 121         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;date&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 121         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;da🔵</abbr></span>
<span class="8810035789150144395" onmouseenter="enter('8810035789150144395');" onmouseout="out('8810035789150144395');" style=""><abbr title=" 122         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;eth&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 122         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;et🔵</abbr></span>
<span  style=""> 123                                                                                                          </span>
<span  style=""> 124                                                                                                          </span>
<span class="545523070267522947" onmouseenter="enter('545523070267522947');" onmouseout="out('545523070267522947');" style=""> 125         CustomWidget btcWidget = new CustomWidget(90, 63);                                               </span>
<span class="-941910546044370348" onmouseenter="enter('-941910546044370348');" onmouseout="out('-941910546044370348');" style=""><abbr title=" 126         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;, &quot;BTC&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 126         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;,🔵</abbr></span>
<span class="3121160694220980009" onmouseenter="enter('3121160694220980009');" onmouseout="out('3121160694220980009');" style=""><abbr title=" 127         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;btc&quot;, &quot;wtf&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 127         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;bt🔵</abbr></span>
<span class="-8071749431000517690" onmouseenter="enter('-8071749431000517690');" onmouseout="out('-8071749431000517690');" style=""> 128         this.widgets = new CustomWidget[]{                                                               </span>
<span class="3533809623283696185" onmouseenter="enter('3533809623283696185');" onmouseout="out('3533809623283696185');" style=""> 129                 ethWidget,                                                                               </span>
<span class="7408617870467158708" onmouseenter="enter('7408617870467158708');" onmouseout="out('7408617870467158708');" style=""> 130                 // btcWidget,                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 131         };                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="903870811454511101" onmouseenter="enter('903870811454511101');" onmouseout="out('903870811454511101');" style=""> 134     private void renderWidgets() {                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 135         try {                                                                                            </span>
<span class="5258072069868959736" onmouseenter="enter('5258072069868959736');" onmouseout="out('5258072069868959736');" style=""> 136             AssetImage[] widgetImages = new AssetImage[this.widgets.length];                             </span>
<span  style=""> 137                                                                                                          </span>
<span class="-5960055507607448265" onmouseenter="enter('-5960055507607448265');" onmouseout="out('-5960055507607448265');" style=""> 138             for (int i = 0; i &lt; this.widgets.length; i++) {                                              </span>
<span class="9174433818293211122" onmouseenter="enter('9174433818293211122');" onmouseout="out('9174433818293211122');" style=""> 139                 CustomWidget widget = widgets[i];                                                        </span>
<span  style=""> 140                                                                                                          </span>
<span class="7010238729887612961" onmouseenter="enter('7010238729887612961');" onmouseout="out('7010238729887612961');" style=""> 141                 Bitmap widgetBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);              </span>
<span  style=""> 142                                                                                                          </span>
<span class="-3285187784434415926" onmouseenter="enter('-3285187784434415926');" onmouseout="out('-3285187784434415926');" style=""> 143                 Canvas widgetCanvas = new Canvas(widgetBitmap);                                          </span>
<span  style=""> 144                                                                                                          </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style=""> 145                 Paint circlePaint = new Paint();                                                         </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style=""> 146                 circlePaint.setColor(Color.WHITE);                                                       </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style=""> 147                 circlePaint.setStyle(Paint.Style.STROKE);                                                </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style=""> 148                 circlePaint.setStrokeWidth(3);                                                           </span>
<span  style=""> 149                                                                                                          </span>
<span class="-9125685889860219804" onmouseenter="enter('-9125685889860219804');" onmouseout="out('-9125685889860219804');" style=""> 150                 widgetCanvas.drawCircle(38, 38, 37, circlePaint);                                        </span>
<span  style=""> 151                                                                                                          </span>
<span class="757605497541712230" onmouseenter="enter('757605497541712230');" onmouseout="out('757605497541712230');" style=""> 152                 for (CustomWidgetElement element : widget.getElements()) {                               </span>
<span class="-8374841026396869451" onmouseenter="enter('-8374841026396869451');" onmouseout="out('-8374841026396869451');" style=""><abbr title=" 153                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT) {"> 153                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT🔵</abbr></span>
<span class="8404149927879958117" onmouseenter="enter('8404149927879958117');" onmouseout="out('8404149927879958117');" style=""> 154                         Paint textPaint = new Paint();                                                   </span>
<span class="424156949088872290" onmouseenter="enter('424156949088872290');" onmouseout="out('424156949088872290');" style=""> 155                         textPaint.setStrokeWidth(4);                                                     </span>
<span class="-7858016953995282215" onmouseenter="enter('-7858016953995282215');" onmouseout="out('-7858016953995282215');" style=""> 156                         textPaint.setTextSize(17f);                                                      </span>
<span class="7085320690650566449" onmouseenter="enter('7085320690650566449');" onmouseout="out('7085320690650566449');" style=""> 157                         textPaint.setStyle(Paint.Style.FILL);                                            </span>
<span class="7922377754733361904" onmouseenter="enter('7922377754733361904');" onmouseout="out('7922377754733361904');" style=""> 158                         textPaint.setColor(Color.WHITE);                                                 </span>
<span class="8080777884851070420" onmouseenter="enter('8080777884851070420');" onmouseout="out('8080777884851070420');" style=""> 159                         textPaint.setTextAlign(Paint.Align.CENTER);                                      </span>
<span  style=""> 160                                                                                                          </span>
<span class="-3687982044961117698" onmouseenter="enter('-3687982044961117698');" onmouseout="out('-3687982044961117698');" style=""><abbr title=" 161                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textPaint.descent() + textPaint.ascent()) / 2f, textPaint);"> 161                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textP🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163                 }                                                                                        </span>
<span class="-1958389203211080723" onmouseenter="enter('-1958389203211080723');" onmouseout="out('-1958389203211080723');" style=""> 164                 widgetImages[i] = AssetImageFactory.createAssetImage(                                    </span>
<span class="-4089531526134204923" onmouseenter="enter('-4089531526134204923');" onmouseout="out('-4089531526134204923');" style=""> 165                         StringUtils.bytesToHex(                                                          </span>
<span class="6698971870045387004" onmouseenter="enter('6698971870045387004');" onmouseout="out('6698971870045387004');" style=""> 166                                 ByteBuffer.allocate(8)                                                   </span>
<span class="-8417793048142742485" onmouseenter="enter('-8417793048142742485');" onmouseout="out('-8417793048142742485');" style=""> 167                                         .putLong(System.currentTimeMillis() + imageNameIndex++)          </span>
<span class="6229767945751043452" onmouseenter="enter('6229767945751043452');" onmouseout="out('6229767945751043452');" style=""> 168                                         .array()                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 169                         )                                                                                </span>
<span class="-3803627976732072376" onmouseenter="enter('-3803627976732072376');" onmouseout="out('-3803627976732072376');" style=""> 170                         ,                                                                                </span>
<span class="6927266072716207452" onmouseenter="enter('6927266072716207452');" onmouseout="out('6927266072716207452');" style=""> 171                         widgetBitmap,                                                                    </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 172                         true,                                                                            </span>
<span class="-5673825003729303026" onmouseenter="enter('-5673825003729303026');" onmouseout="out('-5673825003729303026');" style=""> 173                         widget.getAngle(),                                                               </span>
<span class="-686125949143974898" onmouseenter="enter('-686125949143974898');" onmouseout="out('-686125949143974898');" style=""> 174                         widget.getDistance(),                                                            </span>
<span class="-6707054910432036291" onmouseenter="enter('-6707054910432036291');" onmouseout="out('-6707054910432036291');" style=""> 175                         1                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 176                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177             }                                                                                            </span>
<span  style=""> 178                                                                                                          </span>
<span  style=""> 179                                                                                                          </span>
<span class="4734673173370309989" onmouseenter="enter('4734673173370309989');" onmouseout="out('4734673173370309989');" style=""> 180             queueWrite(new AssetFilePutRequest(                                                          </span>
<span class="-7327430611734723739" onmouseenter="enter('-7327430611734723739');" onmouseout="out('-7327430611734723739');" style=""> 181                     new AssetFile[]{widgetImages[0]},                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 182                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 183             ));                                                                                          </span>
<span  style=""> 184                                                                                                          </span>
<span class="1205405072399918389" onmouseenter="enter('1205405072399918389');" onmouseout="out('1205405072399918389');" style=""> 185             // for(int i = 0; i &lt; widgetImages.length; i++){                                             </span>
<span class="-2505974536289425763" onmouseenter="enter('-2505974536289425763');" onmouseout="out('-2505974536289425763');" style=""> 186             //     queueWrite(new AssetFilePutRequest(widgetImages[i], i + 1, this));                    </span>
<span class="6190421505795807923" onmouseenter="enter('6190421505795807923');" onmouseout="out('6190421505795807923');" style=""> 187             // }                                                                                         </span>
<span  style=""> 188                                                                                                          </span>
<span class="1746046142071540051" onmouseenter="enter('1746046142071540051');" onmouseout="out('1746046142071540051');" style=""> 189             // widgetImages[1].setFileName(widgetImages[0].getFileName());                               </span>
<span  style=""> 190                                                                                                          </span>
<span class="-6828394027622892361" onmouseenter="enter('-6828394027622892361');" onmouseout="out('-6828394027622892361');" style=""> 191             queueWrite(new ImagesSetRequest(                                                             </span>
<span class="1254023579369105632" onmouseenter="enter('1254023579369105632');" onmouseout="out('1254023579369105632');" style=""> 192                     widgetImages,                                                                        </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 193                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 194             ));                                                                                          </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 195         } catch (IOException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 196             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200     @Override                                                                                            </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style=""> 201     public void setWidgetContent(String widgetID, String content) {                                      </span>
<span class="-1104872319984701354" onmouseenter="enter('-1104872319984701354');" onmouseout="out('-1104872319984701354');" style=""> 202         boolean update = false;                                                                          </span>
<span class="-8835020710046225543" onmouseenter="enter('-8835020710046225543');" onmouseout="out('-8835020710046225543');" style=""> 203         for(CustomWidget widget : this.widgets){                                                         </span>
<span class="-4308433243675839790" onmouseenter="enter('-4308433243675839790');" onmouseout="out('-4308433243675839790');" style=""> 204             CustomWidgetElement element = widget.getElement(widgetID);                                   </span>
<span class="8524974076489104016" onmouseenter="enter('8524974076489104016');" onmouseout="out('8524974076489104016');" style=""> 205             if(element == null) continue;                                                                </span>
<span  style=""> 206                                                                                                          </span>
<span class="-6184273794543489723" onmouseenter="enter('-6184273794543489723');" onmouseout="out('-6184273794543489723');" style=""> 207             element.setValue(content);                                                                   </span>
<span class="1271847155476934364" onmouseenter="enter('1271847155476934364');" onmouseout="out('1271847155476934364');" style=""> 208             update = true;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209         }                                                                                                </span>
<span  style=""> 210                                                                                                          </span>
<span class="-205165562801947004" onmouseenter="enter('-205165562801947004');" onmouseout="out('-205165562801947004');" style=""> 211         if(update) renderWidgets();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="6173588091729977369" onmouseenter="enter('6173588091729977369');" onmouseout="out('6173588091729977369');" style=""> 214     private void negotiateSymmetricKey() {                                                               </span>
<span class="-7168973652814870469" onmouseenter="enter('-7168973652814870469');" onmouseout="out('-7168973652814870469');" style=""> 215         queueWrite(new VerifyPrivateKeyRequest(                                                          </span>
<span class="2474409468109046352" onmouseenter="enter('2474409468109046352');" onmouseout="out('2474409468109046352');" style=""> 216                 this.getSecretKey(),                                                                     </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 217                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 218         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219     }                                                                                                    </span>
<span  style=""> 220                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 222     public void setTime() {                                                                              </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 223         negotiateSymmetricKey();                                                                         </span>
<span  style=""> 224                                                                                                          </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 225         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 226         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span  style=""> 227                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 228         queueWrite(                                                                                      </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 229                 new ConfigurationPutRequest(                                                             </span>
<span class="6747723926021094395" onmouseenter="enter('6747723926021094395');" onmouseout="out('6747723926021094395');" style=""> 230                         new TimeConfigItem(                                                              </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 231                                 (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),         </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 232                                 (short) (millis % 1000),                                                 </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 233                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 233                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 234                         ),                                                                               </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 235                         this), false                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 236         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237     }                                                                                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239     @Override                                                                                            </span>
<span class="5743699626454161990" onmouseenter="enter('5743699626454161990');" onmouseout="out('5743699626454161990');" style=""> 240     public void setMusicInfo(MusicSpec musicSpec) {                                                      </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style=""> 241         if (                                                                                             </span>
<span class="-2721767562250030479" onmouseenter="enter('-2721767562250030479');" onmouseout="out('-2721767562250030479');" style=""> 242                 currentSpec != null                                                                      </span>
<span class="6347316233900210670" onmouseenter="enter('6347316233900210670');" onmouseout="out('6347316233900210670');" style=""> 243                         &amp;&amp; currentSpec.album.equals(musicSpec.album)                                     </span>
<span class="-7026697945522803285" onmouseenter="enter('-7026697945522803285');" onmouseout="out('-7026697945522803285');" style=""> 244                         &amp;&amp; currentSpec.artist.equals(musicSpec.artist)                                   </span>
<span class="234002389956897367" onmouseenter="enter('234002389956897367');" onmouseout="out('234002389956897367');" style=""> 245                         &amp;&amp; currentSpec.track.equals(musicSpec.track)                                     </span>
<span class="129544933216380196" onmouseenter="enter('129544933216380196');" onmouseout="out('129544933216380196');" style=""> 246         ) return;                                                                                        </span>
<span class="5122037976784129938" onmouseenter="enter('5122037976784129938');" onmouseout="out('5122037976784129938');" style=""> 247         currentSpec = musicSpec;                                                                         </span>
<span class="2807680215991082156" onmouseenter="enter('2807680215991082156');" onmouseout="out('2807680215991082156');" style=""> 248         queueWrite(new MusicInfoSetRequest(                                                              </span>
<span class="-4995357750126688628" onmouseenter="enter('-4995357750126688628');" onmouseout="out('-4995357750126688628');" style=""> 249                 musicSpec.artist,                                                                        </span>
<span class="-2625665048867935009" onmouseenter="enter('-2625665048867935009');" onmouseout="out('-2625665048867935009');" style=""> 250                 musicSpec.album,                                                                         </span>
<span class="4393990709676517095" onmouseenter="enter('4393990709676517095');" onmouseout="out('4393990709676517095');" style=""> 251                 musicSpec.track,                                                                         </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 252                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 253         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256     @Override                                                                                            </span>
<span class="6484409227794913685" onmouseenter="enter('6484409227794913685');" onmouseout="out('6484409227794913685');" style=""> 257     public void setMusicState(MusicStateSpec stateSpec) {                                                </span>
<span class="-8825084358361918368" onmouseenter="enter('-8825084358361918368');" onmouseout="out('-8825084358361918368');" style=""> 258         super.setMusicState(stateSpec);                                                                  </span>
<span  style=""> 259                                                                                                          </span>
<span class="-5832778985397101291" onmouseenter="enter('-5832778985397101291');" onmouseout="out('-5832778985397101291');" style=""> 260         queueWrite(new MusicControlRequest(                                                              </span>
<span class="6749687689436260015" onmouseenter="enter('6749687689436260015');" onmouseout="out('6749687689436260015');" style=""><abbr title=" 261                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PAUSED"> 261                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_P🔵</abbr></span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 262         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263     }                                                                                                    </span>
<span  style=""> 264                                                                                                          </span>
<span class="-4761176768155522666" onmouseenter="enter('-4761176768155522666');" onmouseout="out('-4761176768155522666');" style=""> 265     private void setBackgroundImages(AssetImage background, AssetImage[] complications) {                </span>
<span class="-8622709206262220142" onmouseenter="enter('-8622709206262220142');" onmouseout="out('-8622709206262220142');" style=""> 266         queueWrite(new ImagesSetRequest(new AssetImage[]{background}, this));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 270     public void onFetchActivityData() {                                                                  </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 271         syncSettings();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272     }                                                                                                    </span>
<span  style=""> 273                                                                                                          </span>
<span class="4739601400713241401" onmouseenter="enter('4739601400713241401');" onmouseout="out('4739601400713241401');" style=""> 274     private void syncSettings() {                                                                        </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 275         negotiateSymmetricKey();                                                                         </span>
<span  style=""> 276                                                                                                          </span>
<span class="1672016935910782047" onmouseenter="enter('1672016935910782047');" onmouseout="out('1672016935910782047');" style=""> 277         queueWrite(new ConfigurationGetRequest(this));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278     }                                                                                                    </span>
<span  style=""> 279                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 280     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 281     public void setActivityHand(double progress) {                                                       </span>
<span class="-1967647950949041220" onmouseenter="enter('-1967647950949041220');" onmouseout="out('-1967647950949041220');" style=""> 282         // super.setActivityHand(progress);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283     }                                                                                                    </span>
<span  style=""> 284                                                                                                          </span>
<span class="4432705569944803605" onmouseenter="enter('4432705569944803605');" onmouseout="out('4432705569944803605');" style=""> 285     public boolean playRawNotification(NotificationSpec notificationSpec) {                              </span>
<span class="1615789189185193871" onmouseenter="enter('1615789189185193871');" onmouseout="out('1615789189185193871');" style=""> 286         String sender = notificationSpec.sender;                                                         </span>
<span class="-6939926144095499980" onmouseenter="enter('-6939926144095499980');" onmouseout="out('-6939926144095499980');" style=""> 287         if (sender == null) sender = notificationSpec.sourceName;                                        </span>
<span class="2253201172229202586" onmouseenter="enter('2253201172229202586');" onmouseout="out('2253201172229202586');" style=""><abbr title=" 288         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this));"> 288         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.b🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 289         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290     }                                                                                                    </span>
<span  style=""> 291                                                                                                          </span>
<span class="4061760400153145133" onmouseenter="enter('4061760400153145133');" onmouseout="out('4061760400153145133');" style=""> 292     public byte[] getSecretKey() {                                                                       </span>
<span class="877865931329337758" onmouseenter="enter('877865931329337758');" onmouseout="out('877865931329337758');" style=""> 293         byte[] authKeyBytes = new byte[16];                                                              </span>
<span  style=""> 294                                                                                                          </span>
<span class="6732301069337237036" onmouseenter="enter('6732301069337237036');" onmouseout="out('6732301069337237036');" style=""><abbr title=" 295         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().getDevice().getAddress());"> 295         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().get🔵</abbr></span>
<span  style=""> 296                                                                                                          </span>
<span class="-3395951777279535435" onmouseenter="enter('-3395951777279535435');" onmouseout="out('-3395951777279535435');" style=""> 297         String authKey = sharedPrefs.getString(&quot;authkey&quot;, null);                                         </span>
<span class="-7368286337752989387" onmouseenter="enter('-7368286337752989387');" onmouseout="out('-7368286337752989387');" style=""> 298         if (authKey != null &amp;&amp; !authKey.isEmpty()) {                                                     </span>
<span class="-7318628780836353920" onmouseenter="enter('-7318628780836353920');" onmouseout="out('-7318628780836353920');" style=""> 299             byte[] srcBytes = authKey.trim().getBytes();                                                 </span>
<span class="-7029558868717651202" onmouseenter="enter('-7029558868717651202');" onmouseout="out('-7029558868717651202');" style=""> 300             if (authKey.length() == 34 &amp;&amp; authKey.startsWith(&quot;0x&quot;)) {                                    </span>
<span class="3552614168594468794" onmouseenter="enter('3552614168594468794');" onmouseout="out('3552614168594468794');" style=""> 301                 srcBytes = GB.hexStringToByteArray(authKey.substring(2));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302             }                                                                                            </span>
<span class="6598760317559003341" onmouseenter="enter('6598760317559003341');" onmouseout="out('6598760317559003341');" style=""> 303             System.arraycopy(srcBytes, 0, authKeyBytes, 0, Math.min(srcBytes.length, 16));               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304         }                                                                                                </span>
<span  style=""> 305                                                                                                          </span>
<span class="340030267486824060" onmouseenter="enter('340030267486824060');" onmouseout="out('340030267486824060');" style=""> 306         return authKeyBytes;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span  style=""> 308                                                                                                          </span>
<span class="-7182589409912293929" onmouseenter="enter('-7182589409912293929');" onmouseout="out('-7182589409912293929');" style=""> 309 //    public byte[] getSecretKey() {                                                                     </span>
<span class="-2812519745801139464" onmouseenter="enter('-2812519745801139464');" onmouseout="out('-2812519745801139464');" style=""> 310 //        return secretKey;                                                                              </span>
<span class="7265059398302853371" onmouseenter="enter('7265059398302853371');" onmouseout="out('7265059398302853371');" style=""> 311 //    }                                                                                                  </span>
<span  style=""> 312                                                                                                          </span>
<span class="-8021107058359765569" onmouseenter="enter('-8021107058359765569');" onmouseout="out('-8021107058359765569');" style=""> 313     public void setSecretKey(byte[] secretKey) {                                                         </span>
<span class="-1305759151014600921" onmouseenter="enter('-1305759151014600921');" onmouseout="out('-1305759151014600921');" style=""> 314         this.secretKey = secretKey;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315     }                                                                                                    </span>
<span  style=""> 316                                                                                                          </span>
<span class="1797454318126944117" onmouseenter="enter('1797454318126944117');" onmouseout="out('1797454318126944117');" style=""> 317     public void setPhoneRandomNumber(byte[] phoneRandomNumber) {                                         </span>
<span class="-1045014803983093080" onmouseenter="enter('-1045014803983093080');" onmouseout="out('-1045014803983093080');" style=""> 318         this.phoneRandomNumber = phoneRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319     }                                                                                                    </span>
<span  style=""> 320                                                                                                          </span>
<span class="6353599412516657012" onmouseenter="enter('6353599412516657012');" onmouseout="out('6353599412516657012');" style=""> 321     public byte[] getPhoneRandomNumber() {                                                               </span>
<span class="-8473936821502081479" onmouseenter="enter('-8473936821502081479');" onmouseout="out('-8473936821502081479');" style=""> 322         return phoneRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323     }                                                                                                    </span>
<span  style=""> 324                                                                                                          </span>
<span class="8524954629356124134" onmouseenter="enter('8524954629356124134');" onmouseout="out('8524954629356124134');" style=""> 325     public void setWatchRandomNumber(byte[] watchRandomNumber) {                                         </span>
<span class="-8554456578054756330" onmouseenter="enter('-8554456578054756330');" onmouseout="out('-8554456578054756330');" style=""> 326         this.watchRandomNumber = watchRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span  style=""> 328                                                                                                          </span>
<span class="-817141622160847580" onmouseenter="enter('-817141622160847580');" onmouseout="out('-817141622160847580');" style=""> 329     public byte[] getWatchRandomNumber() {                                                               </span>
<span class="4512956887887166379" onmouseenter="enter('4512956887887166379');" onmouseout="out('4512956887887166379');" style=""> 330         return watchRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331     }                                                                                                    </span>
<span  style=""> 332                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 333     @Override                                                                                            </span>
<span class="-8332902696773003591" onmouseenter="enter('-8332902696773003591');" onmouseout="out('-8332902696773003591');" style=""> 334     public void overwriteButtons(String jsonConfigString) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 335         try {                                                                                            </span>
<span class="-5757883755283420088" onmouseenter="enter('-5757883755283420088');" onmouseout="out('-5757883755283420088');" style=""> 336             JSONArray jsonArray = new JSONArray(                                                         </span>
<span class="-5162550843991564685" onmouseenter="enter('-5162550843991564685');" onmouseout="out('-5162550843991564685');" style=""> 337                     GBApplication.getPrefs().getString(HRConfigActivity.CONFIG_KEY_Q_ACTIONS, &quot;[]&quot;)      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 338             );                                                                                           </span>
<span class="-3670193080643996757" onmouseenter="enter('-3670193080643996757');" onmouseout="out('-3670193080643996757');" style=""> 339             String[] menuItems = new String[jsonArray.length()];                                         </span>
<span class="3800396328797868230" onmouseenter="enter('3800396328797868230');" onmouseout="out('3800396328797868230');" style=""> 340             for (int i = 0; i &lt; jsonArray.length(); i++) menuItems[i] = jsonArray.getString(i);          </span>
<span  style=""> 341                                                                                                          </span>
<span class="-2546877682423996320" onmouseenter="enter('-2546877682423996320');" onmouseout="out('-2546877682423996320');" style=""> 342             queueWrite(new ButtonConfigurationPutRequest(                                                </span>
<span class="959305012337743007" onmouseenter="enter('959305012337743007');" onmouseout="out('959305012337743007');" style=""> 343                     menuItems,                                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 344                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 345             ));                                                                                          </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 346         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 347             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349     }                                                                                                    </span>
<span  style=""> 350                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 351     @Override                                                                                            </span>
<span class="6377473851875601996" onmouseenter="enter('6377473851875601996');" onmouseout="out('6377473851875601996');" style=""> 352     protected void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {          </span>
<span class="-2825981250293151244" onmouseenter="enter('-2825981250293151244');" onmouseout="out('-2825981250293151244');" style=""> 353         super.handleBackgroundCharacteristic(characteristic);                                            </span>
<span  style=""> 354                                                                                                          </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 355         byte[] value = characteristic.getValue();                                                        </span>
<span  style=""> 356                                                                                                          </span>
<span class="-8910138668401756259" onmouseenter="enter('-8910138668401756259');" onmouseout="out('-8910138668401756259');" style=""> 357         byte requestType = value[1];                                                                     </span>
<span  style=""> 358                                                                                                          </span>
<span class="-882124291254646353" onmouseenter="enter('-882124291254646353');" onmouseout="out('-882124291254646353');" style=""> 359         if (requestType == (byte) 0x05) {                                                                </span>
<span class="-6049325109739304315" onmouseenter="enter('-6049325109739304315');" onmouseout="out('-6049325109739304315');" style=""> 360             handleMusicRequest(value);                                                                   </span>
<span class="5817738850686281372" onmouseenter="enter('5817738850686281372');" onmouseout="out('5817738850686281372');" style=""> 361         }else if(requestType == (byte) 0x01) {                                                           </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style=""> 362             int eventId = value[2];                                                                      </span>
<span  style=""> 363                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 364             try {                                                                                        </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style=""> 365                 JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));         </span>
<span  style=""> 366                                                                                                          </span>
<span class="-5659409608637412227" onmouseenter="enter('-5659409608637412227');" onmouseout="out('-5659409608637412227');" style=""><abbr title=" 367                 String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)"> 367                 String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commu🔵</abbr></span>
<span class="-2601365183494494605" onmouseenter="enter('-2601365183494494605');" onmouseout="out('-2601365183494494605');" style=""> 368                         .getString(&quot;dest&quot;);                                                              </span>
<span  style=""> 369                                                                                                          </span>
<span class="-5749439268497763114" onmouseenter="enter('-5749439268497763114');" onmouseout="out('-5749439268497763114');" style=""><abbr title=" 370                 String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)"> 370                 String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.co🔵</abbr></span>
<span class="4504014461373376475" onmouseenter="enter('4504014461373376475');" onmouseout="out('4504014461373376475');" style=""> 371                         .getString(&quot;action&quot;);                                                            </span>
<span  style=""> 372                                                                                                          </span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style=""> 373                 if (startStop.equals(&quot;stop&quot;)) {                                                          </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style=""> 374                     // overwriteButtons(null);                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 375                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376                 }                                                                                        </span>
<span  style=""> 377                                                                                                          </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style=""> 378                 queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));    </span>
<span  style=""> 379                                                                                                          </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style=""> 380                 Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);               </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style=""> 381                 menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                             </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style=""> 382                 getContext().sendBroadcast(menuIntent);                                                  </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 383             } catch (JSONException e) {                                                                  </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 384                 e.printStackTrace();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387     }                                                                                                    </span>
<span  style=""> 388                                                                                                          </span>
<span class="8416553974703547913" onmouseenter="enter('8416553974703547913');" onmouseout="out('8416553974703547913');" style=""> 389     private void handleMusicRequest(byte[] value) {                                                      </span>
<span class="-7264442020313207444" onmouseenter="enter('-7264442020313207444');" onmouseout="out('-7264442020313207444');" style=""> 390         byte command = value[3];                                                                         </span>
<span  style=""> 391                                                                                                          </span>
<span class="-1813511864680047347" onmouseenter="enter('-1813511864680047347');" onmouseout="out('-1813511864680047347');" style=""> 392         MUSIC_WATCH_REQUEST request = MUSIC_WATCH_REQUEST.fromCommandByte(command);                      </span>
<span  style=""> 393                                                                                                          </span>
<span class="5551360534441028758" onmouseenter="enter('5551360534441028758');" onmouseout="out('5551360534441028758');" style=""> 394         MusicControlRequest r = new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE);   </span>
<span  style=""> 395                                                                                                          </span>
<span class="-1476594108120808605" onmouseenter="enter('-1476594108120808605');" onmouseout="out('-1476594108120808605');" style=""> 396         switch (request) {                                                                               </span>
<span class="-7604808754482491529" onmouseenter="enter('-7604808754482491529');" onmouseout="out('-7604808754482491529');" style=""> 397             case MUSIC_REQUEST_PLAY_PAUSE: {                                                             </span>
<span class="6628176114625634916" onmouseenter="enter('6628176114625634916');" onmouseout="out('6628176114625634916');" style=""> 398                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE));       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 399                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400             }                                                                                            </span>
<span class="5859425638057110790" onmouseenter="enter('5859425638057110790');" onmouseout="out('5859425638057110790');" style=""> 401             case MUSIC_REQUEST_LOUDER: {                                                                 </span>
<span class="-3857602001706076214" onmouseenter="enter('-3857602001706076214');" onmouseout="out('-3857602001706076214');" style=""> 402                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_LOUDER));           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 403                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404             }                                                                                            </span>
<span class="3750638360823897863" onmouseenter="enter('3750638360823897863');" onmouseout="out('3750638360823897863');" style=""> 405             case MUSIC_REQUEST_QUITER: {                                                                 </span>
<span class="2129420423363786169" onmouseenter="enter('2129420423363786169');" onmouseout="out('2129420423363786169');" style=""> 406                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_QUITER));           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 407                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410     }                                                                                                    </span>
<span  style=""> 411                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 412     @Override                                                                                            </span>
<span class="-3634467212876653578" onmouseenter="enter('-3634467212876653578');" onmouseout="out('-3634467212876653578');" style=""> 413     public void setCommuteMenuMessage(String message, boolean finished) {                                </span>
<span class="-2545716908437572756" onmouseenter="enter('-2545716908437572756');" onmouseout="out('-2545716908437572756');" style=""> 414         queueWrite(new SetCommuteMenuMessage(message, finished, this));                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416 }                                                                                                        </span></pre></td>
                            <td><pre><span class="-2997913422227863975" onmouseenter="enter('-2997913422227863975');" onmouseout="out('-2997913422227863975');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil_hr;                  </span>
<span  style="">   2                                                                                                          </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   3 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   4 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   5 import android.content.SharedPreferences;                                                                </span>
<span class="-6379310173182770238" onmouseenter="enter('-6379310173182770238');" onmouseout="out('-6379310173182770238');" style="">   6 import android.graphics.Bitmap;                                                                          </span>
<span class="-6358617885644310547" onmouseenter="enter('-6358617885644310547');" onmouseout="out('-6358617885644310547');" style="">   7 import android.graphics.Canvas;                                                                          </span>
<span class="-5868658801447575011" onmouseenter="enter('-5868658801447575011');" onmouseout="out('-5868658801447575011');" style="">   8 import android.graphics.Color;                                                                           </span>
<span class="-1586527322890291073" onmouseenter="enter('-1586527322890291073');" onmouseout="out('-1586527322890291073');" style="">   9 import android.graphics.Paint;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  10 import android.os.Build;                                                                                 </span>
<span  style="">  11                                                                                                          </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  12 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  13 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  14 import org.json.JSONObject;                                                                              </span>
<span  style="">  15                                                                                                          </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  16 import java.io.IOException;                                                                              </span>
<span class="-6886346622632588502" onmouseenter="enter('-6886346622632588502');" onmouseout="out('-6886346622632588502');" style="">  17 import java.nio.ByteBuffer;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  18 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  19 import java.util.GregorianCalendar;                                                                      </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  20 import java.util.Random;                                                                                 </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  21 import java.util.TimeZone;                                                                               </span>
<span  style="">  22                                                                                                          </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  23 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7799465992823203826" onmouseenter="enter('-7799465992823203826');" onmouseout="out('-7799465992823203826');" style="">  24 import nodomain.freeyourgadget.gadgetbridge.Widget;                                                      </span>
<span class="3654131406467691963" onmouseenter="enter('3654131406467691963');" onmouseout="out('3654131406467691963');" style="">  25 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.HRConfigActivity;                            </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  26 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  27 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  28 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  29 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="">  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;   </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="-7469566776689025802" onmouseenter="enter('-7469566776689025802');" onmouseout="out('-7469566776689025802');" style=""><abbr title="  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteRequest;">  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteReques🔵</abbr></span>
<span class="6112441966638764283" onmouseenter="enter('6112441966638764283');" onmouseout="out('6112441966638764283');" style=""><abbr title="  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.TimeConfigItem;">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style=""><abbr title="  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.Ver🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style=""><abbr title="  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConf🔵</abbr></span>
<span class="-7616394483813386160" onmouseenter="enter('-7616394483813386160');" onmouseout="out('-7616394483813386160');" style=""><abbr title="  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationGetRequest;">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="1784930373847085070" onmouseenter="enter('1784930373847085070');" onmouseout="out('1784930373847085070');" style=""><abbr title="  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationPutRequest;">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="-6690984262238362218" onmouseenter="enter('-6690984262238362218');" onmouseout="out('-6690984262238362218');" style="">  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFile;   </span>
<span class="-7479827832081411210" onmouseenter="enter('-7479827832081411210');" onmouseout="out('-7479827832081411210');" style=""><abbr title="  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutRequest;">  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutR🔵</abbr></span>
<span class="6886533222315535550" onmouseenter="enter('6886533222315535550');" onmouseout="out('6886533222315535550');" style="">  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImage; </span>
<span class="4714390797546975821" onmouseenter="enter('4714390797546975821');" onmouseout="out('4714390797546975821');" style=""><abbr title="  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFactory;">  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFa🔵</abbr></span>
<span class="-6584136629945154367" onmouseenter="enter('-6584136629945154367');" onmouseout="out('-6584136629945154367');" style=""><abbr title="  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetRequest;">  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetReq🔵</abbr></span>
<span class="-3572348114301784964" onmouseenter="enter('-3572348114301784964');" onmouseout="out('-3572348114301784964');" style=""><abbr title="  46 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMenuMessage;">  46 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMen🔵</abbr></span>
<span class="7919188738795660329" onmouseenter="enter('7919188738795660329');" onmouseout="out('7919188738795660329');" style=""><abbr title="  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest;">  47 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControl🔵</abbr></span>
<span class="1138328726217316685" onmouseenter="enter('1138328726217316685');" onmouseout="out('1138328726217316685');" style=""><abbr title="  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSetRequest;">  48 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSet🔵</abbr></span>
<span class="6618883795787964297" onmouseenter="enter('6618883795787964297');" onmouseout="out('6618883795787964297');" style=""><abbr title="  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidget;">  49 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="2778086687948821087" onmouseenter="enter('2778086687948821087');" onmouseout="out('2778086687948821087');" style=""><abbr title="  50 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidgetElement;">  50 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="-7098894210029330155" onmouseenter="enter('-7098894210029330155');" onmouseout="out('-7098894210029330155');" style="">  51 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.utils.StringUtils;                   </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  52 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span  style="">  53                                                                                                          </span>
<span class="-6920508692158968227" onmouseenter="enter('-6920508692158968227');" onmouseout="out('-6920508692158968227');" style=""><abbr title="  54 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_PHONE_REQUEST;">  54 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span class="1244615468169562272" onmouseenter="enter('1244615468169562272');" onmouseout="out('1244615468169562272');" style=""><abbr title="  55 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_WATCH_REQUEST;">  55 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span  style="">  56                                                                                                          </span>
<span class="3592572912775199945" onmouseenter="enter('3592572912775199945');" onmouseout="out('3592572912775199945');" style="">  57 public class FossilHRWatchAdapter extends FossilWatchAdapter {                                           </span>
<span class="6555826699522888981" onmouseenter="enter('6555826699522888981');" onmouseout="out('6555826699522888981');" style=""><abbr title="  58     private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 0x6D, (byte) 0x05, (byte) 0x5E, (byte) 0xDA, (byte) 0xF7, (byte) 0x4B, (byte) 0x49, (byte) 0x98, (byte) 0x78, (byte) 0x02, (byte) 0x38};">  58     private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2🔵</abbr></span>
<span class="5088344414276172788" onmouseenter="enter('5088344414276172788');" onmouseout="out('5088344414276172788');" style="">  59     private byte[] phoneRandomNumber;                                                                    </span>
<span class="-506162566914247320" onmouseenter="enter('-506162566914247320');" onmouseout="out('-506162566914247320');" style="">  60     private byte[] watchRandomNumber;                                                                    </span>
<span  style="">  61                                                                                                          </span>
<span class="963050401348146682" onmouseenter="enter('963050401348146682');" onmouseout="out('963050401348146682');" style="">  62     CustomWidget[] widgets;                                                                              </span>
<span  style="">  63                                                                                                          </span>
<span class="2535750949384339971" onmouseenter="enter('2535750949384339971');" onmouseout="out('2535750949384339971');" style="">  64     private MusicSpec currentSpec = null;                                                                </span>
<span  style="">  65                                                                                                          </span>
<span class="-6092139116600387375" onmouseenter="enter('-6092139116600387375');" onmouseout="out('-6092139116600387375');" style="">  66     int imageNameIndex = 0;                                                                              </span>
<span  style="">  67                                                                                                          </span>
<span class="-5170367685934262595" onmouseenter="enter('-5170367685934262595');" onmouseout="out('-5170367685934262595');" style="">  68     public FossilHRWatchAdapter(QHybridSupport deviceSupport) {                                          </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  69         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70     }                                                                                                    </span>
<span  style="">  71                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  72     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  73     public void initialize() {                                                                           </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  74         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-3436726469441820604" onmouseenter="enter('-3436726469441820604');" onmouseout="out('-3436726469441820604');" style="">  75             queueWrite(new RequestMtuRequest(512));                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76         }                                                                                                </span>
<span  style="">  77                                                                                                          </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style="">  78         negotiateSymmetricKey();                                                                         </span>
<span  style="">  79                                                                                                          </span>
<span class="8190154471164390400" onmouseenter="enter('8190154471164390400');" onmouseout="out('8190154471164390400');" style="">  80         // icons                                                                                         </span>
<span  style="">  81                                                                                                          </span>
<span class="7478845557357973187" onmouseenter="enter('7478845557357973187');" onmouseout="out('7478845557357973187');" style="">  82         // queueWrite(new NotificationFilterPutHRRequest(new NotificationHRConfiguration[]{              </span>
<span class="-4835014852533623208" onmouseenter="enter('-4835014852533623208');" onmouseout="out('-4835014852533623208');" style="">  83         //         new NotificationHRConfiguration(&quot;com.whatsapp&quot;, -1),                                  </span>
<span class="6619193525725887236" onmouseenter="enter('6619193525725887236');" onmouseout="out('6619193525725887236');" style="">  84         //         new NotificationHRConfiguration(&quot;asdasdasdasdasd&quot;, -1),                               </span>
<span class="-9188979562074738481" onmouseenter="enter('-9188979562074738481');" onmouseout="out('-9188979562074738481');" style="">  85         //         // new NotificationHRConfiguration(&quot;twitter&quot;, -1),                                    </span>
<span class="-236319939460584404" onmouseenter="enter('-236319939460584404');" onmouseout="out('-236319939460584404');" style="">  86         // }, this));                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="-642578171158816330" onmouseenter="enter('-642578171158816330');" onmouseout="out('-642578171158816330');" style="">  88         // queueWrite(new PlayNotificationRequest(&quot;com.whatsapp&quot;, &quot;WhatsAp&quot;, &quot;wHATSaPP&quot;, this));         </span>
<span class="-4771200114595739326" onmouseenter="enter('-4771200114595739326');" onmouseout="out('-4771200114595739326');" style="">  89         // queueWrite(new PlayNotificationRequest(&quot;twitterrrr&quot;, &quot;Twitterr&quot;, &quot;tWITTER&quot;, this));           </span>
<span  style="">  90                                                                                                          </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style="">  91         syncSettings();                                                                                  </span>
<span  style="">  92                                                                                                          </span>
<span class="7548848230134815961" onmouseenter="enter('7548848230134815961');" onmouseout="out('7548848230134815961');" style="">  93         setTime();                                                                                       </span>
<span  style="">  94                                                                                                          </span>
<span class="-7476048809216327685" onmouseenter="enter('-7476048809216327685');" onmouseout="out('-7476048809216327685');" style="">  95         overwriteButtons(null);                                                                          </span>
<span  style="">  96                                                                                                          </span>
<span class="-7829839226758806406" onmouseenter="enter('-7829839226758806406');" onmouseout="out('-7829839226758806406');" style="">  97         queueWrite(new FileDeleteRequest((short) 0x0700));                                               </span>
<span  style="">  98                                                                                                          </span>
<span class="-8671838943786981246" onmouseenter="enter('-8671838943786981246');" onmouseout="out('-8671838943786981246');" style="">  99         loadWidgets();                                                                                   </span>
<span class="-686042699702875094" onmouseenter="enter('-686042699702875094');" onmouseout="out('-686042699702875094');" style=""> 100         renderWidgets();                                                                                 </span>
<span class="7961004691166238388" onmouseenter="enter('7961004691166238388');" onmouseout="out('7961004691166238388');" style=""><abbr title=" 101         // dunno if there is any point in doing this at start since when no watch is connected the QHybridSupport will not receive any intents anyway"> 101         // dunno if there is any point in doing this at start since when no watch is connected the QHybri🔵</abbr></span>
<span  style=""> 102                                                                                                          </span>
<span class="-673558019044966288" onmouseenter="enter('-673558019044966288');" onmouseout="out('-673558019044966288');" style=""> 103         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED));                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104     }                                                                                                    </span>
<span  style=""> 105                                                                                                          </span>
<span class="-3367927790602792525" onmouseenter="enter('-3367927790602792525');" onmouseout="out('-3367927790602792525');" style=""> 106     private void loadWidgets() {                                                                         </span>
<span class="4250227692228494494" onmouseenter="enter('4250227692228494494');" onmouseout="out('4250227692228494494');" style=""> 107         CustomWidget ethWidget = new CustomWidget(0, 63);                                                </span>
<span class="-5583627876467172720" onmouseenter="enter('-5583627876467172720');" onmouseout="out('-5583627876467172720');" style=""><abbr title=" 108         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;date&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 108         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;da🔵</abbr></span>
<span class="8810035789150144395" onmouseenter="enter('8810035789150144395');" onmouseout="out('8810035789150144395');" style=""><abbr title=" 109         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;eth&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 109         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;et🔵</abbr></span>
<span  style=""> 110                                                                                                          </span>
<span  style=""> 111                                                                                                          </span>
<span class="545523070267522947" onmouseenter="enter('545523070267522947');" onmouseout="out('545523070267522947');" style=""> 112         CustomWidget btcWidget = new CustomWidget(90, 63);                                               </span>
<span class="-941910546044370348" onmouseenter="enter('-941910546044370348');" onmouseout="out('-941910546044370348');" style=""><abbr title=" 113         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;, &quot;BTC&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 113         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;,🔵</abbr></span>
<span class="3121160694220980009" onmouseenter="enter('3121160694220980009');" onmouseout="out('3121160694220980009');" style=""><abbr title=" 114         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;btc&quot;, &quot;wtf&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 114         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;bt🔵</abbr></span>
<span class="-8071749431000517690" onmouseenter="enter('-8071749431000517690');" onmouseout="out('-8071749431000517690');" style=""> 115         this.widgets = new CustomWidget[]{                                                               </span>
<span class="3533809623283696185" onmouseenter="enter('3533809623283696185');" onmouseout="out('3533809623283696185');" style=""> 116                 ethWidget,                                                                               </span>
<span class="7408617870467158708" onmouseenter="enter('7408617870467158708');" onmouseout="out('7408617870467158708');" style=""> 117                 // btcWidget,                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 118         };                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="903870811454511101" onmouseenter="enter('903870811454511101');" onmouseout="out('903870811454511101');" style=""> 121     private void renderWidgets() {                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 122         try {                                                                                            </span>
<span class="5258072069868959736" onmouseenter="enter('5258072069868959736');" onmouseout="out('5258072069868959736');" style=""> 123             AssetImage[] widgetImages = new AssetImage[this.widgets.length];                             </span>
<span  style=""> 124                                                                                                          </span>
<span class="-5960055507607448265" onmouseenter="enter('-5960055507607448265');" onmouseout="out('-5960055507607448265');" style=""> 125             for (int i = 0; i &lt; this.widgets.length; i++) {                                              </span>
<span class="9174433818293211122" onmouseenter="enter('9174433818293211122');" onmouseout="out('9174433818293211122');" style=""> 126                 CustomWidget widget = widgets[i];                                                        </span>
<span  style=""> 127                                                                                                          </span>
<span class="7010238729887612961" onmouseenter="enter('7010238729887612961');" onmouseout="out('7010238729887612961');" style=""> 128                 Bitmap widgetBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);              </span>
<span  style=""> 129                                                                                                          </span>
<span class="-3285187784434415926" onmouseenter="enter('-3285187784434415926');" onmouseout="out('-3285187784434415926');" style=""> 130                 Canvas widgetCanvas = new Canvas(widgetBitmap);                                          </span>
<span  style=""> 131                                                                                                          </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style=""> 132                 Paint circlePaint = new Paint();                                                         </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style=""> 133                 circlePaint.setColor(Color.WHITE);                                                       </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style=""> 134                 circlePaint.setStyle(Paint.Style.STROKE);                                                </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style=""> 135                 circlePaint.setStrokeWidth(3);                                                           </span>
<span  style=""> 136                                                                                                          </span>
<span class="-9125685889860219804" onmouseenter="enter('-9125685889860219804');" onmouseout="out('-9125685889860219804');" style=""> 137                 widgetCanvas.drawCircle(38, 38, 37, circlePaint);                                        </span>
<span  style=""> 138                                                                                                          </span>
<span class="757605497541712230" onmouseenter="enter('757605497541712230');" onmouseout="out('757605497541712230');" style=""> 139                 for (CustomWidgetElement element : widget.getElements()) {                               </span>
<span class="-8374841026396869451" onmouseenter="enter('-8374841026396869451');" onmouseout="out('-8374841026396869451');" style=""><abbr title=" 140                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT) {"> 140                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT🔵</abbr></span>
<span class="8404149927879958117" onmouseenter="enter('8404149927879958117');" onmouseout="out('8404149927879958117');" style=""> 141                         Paint textPaint = new Paint();                                                   </span>
<span class="424156949088872290" onmouseenter="enter('424156949088872290');" onmouseout="out('424156949088872290');" style=""> 142                         textPaint.setStrokeWidth(4);                                                     </span>
<span class="-7858016953995282215" onmouseenter="enter('-7858016953995282215');" onmouseout="out('-7858016953995282215');" style=""> 143                         textPaint.setTextSize(17f);                                                      </span>
<span class="7085320690650566449" onmouseenter="enter('7085320690650566449');" onmouseout="out('7085320690650566449');" style=""> 144                         textPaint.setStyle(Paint.Style.FILL);                                            </span>
<span class="7922377754733361904" onmouseenter="enter('7922377754733361904');" onmouseout="out('7922377754733361904');" style=""> 145                         textPaint.setColor(Color.WHITE);                                                 </span>
<span class="8080777884851070420" onmouseenter="enter('8080777884851070420');" onmouseout="out('8080777884851070420');" style=""> 146                         textPaint.setTextAlign(Paint.Align.CENTER);                                      </span>
<span  style=""> 147                                                                                                          </span>
<span class="-3687982044961117698" onmouseenter="enter('-3687982044961117698');" onmouseout="out('-3687982044961117698');" style=""><abbr title=" 148                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textPaint.descent() + textPaint.ascent()) / 2f, textPaint);"> 148                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textP🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150                 }                                                                                        </span>
<span class="-1958389203211080723" onmouseenter="enter('-1958389203211080723');" onmouseout="out('-1958389203211080723');" style=""> 151                 widgetImages[i] = AssetImageFactory.createAssetImage(                                    </span>
<span class="-4089531526134204923" onmouseenter="enter('-4089531526134204923');" onmouseout="out('-4089531526134204923');" style=""> 152                         StringUtils.bytesToHex(                                                          </span>
<span class="6698971870045387004" onmouseenter="enter('6698971870045387004');" onmouseout="out('6698971870045387004');" style=""> 153                                 ByteBuffer.allocate(8)                                                   </span>
<span class="-8417793048142742485" onmouseenter="enter('-8417793048142742485');" onmouseout="out('-8417793048142742485');" style=""> 154                                         .putLong(System.currentTimeMillis() + imageNameIndex++)          </span>
<span class="6229767945751043452" onmouseenter="enter('6229767945751043452');" onmouseout="out('6229767945751043452');" style=""> 155                                         .array()                                                         </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 156                         )                                                                                </span>
<span class="-3803627976732072376" onmouseenter="enter('-3803627976732072376');" onmouseout="out('-3803627976732072376');" style=""> 157                         ,                                                                                </span>
<span class="6927266072716207452" onmouseenter="enter('6927266072716207452');" onmouseout="out('6927266072716207452');" style=""> 158                         widgetBitmap,                                                                    </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 159                         true,                                                                            </span>
<span class="-5673825003729303026" onmouseenter="enter('-5673825003729303026');" onmouseout="out('-5673825003729303026');" style=""> 160                         widget.getAngle(),                                                               </span>
<span class="-686125949143974898" onmouseenter="enter('-686125949143974898');" onmouseout="out('-686125949143974898');" style=""> 161                         widget.getDistance(),                                                            </span>
<span class="-6707054910432036291" onmouseenter="enter('-6707054910432036291');" onmouseout="out('-6707054910432036291');" style=""> 162                         1                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 163                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164             }                                                                                            </span>
<span  style=""> 165                                                                                                          </span>
<span  style=""> 166                                                                                                          </span>
<span class="4734673173370309989" onmouseenter="enter('4734673173370309989');" onmouseout="out('4734673173370309989');" style=""> 167             queueWrite(new AssetFilePutRequest(                                                          </span>
<span class="-7327430611734723739" onmouseenter="enter('-7327430611734723739');" onmouseout="out('-7327430611734723739');" style=""> 168                     new AssetFile[]{widgetImages[0]},                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 169                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 170             ));                                                                                          </span>
<span  style=""> 171                                                                                                          </span>
<span class="1205405072399918389" onmouseenter="enter('1205405072399918389');" onmouseout="out('1205405072399918389');" style=""> 172             // for(int i = 0; i &lt; widgetImages.length; i++){                                             </span>
<span class="-2505974536289425763" onmouseenter="enter('-2505974536289425763');" onmouseout="out('-2505974536289425763');" style=""> 173             //     queueWrite(new AssetFilePutRequest(widgetImages[i], i + 1, this));                    </span>
<span class="6190421505795807923" onmouseenter="enter('6190421505795807923');" onmouseout="out('6190421505795807923');" style=""> 174             // }                                                                                         </span>
<span  style=""> 175                                                                                                          </span>
<span class="1746046142071540051" onmouseenter="enter('1746046142071540051');" onmouseout="out('1746046142071540051');" style=""> 176             // widgetImages[1].setFileName(widgetImages[0].getFileName());                               </span>
<span  style=""> 177                                                                                                          </span>
<span class="-6828394027622892361" onmouseenter="enter('-6828394027622892361');" onmouseout="out('-6828394027622892361');" style=""> 178             queueWrite(new ImagesSetRequest(                                                             </span>
<span class="1254023579369105632" onmouseenter="enter('1254023579369105632');" onmouseout="out('1254023579369105632');" style=""> 179                     widgetImages,                                                                        </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 180                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 181             ));                                                                                          </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 182         } catch (IOException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 183             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185     }                                                                                                    </span>
<span  style=""> 186                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187     @Override                                                                                            </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style=""> 188     public void setWidgetContent(String widgetID, String content) {                                      </span>
<span class="-1104872319984701354" onmouseenter="enter('-1104872319984701354');" onmouseout="out('-1104872319984701354');" style=""> 189         boolean update = false;                                                                          </span>
<span class="-8835020710046225543" onmouseenter="enter('-8835020710046225543');" onmouseout="out('-8835020710046225543');" style=""> 190         for(CustomWidget widget : this.widgets){                                                         </span>
<span class="-4308433243675839790" onmouseenter="enter('-4308433243675839790');" onmouseout="out('-4308433243675839790');" style=""> 191             CustomWidgetElement element = widget.getElement(widgetID);                                   </span>
<span class="8524974076489104016" onmouseenter="enter('8524974076489104016');" onmouseout="out('8524974076489104016');" style=""> 192             if(element == null) continue;                                                                </span>
<span  style=""> 193                                                                                                          </span>
<span class="-6184273794543489723" onmouseenter="enter('-6184273794543489723');" onmouseout="out('-6184273794543489723');" style=""> 194             element.setValue(content);                                                                   </span>
<span class="1271847155476934364" onmouseenter="enter('1271847155476934364');" onmouseout="out('1271847155476934364');" style=""> 195             update = true;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196         }                                                                                                </span>
<span  style=""> 197                                                                                                          </span>
<span class="-205165562801947004" onmouseenter="enter('-205165562801947004');" onmouseout="out('-205165562801947004');" style=""> 198         if(update) renderWidgets();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span  style=""> 200                                                                                                          </span>
<span class="6173588091729977369" onmouseenter="enter('6173588091729977369');" onmouseout="out('6173588091729977369');" style=""> 201     private void negotiateSymmetricKey() {                                                               </span>
<span class="-7168973652814870469" onmouseenter="enter('-7168973652814870469');" onmouseout="out('-7168973652814870469');" style=""> 202         queueWrite(new VerifyPrivateKeyRequest(                                                          </span>
<span class="2474409468109046352" onmouseenter="enter('2474409468109046352');" onmouseout="out('2474409468109046352');" style=""> 203                 this.getSecretKey(),                                                                     </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 204                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 205         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 209     public void setTime() {                                                                              </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 210         negotiateSymmetricKey();                                                                         </span>
<span  style=""> 211                                                                                                          </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 212         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 213         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span  style=""> 214                                                                                                          </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 215         queueWrite(                                                                                      </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 216                 new ConfigurationPutRequest(                                                             </span>
<span class="6747723926021094395" onmouseenter="enter('6747723926021094395');" onmouseout="out('6747723926021094395');" style=""> 217                         new TimeConfigItem(                                                              </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 218                                 (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),         </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 219                                 (short) (millis % 1000),                                                 </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 220                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 220                                 (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 221                         ),                                                                               </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 222                         this), false                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 223         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226     @Override                                                                                            </span>
<span class="5743699626454161990" onmouseenter="enter('5743699626454161990');" onmouseout="out('5743699626454161990');" style=""> 227     public void setMusicInfo(MusicSpec musicSpec) {                                                      </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style=""> 228         if (                                                                                             </span>
<span class="-2721767562250030479" onmouseenter="enter('-2721767562250030479');" onmouseout="out('-2721767562250030479');" style=""> 229                 currentSpec != null                                                                      </span>
<span class="6347316233900210670" onmouseenter="enter('6347316233900210670');" onmouseout="out('6347316233900210670');" style=""> 230                         &amp;&amp; currentSpec.album.equals(musicSpec.album)                                     </span>
<span class="-7026697945522803285" onmouseenter="enter('-7026697945522803285');" onmouseout="out('-7026697945522803285');" style=""> 231                         &amp;&amp; currentSpec.artist.equals(musicSpec.artist)                                   </span>
<span class="234002389956897367" onmouseenter="enter('234002389956897367');" onmouseout="out('234002389956897367');" style=""> 232                         &amp;&amp; currentSpec.track.equals(musicSpec.track)                                     </span>
<span class="129544933216380196" onmouseenter="enter('129544933216380196');" onmouseout="out('129544933216380196');" style=""> 233         ) return;                                                                                        </span>
<span class="5122037976784129938" onmouseenter="enter('5122037976784129938');" onmouseout="out('5122037976784129938');" style=""> 234         currentSpec = musicSpec;                                                                         </span>
<span class="2807680215991082156" onmouseenter="enter('2807680215991082156');" onmouseout="out('2807680215991082156');" style=""> 235         queueWrite(new MusicInfoSetRequest(                                                              </span>
<span class="-4995357750126688628" onmouseenter="enter('-4995357750126688628');" onmouseout="out('-4995357750126688628');" style=""> 236                 musicSpec.artist,                                                                        </span>
<span class="-2625665048867935009" onmouseenter="enter('-2625665048867935009');" onmouseout="out('-2625665048867935009');" style=""> 237                 musicSpec.album,                                                                         </span>
<span class="4393990709676517095" onmouseenter="enter('4393990709676517095');" onmouseout="out('4393990709676517095');" style=""> 238                 musicSpec.track,                                                                         </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 239                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 240         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241     }                                                                                                    </span>
<span  style=""> 242                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243     @Override                                                                                            </span>
<span class="6484409227794913685" onmouseenter="enter('6484409227794913685');" onmouseout="out('6484409227794913685');" style=""> 244     public void setMusicState(MusicStateSpec stateSpec) {                                                </span>
<span class="-8825084358361918368" onmouseenter="enter('-8825084358361918368');" onmouseout="out('-8825084358361918368');" style=""> 245         super.setMusicState(stateSpec);                                                                  </span>
<span  style=""> 246                                                                                                          </span>
<span class="-5832778985397101291" onmouseenter="enter('-5832778985397101291');" onmouseout="out('-5832778985397101291');" style=""> 247         queueWrite(new MusicControlRequest(                                                              </span>
<span class="6749687689436260015" onmouseenter="enter('6749687689436260015');" onmouseout="out('6749687689436260015');" style=""><abbr title=" 248                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PAUSED"> 248                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_P🔵</abbr></span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 249         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="-4761176768155522666" onmouseenter="enter('-4761176768155522666');" onmouseout="out('-4761176768155522666');" style=""> 252     private void setBackgroundImages(AssetImage background, AssetImage[] complications) {                </span>
<span class="-8622709206262220142" onmouseenter="enter('-8622709206262220142');" onmouseout="out('-8622709206262220142');" style=""> 253         queueWrite(new ImagesSetRequest(new AssetImage[]{background}, this));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 257     public void onFetchActivityData() {                                                                  </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 258         syncSettings();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259     }                                                                                                    </span>
<span  style=""> 260                                                                                                          </span>
<span class="4739601400713241401" onmouseenter="enter('4739601400713241401');" onmouseout="out('4739601400713241401');" style=""> 261     private void syncSettings() {                                                                        </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 262         negotiateSymmetricKey();                                                                         </span>
<span  style=""> 263                                                                                                          </span>
<span class="1672016935910782047" onmouseenter="enter('1672016935910782047');" onmouseout="out('1672016935910782047');" style=""> 264         queueWrite(new ConfigurationGetRequest(this));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265     }                                                                                                    </span>
<span  style=""> 266                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 268     public void setActivityHand(double progress) {                                                       </span>
<span class="-1967647950949041220" onmouseenter="enter('-1967647950949041220');" onmouseout="out('-1967647950949041220');" style=""> 269         // super.setActivityHand(progress);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270     }                                                                                                    </span>
<span  style=""> 271                                                                                                          </span>
<span class="4432705569944803605" onmouseenter="enter('4432705569944803605');" onmouseout="out('4432705569944803605');" style=""> 272     public boolean playRawNotification(NotificationSpec notificationSpec) {                              </span>
<span class="1615789189185193871" onmouseenter="enter('1615789189185193871');" onmouseout="out('1615789189185193871');" style=""> 273         String sender = notificationSpec.sender;                                                         </span>
<span class="-6939926144095499980" onmouseenter="enter('-6939926144095499980');" onmouseout="out('-6939926144095499980');" style=""> 274         if (sender == null) sender = notificationSpec.sourceName;                                        </span>
<span class="2253201172229202586" onmouseenter="enter('2253201172229202586');" onmouseout="out('2253201172229202586');" style=""><abbr title=" 275         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this));"> 275         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.b🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 276         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277     }                                                                                                    </span>
<span  style=""> 278                                                                                                          </span>
<span class="4061760400153145133" onmouseenter="enter('4061760400153145133');" onmouseout="out('4061760400153145133');" style=""> 279     public byte[] getSecretKey() {                                                                       </span>
<span class="877865931329337758" onmouseenter="enter('877865931329337758');" onmouseout="out('877865931329337758');" style=""> 280         byte[] authKeyBytes = new byte[16];                                                              </span>
<span  style=""> 281                                                                                                          </span>
<span class="6732301069337237036" onmouseenter="enter('6732301069337237036');" onmouseout="out('6732301069337237036');" style=""><abbr title=" 282         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().getDevice().getAddress());"> 282         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().get🔵</abbr></span>
<span  style=""> 283                                                                                                          </span>
<span class="-3395951777279535435" onmouseenter="enter('-3395951777279535435');" onmouseout="out('-3395951777279535435');" style=""> 284         String authKey = sharedPrefs.getString(&quot;authkey&quot;, null);                                         </span>
<span class="-7368286337752989387" onmouseenter="enter('-7368286337752989387');" onmouseout="out('-7368286337752989387');" style=""> 285         if (authKey != null &amp;&amp; !authKey.isEmpty()) {                                                     </span>
<span class="-7318628780836353920" onmouseenter="enter('-7318628780836353920');" onmouseout="out('-7318628780836353920');" style=""> 286             byte[] srcBytes = authKey.trim().getBytes();                                                 </span>
<span class="-7029558868717651202" onmouseenter="enter('-7029558868717651202');" onmouseout="out('-7029558868717651202');" style=""> 287             if (authKey.length() == 34 &amp;&amp; authKey.startsWith(&quot;0x&quot;)) {                                    </span>
<span class="3552614168594468794" onmouseenter="enter('3552614168594468794');" onmouseout="out('3552614168594468794');" style=""> 288                 srcBytes = GB.hexStringToByteArray(authKey.substring(2));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289             }                                                                                            </span>
<span class="6598760317559003341" onmouseenter="enter('6598760317559003341');" onmouseout="out('6598760317559003341');" style=""> 290             System.arraycopy(srcBytes, 0, authKeyBytes, 0, Math.min(srcBytes.length, 16));               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291         }                                                                                                </span>
<span  style=""> 292                                                                                                          </span>
<span class="340030267486824060" onmouseenter="enter('340030267486824060');" onmouseout="out('340030267486824060');" style=""> 293         return authKeyBytes;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294     }                                                                                                    </span>
<span  style=""> 295                                                                                                          </span>
<span class="-7182589409912293929" onmouseenter="enter('-7182589409912293929');" onmouseout="out('-7182589409912293929');" style=""> 296 //    public byte[] getSecretKey() {                                                                     </span>
<span class="-2812519745801139464" onmouseenter="enter('-2812519745801139464');" onmouseout="out('-2812519745801139464');" style=""> 297 //        return secretKey;                                                                              </span>
<span class="7265059398302853371" onmouseenter="enter('7265059398302853371');" onmouseout="out('7265059398302853371');" style=""> 298 //    }                                                                                                  </span>
<span  style=""> 299                                                                                                          </span>
<span class="-8021107058359765569" onmouseenter="enter('-8021107058359765569');" onmouseout="out('-8021107058359765569');" style=""> 300     public void setSecretKey(byte[] secretKey) {                                                         </span>
<span class="-1305759151014600921" onmouseenter="enter('-1305759151014600921');" onmouseout="out('-1305759151014600921');" style=""> 301         this.secretKey = secretKey;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302     }                                                                                                    </span>
<span  style=""> 303                                                                                                          </span>
<span class="1797454318126944117" onmouseenter="enter('1797454318126944117');" onmouseout="out('1797454318126944117');" style=""> 304     public void setPhoneRandomNumber(byte[] phoneRandomNumber) {                                         </span>
<span class="-1045014803983093080" onmouseenter="enter('-1045014803983093080');" onmouseout="out('-1045014803983093080');" style=""> 305         this.phoneRandomNumber = phoneRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306     }                                                                                                    </span>
<span  style=""> 307                                                                                                          </span>
<span class="6353599412516657012" onmouseenter="enter('6353599412516657012');" onmouseout="out('6353599412516657012');" style=""> 308     public byte[] getPhoneRandomNumber() {                                                               </span>
<span class="-8473936821502081479" onmouseenter="enter('-8473936821502081479');" onmouseout="out('-8473936821502081479');" style=""> 309         return phoneRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310     }                                                                                                    </span>
<span  style=""> 311                                                                                                          </span>
<span class="8524954629356124134" onmouseenter="enter('8524954629356124134');" onmouseout="out('8524954629356124134');" style=""> 312     public void setWatchRandomNumber(byte[] watchRandomNumber) {                                         </span>
<span class="-8554456578054756330" onmouseenter="enter('-8554456578054756330');" onmouseout="out('-8554456578054756330');" style=""> 313         this.watchRandomNumber = watchRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314     }                                                                                                    </span>
<span  style=""> 315                                                                                                          </span>
<span class="-817141622160847580" onmouseenter="enter('-817141622160847580');" onmouseout="out('-817141622160847580');" style=""> 316     public byte[] getWatchRandomNumber() {                                                               </span>
<span class="4512956887887166379" onmouseenter="enter('4512956887887166379');" onmouseout="out('4512956887887166379');" style=""> 317         return watchRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318     }                                                                                                    </span>
<span  style=""> 319                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 320     @Override                                                                                            </span>
<span class="-8332902696773003591" onmouseenter="enter('-8332902696773003591');" onmouseout="out('-8332902696773003591');" style=""> 321     public void overwriteButtons(String jsonConfigString) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 322         try {                                                                                            </span>
<span class="-5757883755283420088" onmouseenter="enter('-5757883755283420088');" onmouseout="out('-5757883755283420088');" style=""> 323             JSONArray jsonArray = new JSONArray(                                                         </span>
<span class="-5162550843991564685" onmouseenter="enter('-5162550843991564685');" onmouseout="out('-5162550843991564685');" style=""> 324                     GBApplication.getPrefs().getString(HRConfigActivity.CONFIG_KEY_Q_ACTIONS, &quot;[]&quot;)      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 325             );                                                                                           </span>
<span class="-3670193080643996757" onmouseenter="enter('-3670193080643996757');" onmouseout="out('-3670193080643996757');" style=""> 326             String[] menuItems = new String[jsonArray.length()];                                         </span>
<span class="3800396328797868230" onmouseenter="enter('3800396328797868230');" onmouseout="out('3800396328797868230');" style=""> 327             for (int i = 0; i &lt; jsonArray.length(); i++) menuItems[i] = jsonArray.getString(i);          </span>
<span  style=""> 328                                                                                                          </span>
<span class="-2546877682423996320" onmouseenter="enter('-2546877682423996320');" onmouseout="out('-2546877682423996320');" style=""> 329             queueWrite(new ButtonConfigurationPutRequest(                                                </span>
<span class="959305012337743007" onmouseenter="enter('959305012337743007');" onmouseout="out('959305012337743007');" style=""> 330                     menuItems,                                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 331                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 332             ));                                                                                          </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 333         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 334             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 338     @Override                                                                                            </span>
<span class="6377473851875601996" onmouseenter="enter('6377473851875601996');" onmouseout="out('6377473851875601996');" style=""> 339     protected void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {          </span>
<span class="-2825981250293151244" onmouseenter="enter('-2825981250293151244');" onmouseout="out('-2825981250293151244');" style=""> 340         super.handleBackgroundCharacteristic(characteristic);                                            </span>
<span  style=""> 341                                                                                                          </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 342         byte[] value = characteristic.getValue();                                                        </span>
<span  style=""> 343                                                                                                          </span>
<span class="-8910138668401756259" onmouseenter="enter('-8910138668401756259');" onmouseout="out('-8910138668401756259');" style=""> 344         byte requestType = value[1];                                                                     </span>
<span  style=""> 345                                                                                                          </span>
<span class="-882124291254646353" onmouseenter="enter('-882124291254646353');" onmouseout="out('-882124291254646353');" style=""> 346         if (requestType == (byte) 0x05) {                                                                </span>
<span class="-6049325109739304315" onmouseenter="enter('-6049325109739304315');" onmouseout="out('-6049325109739304315');" style=""> 347             handleMusicRequest(value);                                                                   </span>
<span class="5817738850686281372" onmouseenter="enter('5817738850686281372');" onmouseout="out('5817738850686281372');" style=""> 348         }else if(requestType == (byte) 0x01) {                                                           </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style=""> 349         int eventId = value[2];                                                                          </span>
<span  style=""> 350                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 351         try {                                                                                            </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style=""> 352             JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));             </span>
<span  style=""> 353                                                                                                          </span>
<span class="-5659409608637412227" onmouseenter="enter('-5659409608637412227');" onmouseout="out('-5659409608637412227');" style=""><abbr title=" 354             String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)"> 354             String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_i🔵</abbr></span>
<span class="-2601365183494494605" onmouseenter="enter('-2601365183494494605');" onmouseout="out('-2601365183494494605');" style=""> 355                     .getString(&quot;dest&quot;);                                                                  </span>
<span  style=""> 356                                                                                                          </span>
<span class="-5749439268497763114" onmouseenter="enter('-5749439268497763114');" onmouseout="out('-5749439268497763114');" style=""><abbr title=" 357             String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)"> 357             String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commut🔵</abbr></span>
<span class="4504014461373376475" onmouseenter="enter('4504014461373376475');" onmouseout="out('4504014461373376475');" style=""> 358                     .getString(&quot;action&quot;);                                                                </span>
<span  style=""> 359                                                                                                          </span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style=""> 360             if (startStop.equals(&quot;stop&quot;)) {                                                              </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style=""> 361                 // overwriteButtons(null);                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 362                 return;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363             }                                                                                            </span>
<span  style=""> 364                                                                                                          </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style=""> 365             queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));        </span>
<span  style=""> 366                                                                                                          </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style=""> 367             Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);                   </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style=""> 368             menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                                 </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style=""> 369             getContext().sendBroadcast(menuIntent);                                                      </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 370         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 371             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 374     }                                                                                                    </span>
<span  style=""> 375                                                                                                          </span>
<span class="8416553974703547913" onmouseenter="enter('8416553974703547913');" onmouseout="out('8416553974703547913');" style=""> 376     private void handleMusicRequest(byte[] value) {                                                      </span>
<span class="-7264442020313207444" onmouseenter="enter('-7264442020313207444');" onmouseout="out('-7264442020313207444');" style=""> 377         byte command = value[3];                                                                         </span>
<span  style=""> 378                                                                                                          </span>
<span class="-1813511864680047347" onmouseenter="enter('-1813511864680047347');" onmouseout="out('-1813511864680047347');" style=""> 379         MUSIC_WATCH_REQUEST request = MUSIC_WATCH_REQUEST.fromCommandByte(command);                      </span>
<span  style=""> 380                                                                                                          </span>
<span class="5551360534441028758" onmouseenter="enter('5551360534441028758');" onmouseout="out('5551360534441028758');" style=""> 381         MusicControlRequest r = new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE);   </span>
<span  style=""> 382                                                                                                          </span>
<span class="-1476594108120808605" onmouseenter="enter('-1476594108120808605');" onmouseout="out('-1476594108120808605');" style=""> 383         switch (request) {                                                                               </span>
<span class="-7604808754482491529" onmouseenter="enter('-7604808754482491529');" onmouseout="out('-7604808754482491529');" style=""> 384             case MUSIC_REQUEST_PLAY_PAUSE: {                                                             </span>
<span class="6628176114625634916" onmouseenter="enter('6628176114625634916');" onmouseout="out('6628176114625634916');" style=""> 385                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE));       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 386                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387             }                                                                                            </span>
<span class="5859425638057110790" onmouseenter="enter('5859425638057110790');" onmouseout="out('5859425638057110790');" style=""> 388             case MUSIC_REQUEST_LOUDER: {                                                                 </span>
<span class="-3857602001706076214" onmouseenter="enter('-3857602001706076214');" onmouseout="out('-3857602001706076214');" style=""> 389                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_LOUDER));           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 390                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391             }                                                                                            </span>
<span class="3750638360823897863" onmouseenter="enter('3750638360823897863');" onmouseout="out('3750638360823897863');" style=""> 392             case MUSIC_REQUEST_QUITER: {                                                                 </span>
<span class="2129420423363786169" onmouseenter="enter('2129420423363786169');" onmouseout="out('2129420423363786169');" style=""> 393                 queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_QUITER));           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 394                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397     }                                                                                                    </span>
<span  style=""> 398                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 399     @Override                                                                                            </span>
<span class="-3634467212876653578" onmouseenter="enter('-3634467212876653578');" onmouseout="out('-3634467212876653578');" style=""> 400     public void setCommuteMenuMessage(String message, boolean finished) {                                </span>
<span class="-2545716908437572756" onmouseenter="enter('-2545716908437572756');" onmouseout="out('-2545716908437572756');" style=""> 401         queueWrite(new SetCommuteMenuMessage(message, finished, this));                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403 }                                                                                                        </span>











</pre></td>
                            <td><pre><span class="-2997913422227863975" onmouseenter="enter('-2997913422227863975');" onmouseout="out('-2997913422227863975');" style="">   1 package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil_hr;                  </span>
<span  style="">   2                                                                                                          </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   3 import android.bluetooth.BluetoothGattCharacteristic;                                                    </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   4 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   5 import android.content.SharedPreferences;                                                                </span>
<span class="-6379310173182770238" onmouseenter="enter('-6379310173182770238');" onmouseout="out('-6379310173182770238');" style="">   6 import android.graphics.Bitmap;                                                                          </span>
<span class="-6358617885644310547" onmouseenter="enter('-6358617885644310547');" onmouseout="out('-6358617885644310547');" style="">   7 import android.graphics.Canvas;                                                                          </span>
<span class="-5868658801447575011" onmouseenter="enter('-5868658801447575011');" onmouseout="out('-5868658801447575011');" style="">   8 import android.graphics.Color;                                                                           </span>
<span class="-1586527322890291073" onmouseenter="enter('-1586527322890291073');" onmouseout="out('-1586527322890291073');" style="">   9 import android.graphics.Paint;                                                                           </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  10 import android.os.Build;                                                                                 </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  11 import java.io.IOException;                                                                              </span>
<span class="-6886346622632588502" onmouseenter="enter('-6886346622632588502');" onmouseout="out('-6886346622632588502');" style="">  12 import java.nio.ByteBuffer;                                                                              </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  13 import java.util.Date;                                                                                   </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  14 import java.util.GregorianCalendar;                                                                      </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="">  15 import java.util.Random;                                                                                 </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  16 import java.util.TimeZone;                                                                               </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  17 import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                               </span>
<span class="-7799465992823203826" onmouseenter="enter('-7799465992823203826');" onmouseout="out('-7799465992823203826');" style="">  18 import nodomain.freeyourgadget.gadgetbridge.Widget;                                                      </span>
<span class="3654131406467691963" onmouseenter="enter('3654131406467691963');" onmouseout="out('3654131406467691963');" style="">  19 import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.HRConfigActivity;                            </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  20 import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                               </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  21 import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                             </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  22 import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                        </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  23 import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                      </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  24 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                      </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="">  25 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;   </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  26 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;   </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style=""><abbr title="  27 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;">  27 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest🔵</abbr></span>
<span class="6112441966638764283" onmouseenter="enter('6112441966638764283');" onmouseout="out('6112441966638764283');" style=""><abbr title="  28 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.TimeConfigItem;">  28 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.Configu🔵</abbr></span>
<span class="-7469566776689025802" onmouseenter="enter('-7469566776689025802');" onmouseout="out('-7469566776689025802');" style=""><abbr title="  29 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteRequest;">  29 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteReques🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  30 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNoti🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style=""><abbr title="  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  31 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.Ver🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style=""><abbr title="  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  32 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConf🔵</abbr></span>
<span class="-7616394483813386160" onmouseenter="enter('-7616394483813386160');" onmouseout="out('-7616394483813386160');" style=""><abbr title="  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationGetRequest;">  33 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="1784930373847085070" onmouseenter="enter('1784930373847085070');" onmouseout="out('1784930373847085070');" style=""><abbr title="  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationPutRequest;">  34 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Conf🔵</abbr></span>
<span class="-6690984262238362218" onmouseenter="enter('-6690984262238362218');" onmouseout="out('-6690984262238362218');" style="">  35 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFile;   </span>
<span class="-7479827832081411210" onmouseenter="enter('-7479827832081411210');" onmouseout="out('-7479827832081411210');" style=""><abbr title="  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutRequest;">  36 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutR🔵</abbr></span>
<span class="6886533222315535550" onmouseenter="enter('6886533222315535550');" onmouseout="out('6886533222315535550');" style="">  37 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImage; </span>
<span class="4714390797546975821" onmouseenter="enter('4714390797546975821');" onmouseout="out('4714390797546975821');" style=""><abbr title="  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFactory;">  38 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFa🔵</abbr></span>
<span class="-6584136629945154367" onmouseenter="enter('-6584136629945154367');" onmouseout="out('-6584136629945154367');" style=""><abbr title="  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetRequest;">  39 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetReq🔵</abbr></span>
<span class="-3572348114301784964" onmouseenter="enter('-3572348114301784964');" onmouseout="out('-3572348114301784964');" style=""><abbr title="  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMenuMessage;">  40 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMen🔵</abbr></span>
<span class="7919188738795660329" onmouseenter="enter('7919188738795660329');" onmouseout="out('7919188738795660329');" style=""><abbr title="  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest;">  41 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControl🔵</abbr></span>
<span class="1138328726217316685" onmouseenter="enter('1138328726217316685');" onmouseout="out('1138328726217316685');" style=""><abbr title="  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSetRequest;">  42 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSet🔵</abbr></span>
<span class="6618883795787964297" onmouseenter="enter('6618883795787964297');" onmouseout="out('6618883795787964297');" style=""><abbr title="  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidget;">  43 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="2778086687948821087" onmouseenter="enter('2778086687948821087');" onmouseout="out('2778086687948821087');" style=""><abbr title="  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidgetElement;">  44 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidge🔵</abbr></span>
<span class="-7098894210029330155" onmouseenter="enter('-7098894210029330155');" onmouseout="out('-7098894210029330155');" style="">  45 import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.utils.StringUtils;                   </span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="">  46 import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                     </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  47 import org.json.JSONArray;                                                                               </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  48 import org.json.JSONException;                                                                           </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  49 import org.json.JSONObject;                                                                              </span>
<span class="-6920508692158968227" onmouseenter="enter('-6920508692158968227');" onmouseout="out('-6920508692158968227');" style=""><abbr title="  50 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_PHONE_REQUEST;">  50 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span class="1244615468169562272" onmouseenter="enter('1244615468169562272');" onmouseout="out('1244615468169562272');" style=""><abbr title="  51 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_WATCH_REQUEST;">  51 import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.Music🔵</abbr></span>
<span  style="">  52                                                                                                          </span>
<span  style="">  53                                                                                                          </span>
<span class="3592572912775199945" onmouseenter="enter('3592572912775199945');" onmouseout="out('3592572912775199945');" style="">  54 public class FossilHRWatchAdapter extends FossilWatchAdapter {                                           </span>
<span class="2119820626355928704" onmouseenter="enter('2119820626355928704');" onmouseout="out('2119820626355928704');" style=""><abbr title="  55     private byte[] secretKey = new byte[]{ ((byte) (0x60)), ((byte) (0x26)), ((byte) (0xb7)), ((byte) (0xfd)), ((byte) (0xb2)), ((byte) (0x6d)), ((byte) (0x5)), ((byte) (0x5e)), ((byte) (0xda)), ((byte) (0xf7)), ((byte) (0x4b)), ((byte) (0x49)), ((byte) (0x98)), ((byte) (0x78)), ((byte) (0x2)), ((byte) (0x38)) };">  55     private byte[] secretKey = new byte[]{ ((byte) (0x60)), ((byte) (0x26)), ((byte) (0xb7)), ((byte) (0x🔵</abbr></span>
<span  style="">  56                                                                                                          </span>
<span class="5088344414276172788" onmouseenter="enter('5088344414276172788');" onmouseout="out('5088344414276172788');" style="">  57     private byte[] phoneRandomNumber;                                                                    </span>
<span  style="">  58                                                                                                          </span>
<span class="-506162566914247320" onmouseenter="enter('-506162566914247320');" onmouseout="out('-506162566914247320');" style="">  59     private byte[] watchRandomNumber;                                                                    </span>
<span  style="">  60                                                                                                          </span>
<span class="963050401348146682" onmouseenter="enter('963050401348146682');" onmouseout="out('963050401348146682');" style="">  61     CustomWidget[] widgets;                                                                              </span>
<span  style="">  62                                                                                                          </span>
<span class="2535750949384339971" onmouseenter="enter('2535750949384339971');" onmouseout="out('2535750949384339971');" style="">  63     private MusicSpec currentSpec = null;                                                                </span>
<span  style="">  64                                                                                                          </span>
<span class="-6092139116600387375" onmouseenter="enter('-6092139116600387375');" onmouseout="out('-6092139116600387375');" style="">  65     int imageNameIndex = 0;                                                                              </span>
<span  style="">  66                                                                                                          </span>
<span class="-5170367685934262595" onmouseenter="enter('-5170367685934262595');" onmouseout="out('-5170367685934262595');" style="">  67     public FossilHRWatchAdapter(QHybridSupport deviceSupport) {                                          </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  68         super(deviceSupport);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69     }                                                                                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  71     @Override                                                                                            </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  72     public void initialize() {                                                                           </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  73         if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                     </span>
<span class="-3436726469441820604" onmouseenter="enter('-3436726469441820604');" onmouseout="out('-3436726469441820604');" style="">  74             queueWrite(new RequestMtuRequest(512));                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75         }                                                                                                </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style="">  76         negotiateSymmetricKey();                                                                         </span>
<span class="8190154471164390400" onmouseenter="enter('8190154471164390400');" onmouseout="out('8190154471164390400');" style="">  77         // icons                                                                                         </span>
<span class="7478845557357973187" onmouseenter="enter('7478845557357973187');" onmouseout="out('7478845557357973187');" style="">  78         // queueWrite(new NotificationFilterPutHRRequest(new NotificationHRConfiguration[]{              </span>
<span class="7953285950076115814" onmouseenter="enter('7953285950076115814');" onmouseout="out('7953285950076115814');" style="">  79         // new NotificationHRConfiguration(&quot;com.whatsapp&quot;, -1),                                          </span>
<span class="6947449368772011060" onmouseenter="enter('6947449368772011060');" onmouseout="out('6947449368772011060');" style="">  80         // new NotificationHRConfiguration(&quot;asdasdasdasdasd&quot;, -1),                                       </span>
<span class="7100576879965438467" onmouseenter="enter('7100576879965438467');" onmouseout="out('7100576879965438467');" style="">  81         // new NotificationHRConfiguration(&quot;twitter&quot;, -1),                                               </span>
<span class="-236319939460584404" onmouseenter="enter('-236319939460584404');" onmouseout="out('-236319939460584404');" style="">  82         // }, this));                                                                                    </span>
<span class="-642578171158816330" onmouseenter="enter('-642578171158816330');" onmouseout="out('-642578171158816330');" style="">  83         // queueWrite(new PlayNotificationRequest(&quot;com.whatsapp&quot;, &quot;WhatsAp&quot;, &quot;wHATSaPP&quot;, this));         </span>
<span class="-4771200114595739326" onmouseenter="enter('-4771200114595739326');" onmouseout="out('-4771200114595739326');" style="">  84         // queueWrite(new PlayNotificationRequest(&quot;twitterrrr&quot;, &quot;Twitterr&quot;, &quot;tWITTER&quot;, this));           </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style="">  85         syncSettings();                                                                                  </span>
<span class="7548848230134815961" onmouseenter="enter('7548848230134815961');" onmouseout="out('7548848230134815961');" style="">  86         setTime();                                                                                       </span>
<span class="-7476048809216327685" onmouseenter="enter('-7476048809216327685');" onmouseout="out('-7476048809216327685');" style="">  87         overwriteButtons(null);                                                                          </span>
<span class="-6172759453189776303" onmouseenter="enter('-6172759453189776303');" onmouseout="out('-6172759453189776303');" style="">  88         queueWrite(new FileDeleteRequest(((short) (0x700))));                                            </span>
<span class="-8671838943786981246" onmouseenter="enter('-8671838943786981246');" onmouseout="out('-8671838943786981246');" style="">  89         loadWidgets();                                                                                   </span>
<span class="-686042699702875094" onmouseenter="enter('-686042699702875094');" onmouseout="out('-686042699702875094');" style="">  90         renderWidgets();                                                                                 </span>
<span class="7961004691166238388" onmouseenter="enter('7961004691166238388');" onmouseout="out('7961004691166238388');" style=""><abbr title="  91         // dunno if there is any point in doing this at start since when no watch is connected the QHybridSupport will not receive any intents anyway">  91         // dunno if there is any point in doing this at start since when no watch is connected the QHybri🔵</abbr></span>
<span class="-673558019044966288" onmouseenter="enter('-673558019044966288');" onmouseout="out('-673558019044966288');" style="">  92         queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED));                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93     }                                                                                                    </span>
<span  style="">  94                                                                                                          </span>
<span class="-3367927790602792525" onmouseenter="enter('-3367927790602792525');" onmouseout="out('-3367927790602792525');" style="">  95     private void loadWidgets() {                                                                         </span>
<span class="4250227692228494494" onmouseenter="enter('4250227692228494494');" onmouseout="out('4250227692228494494');" style="">  96         CustomWidget ethWidget = new CustomWidget(0, 63);                                                </span>
<span class="-5583627876467172720" onmouseenter="enter('-5583627876467172720');" onmouseout="out('-5583627876467172720');" style=""><abbr title="  97         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;date&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));">  97         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;da🔵</abbr></span>
<span class="8810035789150144395" onmouseenter="enter('8810035789150144395');" onmouseout="out('8810035789150144395');" style=""><abbr title="  98         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;eth&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));">  98         ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;et🔵</abbr></span>
<span class="545523070267522947" onmouseenter="enter('545523070267522947');" onmouseout="out('545523070267522947');" style="">  99         CustomWidget btcWidget = new CustomWidget(90, 63);                                               </span>
<span class="-941910546044370348" onmouseenter="enter('-941910546044370348');" onmouseout="out('-941910546044370348');" style=""><abbr title=" 100         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;, &quot;BTC&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 100         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;,🔵</abbr></span>
<span class="3121160694220980009" onmouseenter="enter('3121160694220980009');" onmouseout="out('3121160694220980009');" style=""><abbr title=" 101         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;btc&quot;, &quot;wtf&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 101         btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;bt🔵</abbr></span>
<span class="-4145323560833860345" onmouseenter="enter('-4145323560833860345');" onmouseout="out('-4145323560833860345');" style=""> 102         this.widgets = // btcWidget,                                                                     </span>
<span class="2531179040257860753" onmouseenter="enter('2531179040257860753');" onmouseout="out('2531179040257860753');" style=""> 103         new CustomWidget[]{ ethWidget }// btcWidget,                                                     </span>
<span class="-2934185353411265329" onmouseenter="enter('-2934185353411265329');" onmouseout="out('-2934185353411265329');" style=""> 104         ;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105     }                                                                                                    </span>
<span  style=""> 106                                                                                                          </span>
<span class="903870811454511101" onmouseenter="enter('903870811454511101');" onmouseout="out('903870811454511101');" style=""> 107     private void renderWidgets() {                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 108         try {                                                                                            </span>
<span class="5258072069868959736" onmouseenter="enter('5258072069868959736');" onmouseout="out('5258072069868959736');" style=""> 109             AssetImage[] widgetImages = new AssetImage[this.widgets.length];                             </span>
<span class="-5960055507607448265" onmouseenter="enter('-5960055507607448265');" onmouseout="out('-5960055507607448265');" style=""> 110             for (int i = 0; i &lt; this.widgets.length; i++) {                                              </span>
<span class="9174433818293211122" onmouseenter="enter('9174433818293211122');" onmouseout="out('9174433818293211122');" style=""> 111                 CustomWidget widget = widgets[i];                                                        </span>
<span class="7010238729887612961" onmouseenter="enter('7010238729887612961');" onmouseout="out('7010238729887612961');" style=""> 112                 Bitmap widgetBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);              </span>
<span class="-3285187784434415926" onmouseenter="enter('-3285187784434415926');" onmouseout="out('-3285187784434415926');" style=""> 113                 Canvas widgetCanvas = new Canvas(widgetBitmap);                                          </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style=""> 114                 Paint circlePaint = new Paint();                                                         </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style=""> 115                 circlePaint.setColor(Color.WHITE);                                                       </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style=""> 116                 circlePaint.setStyle(Paint.Style.STROKE);                                                </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style=""> 117                 circlePaint.setStrokeWidth(3);                                                           </span>
<span class="-9125685889860219804" onmouseenter="enter('-9125685889860219804');" onmouseout="out('-9125685889860219804');" style=""> 118                 widgetCanvas.drawCircle(38, 38, 37, circlePaint);                                        </span>
<span class="757605497541712230" onmouseenter="enter('757605497541712230');" onmouseout="out('757605497541712230');" style=""> 119                 for (CustomWidgetElement element : widget.getElements()) {                               </span>
<span class="-8374841026396869451" onmouseenter="enter('-8374841026396869451');" onmouseout="out('-8374841026396869451');" style=""><abbr title=" 120                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT) {"> 120                     if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT🔵</abbr></span>
<span class="8404149927879958117" onmouseenter="enter('8404149927879958117');" onmouseout="out('8404149927879958117');" style=""> 121                         Paint textPaint = new Paint();                                                   </span>
<span class="424156949088872290" onmouseenter="enter('424156949088872290');" onmouseout="out('424156949088872290');" style=""> 122                         textPaint.setStrokeWidth(4);                                                     </span>
<span class="1003656927330558161" onmouseenter="enter('1003656927330558161');" onmouseout="out('1003656927330558161');" style=""> 123                         textPaint.setTextSize(17.0F);                                                    </span>
<span class="7085320690650566449" onmouseenter="enter('7085320690650566449');" onmouseout="out('7085320690650566449');" style=""> 124                         textPaint.setStyle(Paint.Style.FILL);                                            </span>
<span class="7922377754733361904" onmouseenter="enter('7922377754733361904');" onmouseout="out('7922377754733361904');" style=""> 125                         textPaint.setColor(Color.WHITE);                                                 </span>
<span class="8080777884851070420" onmouseenter="enter('8080777884851070420');" onmouseout="out('8080777884851070420');" style=""> 126                         textPaint.setTextAlign(Paint.Align.CENTER);                                      </span>
<span class="1553568062762675664" onmouseenter="enter('1553568062762675664');" onmouseout="out('1553568062762675664');" style=""><abbr title=" 127                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - ((textPaint.descent() + textPaint.ascent()) / 2.0F), textPaint);"> 127                         widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - ((text🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129                 }                                                                                        </span>
<span class="-6499083283645472653" onmouseenter="enter('-6499083283645472653');" onmouseout="out('-6499083283645472653');" style=""><abbr title=" 130                 widgetImages[i] = AssetImageFactory.createAssetImage(StringUtils.bytesToHex(ByteBuffer.allocate(8).putLong(System.currentTimeMillis() + (imageNameIndex++)).array()), widgetBitmap, true, widget.getAngle(), widget.getDistance(), 1);"> 130                 widgetImages[i] = AssetImageFactory.createAssetImage(StringUtils.bytesToHex(ByteBuffer.al🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131             }                                                                                            </span>
<span class="1885431256773337041" onmouseenter="enter('1885431256773337041');" onmouseout="out('1885431256773337041');" style=""> 132             queueWrite(new AssetFilePutRequest(new AssetFile[]{ widgetImages[0] }, this));               </span>
<span class="1205405072399918389" onmouseenter="enter('1205405072399918389');" onmouseout="out('1205405072399918389');" style=""> 133             // for(int i = 0; i &lt; widgetImages.length; i++){                                             </span>
<span class="-2505974536289425763" onmouseenter="enter('-2505974536289425763');" onmouseout="out('-2505974536289425763');" style=""> 134             //     queueWrite(new AssetFilePutRequest(widgetImages[i], i + 1, this));                    </span>
<span class="6190421505795807923" onmouseenter="enter('6190421505795807923');" onmouseout="out('6190421505795807923');" style=""> 135             // }                                                                                         </span>
<span class="1746046142071540051" onmouseenter="enter('1746046142071540051');" onmouseout="out('1746046142071540051');" style=""> 136             // widgetImages[1].setFileName(widgetImages[0].getFileName());                               </span>
<span class="-3244577903020006214" onmouseenter="enter('-3244577903020006214');" onmouseout="out('-3244577903020006214');" style=""> 137             queueWrite(new ImagesSetRequest(widgetImages, this));                                        </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 138         } catch (IOException e) {                                                                        </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 139             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141     }                                                                                                    </span>
<span  style=""> 142                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143     @Override                                                                                            </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style=""> 144     public void setWidgetContent(String widgetID, String content) {                                      </span>
<span class="-1104872319984701354" onmouseenter="enter('-1104872319984701354');" onmouseout="out('-1104872319984701354');" style=""> 145         boolean update = false;                                                                          </span>
<span class="4918350577180628618" onmouseenter="enter('4918350577180628618');" onmouseout="out('4918350577180628618');" style=""> 146         for (CustomWidget widget : this.widgets) {                                                       </span>
<span class="-4308433243675839790" onmouseenter="enter('-4308433243675839790');" onmouseout="out('-4308433243675839790');" style=""> 147             CustomWidgetElement element = widget.getElement(widgetID);                                   </span>
<span class="-7299507149162526876" onmouseenter="enter('-7299507149162526876');" onmouseout="out('-7299507149162526876');" style=""> 148             if (element == null) {                                                                       </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 149                 continue;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150             }                                                                                            </span>
<span class="-6184273794543489723" onmouseenter="enter('-6184273794543489723');" onmouseout="out('-6184273794543489723');" style=""> 151             element.setValue(content);                                                                   </span>
<span class="1271847155476934364" onmouseenter="enter('1271847155476934364');" onmouseout="out('1271847155476934364');" style=""> 152             update = true;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153         }                                                                                                </span>
<span class="-1645897773461111491" onmouseenter="enter('-1645897773461111491');" onmouseout="out('-1645897773461111491');" style=""> 154         if (update) {                                                                                    </span>
<span class="-686042699702875094" onmouseenter="enter('-686042699702875094');" onmouseout="out('-686042699702875094');" style=""> 155             renderWidgets();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157     }                                                                                                    </span>
<span  style=""> 158                                                                                                          </span>
<span class="6173588091729977369" onmouseenter="enter('6173588091729977369');" onmouseout="out('6173588091729977369');" style=""> 159     private void negotiateSymmetricKey() {                                                               </span>
<span class="-7168973652814870469" onmouseenter="enter('-7168973652814870469');" onmouseout="out('-7168973652814870469');" style=""> 160         queueWrite(new VerifyPrivateKeyRequest(                                                          </span>
<span class="2474409468109046352" onmouseenter="enter('2474409468109046352');" onmouseout="out('2474409468109046352');" style=""> 161                 this.getSecretKey(),                                                                     </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 162                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 163         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164     }                                                                                                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166     @Override                                                                                            </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 167     public void setTime() {                                                                              </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 168         negotiateSymmetricKey();                                                                         </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 169         long millis = System.currentTimeMillis();                                                        </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 170         TimeZone zone = new GregorianCalendar().getTimeZone();                                           </span>
<span class="-4062059675021763523" onmouseenter="enter('-4062059675021763523');" onmouseout="out('-4062059675021763523');" style=""><abbr title=" 171         queueWrite(new ConfigurationPutRequest(new TimeConfigItem(((int) ((millis / 1000) + (getDeviceSupport().getTimeOffset() * 60))), ((short) (millis % 1000)), ((short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000))), this), false);"> 171         queueWrite(new ConfigurationPutRequest(new TimeConfigItem(((int) ((millis / 1000) + (getDeviceSup🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172     }                                                                                                    </span>
<span  style=""> 173                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 174     @Override                                                                                            </span>
<span class="5743699626454161990" onmouseenter="enter('5743699626454161990');" onmouseout="out('5743699626454161990');" style=""> 175     public void setMusicInfo(MusicSpec musicSpec) {                                                      </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style=""> 176         if (                                                                                             </span>
<span class="-2721767562250030479" onmouseenter="enter('-2721767562250030479');" onmouseout="out('-2721767562250030479');" style=""> 177                 currentSpec != null                                                                      </span>
<span class="6347316233900210670" onmouseenter="enter('6347316233900210670');" onmouseout="out('6347316233900210670');" style=""> 178                         &amp;&amp; currentSpec.album.equals(musicSpec.album)                                     </span>
<span class="-7026697945522803285" onmouseenter="enter('-7026697945522803285');" onmouseout="out('-7026697945522803285');" style=""> 179                         &amp;&amp; currentSpec.artist.equals(musicSpec.artist)                                   </span>
<span class="234002389956897367" onmouseenter="enter('234002389956897367');" onmouseout="out('234002389956897367');" style=""> 180                         &amp;&amp; currentSpec.track.equals(musicSpec.track)                                     </span>
<span class="129544933216380196" onmouseenter="enter('129544933216380196');" onmouseout="out('129544933216380196');" style=""> 181         ) return;                                                                                        </span>
<span class="5122037976784129938" onmouseenter="enter('5122037976784129938');" onmouseout="out('5122037976784129938');" style=""> 182         currentSpec = musicSpec;                                                                         </span>
<span class="2807680215991082156" onmouseenter="enter('2807680215991082156');" onmouseout="out('2807680215991082156');" style=""> 183         queueWrite(new MusicInfoSetRequest(                                                              </span>
<span class="-4995357750126688628" onmouseenter="enter('-4995357750126688628');" onmouseout="out('-4995357750126688628');" style=""> 184                 musicSpec.artist,                                                                        </span>
<span class="-2625665048867935009" onmouseenter="enter('-2625665048867935009');" onmouseout="out('-2625665048867935009');" style=""> 185                 musicSpec.album,                                                                         </span>
<span class="4393990709676517095" onmouseenter="enter('4393990709676517095');" onmouseout="out('4393990709676517095');" style=""> 186                 musicSpec.track,                                                                         </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 187                 this                                                                                     </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 188         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189     }                                                                                                    </span>
<span  style=""> 190                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191     @Override                                                                                            </span>
<span class="6484409227794913685" onmouseenter="enter('6484409227794913685');" onmouseout="out('6484409227794913685');" style=""> 192     public void setMusicState(MusicStateSpec stateSpec) {                                                </span>
<span class="-8825084358361918368" onmouseenter="enter('-8825084358361918368');" onmouseout="out('-8825084358361918368');" style=""> 193         super.setMusicState(stateSpec);                                                                  </span>
<span  style=""> 194                                                                                                          </span>
<span class="-5832778985397101291" onmouseenter="enter('-5832778985397101291');" onmouseout="out('-5832778985397101291');" style=""> 195         queueWrite(new MusicControlRequest(                                                              </span>
<span class="6749687689436260015" onmouseenter="enter('6749687689436260015');" onmouseout="out('6749687689436260015');" style=""><abbr title=" 196                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PAUSED"> 196                 stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_P🔵</abbr></span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 197         ));                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198     }                                                                                                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="-4761176768155522666" onmouseenter="enter('-4761176768155522666');" onmouseout="out('-4761176768155522666');" style=""> 200     private void setBackgroundImages(AssetImage background, AssetImage[] complications) {                </span>
<span class="-8622709206262220142" onmouseenter="enter('-8622709206262220142');" onmouseout="out('-8622709206262220142');" style=""> 201         queueWrite(new ImagesSetRequest(new AssetImage[]{background}, this));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 205     public void onFetchActivityData() {                                                                  </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 206         syncSettings();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="4739601400713241401" onmouseenter="enter('4739601400713241401');" onmouseout="out('4739601400713241401');" style=""> 209     private void syncSettings() {                                                                        </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 210         negotiateSymmetricKey();                                                                         </span>
<span  style=""> 211                                                                                                          </span>
<span class="1672016935910782047" onmouseenter="enter('1672016935910782047');" onmouseout="out('1672016935910782047');" style=""> 212         queueWrite(new ConfigurationGetRequest(this));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215     @Override                                                                                            </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 216     public void setActivityHand(double progress) {                                                       </span>
<span class="-1967647950949041220" onmouseenter="enter('-1967647950949041220');" onmouseout="out('-1967647950949041220');" style=""> 217         // super.setActivityHand(progress);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="4432705569944803605" onmouseenter="enter('4432705569944803605');" onmouseout="out('4432705569944803605');" style=""> 220     public boolean playRawNotification(NotificationSpec notificationSpec) {                              </span>
<span class="1615789189185193871" onmouseenter="enter('1615789189185193871');" onmouseout="out('1615789189185193871');" style=""> 221         String sender = notificationSpec.sender;                                                         </span>
<span class="-6939926144095499980" onmouseenter="enter('-6939926144095499980');" onmouseout="out('-6939926144095499980');" style=""> 222         if (sender == null) sender = notificationSpec.sourceName;                                        </span>
<span class="2253201172229202586" onmouseenter="enter('2253201172229202586');" onmouseout="out('2253201172229202586');" style=""><abbr title=" 223         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this));"> 223         queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.b🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 224         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="4061760400153145133" onmouseenter="enter('4061760400153145133');" onmouseout="out('4061760400153145133');" style=""> 227     public byte[] getSecretKey() {                                                                       </span>
<span class="877865931329337758" onmouseenter="enter('877865931329337758');" onmouseout="out('877865931329337758');" style=""> 228         byte[] authKeyBytes = new byte[16];                                                              </span>
<span class="6732301069337237036" onmouseenter="enter('6732301069337237036');" onmouseout="out('6732301069337237036');" style=""><abbr title=" 229         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().getDevice().getAddress());"> 229         SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().get🔵</abbr></span>
<span class="-3395951777279535435" onmouseenter="enter('-3395951777279535435');" onmouseout="out('-3395951777279535435');" style=""> 230         String authKey = sharedPrefs.getString(&quot;authkey&quot;, null);                                         </span>
<span class="-7531759022848727195" onmouseenter="enter('-7531759022848727195');" onmouseout="out('-7531759022848727195');" style=""> 231         if ((authKey != null) &amp;&amp; (!authKey.isEmpty())) {                                                 </span>
<span class="-7318628780836353920" onmouseenter="enter('-7318628780836353920');" onmouseout="out('-7318628780836353920');" style=""> 232             byte[] srcBytes = authKey.trim().getBytes();                                                 </span>
<span class="80469375375950004" onmouseenter="enter('80469375375950004');" onmouseout="out('80469375375950004');" style=""> 233             if ((authKey.length() == 34) &amp;&amp; authKey.startsWith(&quot;0x&quot;)) {                                  </span>
<span class="3552614168594468794" onmouseenter="enter('3552614168594468794');" onmouseout="out('3552614168594468794');" style=""> 234                 srcBytes = GB.hexStringToByteArray(authKey.substring(2));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235             }                                                                                            </span>
<span class="6598760317559003341" onmouseenter="enter('6598760317559003341');" onmouseout="out('6598760317559003341');" style=""> 236             System.arraycopy(srcBytes, 0, authKeyBytes, 0, Math.min(srcBytes.length, 16));               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237         }                                                                                                </span>
<span class="340030267486824060" onmouseenter="enter('340030267486824060');" onmouseout="out('340030267486824060');" style=""> 238         return authKeyBytes;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="-7182589409912293929" onmouseenter="enter('-7182589409912293929');" onmouseout="out('-7182589409912293929');" style=""> 241 //    public byte[] getSecretKey() {                                                                     </span>
<span class="-2812519745801139464" onmouseenter="enter('-2812519745801139464');" onmouseout="out('-2812519745801139464');" style=""> 242 //        return secretKey;                                                                              </span>
<span class="7265059398302853371" onmouseenter="enter('7265059398302853371');" onmouseout="out('7265059398302853371');" style=""> 243 //    }                                                                                                  </span>
<span class="-8021107058359765569" onmouseenter="enter('-8021107058359765569');" onmouseout="out('-8021107058359765569');" style=""> 244     public void setSecretKey(byte[] secretKey) {                                                         </span>
<span class="-1305759151014600921" onmouseenter="enter('-1305759151014600921');" onmouseout="out('-1305759151014600921');" style=""> 245         this.secretKey = secretKey;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246     }                                                                                                    </span>
<span  style=""> 247                                                                                                          </span>
<span class="1797454318126944117" onmouseenter="enter('1797454318126944117');" onmouseout="out('1797454318126944117');" style=""> 248     public void setPhoneRandomNumber(byte[] phoneRandomNumber) {                                         </span>
<span class="-1045014803983093080" onmouseenter="enter('-1045014803983093080');" onmouseout="out('-1045014803983093080');" style=""> 249         this.phoneRandomNumber = phoneRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="6353599412516657012" onmouseenter="enter('6353599412516657012');" onmouseout="out('6353599412516657012');" style=""> 252     public byte[] getPhoneRandomNumber() {                                                               </span>
<span class="-8473936821502081479" onmouseenter="enter('-8473936821502081479');" onmouseout="out('-8473936821502081479');" style=""> 253         return phoneRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="8524954629356124134" onmouseenter="enter('8524954629356124134');" onmouseout="out('8524954629356124134');" style=""> 256     public void setWatchRandomNumber(byte[] watchRandomNumber) {                                         </span>
<span class="-8554456578054756330" onmouseenter="enter('-8554456578054756330');" onmouseout="out('-8554456578054756330');" style=""> 257         this.watchRandomNumber = watchRandomNumber;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258     }                                                                                                    </span>
<span  style=""> 259                                                                                                          </span>
<span class="-817141622160847580" onmouseenter="enter('-817141622160847580');" onmouseout="out('-817141622160847580');" style=""> 260     public byte[] getWatchRandomNumber() {                                                               </span>
<span class="4512956887887166379" onmouseenter="enter('4512956887887166379');" onmouseout="out('4512956887887166379');" style=""> 261         return watchRandomNumber;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span  style=""> 263                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264     @Override                                                                                            </span>
<span class="-8332902696773003591" onmouseenter="enter('-8332902696773003591');" onmouseout="out('-8332902696773003591');" style=""> 265     public void overwriteButtons(String jsonConfigString) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 266         try {                                                                                            </span>
<span class="-5757883755283420088" onmouseenter="enter('-5757883755283420088');" onmouseout="out('-5757883755283420088');" style=""> 267             JSONArray jsonArray = new JSONArray(                                                         </span>
<span class="-5162550843991564685" onmouseenter="enter('-5162550843991564685');" onmouseout="out('-5162550843991564685');" style=""> 268                     GBApplication.getPrefs().getString(HRConfigActivity.CONFIG_KEY_Q_ACTIONS, &quot;[]&quot;)      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 269             );                                                                                           </span>
<span class="-3670193080643996757" onmouseenter="enter('-3670193080643996757');" onmouseout="out('-3670193080643996757');" style=""> 270             String[] menuItems = new String[jsonArray.length()];                                         </span>
<span class="3800396328797868230" onmouseenter="enter('3800396328797868230');" onmouseout="out('3800396328797868230');" style=""> 271             for (int i = 0; i &lt; jsonArray.length(); i++) menuItems[i] = jsonArray.getString(i);          </span>
<span  style=""> 272                                                                                                          </span>
<span class="-2546877682423996320" onmouseenter="enter('-2546877682423996320');" onmouseout="out('-2546877682423996320');" style=""> 273             queueWrite(new ButtonConfigurationPutRequest(                                                </span>
<span class="959305012337743007" onmouseenter="enter('959305012337743007');" onmouseout="out('959305012337743007');" style=""> 274                     menuItems,                                                                           </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 275                     this                                                                                 </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 276             ));                                                                                          </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 277         } catch (JSONException e) {                                                                      </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 278             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280     }                                                                                                    </span>
<span  style=""> 281                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282     @Override                                                                                            </span>
<span class="6377473851875601996" onmouseenter="enter('6377473851875601996');" onmouseout="out('6377473851875601996');" style=""> 283     protected void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {          </span>
<span class="-2825981250293151244" onmouseenter="enter('-2825981250293151244');" onmouseout="out('-2825981250293151244');" style=""> 284         super.handleBackgroundCharacteristic(characteristic);                                            </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 285         byte[] value = characteristic.getValue();                                                        </span>
<span class="-8910138668401756259" onmouseenter="enter('-8910138668401756259');" onmouseout="out('-8910138668401756259');" style=""> 286         byte requestType = value[1];                                                                     </span>
<span class="7048388226955854177" onmouseenter="enter('7048388226955854177');" onmouseout="out('7048388226955854177');" style=""> 287         if (requestType == ((byte) (0x5))) {                                                             </span>
<span class="-6049325109739304315" onmouseenter="enter('-6049325109739304315');" onmouseout="out('-6049325109739304315');" style=""> 288             handleMusicRequest(value);                                                                   </span>
<span class="677744447168232999" onmouseenter="enter('677744447168232999');" onmouseout="out('677744447168232999');" style=""> 289         } else if (requestType == ((byte) (0x1))) {                                                      </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style=""> 290             int eventId = value[2];                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 291             try {                                                                                        </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style=""> 292                 JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));         </span>
<span class="-2856093756302561708" onmouseenter="enter('-2856093756302561708');" onmouseout="out('-2856093756302561708');" style=""><abbr title=" 293                 String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;).getString(&quot;dest&quot;);"> 293                 String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commu🔵</abbr></span>
<span class="-8501386734166153816" onmouseenter="enter('-8501386734166153816');" onmouseout="out('-8501386734166153816');" style=""><abbr title=" 294                 String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;).getString(&quot;action&quot;);"> 294                 String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.co🔵</abbr></span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style=""> 295                 if (startStop.equals(&quot;stop&quot;)) {                                                          </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style=""> 296                     // overwriteButtons(null);                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 297                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298                 }                                                                                        </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style=""> 299                 queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));    </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style=""> 300                 Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);               </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style=""> 301                 menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                             </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style=""> 302                 getContext().sendBroadcast(menuIntent);                                                  </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 303             } catch (JSONException e) {                                                                  </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 304                 e.printStackTrace();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span  style=""> 308                                                                                                          </span>
<span class="8416553974703547913" onmouseenter="enter('8416553974703547913');" onmouseout="out('8416553974703547913');" style=""> 309     private void handleMusicRequest(byte[] value) {                                                      </span>
<span class="-7264442020313207444" onmouseenter="enter('-7264442020313207444');" onmouseout="out('-7264442020313207444');" style=""> 310         byte command = value[3];                                                                         </span>
<span class="-1813511864680047347" onmouseenter="enter('-1813511864680047347');" onmouseout="out('-1813511864680047347');" style=""> 311         MUSIC_WATCH_REQUEST request = MUSIC_WATCH_REQUEST.fromCommandByte(command);                      </span>
<span class="5551360534441028758" onmouseenter="enter('5551360534441028758');" onmouseout="out('5551360534441028758');" style=""> 312         MusicControlRequest r = new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE);   </span>
<span class="-1476594108120808605" onmouseenter="enter('-1476594108120808605');" onmouseout="out('-1476594108120808605');" style=""> 313         switch (request) {                                                                               </span>
<span class="8788580967348197642" onmouseenter="enter('8788580967348197642');" onmouseout="out('8788580967348197642');" style=""> 314             case MUSIC_REQUEST_PLAY_PAUSE :                                                              </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 315                 {                                                                                        </span>
<span class="6628176114625634916" onmouseenter="enter('6628176114625634916');" onmouseout="out('6628176114625634916');" style=""> 316                     queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE));   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 317                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318                 }                                                                                        </span>
<span class="-1019877147500808008" onmouseenter="enter('-1019877147500808008');" onmouseout="out('-1019877147500808008');" style=""> 319             case MUSIC_REQUEST_LOUDER :                                                                  </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 320                 {                                                                                        </span>
<span class="-3857602001706076214" onmouseenter="enter('-3857602001706076214');" onmouseout="out('-3857602001706076214');" style=""> 321                     queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_LOUDER));       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 322                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323                 }                                                                                        </span>
<span class="-8902195329548161955" onmouseenter="enter('-8902195329548161955');" onmouseout="out('-8902195329548161955');" style=""> 324             case MUSIC_REQUEST_QUITER :                                                                  </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style=""> 325                 {                                                                                        </span>
<span class="2129420423363786169" onmouseenter="enter('2129420423363786169');" onmouseout="out('2129420423363786169');" style=""> 326                     queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_QUITER));       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 327                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330     }                                                                                                    </span>
<span  style=""> 331                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 332     @Override                                                                                            </span>
<span class="-3634467212876653578" onmouseenter="enter('-3634467212876653578');" onmouseout="out('-3634467212876653578');" style=""> 333     public void setCommuteMenuMessage(String message, boolean finished) {                                </span>
<span class="-2545716908437572756" onmouseenter="enter('-2545716908437572756');" onmouseout="out('-2545716908437572756');" style=""> 334         queueWrite(new SetCommuteMenuMessage(message, finished, this));                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336 }                                                                                                        </span>














































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-2997913422227863975" onmouseenter="enter('-2997913422227863975');" onmouseout="out('-2997913422227863975');" style="">   1  package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil_hr;                           </span>
<span  style="">   2                                                                                                                    </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   3  import android.bluetooth.BluetoothGattCharacteristic;                                                             </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   4  import android.content.Intent;                                                                                    </span>

<span class="-6379310173182770238" onmouseenter="enter('-6379310173182770238');" onmouseout="out('-6379310173182770238');" style="">   5  import android.graphics.Bitmap;                                                                                   </span>
<span class="-6358617885644310547" onmouseenter="enter('-6358617885644310547');" onmouseout="out('-6358617885644310547');" style="">   6  import android.graphics.Canvas;                                                                                   </span>
<span class="-5868658801447575011" onmouseenter="enter('-5868658801447575011');" onmouseout="out('-5868658801447575011');" style="">   7  import android.graphics.Color;                                                                                    </span>
<span class="-1586527322890291073" onmouseenter="enter('-1586527322890291073');" onmouseout="out('-1586527322890291073');" style="">   8  import android.graphics.Paint;                                                                                    </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">   9  import android.os.Build;                                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  10  import android.util.Log;                                                                                          </span>
<span  style="">  11                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  12  import org.json.JSONArray;                                                                                        </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  13  import org.json.JSONException;                                                                                    </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  14  import org.json.JSONObject;                                                                                       </span>
<span  style="">  15                                                                                                                    </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="">  16  import java.io.ByteArrayOutputStream;                                                                             </span>
<span class="-535075201057145249" onmouseenter="enter('-535075201057145249');" onmouseout="out('-535075201057145249');" style="">  17  import java.io.FileInputStream;                                                                                   </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  18  import java.io.IOException;                                                                                       </span>
<span class="-6886346622632588502" onmouseenter="enter('-6886346622632588502');" onmouseout="out('-6886346622632588502');" style="">  19  import java.nio.ByteBuffer;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  20  import java.util.Date;                                                                                            </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  21  import java.util.GregorianCalendar;                                                                               </span>
<span class="-345088116004353755" onmouseenter="enter('-345088116004353755');" onmouseout="out('-345088116004353755');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import java.util.Random;                                                                                          </span>
<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  23  import java.util.TimeZone;                                                                                        </span>
<span class="-1652219607605312777" onmouseenter="enter('-1652219607605312777');" onmouseout="out('-1652219607605312777');" style="">  24  import java.util.zip.CRC32;                                                                                       </span>
<span  style="">  25                                                                                                                    </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  26  import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                                        </span>
<span class="-7799465992823203826" onmouseenter="enter('-7799465992823203826');" onmouseout="out('-7799465992823203826');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import nodomain.freeyourgadget.gadgetbridge.Widget;                                                               </span>
<span class="3654131406467691963" onmouseenter="enter('3654131406467691963');" onmouseout="out('3654131406467691963');" style="">  28  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.HRConfigActivity;                                     </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  29  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  30  import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                                      </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  31  import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                                 </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  32  import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                               </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  33  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                               </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="">  34  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;            </span>
<span class="-9112289504640649256" onmouseenter="enter('-9112289504640649256');" onmouseout="out('-9112289504640649256');" style="">  35  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.encoder.RLEEncoder;                           </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  36  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;            </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style="">  37  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;        </span>
<span class="7104057539707130818" onmouseenter="enter('7104057539707130818');" onmouseout="out('7104057539707130818');" style=""><abbr title="  38  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.*;">  38  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPut🔵</abbr></span>
<span class="-7469566776689025802" onmouseenter="enter('-7469566776689025802');" onmouseout="out('-7469566776689025802');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.file.FileDeleteRequest;       </span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationR🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style=""><abbr title="  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivat🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style=""><abbr title="  42  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  42  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfiguration🔵</abbr></span>
<span class="-7616394483813386160" onmouseenter="enter('-7616394483813386160');" onmouseout="out('-7616394483813386160');" style=""><abbr title="  43  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationGetRequest;">  43  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Configuration🔵</abbr></span>
<span class="1784930373847085070" onmouseenter="enter('1784930373847085070');" onmouseout="out('1784930373847085070');" style=""><abbr title="  44  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationPutRequest;">  44  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Configuration🔵</abbr></span>
<span class="-6690984262238362218" onmouseenter="enter('-6690984262238362218');" onmouseout="out('-6690984262238362218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFile;            </span>
<span class="-7479827832081411210" onmouseenter="enter('-7479827832081411210');" onmouseout="out('-7479827832081411210');" style="">  46  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutRequest;  </span>
<span class="6886533222315535550" onmouseenter="enter('6886533222315535550');" onmouseout="out('6886533222315535550');" style="">  47  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImage;          </span>
<span class="4714390797546975821" onmouseenter="enter('4714390797546975821');" onmouseout="out('4714390797546975821');" style="">  48  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFactory;   </span>
<span class="-6584136629945154367" onmouseenter="enter('-6584136629945154367');" onmouseout="out('-6584136629945154367');" style="">  49  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetRequest;    </span>
<span class="-3572348114301784964" onmouseenter="enter('-3572348114301784964');" onmouseout="out('-3572348114301784964');" style="">  50  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMenuMessage;</span>
<span class="7919188738795660329" onmouseenter="enter('7919188738795660329');" onmouseout="out('7919188738795660329');" style="">  51  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest; </span>
<span class="1138328726217316685" onmouseenter="enter('1138328726217316685');" onmouseout="out('1138328726217316685');" style="">  52  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSetRequest; </span>
<span class="6618883795787964297" onmouseenter="enter('6618883795787964297');" onmouseout="out('6618883795787964297');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  53 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidget;       </span>
<span class="2778086687948821087" onmouseenter="enter('2778086687948821087');" onmouseout="out('2778086687948821087');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.widget.CustomWidgetElement;</span>
<span class="-7098894210029330155" onmouseenter="enter('-7098894210029330155');" onmouseout="out('-7098894210029330155');" style="">  55  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.utils.StringUtils;                            </span>
<span  style="">  56                                                                                                                    </span>
<span class="4880363067443984859" onmouseenter="enter('4880363067443984859');" onmouseout="out('4880363067443984859');" style=""><abbr title="  57  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.*;">  57  import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRe🔵</abbr></span>




<span  style="">  58                                                                                                                    </span>
<span class="3592572912775199945" onmouseenter="enter('3592572912775199945');" onmouseout="out('3592572912775199945');" style="">  59  public class FossilHRWatchAdapter extends FossilWatchAdapter {                                                    </span>
<span class="6555826699522888981" onmouseenter="enter('6555826699522888981');" onmouseout="out('6555826699522888981');" style=""><abbr title="  60      private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 0x6D, (byte) 0x05, (byte) 0x5E, (byte) 0xDA, (byte) 0xF7, (byte) 0x4B, (byte) 0x49, (byte) 0x98, (byte) 0x78, (byte) 0x02, (byte) 0x38};">  60      private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 🔵</abbr></span>
<span class="5088344414276172788" onmouseenter="enter('5088344414276172788');" onmouseout="out('5088344414276172788');" style="">  61      private byte[] phoneRandomNumber;                                                                             </span>
<span class="-506162566914247320" onmouseenter="enter('-506162566914247320');" onmouseout="out('-506162566914247320');" style="">  62      private byte[] watchRandomNumber;                                                                             </span>
<span  style="">  63                                                                                                                    </span>
<span class="963050401348146682" onmouseenter="enter('963050401348146682');" onmouseout="out('963050401348146682');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  64 +    CustomWidget[] widgets;                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +                                                                                                                  </span>
<span class="2535750949384339971" onmouseenter="enter('2535750949384339971');" onmouseout="out('2535750949384339971');" style="">  66      private MusicSpec currentSpec = null;                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +                                                                                                                  </span>
<span class="-6092139116600387375" onmouseenter="enter('-6092139116600387375');" onmouseout="out('-6092139116600387375');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  68 +    int imageNameIndex = 0;                                                                                       </span>
<span  style="">  69                                                                                                                    </span>
<span class="-5170367685934262595" onmouseenter="enter('-5170367685934262595');" onmouseout="out('-5170367685934262595');" style="">  70      public FossilHRWatchAdapter(QHybridSupport deviceSupport) {                                                   </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  71          super(deviceSupport);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72      }                                                                                                             </span>
<span  style="">  73                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  74      @Override                                                                                                     </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  75      public void initialize() {                                                                                    </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  76          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="-3436726469441820604" onmouseenter="enter('-3436726469441820604');" onmouseout="out('-3436726469441820604');" style="">  77              queueWrite(new RequestMtuRequest(512));                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78          }                                                                                                         </span>
<span  style="">  79                                                                                                                    </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style="">  80          negotiateSymmetricKey();                                                                                  </span>
<span  style="">  81                                                                                                                    </span>
<span class="8190154471164390400" onmouseenter="enter('8190154471164390400');" onmouseout="out('8190154471164390400');" style="">  82          // icons                                                                                                  </span>
<span  style="">  83                                                                                                                    </span>
<span class="7478845557357973187" onmouseenter="enter('7478845557357973187');" onmouseout="out('7478845557357973187');" style="">  84          // queueWrite(new NotificationFilterPutHRRequest(new NotificationHRConfiguration[]{                       </span>
<span class="-4835014852533623208" onmouseenter="enter('-4835014852533623208');" onmouseout="out('-4835014852533623208');" style="">  85          //         new NotificationHRConfiguration(&quot;com.whatsapp&quot;, -1),                                           </span>
<span class="6619193525725887236" onmouseenter="enter('6619193525725887236');" onmouseout="out('6619193525725887236');" style="">  86          //         new NotificationHRConfiguration(&quot;asdasdasdasdasd&quot;, -1),                                        </span>
<span class="-9188979562074738481" onmouseenter="enter('-9188979562074738481');" onmouseout="out('-9188979562074738481');" style="">  87          //         // new NotificationHRConfiguration(&quot;twitter&quot;, -1),                                             </span>
<span class="-236319939460584404" onmouseenter="enter('-236319939460584404');" onmouseout="out('-236319939460584404');" style="">  88          // }, this));                                                                                             </span>
<span  style="">  89                                                                                                                    </span>
<span class="-642578171158816330" onmouseenter="enter('-642578171158816330');" onmouseout="out('-642578171158816330');" style="">  90          // queueWrite(new PlayNotificationRequest(&quot;com.whatsapp&quot;, &quot;WhatsAp&quot;, &quot;wHATSaPP&quot;, this));                  </span>
<span class="-4771200114595739326" onmouseenter="enter('-4771200114595739326');" onmouseout="out('-4771200114595739326');" style="">  91          // queueWrite(new PlayNotificationRequest(&quot;twitterrrr&quot;, &quot;Twitterr&quot;, &quot;tWITTER&quot;, this));                    </span>
<span  style="">  92                                                                                                                    </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style="">  93          syncSettings();                                                                                           </span>
<span  style="">  94                                                                                                                    </span>
<span class="7548848230134815961" onmouseenter="enter('7548848230134815961');" onmouseout="out('7548848230134815961');" style="">  95          setTime();                                                                                                </span>
<span  style="">  96                                                                                                                    </span>
<span class="-7476048809216327685" onmouseenter="enter('-7476048809216327685');" onmouseout="out('-7476048809216327685');" style="">  97          overwriteButtons(null);                                                                                   </span>
<span  style="">  98                                                                                                                    </span>
<span class="4364182020411366369" onmouseenter="enter('4364182020411366369');" onmouseout="out('4364182020411366369');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -        drawWidgetText(&quot;-&quot;);                                                                                      </span>
<span class="-7829839226758806406" onmouseenter="enter('-7829839226758806406');" onmouseout="out('-7829839226758806406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +        queueWrite(new FileDeleteRequest((short) 0x0700));                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +                                                                                                                  </span>
<span class="-8671838943786981246" onmouseenter="enter('-8671838943786981246');" onmouseout="out('-8671838943786981246');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +        loadWidgets();                                                                                            </span>
<span class="-686042699702875094" onmouseenter="enter('-686042699702875094');" onmouseout="out('-686042699702875094');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +        renderWidgets();                                                                                          </span>
<span class="7961004691166238388" onmouseenter="enter('7961004691166238388');" onmouseout="out('7961004691166238388');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 104 +        // dunno if there is any point in doing this at start since when no watch is connected the QHybridSupport will not receive any intents anyway"> 104 +        // dunno if there is any point in doing this at start since when no watch is connected the QHybridSupport 🔵</abbr></span>
<span  style=""> 105                                                                                                                    </span>
<span class="-673558019044966288" onmouseenter="enter('-673558019044966288');" onmouseout="out('-673558019044966288');" style=""> 106          queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED));                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107      }                                                                                                             </span>
<span  style=""> 108                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -    @Override                                                                                                     </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 110 -    public void setWidgetContent(String widgetID, String content) {                                               </span>
<span class="-4933596428912981676" onmouseenter="enter('-4933596428912981676');" onmouseout="out('-4933596428912981676');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 111 -        drawWidgetText(content);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 113 -                                                                                                                  </span>
<span class="2148499711683214236" onmouseenter="enter('2148499711683214236');" onmouseout="out('2148499711683214236');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 114 -    private void drawWidgetText(String text){                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -                                                                                                                  </span>
<span class="-3367927790602792525" onmouseenter="enter('-3367927790602792525');" onmouseout="out('-3367927790602792525');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +    private void loadWidgets() {                                                                                  </span>
<span class="4250227692228494494" onmouseenter="enter('4250227692228494494');" onmouseout="out('4250227692228494494');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +        CustomWidget ethWidget = new CustomWidget(0, 63);                                                         </span>
<span class="-5583627876467172720" onmouseenter="enter('-5583627876467172720');" onmouseout="out('-5583627876467172720');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 118 +        ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;date&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 118 +        ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;date&quot;, &quot;-&quot;,🔵</abbr></span>
<span class="8810035789150144395" onmouseenter="enter('8810035789150144395');" onmouseout="out('8810035789150144395');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 119 +        ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;eth&quot;, &quot;-&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 119 +        ethWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;eth&quot;, &quot;-&quot;, 🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +                                                                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +                                                                                                                  </span>
<span class="545523070267522947" onmouseenter="enter('545523070267522947');" onmouseout="out('545523070267522947');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +        CustomWidget btcWidget = new CustomWidget(90, 63);                                                        </span>
<span class="-941910546044370348" onmouseenter="enter('-941910546044370348');" onmouseout="out('-941910546044370348');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 123 +        btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;, &quot;BTC&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_UPPER_HALF));"> 123 +        btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;&quot;, &quot;BTC&quot;, C🔵</abbr></span>
<span class="3121160694220980009" onmouseenter="enter('3121160694220980009');" onmouseout="out('3121160694220980009');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 124 +        btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;btc&quot;, &quot;wtf&quot;, CustomWidgetElement.X_CENTER, CustomWidgetElement.Y_LOWER_HALF));"> 124 +        btcWidget.addElement(new CustomWidgetElement(CustomWidgetElement.WidgetElementType.TYPE_TEXT, &quot;btc&quot;, &quot;wtf&quot;🔵</abbr></span>
<span class="-8071749431000517690" onmouseenter="enter('-8071749431000517690');" onmouseout="out('-8071749431000517690');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +        this.widgets = new CustomWidget[]{                                                                        </span>
<span class="3533809623283696185" onmouseenter="enter('3533809623283696185');" onmouseout="out('3533809623283696185');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +                ethWidget,                                                                                        </span>
<span class="7408617870467158708" onmouseenter="enter('7408617870467158708');" onmouseout="out('7408617870467158708');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +                // btcWidget,                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +        };                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +                                                                                                                  </span>
<span class="903870811454511101" onmouseenter="enter('903870811454511101');" onmouseout="out('903870811454511101');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +    private void renderWidgets() {                                                                                </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 132          try {                                                                                                     </span>
<span class="-3013348763603409185" onmouseenter="enter('-3013348763603409185');" onmouseout="out('-3013348763603409185');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 133 -            Bitmap testBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -                                                                                                                  </span>
<span class="5825451176870303610" onmouseenter="enter('5825451176870303610');" onmouseout="out('5825451176870303610');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -            Canvas testCanvas = new Canvas(testBitmap);                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -                                                                                                                  </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -            Paint circlePaint = new Paint();                                                                      </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -            circlePaint.setColor(Color.WHITE);                                                                    </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -            circlePaint.setStyle(Paint.Style.STROKE);                                                             </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -            circlePaint.setStrokeWidth(3);                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -                                                                                                                  </span>
<span class="7923662918578186580" onmouseenter="enter('7923662918578186580');" onmouseout="out('7923662918578186580');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -            testCanvas.drawCircle(38, 38, 37, circlePaint);                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -                                                                                                                  </span>
<span class="5154882634576941391" onmouseenter="enter('5154882634576941391');" onmouseout="out('5154882634576941391');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -            circlePaint.setStrokeWidth(4);                                                                        </span>
<span class="-3112450786846897684" onmouseenter="enter('-3112450786846897684');" onmouseout="out('-3112450786846897684');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -            circlePaint.setTextSize(17f);                                                                         </span>
<span class="7023202196844894280" onmouseenter="enter('7023202196844894280');" onmouseout="out('7023202196844894280');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -            circlePaint.setStyle(Paint.Style.FILL);                                                               </span>
<span class="3348411701124870306" onmouseenter="enter('3348411701124870306');" onmouseout="out('3348411701124870306');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -            circlePaint.setTextAlign(Paint.Align.CENTER);                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -                                                                                                                  </span>
<span class="5633570459515008673" onmouseenter="enter('5633570459515008673');" onmouseout="out('5633570459515008673');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 149 -            testCanvas.drawText(&quot;ETH&quot;, 38, 76f / 3f * 1f - (circlePaint.descent() + circlePaint.ascent()) / 2f, circlePaint);"> 149 -            testCanvas.drawText(&quot;ETH&quot;, 38, 76f / 3f * 1f - (circlePaint.descent() + circlePaint.ascent()) / 2f, ci🔵</abbr></span>
<span class="560018477455299162" onmouseenter="enter('560018477455299162');" onmouseout="out('560018477455299162');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 150 -            testCanvas.drawText(text, 38, 76f / 3f * 2f - (circlePaint.descent() + circlePaint.ascent()) / 2f, circlePaint);"> 150 -            testCanvas.drawText(text, 38, 76f / 3f * 2f - (circlePaint.descent() + circlePaint.ascent()) / 2f, cir🔵</abbr></span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -                                                                                                                  </span>
<span class="6763134112685318491" onmouseenter="enter('6763134112685318491');" onmouseout="out('6763134112685318491');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -            circlePaint.setStrokeWidth(1);                                                                        </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -            circlePaint.setStyle(Paint.Style.STROKE);                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -                                                                                                                  </span>
<span class="6369617184058801806" onmouseenter="enter('6369617184058801806');" onmouseout="out('6369617184058801806');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 155 -            // for(int i = 0; i &lt;= 3; i++) testCanvas.drawLine(0, 76f / 3f * i - (i / 3), 76, 76f / 3f * i - (i / 3), circlePaint);"> 155 -            // for(int i = 0; i &lt;= 3; i++) testCanvas.drawLine(0, 76f / 3f * i - (i / 3), 76, 76f / 3f * i - (i / 🔵</abbr></span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -                                                                                                                  </span>
<span class="6150685702057863734" onmouseenter="enter('6150685702057863734');" onmouseout="out('6150685702057863734');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -            AssetImage image = AssetImageFactory.createAssetImage(                                                </span>
<span class="-4089531526134204923" onmouseenter="enter('-4089531526134204923');" onmouseout="out('-4089531526134204923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -                    StringUtils.bytesToHex(                                                                       </span>
<span class="158631786590567123" onmouseenter="enter('158631786590567123');" onmouseout="out('158631786590567123');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -                            ByteBuffer.allocate(4)                                                                </span>
<span class="7322175423236652505" onmouseenter="enter('7322175423236652505');" onmouseout="out('7322175423236652505');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -                                    .putInt((int) System.currentTimeMillis())                                     </span>
<span class="6229767945751043452" onmouseenter="enter('6229767945751043452');" onmouseout="out('6229767945751043452');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 161 -                                    .array()                                                                      </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -                    )                                                                                             </span>
<span class="-6215522370274052950" onmouseenter="enter('-6215522370274052950');" onmouseout="out('-6215522370274052950');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -                    , testBitmap, true, 0, 60, 1);                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 164 -                                                                                                                  </span>
<span class="-6029904700214567520" onmouseenter="enter('-6029904700214567520');" onmouseout="out('-6029904700214567520');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 165 -            AssetImage[] images = new AssetImage[]{                                                               </span>
<span class="766035986446939301" onmouseenter="enter('766035986446939301');" onmouseout="out('766035986446939301');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 166 -                    image,                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 167 -            };                                                                                                    </span>
<span class="5258072069868959736" onmouseenter="enter('5258072069868959736');" onmouseout="out('5258072069868959736');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +            AssetImage[] widgetImages = new AssetImage[this.widgets.length];                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +                                                                                                                  </span>
<span class="-5960055507607448265" onmouseenter="enter('-5960055507607448265');" onmouseout="out('-5960055507607448265');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +            for (int i = 0; i &lt; this.widgets.length; i++) {                                                       </span>
<span class="9174433818293211122" onmouseenter="enter('9174433818293211122');" onmouseout="out('9174433818293211122');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +                CustomWidget widget = widgets[i];                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +                                                                                                                  </span>
<span class="7010238729887612961" onmouseenter="enter('7010238729887612961');" onmouseout="out('7010238729887612961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +                Bitmap widgetBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +                                                                                                                  </span>
<span class="-3285187784434415926" onmouseenter="enter('-3285187784434415926');" onmouseout="out('-3285187784434415926');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +                Canvas widgetCanvas = new Canvas(widgetBitmap);                                                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +                                                                                                                  </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +                Paint circlePaint = new Paint();                                                                  </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +                circlePaint.setColor(Color.WHITE);                                                                </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +                circlePaint.setStyle(Paint.Style.STROKE);                                                         </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +                circlePaint.setStrokeWidth(3);                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +                                                                                                                  </span>
<span class="-9125685889860219804" onmouseenter="enter('-9125685889860219804');" onmouseout="out('-9125685889860219804');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +                widgetCanvas.drawCircle(38, 38, 37, circlePaint);                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +                                                                                                                  </span>
<span class="757605497541712230" onmouseenter="enter('757605497541712230');" onmouseout="out('757605497541712230');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +                for (CustomWidgetElement element : widget.getElements()) {                                        </span>
<span class="-8374841026396869451" onmouseenter="enter('-8374841026396869451');" onmouseout="out('-8374841026396869451');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +                    if (element.getWidgetElementType() == CustomWidgetElement.WidgetElementType.TYPE_TEXT) {      </span>
<span class="8404149927879958117" onmouseenter="enter('8404149927879958117');" onmouseout="out('8404149927879958117');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +                        Paint textPaint = new Paint();                                                            </span>
<span class="424156949088872290" onmouseenter="enter('424156949088872290');" onmouseout="out('424156949088872290');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +                        textPaint.setStrokeWidth(4);                                                              </span>
<span class="-7858016953995282215" onmouseenter="enter('-7858016953995282215');" onmouseout="out('-7858016953995282215');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +                        textPaint.setTextSize(17f);                                                               </span>
<span class="7085320690650566449" onmouseenter="enter('7085320690650566449');" onmouseout="out('7085320690650566449');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +                        textPaint.setStyle(Paint.Style.FILL);                                                     </span>
<span class="7922377754733361904" onmouseenter="enter('7922377754733361904');" onmouseout="out('7922377754733361904');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +                        textPaint.setColor(Color.WHITE);                                                          </span>
<span class="8080777884851070420" onmouseenter="enter('8080777884851070420');" onmouseout="out('8080777884851070420');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +                        textPaint.setTextAlign(Paint.Align.CENTER);                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +                                                                                                                  </span>
<span class="-3687982044961117698" onmouseenter="enter('-3687982044961117698');" onmouseout="out('-3687982044961117698');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 193 +                        widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textPaint.descent() + textPaint.ascent()) / 2f, textPaint);"> 193 +                        widgetCanvas.drawText(element.getValue(), element.getX(), element.getY() - (textPaint.desc🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +                }                                                                                                 </span>
<span class="-1958389203211080723" onmouseenter="enter('-1958389203211080723');" onmouseout="out('-1958389203211080723');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +                widgetImages[i] = AssetImageFactory.createAssetImage(                                             </span>
<span class="-4089531526134204923" onmouseenter="enter('-4089531526134204923');" onmouseout="out('-4089531526134204923');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +                        StringUtils.bytesToHex(                                                                   </span>
<span class="6698971870045387004" onmouseenter="enter('6698971870045387004');" onmouseout="out('6698971870045387004');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +                                ByteBuffer.allocate(8)                                                            </span>
<span class="-8417793048142742485" onmouseenter="enter('-8417793048142742485');" onmouseout="out('-8417793048142742485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +                                        .putLong(System.currentTimeMillis() + imageNameIndex++)                   </span>
<span class="6229767945751043452" onmouseenter="enter('6229767945751043452');" onmouseout="out('6229767945751043452');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +                                        .array()                                                                  </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +                        )                                                                                         </span>
<span class="-3803627976732072376" onmouseenter="enter('-3803627976732072376');" onmouseout="out('-3803627976732072376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +                        ,                                                                                         </span>
<span class="6927266072716207452" onmouseenter="enter('6927266072716207452');" onmouseout="out('6927266072716207452');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +                        widgetBitmap,                                                                             </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +                        true,                                                                                     </span>
<span class="-5673825003729303026" onmouseenter="enter('-5673825003729303026');" onmouseout="out('-5673825003729303026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +                        widget.getAngle(),                                                                        </span>
<span class="-686125949143974898" onmouseenter="enter('-686125949143974898');" onmouseout="out('-686125949143974898');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +                        widget.getDistance(),                                                                     </span>
<span class="-6707054910432036291" onmouseenter="enter('-6707054910432036291');" onmouseout="out('-6707054910432036291');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +                        1                                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +                                                                                                                  </span>
<span  style=""> 211                                                                                                                    </span>
<span class="4734673173370309989" onmouseenter="enter('4734673173370309989');" onmouseout="out('4734673173370309989');" style=""> 212              queueWrite(new AssetFilePutRequest(                                                                   </span>
<span class="-9668838946899241" onmouseenter="enter('-9668838946899241');" onmouseout="out('-9668838946899241');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -                    images,                                                                                       </span>
<span class="-7327430611734723739" onmouseenter="enter('-7327430611734723739');" onmouseout="out('-7327430611734723739');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 214 +                    new AssetFile[]{widgetImages[0]},                                                             </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 215                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 216              ));                                                                                                   </span>
<span  style=""> 217                                                                                                                    </span>
<span class="1205405072399918389" onmouseenter="enter('1205405072399918389');" onmouseout="out('1205405072399918389');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 218 +            // for(int i = 0; i &lt; widgetImages.length; i++){                                                      </span>
<span class="-2505974536289425763" onmouseenter="enter('-2505974536289425763');" onmouseout="out('-2505974536289425763');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +            //     queueWrite(new AssetFilePutRequest(widgetImages[i], i + 1, this));                             </span>
<span class="6190421505795807923" onmouseenter="enter('6190421505795807923');" onmouseout="out('6190421505795807923');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +            // }                                                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +                                                                                                                  </span>
<span class="1746046142071540051" onmouseenter="enter('1746046142071540051');" onmouseout="out('1746046142071540051');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +            // widgetImages[1].setFileName(widgetImages[0].getFileName());                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +                                                                                                                  </span>
<span class="-6828394027622892361" onmouseenter="enter('-6828394027622892361');" onmouseout="out('-6828394027622892361');" style=""> 224              queueWrite(new ImagesSetRequest(                                                                      </span>
<span class="-9668838946899241" onmouseenter="enter('-9668838946899241');" onmouseout="out('-9668838946899241');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -                    images,                                                                                       </span>
<span class="1254023579369105632" onmouseenter="enter('1254023579369105632');" onmouseout="out('1254023579369105632');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +                    widgetImages,                                                                                 </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 227                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 228              ));                                                                                                   </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 229          } catch (IOException e) {                                                                                 </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 230              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +    @Override                                                                                                     </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +    public void setWidgetContent(String widgetID, String content) {                                               </span>
<span class="-1104872319984701354" onmouseenter="enter('-1104872319984701354');" onmouseout="out('-1104872319984701354');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +        boolean update = false;                                                                                   </span>
<span class="-8835020710046225543" onmouseenter="enter('-8835020710046225543');" onmouseout="out('-8835020710046225543');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +        for(CustomWidget widget : this.widgets){                                                                  </span>
<span class="-4308433243675839790" onmouseenter="enter('-4308433243675839790');" onmouseout="out('-4308433243675839790');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +            CustomWidgetElement element = widget.getElement(widgetID);                                            </span>
<span class="8524974076489104016" onmouseenter="enter('8524974076489104016');" onmouseout="out('8524974076489104016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +            if(element == null) continue;                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +                                                                                                                  </span>
<span class="-6184273794543489723" onmouseenter="enter('-6184273794543489723');" onmouseout="out('-6184273794543489723');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +            element.setValue(content);                                                                            </span>
<span class="1271847155476934364" onmouseenter="enter('1271847155476934364');" onmouseout="out('1271847155476934364');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +            update = true;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +                                                                                                                  </span>
<span class="-205165562801947004" onmouseenter="enter('-205165562801947004');" onmouseout="out('-205165562801947004');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +        if(update) renderWidgets();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span  style=""> 247                                                                                                                    </span>
<span class="6173588091729977369" onmouseenter="enter('6173588091729977369');" onmouseout="out('6173588091729977369');" style=""> 248      private void negotiateSymmetricKey() {                                                                        </span>
<span class="-7168973652814870469" onmouseenter="enter('-7168973652814870469');" onmouseout="out('-7168973652814870469');" style=""> 249          queueWrite(new VerifyPrivateKeyRequest(                                                                   </span>
<span class="2474409468109046352" onmouseenter="enter('2474409468109046352');" onmouseout="out('2474409468109046352');" style=""> 250                  this.getSecretKey(),                                                                              </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 251                  this                                                                                              </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 252          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253      }                                                                                                             </span>
<span  style=""> 254                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255      @Override                                                                                                     </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 256      public void setTime() {                                                                                       </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 257          negotiateSymmetricKey();                                                                                  </span>
<span  style=""> 258                                                                                                                    </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 259          long millis = System.currentTimeMillis();                                                                 </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 260          TimeZone zone = new GregorianCalendar().getTimeZone();                                                    </span>
<span  style=""> 261                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 262          queueWrite(                                                                                               </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 263                  new ConfigurationPutRequest(                                                                      </span>
<span class="6747723926021094395" onmouseenter="enter('6747723926021094395');" onmouseout="out('6747723926021094395');" style=""> 264                          new TimeConfigItem(                                                                       </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 265                                  (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),                  </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 266                                  (short) (millis % 1000),                                                          </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 267                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 267                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 268                          ),                                                                                        </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 269                          this), false                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 270          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271      }                                                                                                             </span>
<span  style=""> 272                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 273      @Override                                                                                                     </span>
<span class="5743699626454161990" onmouseenter="enter('5743699626454161990');" onmouseout="out('5743699626454161990');" style=""> 274      public void setMusicInfo(MusicSpec musicSpec) {                                                               </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style=""> 275          if (                                                                                                      </span>
<span class="-2721767562250030479" onmouseenter="enter('-2721767562250030479');" onmouseout="out('-2721767562250030479');" style=""> 276                  currentSpec != null                                                                               </span>
<span class="6347316233900210670" onmouseenter="enter('6347316233900210670');" onmouseout="out('6347316233900210670');" style=""> 277                          &amp;&amp; currentSpec.album.equals(musicSpec.album)                                              </span>
<span class="-7026697945522803285" onmouseenter="enter('-7026697945522803285');" onmouseout="out('-7026697945522803285');" style=""> 278                          &amp;&amp; currentSpec.artist.equals(musicSpec.artist)                                            </span>
<span class="234002389956897367" onmouseenter="enter('234002389956897367');" onmouseout="out('234002389956897367');" style=""> 279                          &amp;&amp; currentSpec.track.equals(musicSpec.track)                                              </span>
<span class="129544933216380196" onmouseenter="enter('129544933216380196');" onmouseout="out('129544933216380196');" style=""> 280          ) return;                                                                                                 </span>
<span class="5122037976784129938" onmouseenter="enter('5122037976784129938');" onmouseout="out('5122037976784129938');" style=""> 281          currentSpec = musicSpec;                                                                                  </span>
<span class="2807680215991082156" onmouseenter="enter('2807680215991082156');" onmouseout="out('2807680215991082156');" style=""> 282          queueWrite(new MusicInfoSetRequest(                                                                       </span>
<span class="-4995357750126688628" onmouseenter="enter('-4995357750126688628');" onmouseout="out('-4995357750126688628');" style=""> 283                  musicSpec.artist,                                                                                 </span>
<span class="-2625665048867935009" onmouseenter="enter('-2625665048867935009');" onmouseout="out('-2625665048867935009');" style=""> 284                  musicSpec.album,                                                                                  </span>
<span class="4393990709676517095" onmouseenter="enter('4393990709676517095');" onmouseout="out('4393990709676517095');" style=""> 285                  musicSpec.track,                                                                                  </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 286                  this                                                                                              </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 287          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288      }                                                                                                             </span>
<span  style=""> 289                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 290      @Override                                                                                                     </span>
<span class="6484409227794913685" onmouseenter="enter('6484409227794913685');" onmouseout="out('6484409227794913685');" style=""> 291      public void setMusicState(MusicStateSpec stateSpec) {                                                         </span>
<span class="-8825084358361918368" onmouseenter="enter('-8825084358361918368');" onmouseout="out('-8825084358361918368');" style=""> 292          super.setMusicState(stateSpec);                                                                           </span>
<span  style=""> 293                                                                                                                    </span>
<span class="-5832778985397101291" onmouseenter="enter('-5832778985397101291');" onmouseout="out('-5832778985397101291');" style=""> 294          queueWrite(new MusicControlRequest(                                                                       </span>
<span class="6749687689436260015" onmouseenter="enter('6749687689436260015');" onmouseout="out('6749687689436260015');" style=""><abbr title=" 295                  stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PAUSED"> 295                  stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : 🔵</abbr></span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 296          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297      }                                                                                                             </span>
<span  style=""> 298                                                                                                                    </span>
<span class="-4761176768155522666" onmouseenter="enter('-4761176768155522666');" onmouseout="out('-4761176768155522666');" style=""> 299      private void setBackgroundImages(AssetImage background, AssetImage[] complications) {                         </span>
<span class="-8622709206262220142" onmouseenter="enter('-8622709206262220142');" onmouseout="out('-8622709206262220142');" style=""> 300          queueWrite(new ImagesSetRequest(new AssetImage[]{background}, this));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301      }                                                                                                             </span>
<span  style=""> 302                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 303      @Override                                                                                                     </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 304      public void onFetchActivityData() {                                                                           </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 305          syncSettings();                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306      }                                                                                                             </span>
<span  style=""> 307                                                                                                                    </span>
<span class="4739601400713241401" onmouseenter="enter('4739601400713241401');" onmouseout="out('4739601400713241401');" style=""> 308      private void syncSettings() {                                                                                 </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 309          negotiateSymmetricKey();                                                                                  </span>
<span  style=""> 310                                                                                                                    </span>
<span class="1672016935910782047" onmouseenter="enter('1672016935910782047');" onmouseout="out('1672016935910782047');" style=""> 311          queueWrite(new ConfigurationGetRequest(this));                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312      }                                                                                                             </span>
<span  style=""> 313                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 314      @Override                                                                                                     </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 315      public void setActivityHand(double progress) {                                                                </span>
<span class="-1967647950949041220" onmouseenter="enter('-1967647950949041220');" onmouseout="out('-1967647950949041220');" style=""> 316          // super.setActivityHand(progress);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317      }                                                                                                             </span>
<span  style=""> 318                                                                                                                    </span>
<span class="4432705569944803605" onmouseenter="enter('4432705569944803605');" onmouseout="out('4432705569944803605');" style=""> 319      public boolean playRawNotification(NotificationSpec notificationSpec) {                                       </span>
<span class="1615789189185193871" onmouseenter="enter('1615789189185193871');" onmouseout="out('1615789189185193871');" style=""> 320          String sender = notificationSpec.sender;                                                                  </span>
<span class="-6939926144095499980" onmouseenter="enter('-6939926144095499980');" onmouseout="out('-6939926144095499980');" style=""> 321          if (sender == null) sender = notificationSpec.sourceName;                                                 </span>
<span class="2253201172229202586" onmouseenter="enter('2253201172229202586');" onmouseout="out('2253201172229202586');" style=""><abbr title=" 322          queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this));"> 322          queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 323          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324      }                                                                                                             </span>
<span  style=""> 325                                                                                                                    </span>
<span class="4061760400153145133" onmouseenter="enter('4061760400153145133');" onmouseout="out('4061760400153145133');" style=""> 326      public byte[] getSecretKey() {                                                                                </span>
<span class="-6184459237939550248" onmouseenter="enter('-6184459237939550248');" onmouseout="out('-6184459237939550248');" style=""> 327          return secretKey;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328      }                                                                                                             </span>



















<span  style=""> 329                                                                                                                    </span>
<span class="-8021107058359765569" onmouseenter="enter('-8021107058359765569');" onmouseout="out('-8021107058359765569');" style=""> 330      public void setSecretKey(byte[] secretKey) {                                                                  </span>
<span class="-1305759151014600921" onmouseenter="enter('-1305759151014600921');" onmouseout="out('-1305759151014600921');" style=""> 331          this.secretKey = secretKey;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332      }                                                                                                             </span>
<span  style=""> 333                                                                                                                    </span>
<span class="1797454318126944117" onmouseenter="enter('1797454318126944117');" onmouseout="out('1797454318126944117');" style=""> 334      public void setPhoneRandomNumber(byte[] phoneRandomNumber) {                                                  </span>
<span class="-1045014803983093080" onmouseenter="enter('-1045014803983093080');" onmouseout="out('-1045014803983093080');" style=""> 335          this.phoneRandomNumber = phoneRandomNumber;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336      }                                                                                                             </span>
<span  style=""> 337                                                                                                                    </span>
<span class="6353599412516657012" onmouseenter="enter('6353599412516657012');" onmouseout="out('6353599412516657012');" style=""> 338      public byte[] getPhoneRandomNumber() {                                                                        </span>
<span class="-8473936821502081479" onmouseenter="enter('-8473936821502081479');" onmouseout="out('-8473936821502081479');" style=""> 339          return phoneRandomNumber;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="8524954629356124134" onmouseenter="enter('8524954629356124134');" onmouseout="out('8524954629356124134');" style=""> 342      public void setWatchRandomNumber(byte[] watchRandomNumber) {                                                  </span>
<span class="-8554456578054756330" onmouseenter="enter('-8554456578054756330');" onmouseout="out('-8554456578054756330');" style=""> 343          this.watchRandomNumber = watchRandomNumber;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344      }                                                                                                             </span>
<span  style=""> 345                                                                                                                    </span>
<span class="-817141622160847580" onmouseenter="enter('-817141622160847580');" onmouseout="out('-817141622160847580');" style=""> 346      public byte[] getWatchRandomNumber() {                                                                        </span>
<span class="4512956887887166379" onmouseenter="enter('4512956887887166379');" onmouseout="out('4512956887887166379');" style=""> 347          return watchRandomNumber;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348      }                                                                                                             </span>
<span  style=""> 349                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 350      @Override                                                                                                     </span>
<span class="-8332902696773003591" onmouseenter="enter('-8332902696773003591');" onmouseout="out('-8332902696773003591');" style=""> 351      public void overwriteButtons(String jsonConfigString) {                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 352          try {                                                                                                     </span>
<span class="-5757883755283420088" onmouseenter="enter('-5757883755283420088');" onmouseout="out('-5757883755283420088');" style=""> 353              JSONArray jsonArray = new JSONArray(                                                                  </span>
<span class="-5162550843991564685" onmouseenter="enter('-5162550843991564685');" onmouseout="out('-5162550843991564685');" style=""> 354                      GBApplication.getPrefs().getString(HRConfigActivity.CONFIG_KEY_Q_ACTIONS, &quot;[]&quot;)               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 355              );                                                                                                    </span>
<span class="-3670193080643996757" onmouseenter="enter('-3670193080643996757');" onmouseout="out('-3670193080643996757');" style=""> 356              String[] menuItems = new String[jsonArray.length()];                                                  </span>
<span class="3800396328797868230" onmouseenter="enter('3800396328797868230');" onmouseout="out('3800396328797868230');" style=""> 357              for (int i = 0; i &lt; jsonArray.length(); i++) menuItems[i] = jsonArray.getString(i);                   </span>
<span  style=""> 358                                                                                                                    </span>
<span class="-2546877682423996320" onmouseenter="enter('-2546877682423996320');" onmouseout="out('-2546877682423996320');" style=""> 359              queueWrite(new ButtonConfigurationPutRequest(                                                         </span>
<span class="959305012337743007" onmouseenter="enter('959305012337743007');" onmouseout="out('959305012337743007');" style=""> 360                      menuItems,                                                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 361                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 362              ));                                                                                                   </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 363          } catch (JSONException e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 364              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366      }                                                                                                             </span>
<span  style=""> 367                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 368      @Override                                                                                                     </span>
<span class="6377473851875601996" onmouseenter="enter('6377473851875601996');" onmouseout="out('6377473851875601996');" style=""> 369      protected void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {                   </span>
<span class="-2825981250293151244" onmouseenter="enter('-2825981250293151244');" onmouseout="out('-2825981250293151244');" style=""> 370          super.handleBackgroundCharacteristic(characteristic);                                                     </span>
<span  style=""> 371                                                                                                                    </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 372          byte[] value = characteristic.getValue();                                                                 </span>
<span  style=""> 373                                                                                                                    </span>
<span class="-8910138668401756259" onmouseenter="enter('-8910138668401756259');" onmouseout="out('-8910138668401756259');" style=""> 374          byte requestType = value[1];                                                                              </span>
<span  style=""> 375                                                                                                                    </span>
<span class="-882124291254646353" onmouseenter="enter('-882124291254646353');" onmouseout="out('-882124291254646353');" style=""> 376          if (requestType == (byte) 0x05) {                                                                         </span>
<span class="-6049325109739304315" onmouseenter="enter('-6049325109739304315');" onmouseout="out('-6049325109739304315');" style=""> 377              handleMusicRequest(value);                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -            return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -                                                                                                                  </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -        int eventId = value[2];                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -        try {                                                                                                     </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -            JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));                      </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -                                                                                                                  </span>
<span class="-5659409608637412227" onmouseenter="enter('-5659409608637412227');" onmouseout="out('-5659409608637412227');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -            String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)    </span>
<span class="-2601365183494494605" onmouseenter="enter('-2601365183494494605');" onmouseout="out('-2601365183494494605');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -                    .getString(&quot;dest&quot;);                                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -                                                                                                                  </span>
<span class="-5749439268497763114" onmouseenter="enter('-5749439268497763114');" onmouseout="out('-5749439268497763114');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 389 -            String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;) </span>
<span class="4504014461373376475" onmouseenter="enter('4504014461373376475');" onmouseout="out('4504014461373376475');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 390 -                    .getString(&quot;action&quot;);                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 391 -                                                                                                                  </span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 392 -            if (startStop.equals(&quot;stop&quot;)) {                                                                       </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 393 -                // overwriteButtons(null);                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 394 -                return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 395 -            }                                                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 396 -                                                                                                                  </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 397 -            queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 398 -                                                                                                                  </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 399 -            Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);                            </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 400 -            menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                                          </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 401 -            getContext().sendBroadcast(menuIntent);                                                               </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 402 -        } catch (JSONException e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 403 -            e.printStackTrace();                                                                                  </span>
<span class="5817738850686281372" onmouseenter="enter('5817738850686281372');" onmouseout="out('5817738850686281372');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 404 +        }else if(requestType == (byte) 0x01) {                                                                    </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 405 +            int eventId = value[2];                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 406 +                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 407 +            try {                                                                                                 </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 408 +                JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 409 +                                                                                                                  </span>
<span class="-5659409608637412227" onmouseenter="enter('-5659409608637412227');" onmouseout="out('-5659409608637412227');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 410 +                String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)</span>
<span class="-2601365183494494605" onmouseenter="enter('-2601365183494494605');" onmouseout="out('-2601365183494494605');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 411 +                        .getString(&quot;dest&quot;);                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 412 +                                                                                                                  </span>
<span class="-5749439268497763114" onmouseenter="enter('-5749439268497763114');" onmouseout="out('-5749439268497763114');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 413 +                String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)"> 413 +                String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_inf🔵</abbr></span>
<span class="4504014461373376475" onmouseenter="enter('4504014461373376475');" onmouseout="out('4504014461373376475');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 414 +                        .getString(&quot;action&quot;);                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 415 +                                                                                                                  </span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 416 +                if (startStop.equals(&quot;stop&quot;)) {                                                                   </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 417 +                    // overwriteButtons(null);                                                                    </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +                    return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +                }                                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +                                                                                                                  </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +                queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 422 +                                                                                                                  </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 423 +                Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);                        </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 424 +                menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                                      </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 425 +                getContext().sendBroadcast(menuIntent);                                                           </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +            } catch (JSONException e) {                                                                           </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 427 +                e.printStackTrace();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 428 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 430      }                                                                                                             </span>
<span  style=""> 431                                                                                                                    </span>
<span class="8416553974703547913" onmouseenter="enter('8416553974703547913');" onmouseout="out('8416553974703547913');" style=""> 432      private void handleMusicRequest(byte[] value) {                                                               </span>
<span class="-7264442020313207444" onmouseenter="enter('-7264442020313207444');" onmouseout="out('-7264442020313207444');" style=""> 433          byte command = value[3];                                                                                  </span>
<span  style=""> 434                                                                                                                    </span>
<span class="-1813511864680047347" onmouseenter="enter('-1813511864680047347');" onmouseout="out('-1813511864680047347');" style=""> 435          MUSIC_WATCH_REQUEST request = MUSIC_WATCH_REQUEST.fromCommandByte(command);                               </span>
<span  style=""> 436                                                                                                                    </span>
<span class="5551360534441028758" onmouseenter="enter('5551360534441028758');" onmouseout="out('5551360534441028758');" style=""> 437          MusicControlRequest r = new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE);            </span>
<span  style=""> 438                                                                                                                    </span>
<span class="-1476594108120808605" onmouseenter="enter('-1476594108120808605');" onmouseout="out('-1476594108120808605');" style=""> 439          switch (request) {                                                                                        </span>
<span class="-7604808754482491529" onmouseenter="enter('-7604808754482491529');" onmouseout="out('-7604808754482491529');" style=""> 440              case MUSIC_REQUEST_PLAY_PAUSE: {                                                                      </span>
<span class="6628176114625634916" onmouseenter="enter('6628176114625634916');" onmouseout="out('6628176114625634916');" style=""> 441                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE));                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 442                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 443              }                                                                                                     </span>
<span class="5859425638057110790" onmouseenter="enter('5859425638057110790');" onmouseout="out('5859425638057110790');" style=""> 444              case MUSIC_REQUEST_LOUDER: {                                                                          </span>
<span class="-3857602001706076214" onmouseenter="enter('-3857602001706076214');" onmouseout="out('-3857602001706076214');" style=""> 445                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_LOUDER));                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 446                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447              }                                                                                                     </span>
<span class="3750638360823897863" onmouseenter="enter('3750638360823897863');" onmouseout="out('3750638360823897863');" style=""> 448              case MUSIC_REQUEST_QUITER: {                                                                          </span>
<span class="2129420423363786169" onmouseenter="enter('2129420423363786169');" onmouseout="out('2129420423363786169');" style=""> 449                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_QUITER));                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 450                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 453      }                                                                                                             </span>
<span  style=""> 454                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 455      @Override                                                                                                     </span>
<span class="-3634467212876653578" onmouseenter="enter('-3634467212876653578');" onmouseout="out('-3634467212876653578');" style=""> 456      public void setCommuteMenuMessage(String message, boolean finished) {                                         </span>
<span class="-2545716908437572756" onmouseenter="enter('-2545716908437572756');" onmouseout="out('-2545716908437572756');" style=""> 457          queueWrite(new SetCommuteMenuMessage(message, finished, this));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="-2997913422227863975" onmouseenter="enter('-2997913422227863975');" onmouseout="out('-2997913422227863975');" style="">   1  package nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil_hr;                           </span>
<span  style="">   2                                                                                                                    </span>
<span class="4736969144974683041" onmouseenter="enter('4736969144974683041');" onmouseout="out('4736969144974683041');" style="">   3  import android.bluetooth.BluetoothGattCharacteristic;                                                             </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   4  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   5 +import android.content.SharedPreferences;                                                                         </span>
<span class="-6379310173182770238" onmouseenter="enter('-6379310173182770238');" onmouseout="out('-6379310173182770238');" style="">   6  import android.graphics.Bitmap;                                                                                   </span>
<span class="-6358617885644310547" onmouseenter="enter('-6358617885644310547');" onmouseout="out('-6358617885644310547');" style="">   7  import android.graphics.Canvas;                                                                                   </span>
<span class="-5868658801447575011" onmouseenter="enter('-5868658801447575011');" onmouseout="out('-5868658801447575011');" style="">   8  import android.graphics.Color;                                                                                    </span>
<span class="-1586527322890291073" onmouseenter="enter('-1586527322890291073');" onmouseout="out('-1586527322890291073');" style="">   9  import android.graphics.Paint;                                                                                    </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  10  import android.os.Build;                                                                                          </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  11 -import android.util.Log;                                                                                          </span>
<span  style="">  12                                                                                                                    </span>
<span class="-9193129351684262878" onmouseenter="enter('-9193129351684262878');" onmouseout="out('-9193129351684262878');" style="">  13  import org.json.JSONArray;                                                                                        </span>
<span class="-8573375701834280359" onmouseenter="enter('-8573375701834280359');" onmouseout="out('-8573375701834280359');" style="">  14  import org.json.JSONException;                                                                                    </span>
<span class="7232075261178918144" onmouseenter="enter('7232075261178918144');" onmouseout="out('7232075261178918144');" style="">  15  import org.json.JSONObject;                                                                                       </span>
<span  style="">  16                                                                                                                    </span>
<span class="9184227348967602043" onmouseenter="enter('9184227348967602043');" onmouseout="out('9184227348967602043');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  17 -import java.io.ByteArrayOutputStream;                                                                             </span>
<span class="-535075201057145249" onmouseenter="enter('-535075201057145249');" onmouseout="out('-535075201057145249');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  18 -import java.io.FileInputStream;                                                                                   </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  19  import java.io.IOException;                                                                                       </span>
<span class="-6886346622632588502" onmouseenter="enter('-6886346622632588502');" onmouseout="out('-6886346622632588502');" style="">  20  import java.nio.ByteBuffer;                                                                                       </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  21  import java.util.Date;                                                                                            </span>
<span class="-4685965902094386510" onmouseenter="enter('-4685965902094386510');" onmouseout="out('-4685965902094386510');" style="">  22  import java.util.GregorianCalendar;                                                                               </span>

<span class="-3682115440535733483" onmouseenter="enter('-3682115440535733483');" onmouseout="out('-3682115440535733483');" style="">  23  import java.util.TimeZone;                                                                                        </span>
<span class="-1652219607605312777" onmouseenter="enter('-1652219607605312777');" onmouseout="out('-1652219607605312777');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -import java.util.zip.CRC32;                                                                                       </span>
<span  style="">  25                                                                                                                    </span>
<span class="-8113221927992302576" onmouseenter="enter('-8113221927992302576');" onmouseout="out('-8113221927992302576');" style="">  26  import nodomain.freeyourgadget.gadgetbridge.GBApplication;                                                        </span>

<span class="3654131406467691963" onmouseenter="enter('3654131406467691963');" onmouseout="out('3654131406467691963');" style="">  27  import nodomain.freeyourgadget.gadgetbridge.devices.qhybrid.HRConfigActivity;                                     </span>
<span class="4836892992022606579" onmouseenter="enter('4836892992022606579');" onmouseout="out('4836892992022606579');" style="">  28  import nodomain.freeyourgadget.gadgetbridge.impl.GBDevice;                                                        </span>
<span class="-4068239021838445503" onmouseenter="enter('-4068239021838445503');" onmouseout="out('-4068239021838445503');" style="">  29  import nodomain.freeyourgadget.gadgetbridge.model.MusicSpec;                                                      </span>
<span class="7536481506851862405" onmouseenter="enter('7536481506851862405');" onmouseout="out('7536481506851862405');" style="">  30  import nodomain.freeyourgadget.gadgetbridge.model.MusicStateSpec;                                                 </span>
<span class="8239808916005009388" onmouseenter="enter('8239808916005009388');" onmouseout="out('8239808916005009388');" style="">  31  import nodomain.freeyourgadget.gadgetbridge.model.NotificationSpec;                                               </span>
<span class="4332661620965164672" onmouseenter="enter('4332661620965164672');" onmouseout="out('4332661620965164672');" style="">  32  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.QHybridSupport;                               </span>
<span class="4386715749828831010" onmouseenter="enter('4386715749828831010');" onmouseout="out('4386715749828831010');" style="">  33  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.adapter.fossil.FossilWatchAdapter;            </span>
<span class="-9112289504640649256" onmouseenter="enter('-9112289504640649256');" onmouseout="out('-9112289504640649256');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.encoder.RLEEncoder;                           </span>
<span class="6910520238976776146" onmouseenter="enter('6910520238976776146');" onmouseout="out('6910520238976776146');" style="">  35  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.RequestMtuRequest;            </span>
<span class="5089968700906553867" onmouseenter="enter('5089968700906553867');" onmouseout="out('5089968700906553867');" style="">  36  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.SetDeviceStateRequest;        </span>
<span class="7104057539707130818" onmouseenter="enter('7104057539707130818');" onmouseout="out('7104057539707130818');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  37 -import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.*;">  37 -import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPut🔵</abbr></span>
<span class="6112441966638764283" onmouseenter="enter('6112441966638764283');" onmouseout="out('6112441966638764283');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  38 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPutRequest.TimeConfigItem;">  38 +import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.configuration.ConfigurationPut🔵</abbr></span>
<span class="2466991580869022255" onmouseenter="enter('2466991580869022255');" onmouseout="out('2466991580869022255');" style=""><abbr title="  39  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationRequest;">  39  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil.notification.PlayNotificationR🔵</abbr></span>
<span class="-7335239105811257712" onmouseenter="enter('-7335239105811257712');" onmouseout="out('-7335239105811257712');" style=""><abbr title="  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivateKeyRequest;">  40  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.authentication.VerifyPrivat🔵</abbr></span>
<span class="-8586181035863106404" onmouseenter="enter('-8586181035863106404');" onmouseout="out('-8586181035863106404');" style=""><abbr title="  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfigurationPutRequest;">  41  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.buttons.ButtonConfiguration🔵</abbr></span>
<span class="-7616394483813386160" onmouseenter="enter('-7616394483813386160');" onmouseout="out('-7616394483813386160');" style=""><abbr title="  42  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationGetRequest;">  42  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Configuration🔵</abbr></span>
<span class="1784930373847085070" onmouseenter="enter('1784930373847085070');" onmouseout="out('1784930373847085070');" style=""><abbr title="  43  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.ConfigurationPutRequest;">  43  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.configuration.Configuration🔵</abbr></span>

<span class="-7479827832081411210" onmouseenter="enter('-7479827832081411210');" onmouseout="out('-7479827832081411210');" style="">  44  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.file.AssetFilePutRequest;  </span>
<span class="6886533222315535550" onmouseenter="enter('6886533222315535550');" onmouseout="out('6886533222315535550');" style="">  45  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImage;          </span>
<span class="4714390797546975821" onmouseenter="enter('4714390797546975821');" onmouseout="out('4714390797546975821');" style="">  46  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.AssetImageFactory;   </span>
<span class="-6584136629945154367" onmouseenter="enter('-6584136629945154367');" onmouseout="out('-6584136629945154367');" style="">  47  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.image.ImagesSetRequest;    </span>
<span class="-3572348114301784964" onmouseenter="enter('-3572348114301784964');" onmouseout="out('-3572348114301784964');" style="">  48  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.menu.SetCommuteMenuMessage;</span>
<span class="7919188738795660329" onmouseenter="enter('7919188738795660329');" onmouseout="out('7919188738795660329');" style="">  49  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest; </span>
<span class="1138328726217316685" onmouseenter="enter('1138328726217316685');" onmouseout="out('1138328726217316685');" style="">  50  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicInfoSetRequest; </span>


<span class="-7098894210029330155" onmouseenter="enter('-7098894210029330155');" onmouseout="out('-7098894210029330155');" style="">  51  import nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.utils.StringUtils;                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -                                                                                                                  </span>
<span class="4880363067443984859" onmouseenter="enter('4880363067443984859');" onmouseout="out('4880363067443984859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  53 -import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.*;">  53 -import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRe🔵</abbr></span>
<span class="-3798970344596478499" onmouseenter="enter('-3798970344596478499');" onmouseout="out('-3798970344596478499');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +import nodomain.freeyourgadget.gadgetbridge.util.GB;                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  55 +                                                                                                                  </span>
<span class="-6920508692158968227" onmouseenter="enter('-6920508692158968227');" onmouseout="out('-6920508692158968227');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  56 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_PHONE_REQUEST;">  56 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRe🔵</abbr></span>
<span class="1244615468169562272" onmouseenter="enter('1244615468169562272');" onmouseout="out('1244615468169562272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  57 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRequest.MUSIC_WATCH_REQUEST;">  57 +import static nodomain.freeyourgadget.gadgetbridge.service.devices.qhybrid.requests.fossil_hr.music.MusicControlRe🔵</abbr></span>
<span  style="">  58                                                                                                                    </span>
<span class="3592572912775199945" onmouseenter="enter('3592572912775199945');" onmouseout="out('3592572912775199945');" style="">  59  public class FossilHRWatchAdapter extends FossilWatchAdapter {                                                    </span>
<span class="6555826699522888981" onmouseenter="enter('6555826699522888981');" onmouseout="out('6555826699522888981');" style=""><abbr title="  60      private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 0x6D, (byte) 0x05, (byte) 0x5E, (byte) 0xDA, (byte) 0xF7, (byte) 0x4B, (byte) 0x49, (byte) 0x98, (byte) 0x78, (byte) 0x02, (byte) 0x38};">  60      private byte[] secretKey = new byte[]{(byte) 0x60, (byte) 0x26, (byte) 0xB7, (byte) 0xFD, (byte) 0xB2, (byte) 🔵</abbr></span>
<span class="5088344414276172788" onmouseenter="enter('5088344414276172788');" onmouseout="out('5088344414276172788');" style="">  61      private byte[] phoneRandomNumber;                                                                             </span>
<span class="-506162566914247320" onmouseenter="enter('-506162566914247320');" onmouseout="out('-506162566914247320');" style="">  62      private byte[] watchRandomNumber;                                                                             </span>
<span  style="">  63                                                                                                                    </span>


<span class="2535750949384339971" onmouseenter="enter('2535750949384339971');" onmouseout="out('2535750949384339971');" style="">  64      private MusicSpec currentSpec = null;                                                                         </span>


<span  style="">  65                                                                                                                    </span>
<span class="-5170367685934262595" onmouseenter="enter('-5170367685934262595');" onmouseout="out('-5170367685934262595');" style="">  66      public FossilHRWatchAdapter(QHybridSupport deviceSupport) {                                                   </span>
<span class="7895217862057392900" onmouseenter="enter('7895217862057392900');" onmouseout="out('7895217862057392900');" style="">  67          super(deviceSupport);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68      }                                                                                                             </span>
<span  style="">  69                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  70      @Override                                                                                                     </span>
<span class="6973867701261680867" onmouseenter="enter('6973867701261680867');" onmouseout="out('6973867701261680867');" style="">  71      public void initialize() {                                                                                    </span>
<span class="-6207208930684914824" onmouseenter="enter('-6207208930684914824');" onmouseout="out('-6207208930684914824');" style="">  72          if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {                                              </span>
<span class="-3436726469441820604" onmouseenter="enter('-3436726469441820604');" onmouseout="out('-3436726469441820604');" style="">  73              queueWrite(new RequestMtuRequest(512));                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74          }                                                                                                         </span>
<span  style="">  75                                                                                                                    </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style="">  76          negotiateSymmetricKey();                                                                                  </span>
<span  style="">  77                                                                                                                    </span>
<span class="8190154471164390400" onmouseenter="enter('8190154471164390400');" onmouseout="out('8190154471164390400');" style="">  78          // icons                                                                                                  </span>
<span  style="">  79                                                                                                                    </span>
<span class="7478845557357973187" onmouseenter="enter('7478845557357973187');" onmouseout="out('7478845557357973187');" style="">  80          // queueWrite(new NotificationFilterPutHRRequest(new NotificationHRConfiguration[]{                       </span>
<span class="-4835014852533623208" onmouseenter="enter('-4835014852533623208');" onmouseout="out('-4835014852533623208');" style="">  81          //         new NotificationHRConfiguration(&quot;com.whatsapp&quot;, -1),                                           </span>
<span class="6619193525725887236" onmouseenter="enter('6619193525725887236');" onmouseout="out('6619193525725887236');" style="">  82          //         new NotificationHRConfiguration(&quot;asdasdasdasdasd&quot;, -1),                                        </span>
<span class="-9188979562074738481" onmouseenter="enter('-9188979562074738481');" onmouseout="out('-9188979562074738481');" style="">  83          //         // new NotificationHRConfiguration(&quot;twitter&quot;, -1),                                             </span>
<span class="-236319939460584404" onmouseenter="enter('-236319939460584404');" onmouseout="out('-236319939460584404');" style="">  84          // }, this));                                                                                             </span>
<span  style="">  85                                                                                                                    </span>
<span class="-642578171158816330" onmouseenter="enter('-642578171158816330');" onmouseout="out('-642578171158816330');" style="">  86          // queueWrite(new PlayNotificationRequest(&quot;com.whatsapp&quot;, &quot;WhatsAp&quot;, &quot;wHATSaPP&quot;, this));                  </span>
<span class="-4771200114595739326" onmouseenter="enter('-4771200114595739326');" onmouseout="out('-4771200114595739326');" style="">  87          // queueWrite(new PlayNotificationRequest(&quot;twitterrrr&quot;, &quot;Twitterr&quot;, &quot;tWITTER&quot;, this));                    </span>
<span  style="">  88                                                                                                                    </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style="">  89          syncSettings();                                                                                           </span>
<span  style="">  90                                                                                                                    </span>
<span class="7548848230134815961" onmouseenter="enter('7548848230134815961');" onmouseout="out('7548848230134815961');" style="">  91          setTime();                                                                                                </span>
<span  style="">  92                                                                                                                    </span>
<span class="-7476048809216327685" onmouseenter="enter('-7476048809216327685');" onmouseout="out('-7476048809216327685');" style="">  93          overwriteButtons(null);                                                                                   </span>
<span  style="">  94                                                                                                                    </span>
<span class="4364182020411366369" onmouseenter="enter('4364182020411366369');" onmouseout="out('4364182020411366369');" style="">  95          drawWidgetText(&quot;-&quot;);                                                                                      </span>





<span  style="">  96                                                                                                                    </span>
<span class="-673558019044966288" onmouseenter="enter('-673558019044966288');" onmouseout="out('-673558019044966288');" style="">  97          queueWrite(new SetDeviceStateRequest(GBDevice.State.INITIALIZED));                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98      }                                                                                                             </span>
<span  style="">  99                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 100      @Override                                                                                                     </span>
<span class="2568095323258130740" onmouseenter="enter('2568095323258130740');" onmouseout="out('2568095323258130740');" style=""> 101      public void setWidgetContent(String widgetID, String content) {                                               </span>
<span class="-4933596428912981676" onmouseenter="enter('-4933596428912981676');" onmouseout="out('-4933596428912981676');" style=""> 102          drawWidgetText(content);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103      }                                                                                                             </span>
<span  style=""> 104                                                                                                                    </span>
<span class="2148499711683214236" onmouseenter="enter('2148499711683214236');" onmouseout="out('2148499711683214236');" style=""> 105      private void drawWidgetText(String text){                                                                     </span>
<span  style=""> 106                                                                                                                    </span>
















<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 107          try {                                                                                                     </span>
<span class="-3013348763603409185" onmouseenter="enter('-3013348763603409185');" onmouseout="out('-3013348763603409185');" style=""> 108              Bitmap testBitmap = Bitmap.createBitmap(76, 76, Bitmap.Config.ARGB_8888);                             </span>
<span  style=""> 109                                                                                                                    </span>
<span class="5825451176870303610" onmouseenter="enter('5825451176870303610');" onmouseout="out('5825451176870303610');" style=""> 110              Canvas testCanvas = new Canvas(testBitmap);                                                           </span>
<span  style=""> 111                                                                                                                    </span>
<span class="2814962491382878487" onmouseenter="enter('2814962491382878487');" onmouseout="out('2814962491382878487');" style=""> 112              Paint circlePaint = new Paint();                                                                      </span>
<span class="-3023320484633136290" onmouseenter="enter('-3023320484633136290');" onmouseout="out('-3023320484633136290');" style=""> 113              circlePaint.setColor(Color.WHITE);                                                                    </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style=""> 114              circlePaint.setStyle(Paint.Style.STROKE);                                                             </span>
<span class="3207244326755712140" onmouseenter="enter('3207244326755712140');" onmouseout="out('3207244326755712140');" style=""> 115              circlePaint.setStrokeWidth(3);                                                                        </span>
<span  style=""> 116                                                                                                                    </span>
<span class="7923662918578186580" onmouseenter="enter('7923662918578186580');" onmouseout="out('7923662918578186580');" style=""> 117              testCanvas.drawCircle(38, 38, 37, circlePaint);                                                       </span>
<span  style=""> 118                                                                                                                    </span>
<span class="5154882634576941391" onmouseenter="enter('5154882634576941391');" onmouseout="out('5154882634576941391');" style=""> 119              circlePaint.setStrokeWidth(4);                                                                        </span>
<span class="-3112450786846897684" onmouseenter="enter('-3112450786846897684');" onmouseout="out('-3112450786846897684');" style=""> 120              circlePaint.setTextSize(17f);                                                                         </span>
<span class="7023202196844894280" onmouseenter="enter('7023202196844894280');" onmouseout="out('7023202196844894280');" style=""> 121              circlePaint.setStyle(Paint.Style.FILL);                                                               </span>
<span class="3348411701124870306" onmouseenter="enter('3348411701124870306');" onmouseout="out('3348411701124870306');" style=""> 122              circlePaint.setTextAlign(Paint.Align.CENTER);                                                         </span>
<span  style=""> 123                                                                                                                    </span>
<span class="5633570459515008673" onmouseenter="enter('5633570459515008673');" onmouseout="out('5633570459515008673');" style=""><abbr title=" 124              testCanvas.drawText(&quot;ETH&quot;, 38, 76f / 3f * 1f - (circlePaint.descent() + circlePaint.ascent()) / 2f, circlePaint);"> 124              testCanvas.drawText(&quot;ETH&quot;, 38, 76f / 3f * 1f - (circlePaint.descent() + circlePaint.ascent()) / 2f, ci🔵</abbr></span>
<span class="560018477455299162" onmouseenter="enter('560018477455299162');" onmouseout="out('560018477455299162');" style=""><abbr title=" 125              testCanvas.drawText(text, 38, 76f / 3f * 2f - (circlePaint.descent() + circlePaint.ascent()) / 2f, circlePaint);"> 125              testCanvas.drawText(text, 38, 76f / 3f * 2f - (circlePaint.descent() + circlePaint.ascent()) / 2f, cir🔵</abbr></span>
<span  style=""> 126                                                                                                                    </span>
<span class="6763134112685318491" onmouseenter="enter('6763134112685318491');" onmouseout="out('6763134112685318491');" style=""> 127              circlePaint.setStrokeWidth(1);                                                                        </span>
<span class="-2529291397399672174" onmouseenter="enter('-2529291397399672174');" onmouseout="out('-2529291397399672174');" style=""> 128              circlePaint.setStyle(Paint.Style.STROKE);                                                             </span>
<span  style=""> 129                                                                                                                    </span>
<span class="6369617184058801806" onmouseenter="enter('6369617184058801806');" onmouseout="out('6369617184058801806');" style=""><abbr title=" 130              // for(int i = 0; i &lt;= 3; i++) testCanvas.drawLine(0, 76f / 3f * i - (i / 3), 76, 76f / 3f * i - (i / 3), circlePaint);"> 130              // for(int i = 0; i &lt;= 3; i++) testCanvas.drawLine(0, 76f / 3f * i - (i / 3), 76, 76f / 3f * i - (i / 🔵</abbr></span>
<span  style=""> 131                                                                                                                    </span>
<span class="6150685702057863734" onmouseenter="enter('6150685702057863734');" onmouseout="out('6150685702057863734');" style=""> 132              AssetImage image = AssetImageFactory.createAssetImage(                                                </span>
<span class="-4089531526134204923" onmouseenter="enter('-4089531526134204923');" onmouseout="out('-4089531526134204923');" style=""> 133                      StringUtils.bytesToHex(                                                                       </span>
<span class="158631786590567123" onmouseenter="enter('158631786590567123');" onmouseout="out('158631786590567123');" style=""> 134                              ByteBuffer.allocate(4)                                                                </span>
<span class="7322175423236652505" onmouseenter="enter('7322175423236652505');" onmouseout="out('7322175423236652505');" style=""> 135                                      .putInt((int) System.currentTimeMillis())                                     </span>
<span class="6229767945751043452" onmouseenter="enter('6229767945751043452');" onmouseout="out('6229767945751043452');" style=""> 136                                      .array()                                                                      </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 137                      )                                                                                             </span>
<span class="-6215522370274052950" onmouseenter="enter('-6215522370274052950');" onmouseout="out('-6215522370274052950');" style=""> 138                      , testBitmap, true, 0, 60, 1);                                                                </span>
<span  style=""> 139                                                                                                                    </span>
<span class="-6029904700214567520" onmouseenter="enter('-6029904700214567520');" onmouseout="out('-6029904700214567520');" style=""> 140              AssetImage[] images = new AssetImage[]{                                                               </span>
<span class="766035986446939301" onmouseenter="enter('766035986446939301');" onmouseout="out('766035986446939301');" style=""> 141                      image,                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 142              };                                                                                                    </span>











































<span  style=""> 143                                                                                                                    </span>
<span class="4734673173370309989" onmouseenter="enter('4734673173370309989');" onmouseout="out('4734673173370309989');" style=""> 144              queueWrite(new AssetFilePutRequest(                                                                   </span>
<span class="-9668838946899241" onmouseenter="enter('-9668838946899241');" onmouseout="out('-9668838946899241');" style=""> 145                      images,                                                                                       </span>

<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 146                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 147              ));                                                                                                   </span>
<span  style=""> 148                                                                                                                    </span>






<span class="-6828394027622892361" onmouseenter="enter('-6828394027622892361');" onmouseout="out('-6828394027622892361');" style=""> 149              queueWrite(new ImagesSetRequest(                                                                      </span>
<span class="-9668838946899241" onmouseenter="enter('-9668838946899241');" onmouseout="out('-9668838946899241');" style=""> 150                      images,                                                                                       </span>

<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 151                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 152              ));                                                                                                   </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 153          } catch (IOException e) {                                                                                 </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 154              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155          }                                                                                                         </span>














<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156      }                                                                                                             </span>
<span  style=""> 157                                                                                                                    </span>
<span class="6173588091729977369" onmouseenter="enter('6173588091729977369');" onmouseout="out('6173588091729977369');" style=""> 158      private void negotiateSymmetricKey() {                                                                        </span>
<span class="-7168973652814870469" onmouseenter="enter('-7168973652814870469');" onmouseout="out('-7168973652814870469');" style=""> 159          queueWrite(new VerifyPrivateKeyRequest(                                                                   </span>
<span class="2474409468109046352" onmouseenter="enter('2474409468109046352');" onmouseout="out('2474409468109046352');" style=""> 160                  this.getSecretKey(),                                                                              </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 161                  this                                                                                              </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 162          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163      }                                                                                                             </span>
<span  style=""> 164                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165      @Override                                                                                                     </span>
<span class="8564159631865081592" onmouseenter="enter('8564159631865081592');" onmouseout="out('8564159631865081592');" style=""> 166      public void setTime() {                                                                                       </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 167          negotiateSymmetricKey();                                                                                  </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-4700399361923900561" onmouseenter="enter('-4700399361923900561');" onmouseout="out('-4700399361923900561');" style=""> 169          long millis = System.currentTimeMillis();                                                                 </span>
<span class="8010236317671933907" onmouseenter="enter('8010236317671933907');" onmouseout="out('8010236317671933907');" style=""> 170          TimeZone zone = new GregorianCalendar().getTimeZone();                                                    </span>
<span  style=""> 171                                                                                                                    </span>
<span class="5277346296728804081" onmouseenter="enter('5277346296728804081');" onmouseout="out('5277346296728804081');" style=""> 172          queueWrite(                                                                                               </span>
<span class="9082684383999307863" onmouseenter="enter('9082684383999307863');" onmouseout="out('9082684383999307863');" style=""> 173                  new ConfigurationPutRequest(                                                                      </span>
<span class="6747723926021094395" onmouseenter="enter('6747723926021094395');" onmouseout="out('6747723926021094395');" style=""> 174                          new TimeConfigItem(                                                                       </span>
<span class="-4594139798000988877" onmouseenter="enter('-4594139798000988877');" onmouseout="out('-4594139798000988877');" style=""> 175                                  (int) (millis / 1000 + getDeviceSupport().getTimeOffset() * 60),                  </span>
<span class="6701954853301529159" onmouseenter="enter('6701954853301529159');" onmouseout="out('6701954853301529159');" style=""> 176                                  (short) (millis % 1000),                                                          </span>
<span class="-896871071169426480" onmouseenter="enter('-896871071169426480');" onmouseout="out('-896871071169426480');" style=""><abbr title=" 177                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000)"> 177                                  (short) ((zone.getRawOffset() + (zone.inDaylightTime(new Date()) ? 1 : 0)) / 60000🔵</abbr></span>
<span class="5925056120740059197" onmouseenter="enter('5925056120740059197');" onmouseout="out('5925056120740059197');" style=""> 178                          ),                                                                                        </span>
<span class="-573149562926997335" onmouseenter="enter('-573149562926997335');" onmouseout="out('-573149562926997335');" style=""> 179                          this), false                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 180          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181      }                                                                                                             </span>
<span  style=""> 182                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183      @Override                                                                                                     </span>
<span class="5743699626454161990" onmouseenter="enter('5743699626454161990');" onmouseout="out('5743699626454161990');" style=""> 184      public void setMusicInfo(MusicSpec musicSpec) {                                                               </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style=""> 185          if (                                                                                                      </span>
<span class="-2721767562250030479" onmouseenter="enter('-2721767562250030479');" onmouseout="out('-2721767562250030479');" style=""> 186                  currentSpec != null                                                                               </span>
<span class="6347316233900210670" onmouseenter="enter('6347316233900210670');" onmouseout="out('6347316233900210670');" style=""> 187                          &amp;&amp; currentSpec.album.equals(musicSpec.album)                                              </span>
<span class="-7026697945522803285" onmouseenter="enter('-7026697945522803285');" onmouseout="out('-7026697945522803285');" style=""> 188                          &amp;&amp; currentSpec.artist.equals(musicSpec.artist)                                            </span>
<span class="234002389956897367" onmouseenter="enter('234002389956897367');" onmouseout="out('234002389956897367');" style=""> 189                          &amp;&amp; currentSpec.track.equals(musicSpec.track)                                              </span>
<span class="129544933216380196" onmouseenter="enter('129544933216380196');" onmouseout="out('129544933216380196');" style=""> 190          ) return;                                                                                                 </span>
<span class="5122037976784129938" onmouseenter="enter('5122037976784129938');" onmouseout="out('5122037976784129938');" style=""> 191          currentSpec = musicSpec;                                                                                  </span>
<span class="2807680215991082156" onmouseenter="enter('2807680215991082156');" onmouseout="out('2807680215991082156');" style=""> 192          queueWrite(new MusicInfoSetRequest(                                                                       </span>
<span class="-4995357750126688628" onmouseenter="enter('-4995357750126688628');" onmouseout="out('-4995357750126688628');" style=""> 193                  musicSpec.artist,                                                                                 </span>
<span class="-2625665048867935009" onmouseenter="enter('-2625665048867935009');" onmouseout="out('-2625665048867935009');" style=""> 194                  musicSpec.album,                                                                                  </span>
<span class="4393990709676517095" onmouseenter="enter('4393990709676517095');" onmouseout="out('4393990709676517095');" style=""> 195                  musicSpec.track,                                                                                  </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 196                  this                                                                                              </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 197          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198      }                                                                                                             </span>
<span  style=""> 199                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200      @Override                                                                                                     </span>
<span class="6484409227794913685" onmouseenter="enter('6484409227794913685');" onmouseout="out('6484409227794913685');" style=""> 201      public void setMusicState(MusicStateSpec stateSpec) {                                                         </span>
<span class="-8825084358361918368" onmouseenter="enter('-8825084358361918368');" onmouseout="out('-8825084358361918368');" style=""> 202          super.setMusicState(stateSpec);                                                                           </span>
<span  style=""> 203                                                                                                                    </span>
<span class="-5832778985397101291" onmouseenter="enter('-5832778985397101291');" onmouseout="out('-5832778985397101291');" style=""> 204          queueWrite(new MusicControlRequest(                                                                       </span>
<span class="6749687689436260015" onmouseenter="enter('6749687689436260015');" onmouseout="out('6749687689436260015');" style=""><abbr title=" 205                  stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PAUSED"> 205                  stateSpec.state == MusicStateSpec.STATE_PLAYING ? MUSIC_PHONE_REQUEST.MUSIC_REQUEST_SET_PLAYING : 🔵</abbr></span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 206          ));                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="-4761176768155522666" onmouseenter="enter('-4761176768155522666');" onmouseout="out('-4761176768155522666');" style=""> 209      private void setBackgroundImages(AssetImage background, AssetImage[] complications) {                         </span>
<span class="-8622709206262220142" onmouseenter="enter('-8622709206262220142');" onmouseout="out('-8622709206262220142');" style=""> 210          queueWrite(new ImagesSetRequest(new AssetImage[]{background}, this));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211      }                                                                                                             </span>
<span  style=""> 212                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 213      @Override                                                                                                     </span>
<span class="-3215171005460530491" onmouseenter="enter('-3215171005460530491');" onmouseout="out('-3215171005460530491');" style=""> 214      public void onFetchActivityData() {                                                                           </span>
<span class="-9031387911705611686" onmouseenter="enter('-9031387911705611686');" onmouseout="out('-9031387911705611686');" style=""> 215          syncSettings();                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216      }                                                                                                             </span>
<span  style=""> 217                                                                                                                    </span>
<span class="4739601400713241401" onmouseenter="enter('4739601400713241401');" onmouseout="out('4739601400713241401');" style=""> 218      private void syncSettings() {                                                                                 </span>
<span class="5019982808562077006" onmouseenter="enter('5019982808562077006');" onmouseout="out('5019982808562077006');" style=""> 219          negotiateSymmetricKey();                                                                                  </span>
<span  style=""> 220                                                                                                                    </span>
<span class="1672016935910782047" onmouseenter="enter('1672016935910782047');" onmouseout="out('1672016935910782047');" style=""> 221          queueWrite(new ConfigurationGetRequest(this));                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222      }                                                                                                             </span>
<span  style=""> 223                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 224      @Override                                                                                                     </span>
<span class="3426069938226863461" onmouseenter="enter('3426069938226863461');" onmouseout="out('3426069938226863461');" style=""> 225      public void setActivityHand(double progress) {                                                                </span>
<span class="-1967647950949041220" onmouseenter="enter('-1967647950949041220');" onmouseout="out('-1967647950949041220');" style=""> 226          // super.setActivityHand(progress);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227      }                                                                                                             </span>
<span  style=""> 228                                                                                                                    </span>
<span class="4432705569944803605" onmouseenter="enter('4432705569944803605');" onmouseout="out('4432705569944803605');" style=""> 229      public boolean playRawNotification(NotificationSpec notificationSpec) {                                       </span>
<span class="1615789189185193871" onmouseenter="enter('1615789189185193871');" onmouseout="out('1615789189185193871');" style=""> 230          String sender = notificationSpec.sender;                                                                  </span>
<span class="-6939926144095499980" onmouseenter="enter('-6939926144095499980');" onmouseout="out('-6939926144095499980');" style=""> 231          if (sender == null) sender = notificationSpec.sourceName;                                                 </span>
<span class="2253201172229202586" onmouseenter="enter('2253201172229202586');" onmouseout="out('2253201172229202586');" style=""><abbr title=" 232          queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this));"> 232          queueWrite(new PlayNotificationRequest(&quot;generic&quot;, notificationSpec.sourceName, notificationSpec.body, this🔵</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 233          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234      }                                                                                                             </span>
<span  style=""> 235                                                                                                                    </span>
<span class="4061760400153145133" onmouseenter="enter('4061760400153145133');" onmouseout="out('4061760400153145133');" style=""> 236      public byte[] getSecretKey() {                                                                                </span>
<span class="-6184459237939550248" onmouseenter="enter('-6184459237939550248');" onmouseout="out('-6184459237939550248');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 237 -        return secretKey;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 238 -    }                                                                                                             </span>
<span class="877865931329337758" onmouseenter="enter('877865931329337758');" onmouseout="out('877865931329337758');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +        byte[] authKeyBytes = new byte[16];                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +                                                                                                                  </span>
<span class="6732301069337237036" onmouseenter="enter('6732301069337237036');" onmouseout="out('6732301069337237036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 241 +        SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().getDevice().getAddress());"> 241 +        SharedPreferences sharedPrefs = GBApplication.getDeviceSpecificSharedPrefs(getDeviceSupport().getDevice().🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +                                                                                                                  </span>
<span class="-3395951777279535435" onmouseenter="enter('-3395951777279535435');" onmouseout="out('-3395951777279535435');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +        String authKey = sharedPrefs.getString(&quot;authkey&quot;, null);                                                  </span>
<span class="-7368286337752989387" onmouseenter="enter('-7368286337752989387');" onmouseout="out('-7368286337752989387');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +        if (authKey != null &amp;&amp; !authKey.isEmpty()) {                                                              </span>
<span class="-7318628780836353920" onmouseenter="enter('-7318628780836353920');" onmouseout="out('-7318628780836353920');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +            byte[] srcBytes = authKey.trim().getBytes();                                                          </span>
<span class="-7029558868717651202" onmouseenter="enter('-7029558868717651202');" onmouseout="out('-7029558868717651202');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +            if (authKey.length() == 34 &amp;&amp; authKey.startsWith(&quot;0x&quot;)) {                                             </span>
<span class="3552614168594468794" onmouseenter="enter('3552614168594468794');" onmouseout="out('3552614168594468794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 247 +                srcBytes = GB.hexStringToByteArray(authKey.substring(2));                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 248 +            }                                                                                                     </span>
<span class="6598760317559003341" onmouseenter="enter('6598760317559003341');" onmouseout="out('6598760317559003341');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 249 +            System.arraycopy(srcBytes, 0, authKeyBytes, 0, Math.min(srcBytes.length, 16));                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 250 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 251 +                                                                                                                  </span>
<span class="340030267486824060" onmouseenter="enter('340030267486824060');" onmouseout="out('340030267486824060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 252 +        return authKeyBytes;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 253 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 254 +                                                                                                                  </span>
<span class="-7182589409912293929" onmouseenter="enter('-7182589409912293929');" onmouseout="out('-7182589409912293929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +//    public byte[] getSecretKey() {                                                                              </span>
<span class="-2812519745801139464" onmouseenter="enter('-2812519745801139464');" onmouseout="out('-2812519745801139464');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +//        return secretKey;                                                                                       </span>
<span class="7265059398302853371" onmouseenter="enter('7265059398302853371');" onmouseout="out('7265059398302853371');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +//    }                                                                                                           </span>
<span  style=""> 258                                                                                                                    </span>
<span class="-8021107058359765569" onmouseenter="enter('-8021107058359765569');" onmouseout="out('-8021107058359765569');" style=""> 259      public void setSecretKey(byte[] secretKey) {                                                                  </span>
<span class="-1305759151014600921" onmouseenter="enter('-1305759151014600921');" onmouseout="out('-1305759151014600921');" style=""> 260          this.secretKey = secretKey;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261      }                                                                                                             </span>
<span  style=""> 262                                                                                                                    </span>
<span class="1797454318126944117" onmouseenter="enter('1797454318126944117');" onmouseout="out('1797454318126944117');" style=""> 263      public void setPhoneRandomNumber(byte[] phoneRandomNumber) {                                                  </span>
<span class="-1045014803983093080" onmouseenter="enter('-1045014803983093080');" onmouseout="out('-1045014803983093080');" style=""> 264          this.phoneRandomNumber = phoneRandomNumber;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265      }                                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="6353599412516657012" onmouseenter="enter('6353599412516657012');" onmouseout="out('6353599412516657012');" style=""> 267      public byte[] getPhoneRandomNumber() {                                                                        </span>
<span class="-8473936821502081479" onmouseenter="enter('-8473936821502081479');" onmouseout="out('-8473936821502081479');" style=""> 268          return phoneRandomNumber;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span  style=""> 270                                                                                                                    </span>
<span class="8524954629356124134" onmouseenter="enter('8524954629356124134');" onmouseout="out('8524954629356124134');" style=""> 271      public void setWatchRandomNumber(byte[] watchRandomNumber) {                                                  </span>
<span class="-8554456578054756330" onmouseenter="enter('-8554456578054756330');" onmouseout="out('-8554456578054756330');" style=""> 272          this.watchRandomNumber = watchRandomNumber;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273      }                                                                                                             </span>
<span  style=""> 274                                                                                                                    </span>
<span class="-817141622160847580" onmouseenter="enter('-817141622160847580');" onmouseout="out('-817141622160847580');" style=""> 275      public byte[] getWatchRandomNumber() {                                                                        </span>
<span class="4512956887887166379" onmouseenter="enter('4512956887887166379');" onmouseout="out('4512956887887166379');" style=""> 276          return watchRandomNumber;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277      }                                                                                                             </span>
<span  style=""> 278                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 279      @Override                                                                                                     </span>
<span class="-8332902696773003591" onmouseenter="enter('-8332902696773003591');" onmouseout="out('-8332902696773003591');" style=""> 280      public void overwriteButtons(String jsonConfigString) {                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 281          try {                                                                                                     </span>
<span class="-5757883755283420088" onmouseenter="enter('-5757883755283420088');" onmouseout="out('-5757883755283420088');" style=""> 282              JSONArray jsonArray = new JSONArray(                                                                  </span>
<span class="-5162550843991564685" onmouseenter="enter('-5162550843991564685');" onmouseout="out('-5162550843991564685');" style=""> 283                      GBApplication.getPrefs().getString(HRConfigActivity.CONFIG_KEY_Q_ACTIONS, &quot;[]&quot;)               </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 284              );                                                                                                    </span>
<span class="-3670193080643996757" onmouseenter="enter('-3670193080643996757');" onmouseout="out('-3670193080643996757');" style=""> 285              String[] menuItems = new String[jsonArray.length()];                                                  </span>
<span class="3800396328797868230" onmouseenter="enter('3800396328797868230');" onmouseout="out('3800396328797868230');" style=""> 286              for (int i = 0; i &lt; jsonArray.length(); i++) menuItems[i] = jsonArray.getString(i);                   </span>
<span  style=""> 287                                                                                                                    </span>
<span class="-2546877682423996320" onmouseenter="enter('-2546877682423996320');" onmouseout="out('-2546877682423996320');" style=""> 288              queueWrite(new ButtonConfigurationPutRequest(                                                         </span>
<span class="959305012337743007" onmouseenter="enter('959305012337743007');" onmouseout="out('959305012337743007');" style=""> 289                      menuItems,                                                                                    </span>
<span class="7848723611787395232" onmouseenter="enter('7848723611787395232');" onmouseout="out('7848723611787395232');" style=""> 290                      this                                                                                          </span>
<span class="3699784701886273761" onmouseenter="enter('3699784701886273761');" onmouseout="out('3699784701886273761');" style=""> 291              ));                                                                                                   </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 292          } catch (JSONException e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 293              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295      }                                                                                                             </span>
<span  style=""> 296                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 297      @Override                                                                                                     </span>
<span class="6377473851875601996" onmouseenter="enter('6377473851875601996');" onmouseout="out('6377473851875601996');" style=""> 298      protected void handleBackgroundCharacteristic(BluetoothGattCharacteristic characteristic) {                   </span>
<span class="-2825981250293151244" onmouseenter="enter('-2825981250293151244');" onmouseout="out('-2825981250293151244');" style=""> 299          super.handleBackgroundCharacteristic(characteristic);                                                     </span>
<span  style=""> 300                                                                                                                    </span>
<span class="-4350509998999229188" onmouseenter="enter('-4350509998999229188');" onmouseout="out('-4350509998999229188');" style=""> 301          byte[] value = characteristic.getValue();                                                                 </span>
<span  style=""> 302                                                                                                                    </span>
<span class="-8910138668401756259" onmouseenter="enter('-8910138668401756259');" onmouseout="out('-8910138668401756259');" style=""> 303          byte requestType = value[1];                                                                              </span>
<span  style=""> 304                                                                                                                    </span>
<span class="-882124291254646353" onmouseenter="enter('-882124291254646353');" onmouseout="out('-882124291254646353');" style=""> 305          if (requestType == (byte) 0x05) {                                                                         </span>
<span class="-6049325109739304315" onmouseenter="enter('-6049325109739304315');" onmouseout="out('-6049325109739304315');" style=""> 306              handleMusicRequest(value);                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 307              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308          }                                                                                                         </span>
<span  style=""> 309                                                                                                                    </span>
<span class="5556569467739549651" onmouseenter="enter('5556569467739549651');" onmouseout="out('5556569467739549651');" style=""> 310          int eventId = value[2];                                                                                   </span>
<span  style=""> 311                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 312          try {                                                                                                     </span>
<span class="-7891499888276021170" onmouseenter="enter('-7891499888276021170');" onmouseout="out('-7891499888276021170');" style=""> 313              JSONObject requestJson = new JSONObject(new String(value, 3, value.length - 3));                      </span>
<span  style=""> 314                                                                                                                    </span>
<span class="-5659409608637412227" onmouseenter="enter('-5659409608637412227');" onmouseout="out('-5659409608637412227');" style=""> 315              String action = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;)    </span>
<span class="-2601365183494494605" onmouseenter="enter('-2601365183494494605');" onmouseout="out('-2601365183494494605');" style=""> 316                      .getString(&quot;dest&quot;);                                                                           </span>
<span  style=""> 317                                                                                                                    </span>
<span class="-5749439268497763114" onmouseenter="enter('-5749439268497763114');" onmouseout="out('-5749439268497763114');" style=""> 318              String startStop = requestJson.getJSONObject(&quot;req&quot;).getJSONObject(&quot;commuteApp._.config.commute_info&quot;) </span>
<span class="4504014461373376475" onmouseenter="enter('4504014461373376475');" onmouseout="out('4504014461373376475');" style=""> 319                      .getString(&quot;action&quot;);                                                                         </span>
<span  style=""> 320                                                                                                                    </span>
<span class="-187304836507611230" onmouseenter="enter('-187304836507611230');" onmouseout="out('-187304836507611230');" style=""> 321              if (startStop.equals(&quot;stop&quot;)) {                                                                       </span>
<span class="3122353555208900571" onmouseenter="enter('3122353555208900571');" onmouseout="out('3122353555208900571');" style=""> 322                  // overwriteButtons(null);                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 323                  return;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324              }                                                                                                     </span>
<span  style=""> 325                                                                                                                    </span>
<span class="1150832081372187083" onmouseenter="enter('1150832081372187083');" onmouseout="out('1150832081372187083');" style=""> 326              queueWrite(new SetCommuteMenuMessage(&quot;Anfrage wird weitergeleitet...&quot;, false, this));                 </span>
<span  style=""> 327                                                                                                                    </span>
<span class="5917993708031460775" onmouseenter="enter('5917993708031460775');" onmouseout="out('5917993708031460775');" style=""> 328              Intent menuIntent = new Intent(QHybridSupport.QHYBRID_EVENT_COMMUTE_MENU);                            </span>
<span class="-7593836382272947716" onmouseenter="enter('-7593836382272947716');" onmouseout="out('-7593836382272947716');" style=""> 329              menuIntent.putExtra(&quot;EXTRA_ACTION&quot;, action);                                                          </span>
<span class="-3894772479235782461" onmouseenter="enter('-3894772479235782461');" onmouseout="out('-3894772479235782461');" style=""> 330              getContext().sendBroadcast(menuIntent);                                                               </span>
<span class="2021063483207698984" onmouseenter="enter('2021063483207698984');" onmouseout="out('2021063483207698984');" style=""> 331          } catch (JSONException e) {                                                                               </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 332              e.printStackTrace();                                                                                  </span>

























<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334      }                                                                                                             </span>
<span  style=""> 335                                                                                                                    </span>
<span class="8416553974703547913" onmouseenter="enter('8416553974703547913');" onmouseout="out('8416553974703547913');" style=""> 336      private void handleMusicRequest(byte[] value) {                                                               </span>
<span class="-7264442020313207444" onmouseenter="enter('-7264442020313207444');" onmouseout="out('-7264442020313207444');" style=""> 337          byte command = value[3];                                                                                  </span>
<span  style=""> 338                                                                                                                    </span>
<span class="-1813511864680047347" onmouseenter="enter('-1813511864680047347');" onmouseout="out('-1813511864680047347');" style=""> 339          MUSIC_WATCH_REQUEST request = MUSIC_WATCH_REQUEST.fromCommandByte(command);                               </span>
<span  style=""> 340                                                                                                                    </span>
<span class="5551360534441028758" onmouseenter="enter('5551360534441028758');" onmouseout="out('5551360534441028758');" style=""> 341          MusicControlRequest r = new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE);            </span>
<span  style=""> 342                                                                                                                    </span>
<span class="-1476594108120808605" onmouseenter="enter('-1476594108120808605');" onmouseout="out('-1476594108120808605');" style=""> 343          switch (request) {                                                                                        </span>
<span class="-7604808754482491529" onmouseenter="enter('-7604808754482491529');" onmouseout="out('-7604808754482491529');" style=""> 344              case MUSIC_REQUEST_PLAY_PAUSE: {                                                                      </span>
<span class="6628176114625634916" onmouseenter="enter('6628176114625634916');" onmouseout="out('6628176114625634916');" style=""> 345                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_PLAY_PAUSE));                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 346                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347              }                                                                                                     </span>
<span class="5859425638057110790" onmouseenter="enter('5859425638057110790');" onmouseout="out('5859425638057110790');" style=""> 348              case MUSIC_REQUEST_LOUDER: {                                                                          </span>
<span class="-3857602001706076214" onmouseenter="enter('-3857602001706076214');" onmouseout="out('-3857602001706076214');" style=""> 349                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_LOUDER));                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 350                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351              }                                                                                                     </span>
<span class="3750638360823897863" onmouseenter="enter('3750638360823897863');" onmouseout="out('3750638360823897863');" style=""> 352              case MUSIC_REQUEST_QUITER: {                                                                          </span>
<span class="2129420423363786169" onmouseenter="enter('2129420423363786169');" onmouseout="out('2129420423363786169');" style=""> 353                  queueWrite(new MusicControlRequest(MUSIC_PHONE_REQUEST.MUSIC_REQUEST_QUITER));                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 354                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357      }                                                                                                             </span>
<span  style=""> 358                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 359      @Override                                                                                                     </span>
<span class="-3634467212876653578" onmouseenter="enter('-3634467212876653578');" onmouseout="out('-3634467212876653578');" style=""> 360      public void setCommuteMenuMessage(String message, boolean finished) {                                         </span>
<span class="-2545716908437572756" onmouseenter="enter('-2545716908437572756');" onmouseout="out('-2545716908437572756');" style=""> 361          queueWrite(new SetCommuteMenuMessage(message, finished, this));                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            