<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>179</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    179
                    <a href="178.html">prev</a>
                    <a href="180.html">next</a>
                    <a href="179_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_310203c9852593bd4f07481ea4d693d3096b6994_common/src/main/java/org/broadleafcommerce/common/dao/GenericEntityDaoImpl.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994:common/src/main/java/org/broadleafcommerce/common/dao/GenericEntityDaoImpl.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994^1:common/src/main/java/org/broadleafcommerce/common/dao/GenericEntityDaoImpl.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994^2:common/src/main/java/org/broadleafcommerce/common/dao/GenericEntityDaoImpl.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;c2b9b7cebcb68adf6459f3932383315f3716ab81:common/src/main/java/org/broadleafcommerce/common/dao/GenericEntityDaoImpl.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [bsj], [bsj]], subset: [[b], [bsj], [bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-887062762474404333" onmouseenter="enter('-887062762474404333');" onmouseout="out('-887062762474404333');" style="">   3  * BroadleafCommerce Profile Web                                                                         </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span  style="">  18                                                                                                          </span>
<span class="2400098715931442912" onmouseenter="enter('2400098715931442912');" onmouseout="out('2400098715931442912');" style="">  19 package org.broadleafcommerce.common.dao;                                                                </span>
<span  style="">  20                                                                                                          </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  21 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="4099671973191811713" onmouseenter="enter('4099671973191811713');" onmouseout="out('4099671973191811713');" style="">  22 import org.broadleafcommerce.common.service.PersistenceService;                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  23 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="4511915058436819747" onmouseenter="enter('4511915058436819747');" onmouseout="out('4511915058436819747');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  24 import org.broadleafcommerce.common.util.HibernateUtils;                                                 </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  25 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  27 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  28 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="5712948414688687719" onmouseenter="enter('5712948414688687719');" onmouseout="out('5712948414688687719');" style="">  29 import org.broadleafcommerce.common.util.StreamCapableTransactionalOperationAdapter;                     </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="">  30 import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                </span>
<span class="5107697851223623564" onmouseenter="enter('5107697851223623564');" onmouseout="out('5107697851223623564');" style="">  31 import org.broadleafcommerce.common.util.TransactionUtils;                                               </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  32 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  33 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="3891204800073608559" onmouseenter="enter('3891204800073608559');" onmouseout="out('3891204800073608559');" style="">  34 import org.hibernate.FlushMode;                                                                          </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  35 import org.hibernate.Session;                                                                            </span>
<span class="3988962447386002963" onmouseenter="enter('3988962447386002963');" onmouseout="out('3988962447386002963');" style="">  36 import org.hibernate.type.AbstractSingleColumnStandardBasicType;                                         </span>
<span class="-8772715020166418238" onmouseenter="enter('-8772715020166418238');" onmouseout="out('-8772715020166418238');" style="">  37 import org.hibernate.type.IntegerType;                                                                   </span>
<span class="-2033017758590111124" onmouseenter="enter('-2033017758590111124');" onmouseout="out('-2033017758590111124');" style="">  38 import org.hibernate.type.LongType;                                                                      </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  39 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  40 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  41 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  42 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  43 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  44                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  45 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  46 import java.lang.reflect.Field;                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  48 import java.util.Map;                                                                                    </span>
<span  style="">  49                                                                                                          </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  50 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  51 import javax.persistence.EntityManager;                                                                  </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  52 import javax.persistence.PersistenceContext;                                                             </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  53 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  54 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  55 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  56 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  57                                                                                                          </span>
<span  style="">  58                                                                                                          </span>
<span class="1916277593892683476" onmouseenter="enter('1916277593892683476');" onmouseout="out('1916277593892683476');" style="">  59 @Repository(&quot;blGenericEntityDao&quot;)                                                                        </span>
<span class="3689535755843904729" onmouseenter="enter('3689535755843904729');" onmouseout="out('3689535755843904729');" style="">  60 public class GenericEntityDaoImpl implements GenericEntityDao, ApplicationContextAware {                 </span>
<span  style="">  61                                                                                                          </span>
<span class="7860905282700387411" onmouseenter="enter('7860905282700387411');" onmouseout="out('7860905282700387411');" style="">  62     private static ApplicationContext applicationContext;                                                </span>
<span class="2257026348863581646" onmouseenter="enter('2257026348863581646');" onmouseout="out('2257026348863581646');" style="">  63     private static GenericEntityDaoImpl dao;                                                             </span>
<span  style="">  64                                                                                                          </span>
<span class="-7871596380096615886" onmouseenter="enter('-7871596380096615886');" onmouseout="out('-7871596380096615886');" style="">  65     public static GenericEntityDaoImpl getGenericEntityDao() {                                           </span>
<span class="-3590431270060023337" onmouseenter="enter('-3590431270060023337');" onmouseout="out('-3590431270060023337');" style="">  66         if (applicationContext == null) {                                                                </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">  67             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68         }                                                                                                </span>
<span class="-5487804957327148212" onmouseenter="enter('-5487804957327148212');" onmouseout="out('-5487804957327148212');" style="">  69         if (dao == null) {                                                                               </span>
<span class="-5081121215397937837" onmouseenter="enter('-5081121215397937837');" onmouseout="out('-5081121215397937837');" style="">  70             dao = (GenericEntityDaoImpl) applicationContext.getBean(&quot;blGenericEntityDao&quot;);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71         }                                                                                                </span>
<span class="-8913945871471834180" onmouseenter="enter('-8913945871471834180');" onmouseout="out('-8913945871471834180');" style="">  72         return dao;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  73     }                                                                                                    </span>
<span  style="">  74                                                                                                          </span>
<span class="5710637357667853932" onmouseenter="enter('5710637357667853932');" onmouseout="out('5710637357667853932');" style="">  75     @PersistenceContext(unitName = &quot;blPU&quot;)                                                               </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  76     protected EntityManager em;                                                                          </span>
<span  style="">  77                                                                                                          </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="">  78     @Resource(name=&quot;blPersistenceService&quot;)                                                               </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="">  79     protected PersistenceService persistenceService;                                                     </span>
<span  style="">  80                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="">  81     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  82     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  83                                                                                                          </span>
<span class="-386868326691684111" onmouseenter="enter('-386868326691684111');" onmouseout="out('-386868326691684111');" style="">  84     @Resource(name = &quot;blStreamingTransactionCapableUtil&quot;)                                                </span>
<span class="6898400391028559773" onmouseenter="enter('6898400391028559773');" onmouseout="out('6898400391028559773');" style="">  85     protected StreamingTransactionCapableUtil transactionUtil;                                           </span>
<span  style="">  86                                                                                                          </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="">  87     @Resource(name=&quot;blPersistenceService&quot;)                                                               </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="">  88     protected PersistenceService persistenceService;                                                     </span>
<span  style="">  89                                                                                                          </span>
<span class="-3442166288583657578" onmouseenter="enter('-3442166288583657578');" onmouseout="out('-3442166288583657578');" style="">  90     protected DynamicDaoHelperImpl daoHelper = new DynamicDaoHelperImpl();                               </span>
<span  style="">  91                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style="">  93     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style="">  94         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  97     @Override                                                                                            </span>
<span class="6637017084473771200" onmouseenter="enter('6637017084473771200');" onmouseout="out('6637017084473771200');" style="">  98     public &lt;T&gt; T readGenericEntity(Class&lt;T&gt; clazz, Object id) {                                          </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="">  99         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 100 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="7835073843020279201" onmouseenter="enter('7835073843020279201');" onmouseout="out('7835073843020279201');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 101         //We need to get PU dynamically to handle cases when class is not in blPU, e.g ScheduledJobImpl  </span>
<span class="-6735648752419506622" onmouseenter="enter('-6735648752419506622');" onmouseout="out('-6735648752419506622');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 102         EntityManager emForClass = getEntityManager(clazz);                                              </span>
<span class="-5276745367785678189" onmouseenter="enter('-5276745367785678189');" onmouseout="out('-5276745367785678189');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 103         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, emForClass);                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 104 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105             id = Long.parseLong(String.valueOf(id));                                                     </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106         } else if (type instanceof IntegerType) {                                                        </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107             id = Integer.parseInt(String.valueOf(id));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108         }                                                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 109 =======                                                                                                  </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 110         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="-5860375923252958621" onmouseenter="enter('-5860375923252958621');" onmouseout="out('-5860375923252958621');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 111         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, entityManager);                          </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 112 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style=""><abbr title=" 113         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);"> 113         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;typeðŸ”µ</abbr></span>
<span  style=""> 114                                                                                                          </span>
<span class="-6606906901858066862" onmouseenter="enter('-6606906901858066862');" onmouseout="out('-6606906901858066862');" style=""> 115         if (type instanceof LongType) {                                                                  </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style=""> 116             id = Long.parseLong(String.valueOf(id));                                                     </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style=""> 117         } else if (type instanceof IntegerType) {                                                        </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style=""> 118             id = Integer.parseInt(String.valueOf(id));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119         }                                                                                                </span>
<span  style=""> 120                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 121 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-8992656518113252367" onmouseenter="enter('-8992656518113252367');" onmouseout="out('-8992656518113252367');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 122         return HibernateUtils.deproxy(emForClass.find(clazz, id));                                       </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 123 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-7475968927767989672" onmouseenter="enter('-7475968927767989672');" onmouseout="out('-7475968927767989672');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(em);                   </span>
<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126         return q.getSingleResult();                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 127 =======                                                                                                  </span>
<span class="-2478345693284185588" onmouseenter="enter('-2478345693284185588');" onmouseout="out('-2478345693284185588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 128         return entityManager.find(clazz, id);                                                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 129 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130     }                                                                                                    </span>
<span  style=""> 131                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132     @Override                                                                                            </span>
<span class="848636086900968927" onmouseenter="enter('848636086900968927');" onmouseout="out('848636086900968927');" style=""> 133     public &lt;T&gt; Long readCountGenericEntity(Class&lt;T&gt; clazz) {                                             </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 134         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-6322797215451671555" onmouseenter="enter('-6322797215451671555');" onmouseout="out('-6322797215451671555');" style=""><abbr title=" 135         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.identifyEntityManager(clazz));"> 135         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.idenðŸ”µ</abbr></span>
<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style=""> 136         return q.getSingleResult();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137     }                                                                                                    </span>
<span  style=""> 138                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139     @Override                                                                                            </span>
<span class="4759429072648873061" onmouseenter="enter('4759429072648873061');" onmouseout="out('4759429072648873061');" style=""> 140     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz, int limit, int offset) {                     </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 141         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 142         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 142         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="-534297258831979327" onmouseenter="enter('-534297258831979327');" onmouseout="out('-534297258831979327');" style=""> 143         q.setMaxResults(limit);                                                                          </span>
<span class="-2587159581738477428" onmouseenter="enter('-2587159581738477428');" onmouseout="out('-2587159581738477428');" style=""> 144         q.setFirstResult(offset);                                                                        </span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 145         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 148     @Override                                                                                            </span>
<span class="6348826799001918207" onmouseenter="enter('6348826799001918207');" onmouseout="out('6348826799001918207');" style=""> 149     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz) {                                            </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 150         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 151         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 151         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 152         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153     }                                                                                                    </span>
<span  style=""> 154                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 155     @Override                                                                                            </span>
<span class="-6354552729374820966" onmouseenter="enter('-6354552729374820966');" onmouseout="out('-6354552729374820966');" style=""> 156     public List&lt;Long&gt; readAllGenericEntityId(Class&lt;?&gt; clazz) {                                           </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 157         clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                   </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style=""> 158         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="8224440578401931361" onmouseenter="enter('8224440578401931361');" onmouseout="out('8224440578401931361');" style=""> 159         CriteriaBuilder builder = entityManager.getCriteriaBuilder();                                    </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 160         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 161         Root root = criteria.from(clazz);                                                                </span>
<span class="-7940352348320507267" onmouseenter="enter('-7940352348320507267');" onmouseout="out('-7940352348320507267');" style=""> 162         criteria.select(root.get(getIdField(clazz).getName()).as(Long.class));                           </span>
<span class="3231803441483426477" onmouseenter="enter('3231803441483426477');" onmouseout="out('3231803441483426477');" style=""> 163         criteria.orderBy(builder.asc(root.get(getIdField(clazz).getName())));                            </span>
<span  style=""> 164                                                                                                          </span>
<span class="1678597917952329656" onmouseenter="enter('1678597917952329656');" onmouseout="out('1678597917952329656');" style=""> 165         return entityManager.createQuery(criteria).getResultList();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 169     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 170         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 171         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 172             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 173         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 174             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 176         if (clazz == null) {                                                                             </span>
<span class="-8970323639932241165" onmouseenter="enter('-8970323639932241165');" onmouseout="out('-8970323639932241165');" style=""> 177             clazz = getCeilingImplClass(className);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 179         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180     }                                                                                                    </span>
<span  style=""> 181                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182     @Override                                                                                            </span>
<span class="5137638886058470839" onmouseenter="enter('5137638886058470839');" onmouseout="out('5137638886058470839');" style=""> 183     public Class&lt;?&gt; getCeilingImplClass(final String className) {                                        </span>
<span class="-6220776680495490001" onmouseenter="enter('-6220776680495490001');" onmouseout="out('-6220776680495490001');" style=""> 184         final Class&lt;?&gt;[] clazz = new Class&lt;?&gt;[1];                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 185         try {                                                                                            </span>
<span class="-2579635473151229094" onmouseenter="enter('-2579635473151229094');" onmouseout="out('-2579635473151229094');" style=""> 186             clazz[0] = Class.forName(className);                                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 187         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 188             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189         }                                                                                                </span>
<span class="-3892088099759962881" onmouseenter="enter('-3892088099759962881');" onmouseout="out('-3892088099759962881');" style=""><abbr title=" 190         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here if one has not already been started."> 190         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transactiðŸ”µ</abbr></span>
<span class="-1033126161918559345" onmouseenter="enter('-1033126161918559345');" onmouseout="out('-1033126161918559345');" style=""><abbr title=" 191         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter() {"> 191         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter(ðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192             @Override                                                                                    </span>
<span class="4780654052727038890" onmouseenter="enter('4780654052727038890');" onmouseout="out('4780654052727038890');" style=""> 193             public void execute() throws Throwable {                                                     </span>
<span class="6422493678466467935" onmouseenter="enter('6422493678466467935');" onmouseout="out('6422493678466467935');" style=""><abbr title=" 194                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 194                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0],ðŸ”µ</abbr></span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 195                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-5717773141000577469" onmouseenter="enter('-5717773141000577469');" onmouseout="out('-5717773141000577469');" style=""> 196                     clazz[0] = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz[0]); </span>
<span class="373796009563854516" onmouseenter="enter('373796009563854516');" onmouseout="out('373796009563854516');" style=""><abbr title=" 197                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 197                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198                 }                                                                                        </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 199                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 200                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 200                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201                 }                                                                                        </span>
<span class="-517801517861717935" onmouseenter="enter('-517801517861717935');" onmouseout="out('-517801517861717935');" style=""> 202                 clazz[0] = entitiesFromCeiling[entitiesFromCeiling.length - 1];                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203             }                                                                                            </span>
<span class="8830932071903098808" onmouseenter="enter('8830932071903098808');" onmouseout="out('8830932071903098808');" style=""> 204         }, RuntimeException.class, !TransactionUtils.isTransactionalEntityManager(em));                  </span>
<span class="-8671307462264439721" onmouseenter="enter('-8671307462264439721');" onmouseout="out('-8671307462264439721');" style=""> 205         return clazz[0];                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 209     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="-6461650461731494286" onmouseenter="enter('-6461650461731494286');" onmouseout="out('-6461650461731494286');" style=""> 210         return daoHelper.getIdentifier(entity);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211     }                                                                                                    </span>
<span  style=""> 212                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 213     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="4812418208293311036" onmouseenter="enter('4812418208293311036');" onmouseout="out('4812418208293311036');" style=""> 214         return daoHelper.getIdField(clazz);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217     @Override                                                                                            </span>
<span class="1201722705023182309" onmouseenter="enter('1201722705023182309');" onmouseout="out('1201722705023182309');" style=""> 218     public &lt;T&gt; T save(T object) {                                                                        </span>
<span class="4116339568797504316" onmouseenter="enter('4116339568797504316');" onmouseout="out('4116339568797504316');" style=""> 219         return em.merge(object);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220     }                                                                                                    </span>
<span  style=""> 221                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222     @Override                                                                                            </span>
<span class="-2882155670305811420" onmouseenter="enter('-2882155670305811420');" onmouseout="out('-2882155670305811420');" style=""> 223     public void persist(Object object) {                                                                 </span>
<span class="-5377847996594623282" onmouseenter="enter('-5377847996594623282');" onmouseout="out('-5377847996594623282');" style=""> 224         em.persist(object);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 227     @Override                                                                                            </span>
<span class="807198547471032850" onmouseenter="enter('807198547471032850');" onmouseout="out('807198547471032850');" style=""> 228     public void remove(Object object) {                                                                  </span>
<span class="8963702453453687507" onmouseenter="enter('8963702453453687507');" onmouseout="out('8963702453453687507');" style=""> 229         em.remove(object);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230     }                                                                                                    </span>
<span  style=""> 231                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 232     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 233     public void flush() {                                                                                </span>
<span class="320170061021208937" onmouseenter="enter('320170061021208937');" onmouseout="out('320170061021208937');" style=""> 234         em.flush();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237     @Override                                                                                            </span>
<span class="-220134476549251902" onmouseenter="enter('-220134476549251902');" onmouseout="out('-220134476549251902');" style=""> 238     public void clearAutoFlushMode() {                                                                   </span>
<span class="2763507001208091088" onmouseenter="enter('2763507001208091088');" onmouseout="out('2763507001208091088');" style=""> 239         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.MANUAL);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242     @Override                                                                                            </span>
<span class="4110842206394504382" onmouseenter="enter('4110842206394504382');" onmouseout="out('4110842206394504382');" style=""> 243     public void enableAutoFlushMode() {                                                                  </span>
<span class="-2845879288108851806" onmouseenter="enter('-2845879288108851806');" onmouseout="out('-2845879288108851806');" style=""> 244         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.AUTO);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 248     public void clear() {                                                                                </span>
<span class="-6727296048007049738" onmouseenter="enter('-6727296048007049738');" onmouseout="out('-6727296048007049738');" style=""> 249         em.clear();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252     @Override                                                                                            </span>
<span class="6702166894125392871" onmouseenter="enter('6702166894125392871');" onmouseout="out('6702166894125392871');" style=""> 253     public boolean sessionContains(Object object) {                                                      </span>
<span class="-2654829638606753366" onmouseenter="enter('-2654829638606753366');" onmouseout="out('-2654829638606753366');" style=""> 254         return em.contains(object);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255     }                                                                                                    </span>
<span  style=""> 256                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257     @Override                                                                                            </span>
<span class="4063876051124803927" onmouseenter="enter('4063876051124803927');" onmouseout="out('4063876051124803927');" style=""> 258     public boolean idAssigned(Object object) {                                                           </span>
<span class="3098305900129064851" onmouseenter="enter('3098305900129064851');" onmouseout="out('3098305900129064851');" style=""> 259         return getIdentifier(object) != null;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262     @Override                                                                                            </span>
<span class="4956421693817152075" onmouseenter="enter('4956421693817152075');" onmouseout="out('4956421693817152075');" style=""> 263     public EntityManager getEntityManager() {                                                            </span>
<span class="4703819403731835055" onmouseenter="enter('4703819403731835055');" onmouseout="out('4703819403731835055');" style=""> 264         return em;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265     }                                                                                                    </span>
<span  style=""> 266                                                                                                          </span>
<span class="5795000041850406495" onmouseenter="enter('5795000041850406495');" onmouseout="out('5795000041850406495');" style=""> 267     protected EntityManager getEntityManager(Class clazz) {                                              </span>
<span class="6980901048075094404" onmouseenter="enter('6980901048075094404');" onmouseout="out('6980901048075094404');" style=""> 268         return persistenceService.identifyEntityManager(clazz);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-887062762474404333" onmouseenter="enter('-887062762474404333');" onmouseout="out('-887062762474404333');" style="">   3  * BroadleafCommerce Profile Web                                                                         </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span  style="">  18                                                                                                          </span>
<span class="2400098715931442912" onmouseenter="enter('2400098715931442912');" onmouseout="out('2400098715931442912');" style="">  19 package org.broadleafcommerce.common.dao;                                                                </span>
<span  style="">  20                                                                                                          </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  21 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="4099671973191811713" onmouseenter="enter('4099671973191811713');" onmouseout="out('4099671973191811713');" style="">  22 import org.broadleafcommerce.common.service.PersistenceService;                                          </span>
<span class="4511915058436819747" onmouseenter="enter('4511915058436819747');" onmouseout="out('4511915058436819747');" style="">  23 import org.broadleafcommerce.common.util.HibernateUtils;                                                 </span>
<span class="5712948414688687719" onmouseenter="enter('5712948414688687719');" onmouseout="out('5712948414688687719');" style="">  24 import org.broadleafcommerce.common.util.StreamCapableTransactionalOperationAdapter;                     </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="">  25 import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                </span>
<span class="5107697851223623564" onmouseenter="enter('5107697851223623564');" onmouseout="out('5107697851223623564');" style="">  26 import org.broadleafcommerce.common.util.TransactionUtils;                                               </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  27 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  28 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="3891204800073608559" onmouseenter="enter('3891204800073608559');" onmouseout="out('3891204800073608559');" style="">  29 import org.hibernate.FlushMode;                                                                          </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  30 import org.hibernate.Session;                                                                            </span>
<span class="3988962447386002963" onmouseenter="enter('3988962447386002963');" onmouseout="out('3988962447386002963');" style="">  31 import org.hibernate.type.AbstractSingleColumnStandardBasicType;                                         </span>
<span class="-8772715020166418238" onmouseenter="enter('-8772715020166418238');" onmouseout="out('-8772715020166418238');" style="">  32 import org.hibernate.type.IntegerType;                                                                   </span>
<span class="-2033017758590111124" onmouseenter="enter('-2033017758590111124');" onmouseout="out('-2033017758590111124');" style="">  33 import org.hibernate.type.LongType;                                                                      </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  34 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  35 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  36 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  37 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  38 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  39                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  40 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  41 import java.lang.reflect.Field;                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  43 import java.util.Map;                                                                                    </span>
<span  style="">  44                                                                                                          </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  45 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  46 import javax.persistence.EntityManager;                                                                  </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  47 import javax.persistence.PersistenceContext;                                                             </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  48 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  49 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  50 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  51 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  52                                                                                                          </span>
<span  style="">  53                                                                                                          </span>
<span class="1916277593892683476" onmouseenter="enter('1916277593892683476');" onmouseout="out('1916277593892683476');" style="">  54 @Repository(&quot;blGenericEntityDao&quot;)                                                                        </span>
<span class="3689535755843904729" onmouseenter="enter('3689535755843904729');" onmouseout="out('3689535755843904729');" style="">  55 public class GenericEntityDaoImpl implements GenericEntityDao, ApplicationContextAware {                 </span>
<span  style="">  56                                                                                                          </span>
<span class="7860905282700387411" onmouseenter="enter('7860905282700387411');" onmouseout="out('7860905282700387411');" style="">  57     private static ApplicationContext applicationContext;                                                </span>
<span class="2257026348863581646" onmouseenter="enter('2257026348863581646');" onmouseout="out('2257026348863581646');" style="">  58     private static GenericEntityDaoImpl dao;                                                             </span>
<span  style="">  59                                                                                                          </span>
<span class="-7871596380096615886" onmouseenter="enter('-7871596380096615886');" onmouseout="out('-7871596380096615886');" style="">  60     public static GenericEntityDaoImpl getGenericEntityDao() {                                           </span>
<span class="-3590431270060023337" onmouseenter="enter('-3590431270060023337');" onmouseout="out('-3590431270060023337');" style="">  61         if (applicationContext == null) {                                                                </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">  62             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63         }                                                                                                </span>
<span class="-5487804957327148212" onmouseenter="enter('-5487804957327148212');" onmouseout="out('-5487804957327148212');" style="">  64         if (dao == null) {                                                                               </span>
<span class="-5081121215397937837" onmouseenter="enter('-5081121215397937837');" onmouseout="out('-5081121215397937837');" style="">  65             dao = (GenericEntityDaoImpl) applicationContext.getBean(&quot;blGenericEntityDao&quot;);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66         }                                                                                                </span>
<span class="-8913945871471834180" onmouseenter="enter('-8913945871471834180');" onmouseout="out('-8913945871471834180');" style="">  67         return dao;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68     }                                                                                                    </span>
<span  style="">  69                                                                                                          </span>
<span class="5710637357667853932" onmouseenter="enter('5710637357667853932');" onmouseout="out('5710637357667853932');" style="">  70     @PersistenceContext(unitName = &quot;blPU&quot;)                                                               </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  71     protected EntityManager em;                                                                          </span>
<span  style="">  72                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="">  73     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  74     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  75                                                                                                          </span>
<span class="-386868326691684111" onmouseenter="enter('-386868326691684111');" onmouseout="out('-386868326691684111');" style="">  76     @Resource(name = &quot;blStreamingTransactionCapableUtil&quot;)                                                </span>
<span class="6898400391028559773" onmouseenter="enter('6898400391028559773');" onmouseout="out('6898400391028559773');" style="">  77     protected StreamingTransactionCapableUtil transactionUtil;                                           </span>
<span  style="">  78                                                                                                          </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="">  79     @Resource(name=&quot;blPersistenceService&quot;)                                                               </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="">  80     protected PersistenceService persistenceService;                                                     </span>
<span  style="">  81                                                                                                          </span>
<span class="-3442166288583657578" onmouseenter="enter('-3442166288583657578');" onmouseout="out('-3442166288583657578');" style="">  82     protected DynamicDaoHelperImpl daoHelper = new DynamicDaoHelperImpl();                               </span>
<span  style="">  83                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style="">  85     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style="">  86         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89     @Override                                                                                            </span>
<span class="6637017084473771200" onmouseenter="enter('6637017084473771200');" onmouseout="out('6637017084473771200');" style="">  90     public &lt;T&gt; T readGenericEntity(Class&lt;T&gt; clazz, Object id) {                                          </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="">  91         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">  92 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7835073843020279201" onmouseenter="enter('7835073843020279201');" onmouseout="out('7835073843020279201');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  93         //We need to get PU dynamically to handle cases when class is not in blPU, e.g ScheduledJobImpl  </span>
<span class="-6735648752419506622" onmouseenter="enter('-6735648752419506622');" onmouseout="out('-6735648752419506622');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  94         EntityManager emForClass = getEntityManager(clazz);                                              </span>
<span class="-5276745367785678189" onmouseenter="enter('-5276745367785678189');" onmouseout="out('-5276745367785678189');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  95         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, emForClass);                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  96 ||||||| BASE                                                                                             </span>
<span class="-6377675840382167631" onmouseenter="enter('-6377675840382167631');" onmouseout="out('-6377675840382167631');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, em);                                     </span>
<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  98         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);">  98         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;typeðŸ”µ</abbr></span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99                                                                                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 100 =======                                                                                                  </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 101         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="-5860375923252958621" onmouseenter="enter('-5860375923252958621');" onmouseout="out('-5860375923252958621');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 102         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, entityManager);                          </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 103 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style=""><abbr title=" 104         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);"> 104         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;typeðŸ”µ</abbr></span>
<span  style=""> 105                                                                                                          </span>
<span class="-6606906901858066862" onmouseenter="enter('-6606906901858066862');" onmouseout="out('-6606906901858066862');" style=""> 106         if (type instanceof LongType) {                                                                  </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style=""> 107             id = Long.parseLong(String.valueOf(id));                                                     </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style=""> 108         } else if (type instanceof IntegerType) {                                                        </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style=""> 109             id = Integer.parseInt(String.valueOf(id));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110         }                                                                                                </span>
<span  style=""> 111                                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 112 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-8992656518113252367" onmouseenter="enter('-8992656518113252367');" onmouseout="out('-8992656518113252367');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 113         return HibernateUtils.deproxy(emForClass.find(clazz, id));                                       </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 114 ||||||| BASE                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115     }                                                                                                    </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 116 =======                                                                                                  </span>
<span class="-2478345693284185588" onmouseenter="enter('-2478345693284185588');" onmouseout="out('-2478345693284185588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 117         return entityManager.find(clazz, id);                                                            </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 118 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 121     @Override                                                                                            </span>
<span class="848636086900968927" onmouseenter="enter('848636086900968927');" onmouseout="out('848636086900968927');" style=""> 122     public &lt;T&gt; Long readCountGenericEntity(Class&lt;T&gt; clazz) {                                             </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 123         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-6322797215451671555" onmouseenter="enter('-6322797215451671555');" onmouseout="out('-6322797215451671555');" style=""><abbr title=" 124         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.identifyEntityManager(clazz));"> 124         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.idenðŸ”µ</abbr></span>
<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style=""> 125         return q.getSingleResult();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126     }                                                                                                    </span>
<span  style=""> 127                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 128     @Override                                                                                            </span>
<span class="4759429072648873061" onmouseenter="enter('4759429072648873061');" onmouseout="out('4759429072648873061');" style=""> 129     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz, int limit, int offset) {                     </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 130         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 131         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 131         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="-534297258831979327" onmouseenter="enter('-534297258831979327');" onmouseout="out('-534297258831979327');" style=""> 132         q.setMaxResults(limit);                                                                          </span>
<span class="-2587159581738477428" onmouseenter="enter('-2587159581738477428');" onmouseout="out('-2587159581738477428');" style=""> 133         q.setFirstResult(offset);                                                                        </span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 134         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135     }                                                                                                    </span>
<span  style=""> 136                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 137     @Override                                                                                            </span>
<span class="6348826799001918207" onmouseenter="enter('6348826799001918207');" onmouseout="out('6348826799001918207');" style=""> 138     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz) {                                            </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 139         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 140         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 140         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 141         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142     }                                                                                                    </span>
<span  style=""> 143                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144     @Override                                                                                            </span>
<span class="-6354552729374820966" onmouseenter="enter('-6354552729374820966');" onmouseout="out('-6354552729374820966');" style=""> 145     public List&lt;Long&gt; readAllGenericEntityId(Class&lt;?&gt; clazz) {                                           </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 146         clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                   </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style=""> 147         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="8224440578401931361" onmouseenter="enter('8224440578401931361');" onmouseout="out('8224440578401931361');" style=""> 148         CriteriaBuilder builder = entityManager.getCriteriaBuilder();                                    </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 149         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 150         Root root = criteria.from(clazz);                                                                </span>
<span class="-7940352348320507267" onmouseenter="enter('-7940352348320507267');" onmouseout="out('-7940352348320507267');" style=""> 151         criteria.select(root.get(getIdField(clazz).getName()).as(Long.class));                           </span>
<span class="3231803441483426477" onmouseenter="enter('3231803441483426477');" onmouseout="out('3231803441483426477');" style=""> 152         criteria.orderBy(builder.asc(root.get(getIdField(clazz).getName())));                            </span>
<span  style=""> 153                                                                                                          </span>
<span class="1678597917952329656" onmouseenter="enter('1678597917952329656');" onmouseout="out('1678597917952329656');" style=""> 154         return entityManager.createQuery(criteria).getResultList();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155     }                                                                                                    </span>
<span  style=""> 156                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 158     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 159         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 160         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 161             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 162         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 163             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 165         if (clazz == null) {                                                                             </span>
<span class="-8970323639932241165" onmouseenter="enter('-8970323639932241165');" onmouseout="out('-8970323639932241165');" style=""> 166             clazz = getCeilingImplClass(className);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 168         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169     }                                                                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171     @Override                                                                                            </span>
<span class="5137638886058470839" onmouseenter="enter('5137638886058470839');" onmouseout="out('5137638886058470839');" style=""> 172     public Class&lt;?&gt; getCeilingImplClass(final String className) {                                        </span>
<span class="-6220776680495490001" onmouseenter="enter('-6220776680495490001');" onmouseout="out('-6220776680495490001');" style=""> 173         final Class&lt;?&gt;[] clazz = new Class&lt;?&gt;[1];                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 174         try {                                                                                            </span>
<span class="-2579635473151229094" onmouseenter="enter('-2579635473151229094');" onmouseout="out('-2579635473151229094');" style=""> 175             clazz[0] = Class.forName(className);                                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 176         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 177             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178         }                                                                                                </span>
<span class="-3892088099759962881" onmouseenter="enter('-3892088099759962881');" onmouseout="out('-3892088099759962881');" style=""><abbr title=" 179         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here if one has not already been started."> 179         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transactiðŸ”µ</abbr></span>
<span class="-1033126161918559345" onmouseenter="enter('-1033126161918559345');" onmouseout="out('-1033126161918559345');" style=""><abbr title=" 180         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter() {"> 180         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter(ðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181             @Override                                                                                    </span>
<span class="4780654052727038890" onmouseenter="enter('4780654052727038890');" onmouseout="out('4780654052727038890');" style=""> 182             public void execute() throws Throwable {                                                     </span>
<span class="6422493678466467935" onmouseenter="enter('6422493678466467935');" onmouseout="out('6422493678466467935');" style=""><abbr title=" 183                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 183                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0],ðŸ”µ</abbr></span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 184                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-5717773141000577469" onmouseenter="enter('-5717773141000577469');" onmouseout="out('-5717773141000577469');" style=""> 185                     clazz[0] = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz[0]); </span>
<span class="373796009563854516" onmouseenter="enter('373796009563854516');" onmouseout="out('373796009563854516');" style=""><abbr title=" 186                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 186                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187                 }                                                                                        </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 188                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 189                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 189                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190                 }                                                                                        </span>
<span class="-517801517861717935" onmouseenter="enter('-517801517861717935');" onmouseout="out('-517801517861717935');" style=""> 191                 clazz[0] = entitiesFromCeiling[entitiesFromCeiling.length - 1];                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192             }                                                                                            </span>
<span class="8830932071903098808" onmouseenter="enter('8830932071903098808');" onmouseout="out('8830932071903098808');" style=""> 193         }, RuntimeException.class, !TransactionUtils.isTransactionalEntityManager(em));                  </span>
<span class="-8671307462264439721" onmouseenter="enter('-8671307462264439721');" onmouseout="out('-8671307462264439721');" style=""> 194         return clazz[0];                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195     }                                                                                                    </span>
<span  style=""> 196                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 198     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="-6461650461731494286" onmouseenter="enter('-6461650461731494286');" onmouseout="out('-6461650461731494286');" style=""> 199         return daoHelper.getIdentifier(entity);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200     }                                                                                                    </span>
<span  style=""> 201                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 202     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="4812418208293311036" onmouseenter="enter('4812418208293311036');" onmouseout="out('4812418208293311036');" style=""> 203         return daoHelper.getIdField(clazz);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206     @Override                                                                                            </span>
<span class="1201722705023182309" onmouseenter="enter('1201722705023182309');" onmouseout="out('1201722705023182309');" style=""> 207     public &lt;T&gt; T save(T object) {                                                                        </span>
<span class="4116339568797504316" onmouseenter="enter('4116339568797504316');" onmouseout="out('4116339568797504316');" style=""> 208         return em.merge(object);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209     }                                                                                                    </span>
<span  style=""> 210                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211     @Override                                                                                            </span>
<span class="-2882155670305811420" onmouseenter="enter('-2882155670305811420');" onmouseout="out('-2882155670305811420');" style=""> 212     public void persist(Object object) {                                                                 </span>
<span class="-5377847996594623282" onmouseenter="enter('-5377847996594623282');" onmouseout="out('-5377847996594623282');" style=""> 213         em.persist(object);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="807198547471032850" onmouseenter="enter('807198547471032850');" onmouseout="out('807198547471032850');" style=""> 217     public void remove(Object object) {                                                                  </span>
<span class="8963702453453687507" onmouseenter="enter('8963702453453687507');" onmouseout="out('8963702453453687507');" style=""> 218         em.remove(object);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219     }                                                                                                    </span>
<span  style=""> 220                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 222     public void flush() {                                                                                </span>
<span class="320170061021208937" onmouseenter="enter('320170061021208937');" onmouseout="out('320170061021208937');" style=""> 223         em.flush();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226     @Override                                                                                            </span>
<span class="-220134476549251902" onmouseenter="enter('-220134476549251902');" onmouseout="out('-220134476549251902');" style=""> 227     public void clearAutoFlushMode() {                                                                   </span>
<span class="2763507001208091088" onmouseenter="enter('2763507001208091088');" onmouseout="out('2763507001208091088');" style=""> 228         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.MANUAL);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span  style=""> 230                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231     @Override                                                                                            </span>
<span class="4110842206394504382" onmouseenter="enter('4110842206394504382');" onmouseout="out('4110842206394504382');" style=""> 232     public void enableAutoFlushMode() {                                                                  </span>
<span class="-2845879288108851806" onmouseenter="enter('-2845879288108851806');" onmouseout="out('-2845879288108851806');" style=""> 233         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.AUTO);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234     }                                                                                                    </span>
<span  style=""> 235                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 236     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 237     public void clear() {                                                                                </span>
<span class="-6727296048007049738" onmouseenter="enter('-6727296048007049738');" onmouseout="out('-6727296048007049738');" style=""> 238         em.clear();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241     @Override                                                                                            </span>
<span class="6702166894125392871" onmouseenter="enter('6702166894125392871');" onmouseout="out('6702166894125392871');" style=""> 242     public boolean sessionContains(Object object) {                                                      </span>
<span class="-2654829638606753366" onmouseenter="enter('-2654829638606753366');" onmouseout="out('-2654829638606753366');" style=""> 243         return em.contains(object);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244     }                                                                                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246     @Override                                                                                            </span>
<span class="4063876051124803927" onmouseenter="enter('4063876051124803927');" onmouseout="out('4063876051124803927');" style=""> 247     public boolean idAssigned(Object object) {                                                           </span>
<span class="3098305900129064851" onmouseenter="enter('3098305900129064851');" onmouseout="out('3098305900129064851');" style=""> 248         return getIdentifier(object) != null;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251     @Override                                                                                            </span>
<span class="4956421693817152075" onmouseenter="enter('4956421693817152075');" onmouseout="out('4956421693817152075');" style=""> 252     public EntityManager getEntityManager() {                                                            </span>
<span class="4703819403731835055" onmouseenter="enter('4703819403731835055');" onmouseout="out('4703819403731835055');" style=""> 253         return em;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5795000041850406495" onmouseenter="enter('5795000041850406495');" onmouseout="out('5795000041850406495');" style=""> 256     protected EntityManager getEntityManager(Class clazz) {                                              </span>
<span class="6980901048075094404" onmouseenter="enter('6980901048075094404');" onmouseout="out('6980901048075094404');" style=""> 257         return persistenceService.identifyEntityManager(clazz);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259 }                                                                                                        </span>









</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-887062762474404333" onmouseenter="enter('-887062762474404333');" onmouseout="out('-887062762474404333');" style="">   3  * BroadleafCommerce Profile Web                                                                         </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="2400098715931442912" onmouseenter="enter('2400098715931442912');" onmouseout="out('2400098715931442912');" style="">  18 package org.broadleafcommerce.common.dao;                                                                </span>
<span  style="">  19                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  20 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  21 import java.lang.reflect.Field;                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  22 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  23 import java.util.Map;                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  24 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  25 import javax.persistence.EntityManager;                                                                  </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  26 import javax.persistence.PersistenceContext;                                                             </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  27 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  28 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  29 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  30 import javax.persistence.criteria.Root;                                                                  </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  31 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="4099671973191811713" onmouseenter="enter('4099671973191811713');" onmouseout="out('4099671973191811713');" style="">  32 import org.broadleafcommerce.common.service.PersistenceService;                                          </span>
<span class="4511915058436819747" onmouseenter="enter('4511915058436819747');" onmouseout="out('4511915058436819747');" style="">  33 import org.broadleafcommerce.common.util.HibernateUtils;                                                 </span>
<span class="5712948414688687719" onmouseenter="enter('5712948414688687719');" onmouseout="out('5712948414688687719');" style="">  34 import org.broadleafcommerce.common.util.StreamCapableTransactionalOperationAdapter;                     </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="">  35 import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                </span>
<span class="5107697851223623564" onmouseenter="enter('5107697851223623564');" onmouseout="out('5107697851223623564');" style="">  36 import org.broadleafcommerce.common.util.TransactionUtils;                                               </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  37 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  38 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="3891204800073608559" onmouseenter="enter('3891204800073608559');" onmouseout="out('3891204800073608559');" style="">  39 import org.hibernate.FlushMode;                                                                          </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  40 import org.hibernate.Session;                                                                            </span>
<span class="3988962447386002963" onmouseenter="enter('3988962447386002963');" onmouseout="out('3988962447386002963');" style="">  41 import org.hibernate.type.AbstractSingleColumnStandardBasicType;                                         </span>
<span class="-8772715020166418238" onmouseenter="enter('-8772715020166418238');" onmouseout="out('-8772715020166418238');" style="">  42 import org.hibernate.type.IntegerType;                                                                   </span>
<span class="-2033017758590111124" onmouseenter="enter('-2033017758590111124');" onmouseout="out('-2033017758590111124');" style="">  43 import org.hibernate.type.LongType;                                                                      </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  44 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  45 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  46 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  47 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  48 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  49                                                                                                          </span>
<span  style="">  50                                                                                                          </span>
<span class="1916277593892683476" onmouseenter="enter('1916277593892683476');" onmouseout="out('1916277593892683476');" style="">  51 @Repository(&quot;blGenericEntityDao&quot;)                                                                        </span>
<span class="3689535755843904729" onmouseenter="enter('3689535755843904729');" onmouseout="out('3689535755843904729');" style="">  52 public class GenericEntityDaoImpl implements GenericEntityDao, ApplicationContextAware {                 </span>
<span  style="">  53                                                                                                          </span>
<span class="7860905282700387411" onmouseenter="enter('7860905282700387411');" onmouseout="out('7860905282700387411');" style="">  54     private static ApplicationContext applicationContext;                                                </span>
<span class="2257026348863581646" onmouseenter="enter('2257026348863581646');" onmouseout="out('2257026348863581646');" style="">  55     private static GenericEntityDaoImpl dao;                                                             </span>
<span  style="">  56                                                                                                          </span>
<span class="-7871596380096615886" onmouseenter="enter('-7871596380096615886');" onmouseout="out('-7871596380096615886');" style="">  57     public static GenericEntityDaoImpl getGenericEntityDao() {                                           </span>
<span class="-3590431270060023337" onmouseenter="enter('-3590431270060023337');" onmouseout="out('-3590431270060023337');" style="">  58         if (applicationContext == null) {                                                                </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">  59             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  60         }                                                                                                </span>
<span class="-5487804957327148212" onmouseenter="enter('-5487804957327148212');" onmouseout="out('-5487804957327148212');" style="">  61         if (dao == null) {                                                                               </span>
<span class="-5081121215397937837" onmouseenter="enter('-5081121215397937837');" onmouseout="out('-5081121215397937837');" style="">  62             dao = (GenericEntityDaoImpl) applicationContext.getBean(&quot;blGenericEntityDao&quot;);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63         }                                                                                                </span>
<span class="-8913945871471834180" onmouseenter="enter('-8913945871471834180');" onmouseout="out('-8913945871471834180');" style="">  64         return dao;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65     }                                                                                                    </span>
<span  style="">  66                                                                                                          </span>
<span class="5710637357667853932" onmouseenter="enter('5710637357667853932');" onmouseout="out('5710637357667853932');" style="">  67     @PersistenceContext(unitName = &quot;blPU&quot;)                                                               </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  68     protected EntityManager em;                                                                          </span>
<span  style="">  69                                                                                                          </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="">  70     @Resource(name=&quot;blPersistenceService&quot;)                                                               </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="">  71     protected PersistenceService persistenceService;                                                     </span>
<span  style="">  72                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="">  73     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  74     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  75                                                                                                          </span>
<span class="-386868326691684111" onmouseenter="enter('-386868326691684111');" onmouseout="out('-386868326691684111');" style="">  76     @Resource(name = &quot;blStreamingTransactionCapableUtil&quot;)                                                </span>
<span class="6898400391028559773" onmouseenter="enter('6898400391028559773');" onmouseout="out('6898400391028559773');" style="">  77     protected StreamingTransactionCapableUtil transactionUtil;                                           </span>
<span  style="">  78                                                                                                          </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="">  79     @Resource(name=&quot;blPersistenceService&quot;)                                                               </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="">  80     protected PersistenceService persistenceService;                                                     </span>
<span  style="">  81                                                                                                          </span>
<span class="-3442166288583657578" onmouseenter="enter('-3442166288583657578');" onmouseout="out('-3442166288583657578');" style="">  82     protected DynamicDaoHelperImpl daoHelper = new DynamicDaoHelperImpl();                               </span>
<span  style="">  83                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style="">  85     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style="">  86         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89     @Override                                                                                            </span>
<span class="6637017084473771200" onmouseenter="enter('6637017084473771200');" onmouseout="out('6637017084473771200');" style="">  90     public &lt;T&gt; T readGenericEntity(Class&lt;T&gt; clazz, Object id) {                                          </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="">  91         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span  style="">  92                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">  93 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7835073843020279201" onmouseenter="enter('7835073843020279201');" onmouseout="out('7835073843020279201');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  94         //We need to get PU dynamically to handle cases when class is not in blPU, e.g ScheduledJobImpl  </span>
<span class="-6735648752419506622" onmouseenter="enter('-6735648752419506622');" onmouseout="out('-6735648752419506622');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  95         EntityManager emForClass = getEntityManager(clazz);                                              </span>
<span class="-5276745367785678189" onmouseenter="enter('-5276745367785678189');" onmouseout="out('-5276745367785678189');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  96         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, emForClass);                             </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  97                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  98 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  99 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">  99 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 100 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 101                                                                                                          </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 102         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="-5860375923252958621" onmouseenter="enter('-5860375923252958621');" onmouseout="out('-5860375923252958621');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 103         Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, entityManager);                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 104                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 105 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style=""><abbr title=" 106         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);"> 106         AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;typeðŸ”µ</abbr></span>
<span  style=""> 107                                                                                                          </span>
<span class="-6606906901858066862" onmouseenter="enter('-6606906901858066862');" onmouseout="out('-6606906901858066862');" style=""> 108         if (type instanceof LongType) {                                                                  </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style=""> 109             id = Long.parseLong(String.valueOf(id));                                                     </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style=""> 110         } else if (type instanceof IntegerType) {                                                        </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style=""> 111             id = Integer.parseInt(String.valueOf(id));                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112         }                                                                                                </span>
<span  style=""> 113                                                                                                          </span>
<span  style=""> 114                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 115 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-8992656518113252367" onmouseenter="enter('-8992656518113252367');" onmouseout="out('-8992656518113252367');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 116         return HibernateUtils.deproxy(emForClass.find(clazz, id));                                       </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 117                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 118 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 119 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 119 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 120 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 121                                                                                                          </span>
<span class="-2478345693284185588" onmouseenter="enter('-2478345693284185588');" onmouseout="out('-2478345693284185588');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 122         return entityManager.find(clazz, id);                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 123                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 124 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span  style=""> 126                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127     @Override                                                                                            </span>
<span class="848636086900968927" onmouseenter="enter('848636086900968927');" onmouseout="out('848636086900968927');" style=""> 128     public &lt;T&gt; Long readCountGenericEntity(Class&lt;T&gt; clazz) {                                             </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 129         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-6322797215451671555" onmouseenter="enter('-6322797215451671555');" onmouseout="out('-6322797215451671555');" style=""><abbr title=" 130         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.identifyEntityManager(clazz));"> 130         TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.idenðŸ”µ</abbr></span>
<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style=""> 131         return q.getSingleResult();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134     @Override                                                                                            </span>
<span class="4759429072648873061" onmouseenter="enter('4759429072648873061');" onmouseout="out('4759429072648873061');" style=""> 135     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz, int limit, int offset) {                     </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 136         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 137         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 137         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="-534297258831979327" onmouseenter="enter('-534297258831979327');" onmouseout="out('-534297258831979327');" style=""> 138         q.setMaxResults(limit);                                                                          </span>
<span class="-2587159581738477428" onmouseenter="enter('-2587159581738477428');" onmouseout="out('-2587159581738477428');" style=""> 139         q.setFirstResult(offset);                                                                        </span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 140         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141     }                                                                                                    </span>
<span  style=""> 142                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143     @Override                                                                                            </span>
<span class="6348826799001918207" onmouseenter="enter('6348826799001918207');" onmouseout="out('6348826799001918207');" style=""> 144     public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz) {                                            </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 145         clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);        </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style=""><abbr title=" 146         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 146         TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntiðŸ”µ</abbr></span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 147         return q.getResultList();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148     }                                                                                                    </span>
<span  style=""> 149                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 150     @Override                                                                                            </span>
<span class="-6354552729374820966" onmouseenter="enter('-6354552729374820966');" onmouseout="out('-6354552729374820966');" style=""> 151     public List&lt;Long&gt; readAllGenericEntityId(Class&lt;?&gt; clazz) {                                           </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 152         clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                   </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style=""> 153         EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                   </span>
<span class="8224440578401931361" onmouseenter="enter('8224440578401931361');" onmouseout="out('8224440578401931361');" style=""> 154         CriteriaBuilder builder = entityManager.getCriteriaBuilder();                                    </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 155         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 156         Root root = criteria.from(clazz);                                                                </span>
<span class="-7940352348320507267" onmouseenter="enter('-7940352348320507267');" onmouseout="out('-7940352348320507267');" style=""> 157         criteria.select(root.get(getIdField(clazz).getName()).as(Long.class));                           </span>
<span class="3231803441483426477" onmouseenter="enter('3231803441483426477');" onmouseout="out('3231803441483426477');" style=""> 158         criteria.orderBy(builder.asc(root.get(getIdField(clazz).getName())));                            </span>
<span  style=""> 159                                                                                                          </span>
<span class="1678597917952329656" onmouseenter="enter('1678597917952329656');" onmouseout="out('1678597917952329656');" style=""> 160         return entityManager.createQuery(criteria).getResultList();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161     }                                                                                                    </span>
<span  style=""> 162                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 164     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 165         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 166         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 167             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 168         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 169             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 171         if (clazz == null) {                                                                             </span>
<span class="-8970323639932241165" onmouseenter="enter('-8970323639932241165');" onmouseout="out('-8970323639932241165');" style=""> 172             clazz = getCeilingImplClass(className);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 174         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="5137638886058470839" onmouseenter="enter('5137638886058470839');" onmouseout="out('5137638886058470839');" style=""> 178     public Class&lt;?&gt; getCeilingImplClass(final String className) {                                        </span>
<span class="-6220776680495490001" onmouseenter="enter('-6220776680495490001');" onmouseout="out('-6220776680495490001');" style=""> 179         final Class&lt;?&gt;[] clazz = new Class&lt;?&gt;[1];                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 180         try {                                                                                            </span>
<span class="-2579635473151229094" onmouseenter="enter('-2579635473151229094');" onmouseout="out('-2579635473151229094');" style=""> 181             clazz[0] = Class.forName(className);                                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 182         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 183             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184         }                                                                                                </span>
<span class="-3892088099759962881" onmouseenter="enter('-3892088099759962881');" onmouseout="out('-3892088099759962881');" style=""><abbr title=" 185         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here if one has not already been started."> 185         //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transactiðŸ”µ</abbr></span>
<span class="-1033126161918559345" onmouseenter="enter('-1033126161918559345');" onmouseout="out('-1033126161918559345');" style=""><abbr title=" 186         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter() {"> 186         transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter(ðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187             @Override                                                                                    </span>
<span class="4780654052727038890" onmouseenter="enter('4780654052727038890');" onmouseout="out('4780654052727038890');" style=""> 188             public void execute() throws Throwable {                                                     </span>
<span class="6422493678466467935" onmouseenter="enter('6422493678466467935');" onmouseout="out('6422493678466467935');" style=""><abbr title=" 189                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 189                 Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0],ðŸ”µ</abbr></span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 190                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-5717773141000577469" onmouseenter="enter('-5717773141000577469');" onmouseout="out('-5717773141000577469');" style=""> 191                     clazz[0] = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz[0]); </span>
<span class="373796009563854516" onmouseenter="enter('373796009563854516');" onmouseout="out('373796009563854516');" style=""><abbr title=" 192                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 192                     entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193                 }                                                                                        </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 194                 if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                     </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 195                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 195                     throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementatiðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196                 }                                                                                        </span>
<span class="-517801517861717935" onmouseenter="enter('-517801517861717935');" onmouseout="out('-517801517861717935');" style=""> 197                 clazz[0] = entitiesFromCeiling[entitiesFromCeiling.length - 1];                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198             }                                                                                            </span>
<span class="8830932071903098808" onmouseenter="enter('8830932071903098808');" onmouseout="out('8830932071903098808');" style=""> 199         }, RuntimeException.class, !TransactionUtils.isTransactionalEntityManager(em));                  </span>
<span class="-8671307462264439721" onmouseenter="enter('-8671307462264439721');" onmouseout="out('-8671307462264439721');" style=""> 200         return clazz[0];                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201     }                                                                                                    </span>
<span  style=""> 202                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 204     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="-6461650461731494286" onmouseenter="enter('-6461650461731494286');" onmouseout="out('-6461650461731494286');" style=""> 205         return daoHelper.getIdentifier(entity);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 208     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="4812418208293311036" onmouseenter="enter('4812418208293311036');" onmouseout="out('4812418208293311036');" style=""> 209         return daoHelper.getIdField(clazz);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210     }                                                                                                    </span>
<span  style=""> 211                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 212     @Override                                                                                            </span>
<span class="1201722705023182309" onmouseenter="enter('1201722705023182309');" onmouseout="out('1201722705023182309');" style=""> 213     public &lt;T&gt; T save(T object) {                                                                        </span>
<span class="4116339568797504316" onmouseenter="enter('4116339568797504316');" onmouseout="out('4116339568797504316');" style=""> 214         return em.merge(object);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217     @Override                                                                                            </span>
<span class="-2882155670305811420" onmouseenter="enter('-2882155670305811420');" onmouseout="out('-2882155670305811420');" style=""> 218     public void persist(Object object) {                                                                 </span>
<span class="-5377847996594623282" onmouseenter="enter('-5377847996594623282');" onmouseout="out('-5377847996594623282');" style=""> 219         em.persist(object);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220     }                                                                                                    </span>
<span  style=""> 221                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222     @Override                                                                                            </span>
<span class="807198547471032850" onmouseenter="enter('807198547471032850');" onmouseout="out('807198547471032850');" style=""> 223     public void remove(Object object) {                                                                  </span>
<span class="8963702453453687507" onmouseenter="enter('8963702453453687507');" onmouseout="out('8963702453453687507');" style=""> 224         em.remove(object);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span  style=""> 226                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 227     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 228     public void flush() {                                                                                </span>
<span class="320170061021208937" onmouseenter="enter('320170061021208937');" onmouseout="out('320170061021208937');" style=""> 229         em.flush();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230     }                                                                                                    </span>
<span  style=""> 231                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 232     @Override                                                                                            </span>
<span class="-220134476549251902" onmouseenter="enter('-220134476549251902');" onmouseout="out('-220134476549251902');" style=""> 233     public void clearAutoFlushMode() {                                                                   </span>
<span class="2763507001208091088" onmouseenter="enter('2763507001208091088');" onmouseout="out('2763507001208091088');" style=""> 234         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.MANUAL);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237     @Override                                                                                            </span>
<span class="4110842206394504382" onmouseenter="enter('4110842206394504382');" onmouseout="out('4110842206394504382');" style=""> 238     public void enableAutoFlushMode() {                                                                  </span>
<span class="-2845879288108851806" onmouseenter="enter('-2845879288108851806');" onmouseout="out('-2845879288108851806');" style=""> 239         em.unwrap(Session.class).setHibernateFlushMode(FlushMode.AUTO);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span  style=""> 241                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 243     public void clear() {                                                                                </span>
<span class="-6727296048007049738" onmouseenter="enter('-6727296048007049738');" onmouseout="out('-6727296048007049738');" style=""> 244         em.clear();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247     @Override                                                                                            </span>
<span class="6702166894125392871" onmouseenter="enter('6702166894125392871');" onmouseout="out('6702166894125392871');" style=""> 248     public boolean sessionContains(Object object) {                                                      </span>
<span class="-2654829638606753366" onmouseenter="enter('-2654829638606753366');" onmouseout="out('-2654829638606753366');" style=""> 249         return em.contains(object);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252     @Override                                                                                            </span>
<span class="4063876051124803927" onmouseenter="enter('4063876051124803927');" onmouseout="out('4063876051124803927');" style=""> 253     public boolean idAssigned(Object object) {                                                           </span>
<span class="3098305900129064851" onmouseenter="enter('3098305900129064851');" onmouseout="out('3098305900129064851');" style=""> 254         return getIdentifier(object) != null;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255     }                                                                                                    </span>
<span  style=""> 256                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257     @Override                                                                                            </span>
<span class="4956421693817152075" onmouseenter="enter('4956421693817152075');" onmouseout="out('4956421693817152075');" style=""> 258     public EntityManager getEntityManager() {                                                            </span>
<span class="4703819403731835055" onmouseenter="enter('4703819403731835055');" onmouseout="out('4703819403731835055');" style=""> 259         return em;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="5795000041850406495" onmouseenter="enter('5795000041850406495');" onmouseout="out('5795000041850406495');" style=""> 262     protected EntityManager getEntityManager(Class clazz) {                                              </span>
<span class="6980901048075094404" onmouseenter="enter('6980901048075094404');" onmouseout="out('6980901048075094404');" style=""> 263         return persistenceService.identifyEntityManager(clazz);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265 }                                                                                                        </span>



</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-887062762474404333" onmouseenter="enter('-887062762474404333');" onmouseout="out('-887062762474404333');" style="">   3   * BroadleafCommerce Profile Web                                                                                  </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span  style="">  18                                                                                                                    </span>
<span class="2400098715931442912" onmouseenter="enter('2400098715931442912');" onmouseout="out('2400098715931442912');" style="">  19  package org.broadleafcommerce.common.dao;                                                                         </span>
<span  style="">  20                                                                                                                    </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  21  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="4099671973191811713" onmouseenter="enter('4099671973191811713');" onmouseout="out('4099671973191811713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import org.broadleafcommerce.common.service.PersistenceService;                                                   </span>
<span class="4511915058436819747" onmouseenter="enter('4511915058436819747');" onmouseout="out('4511915058436819747');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import org.broadleafcommerce.common.util.HibernateUtils;                                                          </span>
<span class="5712948414688687719" onmouseenter="enter('5712948414688687719');" onmouseout="out('5712948414688687719');" style="">  24  import org.broadleafcommerce.common.util.StreamCapableTransactionalOperationAdapter;                              </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="">  25  import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                         </span>
<span class="5107697851223623564" onmouseenter="enter('5107697851223623564');" onmouseout="out('5107697851223623564');" style="">  26  import org.broadleafcommerce.common.util.TransactionUtils;                                                        </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  27  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  28  import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                                   </span>
<span class="3891204800073608559" onmouseenter="enter('3891204800073608559');" onmouseout="out('3891204800073608559');" style="">  29  import org.hibernate.FlushMode;                                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  30  import org.hibernate.Session;                                                                                     </span>
<span class="3988962447386002963" onmouseenter="enter('3988962447386002963');" onmouseout="out('3988962447386002963');" style="">  31  import org.hibernate.type.AbstractSingleColumnStandardBasicType;                                                  </span>
<span class="-8772715020166418238" onmouseenter="enter('-8772715020166418238');" onmouseout="out('-8772715020166418238');" style="">  32  import org.hibernate.type.IntegerType;                                                                            </span>
<span class="-2033017758590111124" onmouseenter="enter('-2033017758590111124');" onmouseout="out('-2033017758590111124');" style="">  33  import org.hibernate.type.LongType;                                                                               </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  34  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  35  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  36  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  37  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  38  import org.springframework.stereotype.Repository;                                                                 </span>
<span  style="">  39                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  40  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  41  import java.lang.reflect.Field;                                                                                   </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  43  import java.util.Map;                                                                                             </span>
<span  style="">  44                                                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  45  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  46  import javax.persistence.EntityManager;                                                                           </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  47  import javax.persistence.PersistenceContext;                                                                      </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  48  import javax.persistence.TypedQuery;                                                                              </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  49  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  50  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  51  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  52                                                                                                                    </span>
<span  style="">  53                                                                                                                    </span>
<span class="1916277593892683476" onmouseenter="enter('1916277593892683476');" onmouseout="out('1916277593892683476');" style="">  54  @Repository(&quot;blGenericEntityDao&quot;)                                                                                 </span>
<span class="3689535755843904729" onmouseenter="enter('3689535755843904729');" onmouseout="out('3689535755843904729');" style="">  55  public class GenericEntityDaoImpl implements GenericEntityDao, ApplicationContextAware {                          </span>
<span  style="">  56                                                                                                                    </span>
<span class="7860905282700387411" onmouseenter="enter('7860905282700387411');" onmouseout="out('7860905282700387411');" style="">  57      private static ApplicationContext applicationContext;                                                         </span>
<span class="2257026348863581646" onmouseenter="enter('2257026348863581646');" onmouseout="out('2257026348863581646');" style="">  58      private static GenericEntityDaoImpl dao;                                                                      </span>
<span  style="">  59                                                                                                                    </span>
<span class="-7871596380096615886" onmouseenter="enter('-7871596380096615886');" onmouseout="out('-7871596380096615886');" style="">  60      public static GenericEntityDaoImpl getGenericEntityDao() {                                                    </span>
<span class="-3590431270060023337" onmouseenter="enter('-3590431270060023337');" onmouseout="out('-3590431270060023337');" style="">  61          if (applicationContext == null) {                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">  62              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63          }                                                                                                         </span>
<span class="-5487804957327148212" onmouseenter="enter('-5487804957327148212');" onmouseout="out('-5487804957327148212');" style="">  64          if (dao == null) {                                                                                        </span>
<span class="-5081121215397937837" onmouseenter="enter('-5081121215397937837');" onmouseout="out('-5081121215397937837');" style="">  65              dao = (GenericEntityDaoImpl) applicationContext.getBean(&quot;blGenericEntityDao&quot;);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66          }                                                                                                         </span>
<span class="-8913945871471834180" onmouseenter="enter('-8913945871471834180');" onmouseout="out('-8913945871471834180');" style="">  67          return dao;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68      }                                                                                                             </span>
<span  style="">  69                                                                                                                    </span>
<span class="5710637357667853932" onmouseenter="enter('5710637357667853932');" onmouseout="out('5710637357667853932');" style="">  70      @PersistenceContext(unitName = &quot;blPU&quot;)                                                                        </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  71      protected EntityManager em;                                                                                   </span>
<span  style="">  72                                                                                                                    </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +    @Resource(name=&quot;blPersistenceService&quot;)                                                                        </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +    protected PersistenceService persistenceService;                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +                                                                                                                  </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="">  76      @Resource(name = &quot;blEntityConfiguration&quot;)                                                                     </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  77      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style="">  78                                                                                                                    </span>
<span class="-386868326691684111" onmouseenter="enter('-386868326691684111');" onmouseout="out('-386868326691684111');" style="">  79      @Resource(name = &quot;blStreamingTransactionCapableUtil&quot;)                                                         </span>
<span class="6898400391028559773" onmouseenter="enter('6898400391028559773');" onmouseout="out('6898400391028559773');" style="">  80      protected StreamingTransactionCapableUtil transactionUtil;                                                    </span>
<span  style="">  81                                                                                                                    </span>



<span class="-3442166288583657578" onmouseenter="enter('-3442166288583657578');" onmouseout="out('-3442166288583657578');" style="">  82      protected DynamicDaoHelperImpl daoHelper = new DynamicDaoHelperImpl();                                        </span>
<span  style="">  83                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style="">  85      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style="">  86          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87      }                                                                                                             </span>
<span  style="">  88                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89      @Override                                                                                                     </span>
<span class="6637017084473771200" onmouseenter="enter('6637017084473771200');" onmouseout="out('6637017084473771200');" style="">  90      public &lt;T&gt; T readGenericEntity(Class&lt;T&gt; clazz, Object id) {                                                   </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="">  91          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-6377675840382167631" onmouseenter="enter('-6377675840382167631');" onmouseout="out('-6377675840382167631');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -        Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, em);                                              </span>
<span class="7835073843020279201" onmouseenter="enter('7835073843020279201');" onmouseout="out('7835073843020279201');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +        //We need to get PU dynamically to handle cases when class is not in blPU, e.g ScheduledJobImpl           </span>
<span class="-6735648752419506622" onmouseenter="enter('-6735648752419506622');" onmouseout="out('-6735648752419506622');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +        EntityManager emForClass = getEntityManager(clazz);                                                       </span>
<span class="-5276745367785678189" onmouseenter="enter('-5276745367785678189');" onmouseout="out('-5276745367785678189');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +        Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, emForClass);                                      </span>
<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style="">  96          AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);      </span>
<span  style="">  97                                                                                                                    </span>
<span class="-6606906901858066862" onmouseenter="enter('-6606906901858066862');" onmouseout="out('-6606906901858066862');" style="">  98          if (type instanceof LongType) {                                                                           </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style="">  99              id = Long.parseLong(String.valueOf(id));                                                              </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style=""> 100          } else if (type instanceof IntegerType) {                                                                 </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style=""> 101              id = Integer.parseInt(String.valueOf(id));                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102          }                                                                                                         </span>
<span  style=""> 103                                                                                                                    </span>
<span class="7715083215453944576" onmouseenter="enter('7715083215453944576');" onmouseout="out('7715083215453944576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        return em.find(clazz, id);                                                                                </span>
<span class="-8992656518113252367" onmouseenter="enter('-8992656518113252367');" onmouseout="out('-8992656518113252367');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +        return HibernateUtils.deproxy(emForClass.find(clazz, id));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106      }                                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 108      @Override                                                                                                     </span>
<span class="848636086900968927" onmouseenter="enter('848636086900968927');" onmouseout="out('848636086900968927');" style=""> 109      public &lt;T&gt; Long readCountGenericEntity(Class&lt;T&gt; clazz) {                                                      </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 110          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-7475968927767989672" onmouseenter="enter('-7475968927767989672');" onmouseout="out('-7475968927767989672');" style=""> 111          TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(em);                            </span>

<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style=""> 112          return q.getSingleResult();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115      @Override                                                                                                     </span>
<span class="4759429072648873061" onmouseenter="enter('4759429072648873061');" onmouseout="out('4759429072648873061');" style=""> 116      public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz, int limit, int offset) {                              </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 117          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-5742222317574139429" onmouseenter="enter('-5742222317574139429');" onmouseout="out('-5742222317574139429');" style=""> 118          TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(em);                                    </span>

<span class="-534297258831979327" onmouseenter="enter('-534297258831979327');" onmouseout="out('-534297258831979327');" style=""> 119          q.setMaxResults(limit);                                                                                   </span>
<span class="-2587159581738477428" onmouseenter="enter('-2587159581738477428');" onmouseout="out('-2587159581738477428');" style=""> 120          q.setFirstResult(offset);                                                                                 </span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 121          return q.getResultList();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122      }                                                                                                             </span>
<span  style=""> 123                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124      @Override                                                                                                     </span>
<span class="6348826799001918207" onmouseenter="enter('6348826799001918207');" onmouseout="out('6348826799001918207');" style=""> 125      public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz) {                                                     </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 126          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-5742222317574139429" onmouseenter="enter('-5742222317574139429');" onmouseout="out('-5742222317574139429');" style=""> 127          TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(em);                                    </span>

<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 128          return q.getResultList();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129      }                                                                                                             </span>
<span  style=""> 130                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 131      @Override                                                                                                     </span>
<span class="-6354552729374820966" onmouseenter="enter('-6354552729374820966');" onmouseout="out('-6354552729374820966');" style=""> 132      public List&lt;Long&gt; readAllGenericEntityId(Class&lt;?&gt; clazz) {                                                    </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 133          clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                            </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 134          CriteriaBuilder builder = em.getCriteriaBuilder();                                                        </span>


<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 135          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 136          Root root = criteria.from(clazz);                                                                         </span>
<span class="-7940352348320507267" onmouseenter="enter('-7940352348320507267');" onmouseout="out('-7940352348320507267');" style=""> 137          criteria.select(root.get(getIdField(clazz).getName()).as(Long.class));                                    </span>
<span class="3231803441483426477" onmouseenter="enter('3231803441483426477');" onmouseout="out('3231803441483426477');" style=""> 138          criteria.orderBy(builder.asc(root.get(getIdField(clazz).getName())));                                     </span>
<span  style=""> 139                                                                                                                    </span>
<span class="7772049867867704655" onmouseenter="enter('7772049867867704655');" onmouseout="out('7772049867867704655');" style=""> 140          return em.createQuery(criteria).getResultList();                                                          </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141      }                                                                                                             </span>
<span  style=""> 142                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 144      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 145          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 146          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 147              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 148          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 149              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 151          if (clazz == null) {                                                                                      </span>
<span class="-8970323639932241165" onmouseenter="enter('-8970323639932241165');" onmouseout="out('-8970323639932241165');" style=""> 152              clazz = getCeilingImplClass(className);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 154          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155      }                                                                                                             </span>
<span  style=""> 156                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157      @Override                                                                                                     </span>
<span class="5137638886058470839" onmouseenter="enter('5137638886058470839');" onmouseout="out('5137638886058470839');" style=""> 158      public Class&lt;?&gt; getCeilingImplClass(final String className) {                                                 </span>
<span class="-6220776680495490001" onmouseenter="enter('-6220776680495490001');" onmouseout="out('-6220776680495490001');" style=""> 159          final Class&lt;?&gt;[] clazz = new Class&lt;?&gt;[1];                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 160          try {                                                                                                     </span>
<span class="-2579635473151229094" onmouseenter="enter('-2579635473151229094');" onmouseout="out('-2579635473151229094');" style=""> 161              clazz[0] = Class.forName(className);                                                                  </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 162          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 163              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164          }                                                                                                         </span>
<span class="-3892088099759962881" onmouseenter="enter('-3892088099759962881');" onmouseout="out('-3892088099759962881');" style=""><abbr title=" 165          //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here if one has not already been started."> 165          //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here iðŸ”µ</abbr></span>
<span class="-1033126161918559345" onmouseenter="enter('-1033126161918559345');" onmouseout="out('-1033126161918559345');" style=""> 166          transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167              @Override                                                                                             </span>
<span class="4780654052727038890" onmouseenter="enter('4780654052727038890');" onmouseout="out('4780654052727038890');" style=""> 168              public void execute() throws Throwable {                                                              </span>
<span class="6422493678466467935" onmouseenter="enter('6422493678466467935');" onmouseout="out('6422493678466467935');" style=""><abbr title=" 169                  Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 169                  Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, trðŸ”µ</abbr></span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 170                  if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                              </span>
<span class="-5717773141000577469" onmouseenter="enter('-5717773141000577469');" onmouseout="out('-5717773141000577469');" style=""> 171                      clazz[0] = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz[0]);          </span>
<span class="373796009563854516" onmouseenter="enter('373796009563854516');" onmouseout="out('373796009563854516');" style=""> 172                      entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173                  }                                                                                                 </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 174                  if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                              </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 175                      throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 175                      throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for thðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176                  }                                                                                                 </span>
<span class="-517801517861717935" onmouseenter="enter('-517801517861717935');" onmouseout="out('-517801517861717935');" style=""> 177                  clazz[0] = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178              }                                                                                                     </span>
<span class="8830932071903098808" onmouseenter="enter('8830932071903098808');" onmouseout="out('8830932071903098808');" style=""> 179          }, RuntimeException.class, !TransactionUtils.isTransactionalEntityManager(em));                           </span>
<span class="-8671307462264439721" onmouseenter="enter('-8671307462264439721');" onmouseout="out('-8671307462264439721');" style=""> 180          return clazz[0];                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181      }                                                                                                             </span>
<span  style=""> 182                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 183      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 184      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="-6461650461731494286" onmouseenter="enter('-6461650461731494286');" onmouseout="out('-6461650461731494286');" style=""> 185          return daoHelper.getIdentifier(entity);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186      }                                                                                                             </span>
<span  style=""> 187                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 188      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="4812418208293311036" onmouseenter="enter('4812418208293311036');" onmouseout="out('4812418208293311036');" style=""> 189          return daoHelper.getIdField(clazz);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span  style=""> 191                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192      @Override                                                                                                     </span>
<span class="1201722705023182309" onmouseenter="enter('1201722705023182309');" onmouseout="out('1201722705023182309');" style=""> 193      public &lt;T&gt; T save(T object) {                                                                                 </span>
<span class="4116339568797504316" onmouseenter="enter('4116339568797504316');" onmouseout="out('4116339568797504316');" style=""> 194          return em.merge(object);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195      }                                                                                                             </span>
<span  style=""> 196                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197      @Override                                                                                                     </span>
<span class="-2882155670305811420" onmouseenter="enter('-2882155670305811420');" onmouseout="out('-2882155670305811420');" style=""> 198      public void persist(Object object) {                                                                          </span>
<span class="-5377847996594623282" onmouseenter="enter('-5377847996594623282');" onmouseout="out('-5377847996594623282');" style=""> 199          em.persist(object);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200      }                                                                                                             </span>
<span  style=""> 201                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 202      @Override                                                                                                     </span>
<span class="807198547471032850" onmouseenter="enter('807198547471032850');" onmouseout="out('807198547471032850');" style=""> 203      public void remove(Object object) {                                                                           </span>
<span class="8963702453453687507" onmouseenter="enter('8963702453453687507');" onmouseout="out('8963702453453687507');" style=""> 204          em.remove(object);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205      }                                                                                                             </span>
<span  style=""> 206                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 208      public void flush() {                                                                                         </span>
<span class="320170061021208937" onmouseenter="enter('320170061021208937');" onmouseout="out('320170061021208937');" style=""> 209          em.flush();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210      }                                                                                                             </span>
<span  style=""> 211                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 212      @Override                                                                                                     </span>
<span class="-220134476549251902" onmouseenter="enter('-220134476549251902');" onmouseout="out('-220134476549251902');" style=""> 213      public void clearAutoFlushMode() {                                                                            </span>
<span class="2763507001208091088" onmouseenter="enter('2763507001208091088');" onmouseout="out('2763507001208091088');" style=""> 214          em.unwrap(Session.class).setHibernateFlushMode(FlushMode.MANUAL);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215      }                                                                                                             </span>
<span  style=""> 216                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217      @Override                                                                                                     </span>
<span class="4110842206394504382" onmouseenter="enter('4110842206394504382');" onmouseout="out('4110842206394504382');" style=""> 218      public void enableAutoFlushMode() {                                                                           </span>
<span class="-2845879288108851806" onmouseenter="enter('-2845879288108851806');" onmouseout="out('-2845879288108851806');" style=""> 219          em.unwrap(Session.class).setHibernateFlushMode(FlushMode.AUTO);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 223      public void clear() {                                                                                         </span>
<span class="-6727296048007049738" onmouseenter="enter('-6727296048007049738');" onmouseout="out('-6727296048007049738');" style=""> 224          em.clear();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225      }                                                                                                             </span>
<span  style=""> 226                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 227      @Override                                                                                                     </span>
<span class="6702166894125392871" onmouseenter="enter('6702166894125392871');" onmouseout="out('6702166894125392871');" style=""> 228      public boolean sessionContains(Object object) {                                                               </span>
<span class="-2654829638606753366" onmouseenter="enter('-2654829638606753366');" onmouseout="out('-2654829638606753366');" style=""> 229          return em.contains(object);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230      }                                                                                                             </span>
<span  style=""> 231                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 232      @Override                                                                                                     </span>
<span class="4063876051124803927" onmouseenter="enter('4063876051124803927');" onmouseout="out('4063876051124803927');" style=""> 233      public boolean idAssigned(Object object) {                                                                    </span>
<span class="3098305900129064851" onmouseenter="enter('3098305900129064851');" onmouseout="out('3098305900129064851');" style=""> 234          return getIdentifier(object) != null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235      }                                                                                                             </span>
<span  style=""> 236                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237      @Override                                                                                                     </span>
<span class="4956421693817152075" onmouseenter="enter('4956421693817152075');" onmouseout="out('4956421693817152075');" style=""> 238      public EntityManager getEntityManager() {                                                                     </span>
<span class="4703819403731835055" onmouseenter="enter('4703819403731835055');" onmouseout="out('4703819403731835055');" style=""> 239          return em;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                                                                                                                  </span>
<span class="5795000041850406495" onmouseenter="enter('5795000041850406495');" onmouseout="out('5795000041850406495');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +    protected EntityManager getEntityManager(Class clazz) {                                                       </span>
<span class="6980901048075094404" onmouseenter="enter('6980901048075094404');" onmouseout="out('6980901048075094404');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +        return persistenceService.identifyEntityManager(clazz);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-887062762474404333" onmouseenter="enter('-887062762474404333');" onmouseout="out('-887062762474404333');" style="">   3   * BroadleafCommerce Profile Web                                                                                  </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span  style="">  18                                                                                                                    </span>
<span class="2400098715931442912" onmouseenter="enter('2400098715931442912');" onmouseout="out('2400098715931442912');" style="">  19  package org.broadleafcommerce.common.dao;                                                                         </span>
<span  style="">  20                                                                                                                    </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  21  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="4099671973191811713" onmouseenter="enter('4099671973191811713');" onmouseout="out('4099671973191811713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import org.broadleafcommerce.common.service.PersistenceService;                                                   </span>

<span class="5712948414688687719" onmouseenter="enter('5712948414688687719');" onmouseout="out('5712948414688687719');" style="">  23  import org.broadleafcommerce.common.util.StreamCapableTransactionalOperationAdapter;                              </span>
<span class="3798869978454175791" onmouseenter="enter('3798869978454175791');" onmouseout="out('3798869978454175791');" style="">  24  import org.broadleafcommerce.common.util.StreamingTransactionCapableUtil;                                         </span>
<span class="5107697851223623564" onmouseenter="enter('5107697851223623564');" onmouseout="out('5107697851223623564');" style="">  25  import org.broadleafcommerce.common.util.TransactionUtils;                                                        </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  26  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  27  import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                                   </span>
<span class="3891204800073608559" onmouseenter="enter('3891204800073608559');" onmouseout="out('3891204800073608559');" style="">  28  import org.hibernate.FlushMode;                                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  29  import org.hibernate.Session;                                                                                     </span>
<span class="3988962447386002963" onmouseenter="enter('3988962447386002963');" onmouseout="out('3988962447386002963');" style="">  30  import org.hibernate.type.AbstractSingleColumnStandardBasicType;                                                  </span>
<span class="-8772715020166418238" onmouseenter="enter('-8772715020166418238');" onmouseout="out('-8772715020166418238');" style="">  31  import org.hibernate.type.IntegerType;                                                                            </span>
<span class="-2033017758590111124" onmouseenter="enter('-2033017758590111124');" onmouseout="out('-2033017758590111124');" style="">  32  import org.hibernate.type.LongType;                                                                               </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  33  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  34  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  35  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  36  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  37  import org.springframework.stereotype.Repository;                                                                 </span>
<span  style="">  38                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  39  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  40  import java.lang.reflect.Field;                                                                                   </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  41  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  42  import java.util.Map;                                                                                             </span>
<span  style="">  43                                                                                                                    </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  44  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  45  import javax.persistence.EntityManager;                                                                           </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  46  import javax.persistence.PersistenceContext;                                                                      </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  47  import javax.persistence.TypedQuery;                                                                              </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  48  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  49  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  50  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  51                                                                                                                    </span>
<span  style="">  52                                                                                                                    </span>
<span class="1916277593892683476" onmouseenter="enter('1916277593892683476');" onmouseout="out('1916277593892683476');" style="">  53  @Repository(&quot;blGenericEntityDao&quot;)                                                                                 </span>
<span class="3689535755843904729" onmouseenter="enter('3689535755843904729');" onmouseout="out('3689535755843904729');" style="">  54  public class GenericEntityDaoImpl implements GenericEntityDao, ApplicationContextAware {                          </span>
<span  style="">  55                                                                                                                    </span>
<span class="7860905282700387411" onmouseenter="enter('7860905282700387411');" onmouseout="out('7860905282700387411');" style="">  56      private static ApplicationContext applicationContext;                                                         </span>
<span class="2257026348863581646" onmouseenter="enter('2257026348863581646');" onmouseout="out('2257026348863581646');" style="">  57      private static GenericEntityDaoImpl dao;                                                                      </span>
<span  style="">  58                                                                                                                    </span>
<span class="-7871596380096615886" onmouseenter="enter('-7871596380096615886');" onmouseout="out('-7871596380096615886');" style="">  59      public static GenericEntityDaoImpl getGenericEntityDao() {                                                    </span>
<span class="-3590431270060023337" onmouseenter="enter('-3590431270060023337');" onmouseout="out('-3590431270060023337');" style="">  60          if (applicationContext == null) {                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">  61              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  62          }                                                                                                         </span>
<span class="-5487804957327148212" onmouseenter="enter('-5487804957327148212');" onmouseout="out('-5487804957327148212');" style="">  63          if (dao == null) {                                                                                        </span>
<span class="-5081121215397937837" onmouseenter="enter('-5081121215397937837');" onmouseout="out('-5081121215397937837');" style="">  64              dao = (GenericEntityDaoImpl) applicationContext.getBean(&quot;blGenericEntityDao&quot;);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65          }                                                                                                         </span>
<span class="-8913945871471834180" onmouseenter="enter('-8913945871471834180');" onmouseout="out('-8913945871471834180');" style="">  66          return dao;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67      }                                                                                                             </span>
<span  style="">  68                                                                                                                    </span>
<span class="5710637357667853932" onmouseenter="enter('5710637357667853932');" onmouseout="out('5710637357667853932');" style="">  69      @PersistenceContext(unitName = &quot;blPU&quot;)                                                                        </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  70      protected EntityManager em;                                                                                   </span>
<span  style="">  71                                                                                                                    </span>



<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style="">  72      @Resource(name = &quot;blEntityConfiguration&quot;)                                                                     </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  73      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style="">  74                                                                                                                    </span>
<span class="-386868326691684111" onmouseenter="enter('-386868326691684111');" onmouseout="out('-386868326691684111');" style="">  75      @Resource(name = &quot;blStreamingTransactionCapableUtil&quot;)                                                         </span>
<span class="6898400391028559773" onmouseenter="enter('6898400391028559773');" onmouseout="out('6898400391028559773');" style="">  76      protected StreamingTransactionCapableUtil transactionUtil;                                                    </span>
<span  style="">  77                                                                                                                    </span>
<span class="7407745375721214881" onmouseenter="enter('7407745375721214881');" onmouseout="out('7407745375721214881');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +    @Resource(name=&quot;blPersistenceService&quot;)                                                                        </span>
<span class="7087036963581087827" onmouseenter="enter('7087036963581087827');" onmouseout="out('7087036963581087827');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +    protected PersistenceService persistenceService;                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +                                                                                                                  </span>
<span class="-3442166288583657578" onmouseenter="enter('-3442166288583657578');" onmouseout="out('-3442166288583657578');" style="">  81      protected DynamicDaoHelperImpl daoHelper = new DynamicDaoHelperImpl();                                        </span>
<span  style="">  82                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  83      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style="">  84      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style="">  85          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86      }                                                                                                             </span>
<span  style="">  87                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88      @Override                                                                                                     </span>
<span class="6637017084473771200" onmouseenter="enter('6637017084473771200');" onmouseout="out('6637017084473771200');" style="">  89      public &lt;T&gt; T readGenericEntity(Class&lt;T&gt; clazz, Object id) {                                                   </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style="">  90          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-6377675840382167631" onmouseenter="enter('-6377675840382167631');" onmouseout="out('-6377675840382167631');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -        Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, em);                                              </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +        EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                            </span>
<span class="-5860375923252958621" onmouseenter="enter('-5860375923252958621');" onmouseout="out('-5860375923252958621');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +        Map&lt;String, Object&gt; md = daoHelper.getIdMetadata(clazz, entityManager);                                   </span>

<span class="7723925995210526905" onmouseenter="enter('7723925995210526905');" onmouseout="out('7723925995210526905');" style="">  94          AbstractSingleColumnStandardBasicType type = (AbstractSingleColumnStandardBasicType) md.get(&quot;type&quot;);      </span>
<span  style="">  95                                                                                                                    </span>
<span class="-6606906901858066862" onmouseenter="enter('-6606906901858066862');" onmouseout="out('-6606906901858066862');" style="">  96          if (type instanceof LongType) {                                                                           </span>
<span class="-5659736566107278244" onmouseenter="enter('-5659736566107278244');" onmouseout="out('-5659736566107278244');" style="">  97              id = Long.parseLong(String.valueOf(id));                                                              </span>
<span class="-1401656342737547431" onmouseenter="enter('-1401656342737547431');" onmouseout="out('-1401656342737547431');" style="">  98          } else if (type instanceof IntegerType) {                                                                 </span>
<span class="8157886581710580173" onmouseenter="enter('8157886581710580173');" onmouseout="out('8157886581710580173');" style="">  99              id = Integer.parseInt(String.valueOf(id));                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100          }                                                                                                         </span>
<span  style=""> 101                                                                                                                    </span>
<span class="7715083215453944576" onmouseenter="enter('7715083215453944576');" onmouseout="out('7715083215453944576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -        return em.find(clazz, id);                                                                                </span>
<span class="-2478345693284185588" onmouseenter="enter('-2478345693284185588');" onmouseout="out('-2478345693284185588');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +        return entityManager.find(clazz, id);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104      }                                                                                                             </span>
<span  style=""> 105                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 106      @Override                                                                                                     </span>
<span class="848636086900968927" onmouseenter="enter('848636086900968927');" onmouseout="out('848636086900968927');" style=""> 107      public &lt;T&gt; Long readCountGenericEntity(Class&lt;T&gt; clazz) {                                                      </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 108          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-7475968927767989672" onmouseenter="enter('-7475968927767989672');" onmouseout="out('-7475968927767989672');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -        TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(em);                            </span>
<span class="-6322797215451671555" onmouseenter="enter('-6322797215451671555');" onmouseout="out('-6322797215451671555');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 110 +        TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.identifyEntityManager(clazz));"> 110 +        TypedQuery&lt;Long&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toCountQuery(persistenceService.identifyEntitðŸ”µ</abbr></span>
<span class="-1716164507769512307" onmouseenter="enter('-1716164507769512307');" onmouseout="out('-1716164507769512307');" style=""> 111          return q.getSingleResult();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112      }                                                                                                             </span>
<span  style=""> 113                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 114      @Override                                                                                                     </span>
<span class="4759429072648873061" onmouseenter="enter('4759429072648873061');" onmouseout="out('4759429072648873061');" style=""> 115      public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz, int limit, int offset) {                              </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 116          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-5742222317574139429" onmouseenter="enter('-5742222317574139429');" onmouseout="out('-5742222317574139429');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 117 -        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(em);                                    </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 118 +        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 118 +        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManagerðŸ”µ</abbr></span>
<span class="-534297258831979327" onmouseenter="enter('-534297258831979327');" onmouseout="out('-534297258831979327');" style=""> 119          q.setMaxResults(limit);                                                                                   </span>
<span class="-2587159581738477428" onmouseenter="enter('-2587159581738477428');" onmouseout="out('-2587159581738477428');" style=""> 120          q.setFirstResult(offset);                                                                                 </span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 121          return q.getResultList();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122      }                                                                                                             </span>
<span  style=""> 123                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124      @Override                                                                                                     </span>
<span class="6348826799001918207" onmouseenter="enter('6348826799001918207');" onmouseout="out('6348826799001918207');" style=""> 125      public &lt;T&gt; List&lt;T&gt; readAllGenericEntity(Class&lt;T&gt; clazz) {                                                     </span>
<span class="6422154868566910001" onmouseenter="enter('6422154868566910001');" onmouseout="out('6422154868566910001');" style=""> 126          clazz = (Class&lt;T&gt;) DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                 </span>
<span class="-5742222317574139429" onmouseenter="enter('-5742222317574139429');" onmouseout="out('-5742222317574139429');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 127 -        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(em);                                    </span>
<span class="-2588230721660063444" onmouseenter="enter('-2588230721660063444');" onmouseout="out('-2588230721660063444');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 128 +        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManager(clazz));"> 128 +        TypedQuery&lt;T&gt; q = new TypedQueryBuilder&lt;T&gt;(clazz, &quot;root&quot;).toQuery(persistenceService.identifyEntityManagerðŸ”µ</abbr></span>
<span class="6647912449395506369" onmouseenter="enter('6647912449395506369');" onmouseout="out('6647912449395506369');" style=""> 129          return q.getResultList();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130      }                                                                                                             </span>
<span  style=""> 131                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132      @Override                                                                                                     </span>
<span class="-6354552729374820966" onmouseenter="enter('-6354552729374820966');" onmouseout="out('-6354552729374820966');" style=""> 133      public List&lt;Long&gt; readAllGenericEntityId(Class&lt;?&gt; clazz) {                                                    </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 134          clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                            </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -        CriteriaBuilder builder = em.getCriteriaBuilder();                                                        </span>
<span class="-4064572839011232558" onmouseenter="enter('-4064572839011232558');" onmouseout="out('-4064572839011232558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +        EntityManager entityManager = persistenceService.identifyEntityManager(clazz);                            </span>
<span class="8224440578401931361" onmouseenter="enter('8224440578401931361');" onmouseout="out('8224440578401931361');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +        CriteriaBuilder builder = entityManager.getCriteriaBuilder();                                             </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 138          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 139          Root root = criteria.from(clazz);                                                                         </span>
<span class="-7940352348320507267" onmouseenter="enter('-7940352348320507267');" onmouseout="out('-7940352348320507267');" style=""> 140          criteria.select(root.get(getIdField(clazz).getName()).as(Long.class));                                    </span>
<span class="3231803441483426477" onmouseenter="enter('3231803441483426477');" onmouseout="out('3231803441483426477');" style=""> 141          criteria.orderBy(builder.asc(root.get(getIdField(clazz).getName())));                                     </span>
<span  style=""> 142                                                                                                                    </span>
<span class="7772049867867704655" onmouseenter="enter('7772049867867704655');" onmouseout="out('7772049867867704655');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -        return em.createQuery(criteria).getResultList();                                                          </span>
<span class="1678597917952329656" onmouseenter="enter('1678597917952329656');" onmouseout="out('1678597917952329656');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +        return entityManager.createQuery(criteria).getResultList();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145      }                                                                                                             </span>
<span  style=""> 146                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 147      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 148      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 149          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 150          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 151              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 152          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 153              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 155          if (clazz == null) {                                                                                      </span>
<span class="-8970323639932241165" onmouseenter="enter('-8970323639932241165');" onmouseout="out('-8970323639932241165');" style=""> 156              clazz = getCeilingImplClass(className);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 158          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="5137638886058470839" onmouseenter="enter('5137638886058470839');" onmouseout="out('5137638886058470839');" style=""> 162      public Class&lt;?&gt; getCeilingImplClass(final String className) {                                                 </span>
<span class="-6220776680495490001" onmouseenter="enter('-6220776680495490001');" onmouseout="out('-6220776680495490001');" style=""> 163          final Class&lt;?&gt;[] clazz = new Class&lt;?&gt;[1];                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 164          try {                                                                                                     </span>
<span class="-2579635473151229094" onmouseenter="enter('-2579635473151229094');" onmouseout="out('-2579635473151229094');" style=""> 165              clazz[0] = Class.forName(className);                                                                  </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 166          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 167              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168          }                                                                                                         </span>
<span class="-3892088099759962881" onmouseenter="enter('-3892088099759962881');" onmouseout="out('-3892088099759962881');" style=""><abbr title=" 169          //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here if one has not already been started."> 169          //em.unwrap requires a transactional entity manager. We&#x27;ll only take the hit to start a transaction here iðŸ”µ</abbr></span>
<span class="-1033126161918559345" onmouseenter="enter('-1033126161918559345');" onmouseout="out('-1033126161918559345');" style=""> 170          transactionUtil.runOptionalTransactionalOperation(new StreamCapableTransactionalOperationAdapter() {      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171              @Override                                                                                             </span>
<span class="4780654052727038890" onmouseenter="enter('4780654052727038890');" onmouseout="out('4780654052727038890');" style=""> 172              public void execute() throws Throwable {                                                              </span>
<span class="6422493678466467935" onmouseenter="enter('6422493678466467935');" onmouseout="out('6422493678466467935');" style=""><abbr title=" 173                  Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);"> 173                  Class&lt;?&gt;[] entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, trðŸ”µ</abbr></span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 174                  if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                              </span>
<span class="-5717773141000577469" onmouseenter="enter('-5717773141000577469');" onmouseout="out('-5717773141000577469');" style=""> 175                      clazz[0] = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz[0]);          </span>
<span class="373796009563854516" onmouseenter="enter('373796009563854516');" onmouseout="out('373796009563854516');" style=""> 176                      entitiesFromCeiling = daoHelper.getAllPolymorphicEntitiesFromCeiling(clazz[0], true, true);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177                  }                                                                                                 </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 178                  if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                              </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 179                      throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 179                      throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for thðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180                  }                                                                                                 </span>
<span class="-517801517861717935" onmouseenter="enter('-517801517861717935');" onmouseout="out('-517801517861717935');" style=""> 181                  clazz[0] = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182              }                                                                                                     </span>
<span class="8830932071903098808" onmouseenter="enter('8830932071903098808');" onmouseout="out('8830932071903098808');" style=""> 183          }, RuntimeException.class, !TransactionUtils.isTransactionalEntityManager(em));                           </span>
<span class="-8671307462264439721" onmouseenter="enter('-8671307462264439721');" onmouseout="out('-8671307462264439721');" style=""> 184          return clazz[0];                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185      }                                                                                                             </span>
<span  style=""> 186                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 188      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="-6461650461731494286" onmouseenter="enter('-6461650461731494286');" onmouseout="out('-6461650461731494286');" style=""> 189          return daoHelper.getIdentifier(entity);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span  style=""> 191                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 192      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="4812418208293311036" onmouseenter="enter('4812418208293311036');" onmouseout="out('4812418208293311036');" style=""> 193          return daoHelper.getIdField(clazz);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="1201722705023182309" onmouseenter="enter('1201722705023182309');" onmouseout="out('1201722705023182309');" style=""> 197      public &lt;T&gt; T save(T object) {                                                                                 </span>
<span class="4116339568797504316" onmouseenter="enter('4116339568797504316');" onmouseout="out('4116339568797504316');" style=""> 198          return em.merge(object);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 201      @Override                                                                                                     </span>
<span class="-2882155670305811420" onmouseenter="enter('-2882155670305811420');" onmouseout="out('-2882155670305811420');" style=""> 202      public void persist(Object object) {                                                                          </span>
<span class="-5377847996594623282" onmouseenter="enter('-5377847996594623282');" onmouseout="out('-5377847996594623282');" style=""> 203          em.persist(object);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span  style=""> 205                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206      @Override                                                                                                     </span>
<span class="807198547471032850" onmouseenter="enter('807198547471032850');" onmouseout="out('807198547471032850');" style=""> 207      public void remove(Object object) {                                                                           </span>
<span class="8963702453453687507" onmouseenter="enter('8963702453453687507');" onmouseout="out('8963702453453687507');" style=""> 208          em.remove(object);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209      }                                                                                                             </span>
<span  style=""> 210                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 212      public void flush() {                                                                                         </span>
<span class="320170061021208937" onmouseenter="enter('320170061021208937');" onmouseout="out('320170061021208937');" style=""> 213          em.flush();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214      }                                                                                                             </span>
<span  style=""> 215                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216      @Override                                                                                                     </span>
<span class="-220134476549251902" onmouseenter="enter('-220134476549251902');" onmouseout="out('-220134476549251902');" style=""> 217      public void clearAutoFlushMode() {                                                                            </span>
<span class="2763507001208091088" onmouseenter="enter('2763507001208091088');" onmouseout="out('2763507001208091088');" style=""> 218          em.unwrap(Session.class).setHibernateFlushMode(FlushMode.MANUAL);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219      }                                                                                                             </span>
<span  style=""> 220                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221      @Override                                                                                                     </span>
<span class="4110842206394504382" onmouseenter="enter('4110842206394504382');" onmouseout="out('4110842206394504382');" style=""> 222      public void enableAutoFlushMode() {                                                                           </span>
<span class="-2845879288108851806" onmouseenter="enter('-2845879288108851806');" onmouseout="out('-2845879288108851806');" style=""> 223          em.unwrap(Session.class).setHibernateFlushMode(FlushMode.AUTO);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224      }                                                                                                             </span>
<span  style=""> 225                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 227      public void clear() {                                                                                         </span>
<span class="-6727296048007049738" onmouseenter="enter('-6727296048007049738');" onmouseout="out('-6727296048007049738');" style=""> 228          em.clear();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span  style=""> 230                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231      @Override                                                                                                     </span>
<span class="6702166894125392871" onmouseenter="enter('6702166894125392871');" onmouseout="out('6702166894125392871');" style=""> 232      public boolean sessionContains(Object object) {                                                               </span>
<span class="-2654829638606753366" onmouseenter="enter('-2654829638606753366');" onmouseout="out('-2654829638606753366');" style=""> 233          return em.contains(object);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234      }                                                                                                             </span>
<span  style=""> 235                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 236      @Override                                                                                                     </span>
<span class="4063876051124803927" onmouseenter="enter('4063876051124803927');" onmouseout="out('4063876051124803927');" style=""> 237      public boolean idAssigned(Object object) {                                                                    </span>
<span class="3098305900129064851" onmouseenter="enter('3098305900129064851');" onmouseout="out('3098305900129064851');" style=""> 238          return getIdentifier(object) != null;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239      }                                                                                                             </span>
<span  style=""> 240                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241      @Override                                                                                                     </span>
<span class="4956421693817152075" onmouseenter="enter('4956421693817152075');" onmouseout="out('4956421693817152075');" style=""> 242      public EntityManager getEntityManager() {                                                                     </span>
<span class="4703819403731835055" onmouseenter="enter('4703819403731835055');" onmouseout="out('4703819403731835055');" style=""> 243          return em;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244      }                                                                                                             </span>




<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            