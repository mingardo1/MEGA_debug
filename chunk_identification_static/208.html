<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>208</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    208
                    <a href="207.html">prev</a>
                    <a href="209.html">next</a>
                    <a href="208_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_47fec386683d4f12911413ae693bacd60e1538d7_core/broadleaf-framework/src/main/java/org/broadleafcommerce/core/catalog/dao/CategoryDaoImpl.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7:core/broadleaf-framework/src/main/java/org/broadleafcommerce/core/catalog/dao/CategoryDaoImpl.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7^1:core/broadleaf-framework/src/main/java/org/broadleafcommerce/core/catalog/dao/CategoryDaoImpl.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;47fec386683d4f12911413ae693bacd60e1538d7^2:core/broadleaf-framework/src/main/java/org/broadleafcommerce/core/catalog/dao/CategoryDaoImpl.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;a996923be2b09711d11d2a5df4df667dc9a00b19:core/broadleaf-framework/src/main/java/org/broadleafcommerce/core/catalog/dao/CategoryDaoImpl.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-5062573030309236877" onmouseenter="enter('-5062573030309236877');" onmouseout="out('-5062573030309236877');" style="">   3  * BroadleafCommerce Framework                                                                           </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="1649369238998064692" onmouseenter="enter('1649369238998064692');" onmouseout="out('1649369238998064692');" style="">  18 package org.broadleafcommerce.core.catalog.dao;                                                          </span>
<span  style="">  19                                                                                                          </span>
<span class="-7911969485500261220" onmouseenter="enter('-7911969485500261220');" onmouseout="out('-7911969485500261220');" style="">  20 import org.broadleafcommerce.common.extension.ExtensionResultHolder;                                     </span>
<span class="-8339254235515724670" onmouseenter="enter('-8339254235515724670');" onmouseout="out('-8339254235515724670');" style="">  21 import org.broadleafcommerce.common.extension.ExtensionResultStatusType;                                 </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  22 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  23 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="-2818686525334833130" onmouseenter="enter('-2818686525334833130');" onmouseout="out('-2818686525334833130');" style="">  24 import org.broadleafcommerce.common.sandbox.SandBoxHelper;                                               </span>
<span class="1373992879208813777" onmouseenter="enter('1373992879208813777');" onmouseout="out('1373992879208813777');" style="">  25 import org.broadleafcommerce.common.time.SystemTime;                                                     </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  26 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="-684463979217480005" onmouseenter="enter('-684463979217480005');" onmouseout="out('-684463979217480005');" style="">  27 import org.broadleafcommerce.core.catalog.domain.Category;                                               </span>
<span class="4115133761608674822" onmouseenter="enter('4115133761608674822');" onmouseout="out('4115133761608674822');" style="">  28 import org.broadleafcommerce.core.catalog.domain.CategoryImpl;                                           </span>
<span class="425392860705941540" onmouseenter="enter('425392860705941540');" onmouseout="out('425392860705941540');" style="">  29 import org.broadleafcommerce.core.catalog.domain.Product;                                                </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  30 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-85811185251521902" onmouseenter="enter('-85811185251521902');" onmouseout="out('-85811185251521902');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31 import org.broadleafcommerce.core.catalog.domain.ProductImpl;                                            </span>
<span class="-1670062540256016456" onmouseenter="enter('-1670062540256016456');" onmouseout="out('-1670062540256016456');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32 import org.hibernate.jpa.QueryHints;                                                                     </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  33 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-85811185251521902" onmouseenter="enter('-85811185251521902');" onmouseout="out('-85811185251521902');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import org.broadleafcommerce.core.catalog.domain.ProductImpl;                                            </span>
<span class="-6828803720731431718" onmouseenter="enter('-6828803720731431718');" onmouseout="out('-6828803720731431718');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import org.hibernate.ejb.QueryHints;                                                                     </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  36 =======                                                                                                  </span>
<span class="-6828803720731431718" onmouseenter="enter('-6828803720731431718');" onmouseout="out('-6828803720731431718');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  37 import org.hibernate.ejb.QueryHints;                                                                     </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  38 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  39 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  40                                                                                                          </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  41 import java.util.Date;                                                                                   </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42 import java.util.List;                                                                                   </span>
<span  style="">  43                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  44 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  45 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  46 import javax.persistence.EntityManager;                                                                  </span>
<span class="-2473428574971545300" onmouseenter="enter('-2473428574971545300');" onmouseout="out('-2473428574971545300');" style="">  47 import javax.persistence.NoResultException;                                                              </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  48 import javax.persistence.PersistenceContext;                                                             </span>
<span class="2825707167313657836" onmouseenter="enter('2825707167313657836');" onmouseout="out('2825707167313657836');" style="">  49 import javax.persistence.Query;                                                                          </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  50 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  51 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  52 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span  style="">  53                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  54 /**                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  55  *                                                                                                       </span>
<span class="-7311139588847938491" onmouseenter="enter('-7311139588847938491');" onmouseout="out('-7311139588847938491');" style="">  56  * @author Jeff Fischer                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  57  */                                                                                                      </span>
<span class="6538087147450552080" onmouseenter="enter('6538087147450552080');" onmouseout="out('6538087147450552080');" style="">  58 @Repository(&quot;blCategoryDao&quot;)                                                                             </span>
<span class="-7377789269320432791" onmouseenter="enter('-7377789269320432791');" onmouseout="out('-7377789269320432791');" style="">  59 public class CategoryDaoImpl implements CategoryDao {                                                    </span>
<span  style="">  60                                                                                                          </span>
<span class="7826517811365870180" onmouseenter="enter('7826517811365870180');" onmouseout="out('7826517811365870180');" style="">  61     protected Long currentDateResolution = 10000L;                                                       </span>
<span class="-3015759496674095868" onmouseenter="enter('-3015759496674095868');" onmouseout="out('-3015759496674095868');" style="">  62     protected Date cachedDate = SystemTime.asDate();                                                     </span>
<span  style="">  63                                                                                                          </span>
<span class="-1267510524885549695" onmouseenter="enter('-1267510524885549695');" onmouseout="out('-1267510524885549695');" style="">  64     protected Date getCurrentDateAfterFactoringInDateResolution() {                                      </span>
<span class="7456092887221268123" onmouseenter="enter('7456092887221268123');" onmouseout="out('7456092887221268123');" style=""><abbr title="  65         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolution());">  65         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolutðŸ”µ</abbr></span>
<span class="-701896352794694369" onmouseenter="enter('-701896352794694369');" onmouseout="out('-701896352794694369');" style="">  66         if (returnDate != cachedDate) {                                                                  </span>
<span class="5100208720017764216" onmouseenter="enter('5100208720017764216');" onmouseout="out('5100208720017764216');" style="">  67             if (SystemTime.shouldCacheDate()) {                                                          </span>
<span class="-2842817032367762030" onmouseenter="enter('-2842817032367762030');" onmouseout="out('-2842817032367762030');" style="">  68                 cachedDate = returnDate;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70         }                                                                                                </span>
<span class="8495881565272727908" onmouseenter="enter('8495881565272727908');" onmouseout="out('8495881565272727908');" style="">  71         return returnDate;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72     }                                                                                                    </span>
<span  style="">  73                                                                                                          </span>
<span class="-4259734795637808055" onmouseenter="enter('-4259734795637808055');" onmouseout="out('-4259734795637808055');" style="">  74     @PersistenceContext(unitName=&quot;blPU&quot;)                                                                 </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  75     protected EntityManager em;                                                                          </span>
<span  style="">  76                                                                                                          </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="">  77     @Resource(name=&quot;blEntityConfiguration&quot;)                                                              </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  78     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  79                                                                                                          </span>
<span class="-3946461589801993391" onmouseenter="enter('-3946461589801993391');" onmouseout="out('-3946461589801993391');" style="">  80     @Resource(name = &quot;blSandBoxHelper&quot;)                                                                  </span>
<span class="-7799183597372200632" onmouseenter="enter('-7799183597372200632');" onmouseout="out('-7799183597372200632');" style="">  81     protected SandBoxHelper sandBoxHelper;                                                               </span>
<span  style="">  82                                                                                                          </span>
<span class="-1977724902777907991" onmouseenter="enter('-1977724902777907991');" onmouseout="out('-1977724902777907991');" style="">  83     @Resource(name = &quot;blCategoryDaoExtensionManager&quot;)                                                    </span>
<span class="-2565316811317482904" onmouseenter="enter('-2565316811317482904');" onmouseout="out('-2565316811317482904');" style="">  84     protected CategoryDaoExtensionManager extensionManager;                                              </span>
<span  style="">  85                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86     @Override                                                                                            </span>
<span class="3708268787070951967" onmouseenter="enter('3708268787070951967');" onmouseout="out('3708268787070951967');" style="">  87     public Category save(Category category) {                                                            </span>
<span class="-5534825090018364028" onmouseenter="enter('-5534825090018364028');" onmouseout="out('-5534825090018364028');" style="">  88         return em.merge(category);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89     }                                                                                                    </span>
<span  style="">  90                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  91     @Override                                                                                            </span>
<span class="7629584939279473543" onmouseenter="enter('7629584939279473543');" onmouseout="out('7629584939279473543');" style="">  92     public Category readCategoryById(Long categoryId) {                                                  </span>
<span class="-5264737980240746914" onmouseenter="enter('-5264737980240746914');" onmouseout="out('-5264737980240746914');" style="">  93         return em.find(CategoryImpl.class, categoryId);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94     }                                                                                                    </span>
<span  style="">  95                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  96     @Override                                                                                            </span>
<span class="-2734878980042286667" onmouseenter="enter('-2734878980042286667');" onmouseout="out('-2734878980042286667');" style="">  97     public List&lt;Category&gt; readCategoriesByIds(List&lt;Long&gt; categoryIds) {                                  </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style="">  98         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style="">  99                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="8492196872460237252" onmouseenter="enter('8492196872460237252');" onmouseout="out('8492196872460237252');" style=""> 100                         + &quot;where category.id in :ids&quot;,                                                   </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 101                 Category.class);                                                                         </span>
<span class="-9071990595145503125" onmouseenter="enter('-9071990595145503125');" onmouseout="out('-9071990595145503125');" style=""> 102         query.setParameter(&quot;ids&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class,                        </span>
<span class="4557980810072534004" onmouseenter="enter('4557980810072534004');" onmouseout="out('4557980810072534004');" style=""> 103                 categoryIds.toArray(new Long[categoryIds.size()])));                                     </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 104         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 105         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 106                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 107         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108     }                                                                                                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 110     @Override                                                                                            </span>
<span class="6372790553455555099" onmouseenter="enter('6372790553455555099');" onmouseout="out('6372790553455555099');" style=""> 111     public Category readCategoryByExternalId(@Nonnull String externalId) {                               </span>
<span class="-8177601870096522202" onmouseenter="enter('-8177601870096522202');" onmouseout="out('-8177601870096522202');" style=""> 112         TypedQuery&lt;Category&gt; query = new TypedQueryBuilder&lt;Category&gt;(Category.class, &quot;cat&quot;)              </span>
<span class="6235972726248107838" onmouseenter="enter('6235972726248107838');" onmouseout="out('6235972726248107838');" style=""> 113                 .addRestriction(&quot;cat.externalId&quot;, &quot;=&quot;, externalId)                                       </span>
<span class="-7189622533419316302" onmouseenter="enter('-7189622533419316302');" onmouseout="out('-7189622533419316302');" style=""> 114                 .toQuery(em);                                                                            </span>
<span  style=""> 115                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 116         try {                                                                                            </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 117             return query.getSingleResult();                                                              </span>
<span class="-1897366143479758132" onmouseenter="enter('-1897366143479758132');" onmouseout="out('-1897366143479758132');" style=""> 118         } catch (NoResultException e) {                                                                  </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 119             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 123     @Override                                                                                            </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 124     @Deprecated                                                                                          </span>
<span class="1330252346125288431" onmouseenter="enter('1330252346125288431');" onmouseout="out('1330252346125288431');" style=""> 125     public Category readCategoryByName(String categoryName) {                                            </span>
<span class="4490784415613551923" onmouseenter="enter('4490784415613551923');" onmouseout="out('4490784415613551923');" style=""> 126         Query query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;);                                   </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 127         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 128         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 129         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="9215301334629248201" onmouseenter="enter('9215301334629248201');" onmouseout="out('9215301334629248201');" style=""> 130         return (Category) query.getSingleResult();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133     @Override                                                                                            </span>
<span class="-7861596550314441722" onmouseenter="enter('-7861596550314441722');" onmouseout="out('-7861596550314441722');" style=""> 134     public List&lt;Category&gt; readCategoriesByName(String categoryName) {                                    </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 135         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 136         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 137         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 138         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 139         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140     }                                                                                                    </span>
<span  style=""> 141                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 142     @Override                                                                                            </span>
<span class="-3733083089318223050" onmouseenter="enter('-3733083089318223050');" onmouseout="out('-3733083089318223050');" style=""> 143     public List&lt;Category&gt; readCategoriesByName(String categoryName, int limit, int offset) {             </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 144         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 145         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 146         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 147         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 148         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 149         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 150                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 151         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152     }                                                                                                    </span>
<span  style=""> 153                                                                                                          </span>
<span class="-5856804643170892729" onmouseenter="enter('-5856804643170892729');" onmouseout="out('-5856804643170892729');" style=""> 154     @Nonnull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 155     @Override                                                                                            </span>
<span class="8026514126938132721" onmouseenter="enter('8026514126938132721');" onmouseout="out('8026514126938132721');" style=""> 156     public List&lt;Category&gt; readCategoriesByNames(List&lt;String&gt; names) {                                    </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style=""> 157         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style=""> 158                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="5550564523533047478" onmouseenter="enter('5550564523533047478');" onmouseout="out('5550564523533047478');" style=""> 159                         + &quot;where category.name in :names&quot;,                                               </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 160                 Category.class);                                                                         </span>
<span class="3940418125637823478" onmouseenter="enter('3940418125637823478');" onmouseout="out('3940418125637823478');" style=""> 161         query.setParameter(&quot;names&quot;, names);                                                              </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 162         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 163         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 165         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168     @Override                                                                                            </span>
<span class="-2765553356125939299" onmouseenter="enter('-2765553356125939299');" onmouseout="out('-2765553356125939299');" style=""> 169     public List&lt;Category&gt; readAllCategories() {                                                          </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 170         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 171         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 172         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 173         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174     }                                                                                                    </span>
<span  style=""> 175                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 176     @Override                                                                                            </span>
<span class="-7050054301231053808" onmouseenter="enter('-7050054301231053808');" onmouseout="out('-7050054301231053808');" style=""> 177     public List&lt;Category&gt; readAllCategories(int limit, int offset) {                                     </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 178         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 179         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 180         query.setMaxResults(limit);                                                                      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 181         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 182         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 183                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 184         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185     }                                                                                                    </span>
<span  style=""> 186                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187     @Override                                                                                            </span>
<span class="-1090928259522556769" onmouseenter="enter('-1090928259522556769');" onmouseout="out('-1090928259522556769');" style=""> 188     public Long readTotalCategoryCount() {                                                               </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 189         CriteriaBuilder builder = em.getCriteriaBuilder();                                               </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 190         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="-3130360519501791725" onmouseenter="enter('-3130360519501791725');" onmouseout="out('-3130360519501791725');" style=""> 191         criteria.select(builder.count(criteria.from(CategoryImpl.class)));                               </span>
<span  style=""> 192                                                                                                          </span>
<span class="2641644591534382769" onmouseenter="enter('2641644591534382769');" onmouseout="out('2641644591534382769');" style=""> 193         TypedQuery&lt;Long&gt; query = em.createQuery(criteria);                                               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 194         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 195         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 196         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="589942758010713414" onmouseenter="enter('589942758010713414');" onmouseout="out('589942758010713414');" style=""> 200     public List&lt;Product&gt; readAllProducts() {                                                             </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 201         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 202         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 203         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204     }                                                                                                    </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206     @Override                                                                                            </span>
<span class="-8545629804500839357" onmouseenter="enter('-8545629804500839357');" onmouseout="out('-8545629804500839357');" style=""> 207     public List&lt;Product&gt; readAllProducts(int limit, int offset) {                                        </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 208         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 209         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 210         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 211         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 212                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 213         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216     @Override                                                                                            </span>
<span class="1649149426621095507" onmouseenter="enter('1649149426621095507');" onmouseout="out('1649149426621095507');" style=""> 217     public List&lt;Category&gt; readAllSubCategories(Category category) {                                      </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 218         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 219         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 219         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 220         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 221         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 222                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 223         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224     }                                                                                                    </span>
<span  style=""> 225                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 226     @Override                                                                                            </span>
<span class="4466563761717757144" onmouseenter="enter('4466563761717757144');" onmouseout="out('4466563761717757144');" style=""> 227     public List&lt;Category&gt; readAllSubCategories(Category category, int limit, int offset) {               </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 228         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 229         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 229         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 230         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 231         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 232         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 233         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 234                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 235         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 236     }                                                                                                    </span>
<span  style=""> 237                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 238     @Override                                                                                            </span>
<span class="8147144214627712718" onmouseenter="enter('8147144214627712718');" onmouseout="out('8147144214627712718');" style=""> 239     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category) {                         </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 240         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 240         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 241         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 241         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 242         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 243         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 244         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 246         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247     }                                                                                                    </span>
<span  style=""> 248                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249     @Override                                                                                            </span>
<span class="-8891382843385441863" onmouseenter="enter('-8891382843385441863');" onmouseout="out('-8891382843385441863');" style=""> 250     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category, int limit, int offset) {  </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 251         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 251         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 252         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 252         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 253         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 254         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 255         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 256         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 257         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 258                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 259         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 262     @Override                                                                                            </span>
<span class="5477970363726054314" onmouseenter="enter('5477970363726054314');" onmouseout="out('5477970363726054314');" style=""> 263     public Long getCurrentDateResolution() {                                                             </span>
<span class="-7988021434068185318" onmouseenter="enter('-7988021434068185318');" onmouseout="out('-7988021434068185318');" style=""> 264         return currentDateResolution;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265     }                                                                                                    </span>
<span  style=""> 266                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267     @Override                                                                                            </span>
<span class="-271762138402286644" onmouseenter="enter('-271762138402286644');" onmouseout="out('-271762138402286644');" style=""> 268     public void setCurrentDateResolution(Long currentDateResolution) {                                   </span>
<span class="-7813324798835187266" onmouseenter="enter('-7813324798835187266');" onmouseout="out('-7813324798835187266');" style=""> 269         this.currentDateResolution = currentDateResolution;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270     }                                                                                                    </span>
<span  style=""> 271                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272     @Override                                                                                            </span>
<span class="-5266804200993984383" onmouseenter="enter('-5266804200993984383');" onmouseout="out('-5266804200993984383');" style=""> 273     public void delete(Category category) {                                                              </span>
<span class="5199197594530880178" onmouseenter="enter('5199197594530880178');" onmouseout="out('5199197594530880178');" style=""> 274         ((Status) category).setArchived(&#x27;Y&#x27;);                                                            </span>
<span class="5809525946305354875" onmouseenter="enter('5809525946305354875');" onmouseout="out('5809525946305354875');" style=""> 275         em.merge(category);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276     }                                                                                                    </span>
<span  style=""> 277                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 278     @Override                                                                                            </span>
<span class="6705207597198754658" onmouseenter="enter('6705207597198754658');" onmouseout="out('6705207597198754658');" style=""> 279     public Category create() {                                                                           </span>
<span class="-4956135895005348193" onmouseenter="enter('-4956135895005348193');" onmouseout="out('-4956135895005348193');" style=""> 280         return (Category) entityConfiguration.createEntityInstance(Category.class.getName());            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281     }                                                                                                    </span>
<span  style=""> 282                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 283     @Override                                                                                            </span>
<span class="7079825514614323494" onmouseenter="enter('7079825514614323494');" onmouseout="out('7079825514614323494');" style=""> 284     public Category findCategoryByURI(String uri) {                                                      </span>
<span class="955805546394053652" onmouseenter="enter('955805546394053652');" onmouseout="out('955805546394053652');" style=""> 285         if (extensionManager != null) {                                                                  </span>
<span class="-8112713965554756916" onmouseenter="enter('-8112713965554756916');" onmouseout="out('-8112713965554756916');" style=""> 286             ExtensionResultHolder holder = new ExtensionResultHolder();                                  </span>
<span class="6247772092607522498" onmouseenter="enter('6247772092607522498');" onmouseout="out('6247772092607522498');" style=""><abbr title=" 287             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder);"> 287             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder)ðŸ”µ</abbr></span>
<span class="-2043051207329155259" onmouseenter="enter('-2043051207329155259');" onmouseout="out('-2043051207329155259');" style=""> 288             if (ExtensionResultStatusType.HANDLED.equals(result)) {                                      </span>
<span class="2380707789634551021" onmouseenter="enter('2380707789634551021');" onmouseout="out('2380707789634551021');" style=""> 289                 return (Category) holder.getResult();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291         }                                                                                                </span>
<span class="8488286104605996569" onmouseenter="enter('8488286104605996569');" onmouseout="out('8488286104605996569');" style=""> 292         Query query;                                                                                     </span>
<span class="-8383745979944657835" onmouseenter="enter('-8383745979944657835');" onmouseout="out('-8383745979944657835');" style=""> 293         query = em.createNamedQuery(&quot;BC_READ_CATEGORY_OUTGOING_URL&quot;);                                    </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 294         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="4896460677355787668" onmouseenter="enter('4896460677355787668');" onmouseout="out('4896460677355787668');" style=""> 295         query.setParameter(&quot;url&quot;, uri);                                                                  </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 296         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 297         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 298                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 299         @SuppressWarnings(&quot;unchecked&quot;)                                                                   </span>
<span class="336557026659912648" onmouseenter="enter('336557026659912648');" onmouseout="out('336557026659912648');" style=""> 300         List&lt;Category&gt; results = query.getResultList();                                                  </span>
<span class="1664098627939760384" onmouseenter="enter('1664098627939760384');" onmouseout="out('1664098627939760384');" style=""> 301         if (results != null &amp;&amp; !results.isEmpty()) {                                                     </span>
<span class="-1509108618928821666" onmouseenter="enter('-1509108618928821666');" onmouseout="out('-1509108618928821666');" style=""> 302             return results.get(0);                                                                       </span>
<span  style=""> 303                                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 304         } else {                                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 305             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span  style=""> 308                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 309     @Override                                                                                            </span>
<span class="-7882014416038133113" onmouseenter="enter('-7882014416038133113');" onmouseout="out('-7882014416038133113');" style=""> 310     public Long readCountAllActiveProductsByCategory(Category category) {                                </span>
<span class="5718422784143141314" onmouseenter="enter('5718422784143141314');" onmouseout="out('5718422784143141314');" style=""><abbr title=" 311         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, Long.class);"> 311         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, LonðŸ”µ</abbr></span>
<span class="9223263466746518830" onmouseenter="enter('9223263466746518830');" onmouseout="out('9223263466746518830');" style=""> 312         query.setParameter(&quot;categoryId&quot;, category.getId());                                              </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 313         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 314         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 315         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 316                                                                                                          </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 317         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-5062573030309236877" onmouseenter="enter('-5062573030309236877');" onmouseout="out('-5062573030309236877');" style="">   3  * BroadleafCommerce Framework                                                                           </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="1649369238998064692" onmouseenter="enter('1649369238998064692');" onmouseout="out('1649369238998064692');" style="">  18 package org.broadleafcommerce.core.catalog.dao;                                                          </span>
<span  style="">  19                                                                                                          </span>
<span class="-7911969485500261220" onmouseenter="enter('-7911969485500261220');" onmouseout="out('-7911969485500261220');" style="">  20 import org.broadleafcommerce.common.extension.ExtensionResultHolder;                                     </span>
<span class="-8339254235515724670" onmouseenter="enter('-8339254235515724670');" onmouseout="out('-8339254235515724670');" style="">  21 import org.broadleafcommerce.common.extension.ExtensionResultStatusType;                                 </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  22 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  23 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="-2818686525334833130" onmouseenter="enter('-2818686525334833130');" onmouseout="out('-2818686525334833130');" style="">  24 import org.broadleafcommerce.common.sandbox.SandBoxHelper;                                               </span>
<span class="1373992879208813777" onmouseenter="enter('1373992879208813777');" onmouseout="out('1373992879208813777');" style="">  25 import org.broadleafcommerce.common.time.SystemTime;                                                     </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  26 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="-684463979217480005" onmouseenter="enter('-684463979217480005');" onmouseout="out('-684463979217480005');" style="">  27 import org.broadleafcommerce.core.catalog.domain.Category;                                               </span>
<span class="4115133761608674822" onmouseenter="enter('4115133761608674822');" onmouseout="out('4115133761608674822');" style="">  28 import org.broadleafcommerce.core.catalog.domain.CategoryImpl;                                           </span>
<span class="425392860705941540" onmouseenter="enter('425392860705941540');" onmouseout="out('425392860705941540');" style="">  29 import org.broadleafcommerce.core.catalog.domain.Product;                                                </span>
<span class="-1670062540256016456" onmouseenter="enter('-1670062540256016456');" onmouseout="out('-1670062540256016456');" style="">  30 import org.hibernate.jpa.QueryHints;                                                                     </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  31 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  32                                                                                                          </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  33 import java.util.Date;                                                                                   </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  34 import java.util.List;                                                                                   </span>
<span  style="">  35                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  36 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  37 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  38 import javax.persistence.EntityManager;                                                                  </span>
<span class="-2473428574971545300" onmouseenter="enter('-2473428574971545300');" onmouseout="out('-2473428574971545300');" style="">  39 import javax.persistence.NoResultException;                                                              </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  40 import javax.persistence.PersistenceContext;                                                             </span>
<span class="2825707167313657836" onmouseenter="enter('2825707167313657836');" onmouseout="out('2825707167313657836');" style="">  41 import javax.persistence.Query;                                                                          </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  42 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  43 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  44 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span  style="">  45                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  46 /**                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  47  *                                                                                                       </span>
<span class="-7311139588847938491" onmouseenter="enter('-7311139588847938491');" onmouseout="out('-7311139588847938491');" style="">  48  * @author Jeff Fischer                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  49  */                                                                                                      </span>
<span class="6538087147450552080" onmouseenter="enter('6538087147450552080');" onmouseout="out('6538087147450552080');" style="">  50 @Repository(&quot;blCategoryDao&quot;)                                                                             </span>
<span class="-7377789269320432791" onmouseenter="enter('-7377789269320432791');" onmouseout="out('-7377789269320432791');" style="">  51 public class CategoryDaoImpl implements CategoryDao {                                                    </span>
<span  style="">  52                                                                                                          </span>
<span class="7826517811365870180" onmouseenter="enter('7826517811365870180');" onmouseout="out('7826517811365870180');" style="">  53     protected Long currentDateResolution = 10000L;                                                       </span>
<span class="-3015759496674095868" onmouseenter="enter('-3015759496674095868');" onmouseout="out('-3015759496674095868');" style="">  54     protected Date cachedDate = SystemTime.asDate();                                                     </span>
<span  style="">  55                                                                                                          </span>
<span class="-1267510524885549695" onmouseenter="enter('-1267510524885549695');" onmouseout="out('-1267510524885549695');" style="">  56     protected Date getCurrentDateAfterFactoringInDateResolution() {                                      </span>
<span class="7456092887221268123" onmouseenter="enter('7456092887221268123');" onmouseout="out('7456092887221268123');" style=""><abbr title="  57         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolution());">  57         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolutðŸ”µ</abbr></span>
<span class="-701896352794694369" onmouseenter="enter('-701896352794694369');" onmouseout="out('-701896352794694369');" style="">  58         if (returnDate != cachedDate) {                                                                  </span>
<span class="5100208720017764216" onmouseenter="enter('5100208720017764216');" onmouseout="out('5100208720017764216');" style="">  59             if (SystemTime.shouldCacheDate()) {                                                          </span>
<span class="-2842817032367762030" onmouseenter="enter('-2842817032367762030');" onmouseout="out('-2842817032367762030');" style="">  60                 cachedDate = returnDate;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  62         }                                                                                                </span>
<span class="8495881565272727908" onmouseenter="enter('8495881565272727908');" onmouseout="out('8495881565272727908');" style="">  63         return returnDate;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64     }                                                                                                    </span>
<span  style="">  65                                                                                                          </span>
<span class="-4259734795637808055" onmouseenter="enter('-4259734795637808055');" onmouseout="out('-4259734795637808055');" style="">  66     @PersistenceContext(unitName=&quot;blPU&quot;)                                                                 </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  67     protected EntityManager em;                                                                          </span>
<span  style="">  68                                                                                                          </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="">  69     @Resource(name=&quot;blEntityConfiguration&quot;)                                                              </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  70     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  71                                                                                                          </span>
<span class="-3946461589801993391" onmouseenter="enter('-3946461589801993391');" onmouseout="out('-3946461589801993391');" style="">  72     @Resource(name = &quot;blSandBoxHelper&quot;)                                                                  </span>
<span class="-7799183597372200632" onmouseenter="enter('-7799183597372200632');" onmouseout="out('-7799183597372200632');" style="">  73     protected SandBoxHelper sandBoxHelper;                                                               </span>
<span  style="">  74                                                                                                          </span>
<span class="-1977724902777907991" onmouseenter="enter('-1977724902777907991');" onmouseout="out('-1977724902777907991');" style="">  75     @Resource(name = &quot;blCategoryDaoExtensionManager&quot;)                                                    </span>
<span class="-2565316811317482904" onmouseenter="enter('-2565316811317482904');" onmouseout="out('-2565316811317482904');" style="">  76     protected CategoryDaoExtensionManager extensionManager;                                              </span>
<span  style="">  77                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  78     @Override                                                                                            </span>
<span class="3708268787070951967" onmouseenter="enter('3708268787070951967');" onmouseout="out('3708268787070951967');" style="">  79     public Category save(Category category) {                                                            </span>
<span class="-5534825090018364028" onmouseenter="enter('-5534825090018364028');" onmouseout="out('-5534825090018364028');" style="">  80         return em.merge(category);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81     }                                                                                                    </span>
<span  style="">  82                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  83     @Override                                                                                            </span>
<span class="7629584939279473543" onmouseenter="enter('7629584939279473543');" onmouseout="out('7629584939279473543');" style="">  84     public Category readCategoryById(Long categoryId) {                                                  </span>
<span class="-5264737980240746914" onmouseenter="enter('-5264737980240746914');" onmouseout="out('-5264737980240746914');" style="">  85         return em.find(CategoryImpl.class, categoryId);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86     }                                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88     @Override                                                                                            </span>
<span class="-2734878980042286667" onmouseenter="enter('-2734878980042286667');" onmouseout="out('-2734878980042286667');" style="">  89     public List&lt;Category&gt; readCategoriesByIds(List&lt;Long&gt; categoryIds) {                                  </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style="">  90         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style="">  91                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="8492196872460237252" onmouseenter="enter('8492196872460237252');" onmouseout="out('8492196872460237252');" style="">  92                         + &quot;where category.id in :ids&quot;,                                                   </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style="">  93                 Category.class);                                                                         </span>
<span class="-9071990595145503125" onmouseenter="enter('-9071990595145503125');" onmouseout="out('-9071990595145503125');" style="">  94         query.setParameter(&quot;ids&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class,                        </span>
<span class="4557980810072534004" onmouseenter="enter('4557980810072534004');" onmouseout="out('4557980810072534004');" style="">  95                 categoryIds.toArray(new Long[categoryIds.size()])));                                     </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style="">  96         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style="">  97         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style="">  98                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style="">  99         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 102     @Override                                                                                            </span>
<span class="6372790553455555099" onmouseenter="enter('6372790553455555099');" onmouseout="out('6372790553455555099');" style=""> 103     public Category readCategoryByExternalId(@Nonnull String externalId) {                               </span>
<span class="-8177601870096522202" onmouseenter="enter('-8177601870096522202');" onmouseout="out('-8177601870096522202');" style=""> 104         TypedQuery&lt;Category&gt; query = new TypedQueryBuilder&lt;Category&gt;(Category.class, &quot;cat&quot;)              </span>
<span class="6235972726248107838" onmouseenter="enter('6235972726248107838');" onmouseout="out('6235972726248107838');" style=""> 105                 .addRestriction(&quot;cat.externalId&quot;, &quot;=&quot;, externalId)                                       </span>
<span class="-7189622533419316302" onmouseenter="enter('-7189622533419316302');" onmouseout="out('-7189622533419316302');" style=""> 106                 .toQuery(em);                                                                            </span>
<span  style=""> 107                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 108         try {                                                                                            </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 109             return query.getSingleResult();                                                              </span>
<span class="-1897366143479758132" onmouseenter="enter('-1897366143479758132');" onmouseout="out('-1897366143479758132');" style=""> 110         } catch (NoResultException e) {                                                                  </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 111             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113     }                                                                                                    </span>
<span  style=""> 114                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115     @Override                                                                                            </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 116     @Deprecated                                                                                          </span>
<span class="1330252346125288431" onmouseenter="enter('1330252346125288431');" onmouseout="out('1330252346125288431');" style=""> 117     public Category readCategoryByName(String categoryName) {                                            </span>
<span class="4490784415613551923" onmouseenter="enter('4490784415613551923');" onmouseout="out('4490784415613551923');" style=""> 118         Query query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;);                                   </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 119         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 120         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 121         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="9215301334629248201" onmouseenter="enter('9215301334629248201');" onmouseout="out('9215301334629248201');" style=""> 122         return (Category) query.getSingleResult();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125     @Override                                                                                            </span>
<span class="-7861596550314441722" onmouseenter="enter('-7861596550314441722');" onmouseout="out('-7861596550314441722');" style=""> 126     public List&lt;Category&gt; readCategoriesByName(String categoryName) {                                    </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 127         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 128         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 129         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 130         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 131         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134     @Override                                                                                            </span>
<span class="-3733083089318223050" onmouseenter="enter('-3733083089318223050');" onmouseout="out('-3733083089318223050');" style=""> 135     public List&lt;Category&gt; readCategoriesByName(String categoryName, int limit, int offset) {             </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 136         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 137         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 138         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 139         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 140         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 141         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 142                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 143         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="-5856804643170892729" onmouseenter="enter('-5856804643170892729');" onmouseout="out('-5856804643170892729');" style=""> 146     @Nonnull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 147     @Override                                                                                            </span>
<span class="8026514126938132721" onmouseenter="enter('8026514126938132721');" onmouseout="out('8026514126938132721');" style=""> 148     public List&lt;Category&gt; readCategoriesByNames(List&lt;String&gt; names) {                                    </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style=""> 149         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style=""> 150                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="5550564523533047478" onmouseenter="enter('5550564523533047478');" onmouseout="out('5550564523533047478');" style=""> 151                         + &quot;where category.name in :names&quot;,                                               </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 152                 Category.class);                                                                         </span>
<span class="3940418125637823478" onmouseenter="enter('3940418125637823478');" onmouseout="out('3940418125637823478');" style=""> 153         query.setParameter(&quot;names&quot;, names);                                                              </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 154         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 155         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 156                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 157         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158     }                                                                                                    </span>
<span  style=""> 159                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="-2765553356125939299" onmouseenter="enter('-2765553356125939299');" onmouseout="out('-2765553356125939299');" style=""> 161     public List&lt;Category&gt; readAllCategories() {                                                          </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 162         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 163         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 164         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 165         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166     }                                                                                                    </span>
<span  style=""> 167                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168     @Override                                                                                            </span>
<span class="-7050054301231053808" onmouseenter="enter('-7050054301231053808');" onmouseout="out('-7050054301231053808');" style=""> 169     public List&lt;Category&gt; readAllCategories(int limit, int offset) {                                     </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 170         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 171         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 172         query.setMaxResults(limit);                                                                      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 173         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 174         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 175                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 176         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 179     @Override                                                                                            </span>
<span class="-1090928259522556769" onmouseenter="enter('-1090928259522556769');" onmouseout="out('-1090928259522556769');" style=""> 180     public Long readTotalCategoryCount() {                                                               </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 181         CriteriaBuilder builder = em.getCriteriaBuilder();                                               </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 182         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="-3130360519501791725" onmouseenter="enter('-3130360519501791725');" onmouseout="out('-3130360519501791725');" style=""> 183         criteria.select(builder.count(criteria.from(CategoryImpl.class)));                               </span>
<span  style=""> 184                                                                                                          </span>
<span class="2641644591534382769" onmouseenter="enter('2641644591534382769');" onmouseout="out('2641644591534382769');" style=""> 185         TypedQuery&lt;Long&gt; query = em.createQuery(criteria);                                               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 186         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 187         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 188         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189     }                                                                                                    </span>
<span  style=""> 190                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191     @Override                                                                                            </span>
<span class="589942758010713414" onmouseenter="enter('589942758010713414');" onmouseout="out('589942758010713414');" style=""> 192     public List&lt;Product&gt; readAllProducts() {                                                             </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 193         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 194         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 195         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196     }                                                                                                    </span>
<span  style=""> 197                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 198     @Override                                                                                            </span>
<span class="-8545629804500839357" onmouseenter="enter('-8545629804500839357');" onmouseout="out('-8545629804500839357');" style=""> 199     public List&lt;Product&gt; readAllProducts(int limit, int offset) {                                        </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 200         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 201         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 202         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 203         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 204                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 205         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208     @Override                                                                                            </span>
<span class="1649149426621095507" onmouseenter="enter('1649149426621095507');" onmouseout="out('1649149426621095507');" style=""> 209     public List&lt;Category&gt; readAllSubCategories(Category category) {                                      </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 210         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 211         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 211         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 212         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 213         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 215         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216     }                                                                                                    </span>
<span  style=""> 217                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 218     @Override                                                                                            </span>
<span class="4466563761717757144" onmouseenter="enter('4466563761717757144');" onmouseout="out('4466563761717757144');" style=""> 219     public List&lt;Category&gt; readAllSubCategories(Category category, int limit, int offset) {               </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 220         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 221         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 221         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 222         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 223         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 224         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 225         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 226                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 227         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228     }                                                                                                    </span>
<span  style=""> 229                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230     @Override                                                                                            </span>
<span class="8147144214627712718" onmouseenter="enter('8147144214627712718');" onmouseout="out('8147144214627712718');" style=""> 231     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category) {                         </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 232         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 232         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 233         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 233         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 234         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 235         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 236         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 237                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 238         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241     @Override                                                                                            </span>
<span class="-8891382843385441863" onmouseenter="enter('-8891382843385441863');" onmouseout="out('-8891382843385441863');" style=""> 242     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category, int limit, int offset) {  </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 243         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 243         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 244         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 244         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 245         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 246         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 247         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 248         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 249         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 250                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 251         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252     }                                                                                                    </span>
<span  style=""> 253                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 254     @Override                                                                                            </span>
<span class="5477970363726054314" onmouseenter="enter('5477970363726054314');" onmouseout="out('5477970363726054314');" style=""> 255     public Long getCurrentDateResolution() {                                                             </span>
<span class="-7988021434068185318" onmouseenter="enter('-7988021434068185318');" onmouseout="out('-7988021434068185318');" style=""> 256         return currentDateResolution;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257     }                                                                                                    </span>
<span  style=""> 258                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 259     @Override                                                                                            </span>
<span class="-271762138402286644" onmouseenter="enter('-271762138402286644');" onmouseout="out('-271762138402286644');" style=""> 260     public void setCurrentDateResolution(Long currentDateResolution) {                                   </span>
<span class="-7813324798835187266" onmouseenter="enter('-7813324798835187266');" onmouseout="out('-7813324798835187266');" style=""> 261         this.currentDateResolution = currentDateResolution;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262     }                                                                                                    </span>
<span  style=""> 263                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264     @Override                                                                                            </span>
<span class="-5266804200993984383" onmouseenter="enter('-5266804200993984383');" onmouseout="out('-5266804200993984383');" style=""> 265     public void delete(Category category) {                                                              </span>
<span class="5199197594530880178" onmouseenter="enter('5199197594530880178');" onmouseout="out('5199197594530880178');" style=""> 266         ((Status) category).setArchived(&#x27;Y&#x27;);                                                            </span>
<span class="5809525946305354875" onmouseenter="enter('5809525946305354875');" onmouseout="out('5809525946305354875');" style=""> 267         em.merge(category);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268     }                                                                                                    </span>
<span  style=""> 269                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270     @Override                                                                                            </span>
<span class="6705207597198754658" onmouseenter="enter('6705207597198754658');" onmouseout="out('6705207597198754658');" style=""> 271     public Category create() {                                                                           </span>
<span class="-4956135895005348193" onmouseenter="enter('-4956135895005348193');" onmouseout="out('-4956135895005348193');" style=""> 272         return (Category) entityConfiguration.createEntityInstance(Category.class.getName());            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273     }                                                                                                    </span>
<span  style=""> 274                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 275     @Override                                                                                            </span>
<span class="7079825514614323494" onmouseenter="enter('7079825514614323494');" onmouseout="out('7079825514614323494');" style=""> 276     public Category findCategoryByURI(String uri) {                                                      </span>
<span class="955805546394053652" onmouseenter="enter('955805546394053652');" onmouseout="out('955805546394053652');" style=""> 277         if (extensionManager != null) {                                                                  </span>
<span class="-8112713965554756916" onmouseenter="enter('-8112713965554756916');" onmouseout="out('-8112713965554756916');" style=""> 278             ExtensionResultHolder holder = new ExtensionResultHolder();                                  </span>
<span class="6247772092607522498" onmouseenter="enter('6247772092607522498');" onmouseout="out('6247772092607522498');" style=""><abbr title=" 279             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder);"> 279             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder)ðŸ”µ</abbr></span>
<span class="-2043051207329155259" onmouseenter="enter('-2043051207329155259');" onmouseout="out('-2043051207329155259');" style=""> 280             if (ExtensionResultStatusType.HANDLED.equals(result)) {                                      </span>
<span class="2380707789634551021" onmouseenter="enter('2380707789634551021');" onmouseout="out('2380707789634551021');" style=""> 281                 return (Category) holder.getResult();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="8488286104605996569" onmouseenter="enter('8488286104605996569');" onmouseout="out('8488286104605996569');" style=""> 284         Query query;                                                                                     </span>
<span class="-8383745979944657835" onmouseenter="enter('-8383745979944657835');" onmouseout="out('-8383745979944657835');" style=""> 285         query = em.createNamedQuery(&quot;BC_READ_CATEGORY_OUTGOING_URL&quot;);                                    </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 286         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="4896460677355787668" onmouseenter="enter('4896460677355787668');" onmouseout="out('4896460677355787668');" style=""> 287         query.setParameter(&quot;url&quot;, uri);                                                                  </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 288         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 289         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 290                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 291         @SuppressWarnings(&quot;unchecked&quot;)                                                                   </span>
<span class="336557026659912648" onmouseenter="enter('336557026659912648');" onmouseout="out('336557026659912648');" style=""> 292         List&lt;Category&gt; results = query.getResultList();                                                  </span>
<span class="1664098627939760384" onmouseenter="enter('1664098627939760384');" onmouseout="out('1664098627939760384');" style=""> 293         if (results != null &amp;&amp; !results.isEmpty()) {                                                     </span>
<span class="-1509108618928821666" onmouseenter="enter('-1509108618928821666');" onmouseout="out('-1509108618928821666');" style=""> 294             return results.get(0);                                                                       </span>
<span  style=""> 295                                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 296         } else {                                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 297             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span  style=""> 300                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 301     @Override                                                                                            </span>
<span class="-7882014416038133113" onmouseenter="enter('-7882014416038133113');" onmouseout="out('-7882014416038133113');" style=""> 302     public Long readCountAllActiveProductsByCategory(Category category) {                                </span>
<span class="5718422784143141314" onmouseenter="enter('5718422784143141314');" onmouseout="out('5718422784143141314');" style=""><abbr title=" 303         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, Long.class);"> 303         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, LonðŸ”µ</abbr></span>
<span class="9223263466746518830" onmouseenter="enter('9223263466746518830');" onmouseout="out('9223263466746518830');" style=""> 304         query.setParameter(&quot;categoryId&quot;, category.getId());                                              </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 305         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 306         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 307         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 308                                                                                                          </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 309         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311 }                                                                                                        </span>






</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-5062573030309236877" onmouseenter="enter('-5062573030309236877');" onmouseout="out('-5062573030309236877');" style="">   3  * BroadleafCommerce Framework                                                                           </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="1649369238998064692" onmouseenter="enter('1649369238998064692');" onmouseout="out('1649369238998064692');" style="">  18 package org.broadleafcommerce.core.catalog.dao;                                                          </span>
<span  style="">  19                                                                                                          </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  20 import java.util.Date;                                                                                   </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  21 import java.util.List;                                                                                   </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  22 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  23 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  24 import javax.persistence.EntityManager;                                                                  </span>
<span class="-2473428574971545300" onmouseenter="enter('-2473428574971545300');" onmouseout="out('-2473428574971545300');" style="">  25 import javax.persistence.NoResultException;                                                              </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  26 import javax.persistence.PersistenceContext;                                                             </span>
<span class="2825707167313657836" onmouseenter="enter('2825707167313657836');" onmouseout="out('2825707167313657836');" style="">  27 import javax.persistence.Query;                                                                          </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  28 import javax.persistence.TypedQuery;                                                                     </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  29 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  30 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="-7911969485500261220" onmouseenter="enter('-7911969485500261220');" onmouseout="out('-7911969485500261220');" style="">  31 import org.broadleafcommerce.common.extension.ExtensionResultHolder;                                     </span>
<span class="-8339254235515724670" onmouseenter="enter('-8339254235515724670');" onmouseout="out('-8339254235515724670');" style="">  32 import org.broadleafcommerce.common.extension.ExtensionResultStatusType;                                 </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  33 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  34 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="-2818686525334833130" onmouseenter="enter('-2818686525334833130');" onmouseout="out('-2818686525334833130');" style="">  35 import org.broadleafcommerce.common.sandbox.SandBoxHelper;                                               </span>
<span class="1373992879208813777" onmouseenter="enter('1373992879208813777');" onmouseout="out('1373992879208813777');" style="">  36 import org.broadleafcommerce.common.time.SystemTime;                                                     </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  37 import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                          </span>
<span class="-684463979217480005" onmouseenter="enter('-684463979217480005');" onmouseout="out('-684463979217480005');" style="">  38 import org.broadleafcommerce.core.catalog.domain.Category;                                               </span>
<span class="4115133761608674822" onmouseenter="enter('4115133761608674822');" onmouseout="out('4115133761608674822');" style="">  39 import org.broadleafcommerce.core.catalog.domain.CategoryImpl;                                           </span>
<span class="425392860705941540" onmouseenter="enter('425392860705941540');" onmouseout="out('425392860705941540');" style="">  40 import org.broadleafcommerce.core.catalog.domain.Product;                                                </span>
<span class="-1670062540256016456" onmouseenter="enter('-1670062540256016456');" onmouseout="out('-1670062540256016456');" style="">  41 import org.hibernate.jpa.QueryHints;                                                                     </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  42 import org.springframework.stereotype.Repository;                                                        </span>
<span  style="">  43                                                                                                          </span>
<span  style="">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  45 /**                                                                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  46  *                                                                                                       </span>
<span class="-7311139588847938491" onmouseenter="enter('-7311139588847938491');" onmouseout="out('-7311139588847938491');" style="">  47  * @author Jeff Fischer                                                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  48  */                                                                                                      </span>
<span class="6538087147450552080" onmouseenter="enter('6538087147450552080');" onmouseout="out('6538087147450552080');" style="">  49 @Repository(&quot;blCategoryDao&quot;)                                                                             </span>
<span class="-7377789269320432791" onmouseenter="enter('-7377789269320432791');" onmouseout="out('-7377789269320432791');" style="">  50 public class CategoryDaoImpl implements CategoryDao {                                                    </span>
<span class="7826517811365870180" onmouseenter="enter('7826517811365870180');" onmouseout="out('7826517811365870180');" style="">  51     protected Long currentDateResolution = 10000L;                                                       </span>
<span  style="">  52                                                                                                          </span>
<span class="-3015759496674095868" onmouseenter="enter('-3015759496674095868');" onmouseout="out('-3015759496674095868');" style="">  53     protected Date cachedDate = SystemTime.asDate();                                                     </span>
<span  style="">  54                                                                                                          </span>
<span class="-1267510524885549695" onmouseenter="enter('-1267510524885549695');" onmouseout="out('-1267510524885549695');" style="">  55     protected Date getCurrentDateAfterFactoringInDateResolution() {                                      </span>
<span class="7456092887221268123" onmouseenter="enter('7456092887221268123');" onmouseout="out('7456092887221268123');" style=""><abbr title="  56         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolution());">  56         Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolutðŸ”µ</abbr></span>
<span class="-701896352794694369" onmouseenter="enter('-701896352794694369');" onmouseout="out('-701896352794694369');" style="">  57         if (returnDate != cachedDate) {                                                                  </span>
<span class="5100208720017764216" onmouseenter="enter('5100208720017764216');" onmouseout="out('5100208720017764216');" style="">  58             if (SystemTime.shouldCacheDate()) {                                                          </span>
<span class="-2842817032367762030" onmouseenter="enter('-2842817032367762030');" onmouseout="out('-2842817032367762030');" style="">  59                 cachedDate = returnDate;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  60             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61         }                                                                                                </span>
<span class="8495881565272727908" onmouseenter="enter('8495881565272727908');" onmouseout="out('8495881565272727908');" style="">  62         return returnDate;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63     }                                                                                                    </span>
<span  style="">  64                                                                                                          </span>
<span class="-4259734795637808055" onmouseenter="enter('-4259734795637808055');" onmouseout="out('-4259734795637808055');" style="">  65     @PersistenceContext(unitName=&quot;blPU&quot;)                                                                 </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  66     protected EntityManager em;                                                                          </span>
<span  style="">  67                                                                                                          </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="">  68     @Resource(name=&quot;blEntityConfiguration&quot;)                                                              </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  69     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style="">  70                                                                                                          </span>
<span class="-3946461589801993391" onmouseenter="enter('-3946461589801993391');" onmouseout="out('-3946461589801993391');" style="">  71     @Resource(name = &quot;blSandBoxHelper&quot;)                                                                  </span>
<span class="-7799183597372200632" onmouseenter="enter('-7799183597372200632');" onmouseout="out('-7799183597372200632');" style="">  72     protected SandBoxHelper sandBoxHelper;                                                               </span>
<span  style="">  73                                                                                                          </span>
<span class="-1977724902777907991" onmouseenter="enter('-1977724902777907991');" onmouseout="out('-1977724902777907991');" style="">  74     @Resource(name = &quot;blCategoryDaoExtensionManager&quot;)                                                    </span>
<span class="-2565316811317482904" onmouseenter="enter('-2565316811317482904');" onmouseout="out('-2565316811317482904');" style="">  75     protected CategoryDaoExtensionManager extensionManager;                                              </span>
<span  style="">  76                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  77     @Override                                                                                            </span>
<span class="3708268787070951967" onmouseenter="enter('3708268787070951967');" onmouseout="out('3708268787070951967');" style="">  78     public Category save(Category category) {                                                            </span>
<span class="-5534825090018364028" onmouseenter="enter('-5534825090018364028');" onmouseout="out('-5534825090018364028');" style="">  79         return em.merge(category);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80     }                                                                                                    </span>
<span  style="">  81                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  82     @Override                                                                                            </span>
<span class="7629584939279473543" onmouseenter="enter('7629584939279473543');" onmouseout="out('7629584939279473543');" style="">  83     public Category readCategoryById(Long categoryId) {                                                  </span>
<span class="-5264737980240746914" onmouseenter="enter('-5264737980240746914');" onmouseout="out('-5264737980240746914');" style="">  84         return em.find(CategoryImpl.class, categoryId);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85     }                                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  87     @Override                                                                                            </span>
<span class="-2734878980042286667" onmouseenter="enter('-2734878980042286667');" onmouseout="out('-2734878980042286667');" style="">  88     public List&lt;Category&gt; readCategoriesByIds(List&lt;Long&gt; categoryIds) {                                  </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style="">  89         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style="">  90                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="8492196872460237252" onmouseenter="enter('8492196872460237252');" onmouseout="out('8492196872460237252');" style="">  91                         + &quot;where category.id in :ids&quot;,                                                   </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style="">  92                 Category.class);                                                                         </span>
<span class="-9071990595145503125" onmouseenter="enter('-9071990595145503125');" onmouseout="out('-9071990595145503125');" style="">  93         query.setParameter(&quot;ids&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class,                        </span>
<span class="4557980810072534004" onmouseenter="enter('4557980810072534004');" onmouseout="out('4557980810072534004');" style="">  94                 categoryIds.toArray(new Long[categoryIds.size()])));                                     </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style="">  95         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style="">  96         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style="">  97                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style="">  98         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 101     @Override                                                                                            </span>
<span class="6372790553455555099" onmouseenter="enter('6372790553455555099');" onmouseout="out('6372790553455555099');" style=""> 102     public Category readCategoryByExternalId(@Nonnull String externalId) {                               </span>
<span class="-8177601870096522202" onmouseenter="enter('-8177601870096522202');" onmouseout="out('-8177601870096522202');" style=""> 103         TypedQuery&lt;Category&gt; query = new TypedQueryBuilder&lt;Category&gt;(Category.class, &quot;cat&quot;)              </span>
<span class="6235972726248107838" onmouseenter="enter('6235972726248107838');" onmouseout="out('6235972726248107838');" style=""> 104                 .addRestriction(&quot;cat.externalId&quot;, &quot;=&quot;, externalId)                                       </span>
<span class="-7189622533419316302" onmouseenter="enter('-7189622533419316302');" onmouseout="out('-7189622533419316302');" style=""> 105                 .toQuery(em);                                                                            </span>
<span  style=""> 106                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 107         try {                                                                                            </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 108             return query.getSingleResult();                                                              </span>
<span class="-1897366143479758132" onmouseenter="enter('-1897366143479758132');" onmouseout="out('-1897366143479758132');" style=""> 109         } catch (NoResultException e) {                                                                  </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 110             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 114     @Override                                                                                            </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 115     @Deprecated                                                                                          </span>
<span class="1330252346125288431" onmouseenter="enter('1330252346125288431');" onmouseout="out('1330252346125288431');" style=""> 116     public Category readCategoryByName(String categoryName) {                                            </span>
<span class="4490784415613551923" onmouseenter="enter('4490784415613551923');" onmouseout="out('4490784415613551923');" style=""> 117         Query query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;);                                   </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 118         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 119         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 120         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="9215301334629248201" onmouseenter="enter('9215301334629248201');" onmouseout="out('9215301334629248201');" style=""> 121         return (Category) query.getSingleResult();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122     }                                                                                                    </span>
<span  style=""> 123                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124     @Override                                                                                            </span>
<span class="-7861596550314441722" onmouseenter="enter('-7861596550314441722');" onmouseout="out('-7861596550314441722');" style=""> 125     public List&lt;Category&gt; readCategoriesByName(String categoryName) {                                    </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 126         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 127         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 128         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 129         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 130         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133     @Override                                                                                            </span>
<span class="-3733083089318223050" onmouseenter="enter('-3733083089318223050');" onmouseout="out('-3733083089318223050');" style=""> 134     public List&lt;Category&gt; readCategoriesByName(String categoryName, int limit, int offset) {             </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 135         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);    </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 136         query.setParameter(&quot;categoryName&quot;, categoryName);                                                </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 137         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 138         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 139         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 140         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 141                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 142         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143     }                                                                                                    </span>
<span  style=""> 144                                                                                                          </span>
<span class="-5856804643170892729" onmouseenter="enter('-5856804643170892729');" onmouseout="out('-5856804643170892729');" style=""> 145     @Nonnull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 146     @Override                                                                                            </span>
<span class="8026514126938132721" onmouseenter="enter('8026514126938132721');" onmouseout="out('8026514126938132721');" style=""> 147     public List&lt;Category&gt; readCategoriesByNames(List&lt;String&gt; names) {                                    </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style=""> 148         TypedQuery&lt;Category&gt; query = em.createQuery(                                                     </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style=""> 149                 &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;      </span>
<span class="5550564523533047478" onmouseenter="enter('5550564523533047478');" onmouseout="out('5550564523533047478');" style=""> 150                         + &quot;where category.name in :names&quot;,                                               </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 151                 Category.class);                                                                         </span>
<span class="3940418125637823478" onmouseenter="enter('3940418125637823478');" onmouseout="out('3940418125637823478');" style=""> 152         query.setParameter(&quot;names&quot;, names);                                                              </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 153         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 154         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 155                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 156         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157     }                                                                                                    </span>
<span  style=""> 158                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 159     @Override                                                                                            </span>
<span class="-2765553356125939299" onmouseenter="enter('-2765553356125939299');" onmouseout="out('-2765553356125939299');" style=""> 160     public List&lt;Category&gt; readAllCategories() {                                                          </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 161         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 162         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 163         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 164         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165     }                                                                                                    </span>
<span  style=""> 166                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167     @Override                                                                                            </span>
<span class="-7050054301231053808" onmouseenter="enter('-7050054301231053808');" onmouseout="out('-7050054301231053808');" style=""> 168     public List&lt;Category&gt; readAllCategories(int limit, int offset) {                                     </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 169         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);      </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 170         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 171         query.setMaxResults(limit);                                                                      </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 172         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 173         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 175         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178     @Override                                                                                            </span>
<span class="-1090928259522556769" onmouseenter="enter('-1090928259522556769');" onmouseout="out('-1090928259522556769');" style=""> 179     public Long readTotalCategoryCount() {                                                               </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 180         CriteriaBuilder builder = em.getCriteriaBuilder();                                               </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 181         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="-3130360519501791725" onmouseenter="enter('-3130360519501791725');" onmouseout="out('-3130360519501791725');" style=""> 182         criteria.select(builder.count(criteria.from(CategoryImpl.class)));                               </span>
<span  style=""> 183                                                                                                          </span>
<span class="2641644591534382769" onmouseenter="enter('2641644591534382769');" onmouseout="out('2641644591534382769');" style=""> 184         TypedQuery&lt;Long&gt; query = em.createQuery(criteria);                                               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 185         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 186         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 187         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 190     @Override                                                                                            </span>
<span class="589942758010713414" onmouseenter="enter('589942758010713414');" onmouseout="out('589942758010713414');" style=""> 191     public List&lt;Product&gt; readAllProducts() {                                                             </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 192         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 193         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 194         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195     }                                                                                                    </span>
<span  style=""> 196                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197     @Override                                                                                            </span>
<span class="-8545629804500839357" onmouseenter="enter('-8545629804500839357');" onmouseout="out('-8545629804500839357');" style=""> 198     public List&lt;Product&gt; readAllProducts(int limit, int offset) {                                        </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 199         TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);          </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 200         //don&#x27;t cache - could take up too much memory                                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 201         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 202         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 203                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 204         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205     }                                                                                                    </span>
<span  style=""> 206                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207     @Override                                                                                            </span>
<span class="1649149426621095507" onmouseenter="enter('1649149426621095507');" onmouseout="out('1649149426621095507');" style=""> 208     public List&lt;Category&gt; readAllSubCategories(Category category) {                                      </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 209         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 210         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 210         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 211         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 212         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 214         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217     @Override                                                                                            </span>
<span class="4466563761717757144" onmouseenter="enter('4466563761717757144');" onmouseout="out('4466563761717757144');" style=""> 218     public List&lt;Category&gt; readAllSubCategories(Category category, int limit, int offset) {               </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 219         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);   </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 220         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 220         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 221         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 222         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 223         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 224         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 225                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 226         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227     }                                                                                                    </span>
<span  style=""> 228                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 229     @Override                                                                                            </span>
<span class="8147144214627712718" onmouseenter="enter('8147144214627712718');" onmouseout="out('8147144214627712718');" style=""> 230     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category) {                         </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 231         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 231         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 232         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 232         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 233         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 234         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 235         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 236                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 237         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238     }                                                                                                    </span>
<span  style=""> 239                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 240     @Override                                                                                            </span>
<span class="-8891382843385441863" onmouseenter="enter('-8891382843385441863');" onmouseout="out('-8891382843385441863');" style=""> 241     public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category, int limit, int offset) {  </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 242         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 242         TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, CateðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""><abbr title=" 243         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));"> 243         query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.gðŸ”µ</abbr></span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 244         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 245         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 246         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 247         query.setFirstResult(offset);                                                                    </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 248         query.setMaxResults(limit);                                                                      </span>
<span  style=""> 249                                                                                                          </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 250         return query.getResultList();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251     }                                                                                                    </span>
<span  style=""> 252                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 253     @Override                                                                                            </span>
<span class="5477970363726054314" onmouseenter="enter('5477970363726054314');" onmouseout="out('5477970363726054314');" style=""> 254     public Long getCurrentDateResolution() {                                                             </span>
<span class="-7988021434068185318" onmouseenter="enter('-7988021434068185318');" onmouseout="out('-7988021434068185318');" style=""> 255         return currentDateResolution;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256     }                                                                                                    </span>
<span  style=""> 257                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258     @Override                                                                                            </span>
<span class="-271762138402286644" onmouseenter="enter('-271762138402286644');" onmouseout="out('-271762138402286644');" style=""> 259     public void setCurrentDateResolution(Long currentDateResolution) {                                   </span>
<span class="-7813324798835187266" onmouseenter="enter('-7813324798835187266');" onmouseout="out('-7813324798835187266');" style=""> 260         this.currentDateResolution = currentDateResolution;                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261     }                                                                                                    </span>
<span  style=""> 262                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 263     @Override                                                                                            </span>
<span class="-5266804200993984383" onmouseenter="enter('-5266804200993984383');" onmouseout="out('-5266804200993984383');" style=""> 264     public void delete(Category category) {                                                              </span>
<span class="5199197594530880178" onmouseenter="enter('5199197594530880178');" onmouseout="out('5199197594530880178');" style=""> 265         ((Status) category).setArchived(&#x27;Y&#x27;);                                                            </span>
<span class="5809525946305354875" onmouseenter="enter('5809525946305354875');" onmouseout="out('5809525946305354875');" style=""> 266         em.merge(category);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269     @Override                                                                                            </span>
<span class="6705207597198754658" onmouseenter="enter('6705207597198754658');" onmouseout="out('6705207597198754658');" style=""> 270     public Category create() {                                                                           </span>
<span class="-4956135895005348193" onmouseenter="enter('-4956135895005348193');" onmouseout="out('-4956135895005348193');" style=""> 271         return (Category) entityConfiguration.createEntityInstance(Category.class.getName());            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272     }                                                                                                    </span>
<span  style=""> 273                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 274     @Override                                                                                            </span>
<span class="7079825514614323494" onmouseenter="enter('7079825514614323494');" onmouseout="out('7079825514614323494');" style=""> 275     public Category findCategoryByURI(String uri) {                                                      </span>
<span class="955805546394053652" onmouseenter="enter('955805546394053652');" onmouseout="out('955805546394053652');" style=""> 276         if (extensionManager != null) {                                                                  </span>
<span class="-8112713965554756916" onmouseenter="enter('-8112713965554756916');" onmouseout="out('-8112713965554756916');" style=""> 277             ExtensionResultHolder holder = new ExtensionResultHolder();                                  </span>
<span class="6247772092607522498" onmouseenter="enter('6247772092607522498');" onmouseout="out('6247772092607522498');" style=""><abbr title=" 278             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder);"> 278             ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder)ðŸ”µ</abbr></span>
<span class="-2043051207329155259" onmouseenter="enter('-2043051207329155259');" onmouseout="out('-2043051207329155259');" style=""> 279             if (ExtensionResultStatusType.HANDLED.equals(result)) {                                      </span>
<span class="2380707789634551021" onmouseenter="enter('2380707789634551021');" onmouseout="out('2380707789634551021');" style=""> 280                 return (Category) holder.getResult();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282         }                                                                                                </span>
<span class="8488286104605996569" onmouseenter="enter('8488286104605996569');" onmouseout="out('8488286104605996569');" style=""> 283         Query query;                                                                                     </span>
<span class="-8383745979944657835" onmouseenter="enter('-8383745979944657835');" onmouseout="out('-8383745979944657835');" style=""> 284         query = em.createNamedQuery(&quot;BC_READ_CATEGORY_OUTGOING_URL&quot;);                                    </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 285         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="4896460677355787668" onmouseenter="enter('4896460677355787668');" onmouseout="out('4896460677355787668');" style=""> 286         query.setParameter(&quot;url&quot;, uri);                                                                  </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 287         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 288         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 289                                                                                                          </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 290         @SuppressWarnings(&quot;unchecked&quot;)                                                                   </span>
<span class="336557026659912648" onmouseenter="enter('336557026659912648');" onmouseout="out('336557026659912648');" style=""> 291         List&lt;Category&gt; results = query.getResultList();                                                  </span>
<span class="1664098627939760384" onmouseenter="enter('1664098627939760384');" onmouseout="out('1664098627939760384');" style=""> 292         if (results != null &amp;&amp; !results.isEmpty()) {                                                     </span>
<span class="-1509108618928821666" onmouseenter="enter('-1509108618928821666');" onmouseout="out('-1509108618928821666');" style=""> 293             return results.get(0);                                                                       </span>
<span  style=""> 294                                                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 295         } else {                                                                                         </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 296             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298     }                                                                                                    </span>
<span  style=""> 299                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 300     @Override                                                                                            </span>
<span class="-7882014416038133113" onmouseenter="enter('-7882014416038133113');" onmouseout="out('-7882014416038133113');" style=""> 301     public Long readCountAllActiveProductsByCategory(Category category) {                                </span>
<span class="5718422784143141314" onmouseenter="enter('5718422784143141314');" onmouseout="out('5718422784143141314');" style=""><abbr title=" 302         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, Long.class);"> 302         TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, LonðŸ”µ</abbr></span>
<span class="9223263466746518830" onmouseenter="enter('9223263466746518830');" onmouseout="out('9223263466746518830');" style=""> 303         query.setParameter(&quot;categoryId&quot;, category.getId());                                              </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 304         query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 305         query.setHint(QueryHints.HINT_CACHEABLE, true);                                                  </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 306         query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                    </span>
<span  style=""> 307                                                                                                          </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 308         return query.getSingleResult();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310 }                                                                                                        </span>







</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-5062573030309236877" onmouseenter="enter('-5062573030309236877');" onmouseout="out('-5062573030309236877');" style="">   3   * BroadleafCommerce Framework                                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="1649369238998064692" onmouseenter="enter('1649369238998064692');" onmouseout="out('1649369238998064692');" style="">  18  package org.broadleafcommerce.core.catalog.dao;                                                                   </span>
<span  style="">  19                                                                                                                    </span>
<span class="-7911969485500261220" onmouseenter="enter('-7911969485500261220');" onmouseout="out('-7911969485500261220');" style="">  20  import org.broadleafcommerce.common.extension.ExtensionResultHolder;                                              </span>
<span class="-8339254235515724670" onmouseenter="enter('-8339254235515724670');" onmouseout="out('-8339254235515724670');" style="">  21  import org.broadleafcommerce.common.extension.ExtensionResultStatusType;                                          </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  22  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  23  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="-2818686525334833130" onmouseenter="enter('-2818686525334833130');" onmouseout="out('-2818686525334833130');" style="">  24  import org.broadleafcommerce.common.sandbox.SandBoxHelper;                                                        </span>
<span class="1373992879208813777" onmouseenter="enter('1373992879208813777');" onmouseout="out('1373992879208813777');" style="">  25  import org.broadleafcommerce.common.time.SystemTime;                                                              </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  26  import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                                   </span>
<span class="-684463979217480005" onmouseenter="enter('-684463979217480005');" onmouseout="out('-684463979217480005');" style="">  27  import org.broadleafcommerce.core.catalog.domain.Category;                                                        </span>
<span class="4115133761608674822" onmouseenter="enter('4115133761608674822');" onmouseout="out('4115133761608674822');" style="">  28  import org.broadleafcommerce.core.catalog.domain.CategoryImpl;                                                    </span>
<span class="425392860705941540" onmouseenter="enter('425392860705941540');" onmouseout="out('425392860705941540');" style="">  29  import org.broadleafcommerce.core.catalog.domain.Product;                                                         </span>
<span class="-85811185251521902" onmouseenter="enter('-85811185251521902');" onmouseout="out('-85811185251521902');" style="">  30  import org.broadleafcommerce.core.catalog.domain.ProductImpl;                                                     </span>
<span class="-6828803720731431718" onmouseenter="enter('-6828803720731431718');" onmouseout="out('-6828803720731431718');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -import org.hibernate.ejb.QueryHints;                                                                              </span>
<span class="-1670062540256016456" onmouseenter="enter('-1670062540256016456');" onmouseout="out('-1670062540256016456');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +import org.hibernate.jpa.QueryHints;                                                                              </span>
<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  33  import org.springframework.stereotype.Repository;                                                                 </span>
<span  style="">  34                                                                                                                    </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  35  import java.util.Date;                                                                                            </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  36  import java.util.List;                                                                                            </span>
<span  style="">  37                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  38  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  39  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  40  import javax.persistence.EntityManager;                                                                           </span>
<span class="-2473428574971545300" onmouseenter="enter('-2473428574971545300');" onmouseout="out('-2473428574971545300');" style="">  41  import javax.persistence.NoResultException;                                                                       </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  42  import javax.persistence.PersistenceContext;                                                                      </span>
<span class="2825707167313657836" onmouseenter="enter('2825707167313657836');" onmouseout="out('2825707167313657836');" style="">  43  import javax.persistence.Query;                                                                                   </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  44  import javax.persistence.TypedQuery;                                                                              </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  45  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  46  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span  style="">  47                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  48  /**                                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  49   *                                                                                                                </span>
<span class="-7311139588847938491" onmouseenter="enter('-7311139588847938491');" onmouseout="out('-7311139588847938491');" style="">  50   * @author Jeff Fischer                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51   */                                                                                                               </span>
<span class="6538087147450552080" onmouseenter="enter('6538087147450552080');" onmouseout="out('6538087147450552080');" style="">  52  @Repository(&quot;blCategoryDao&quot;)                                                                                      </span>
<span class="-7377789269320432791" onmouseenter="enter('-7377789269320432791');" onmouseout="out('-7377789269320432791');" style="">  53  public class CategoryDaoImpl implements CategoryDao {                                                             </span>
<span  style="">  54                                                                                                                    </span>
<span class="7826517811365870180" onmouseenter="enter('7826517811365870180');" onmouseout="out('7826517811365870180');" style="">  55      protected Long currentDateResolution = 10000L;                                                                </span>
<span class="-3015759496674095868" onmouseenter="enter('-3015759496674095868');" onmouseout="out('-3015759496674095868');" style="">  56      protected Date cachedDate = SystemTime.asDate();                                                              </span>
<span  style="">  57                                                                                                                    </span>
<span class="-1267510524885549695" onmouseenter="enter('-1267510524885549695');" onmouseout="out('-1267510524885549695');" style="">  58      protected Date getCurrentDateAfterFactoringInDateResolution() {                                               </span>
<span class="7456092887221268123" onmouseenter="enter('7456092887221268123');" onmouseout="out('7456092887221268123');" style="">  59          Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolution());  </span>
<span class="-701896352794694369" onmouseenter="enter('-701896352794694369');" onmouseout="out('-701896352794694369');" style="">  60          if (returnDate != cachedDate) {                                                                           </span>
<span class="5100208720017764216" onmouseenter="enter('5100208720017764216');" onmouseout="out('5100208720017764216');" style="">  61              if (SystemTime.shouldCacheDate()) {                                                                   </span>
<span class="-2842817032367762030" onmouseenter="enter('-2842817032367762030');" onmouseout="out('-2842817032367762030');" style="">  62                  cachedDate = returnDate;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64          }                                                                                                         </span>
<span class="8495881565272727908" onmouseenter="enter('8495881565272727908');" onmouseout="out('8495881565272727908');" style="">  65          return returnDate;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66      }                                                                                                             </span>
<span  style="">  67                                                                                                                    </span>
<span class="-4259734795637808055" onmouseenter="enter('-4259734795637808055');" onmouseout="out('-4259734795637808055');" style="">  68      @PersistenceContext(unitName=&quot;blPU&quot;)                                                                          </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  69      protected EntityManager em;                                                                                   </span>
<span  style="">  70                                                                                                                    </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="">  71      @Resource(name=&quot;blEntityConfiguration&quot;)                                                                       </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  72      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style="">  73                                                                                                                    </span>
<span class="-3946461589801993391" onmouseenter="enter('-3946461589801993391');" onmouseout="out('-3946461589801993391');" style="">  74      @Resource(name = &quot;blSandBoxHelper&quot;)                                                                           </span>
<span class="-7799183597372200632" onmouseenter="enter('-7799183597372200632');" onmouseout="out('-7799183597372200632');" style="">  75      protected SandBoxHelper sandBoxHelper;                                                                        </span>
<span  style="">  76                                                                                                                    </span>
<span class="-1977724902777907991" onmouseenter="enter('-1977724902777907991');" onmouseout="out('-1977724902777907991');" style="">  77      @Resource(name = &quot;blCategoryDaoExtensionManager&quot;)                                                             </span>
<span class="-2565316811317482904" onmouseenter="enter('-2565316811317482904');" onmouseout="out('-2565316811317482904');" style="">  78      protected CategoryDaoExtensionManager extensionManager;                                                       </span>
<span  style="">  79                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  80      @Override                                                                                                     </span>
<span class="3708268787070951967" onmouseenter="enter('3708268787070951967');" onmouseout="out('3708268787070951967');" style="">  81      public Category save(Category category) {                                                                     </span>
<span class="-5534825090018364028" onmouseenter="enter('-5534825090018364028');" onmouseout="out('-5534825090018364028');" style="">  82          return em.merge(category);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83      }                                                                                                             </span>
<span  style="">  84                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  85      @Override                                                                                                     </span>
<span class="7629584939279473543" onmouseenter="enter('7629584939279473543');" onmouseout="out('7629584939279473543');" style="">  86      public Category readCategoryById(Long categoryId) {                                                           </span>
<span class="-5264737980240746914" onmouseenter="enter('-5264737980240746914');" onmouseout="out('-5264737980240746914');" style="">  87          return em.find(CategoryImpl.class, categoryId);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88      }                                                                                                             </span>
<span  style="">  89                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  90      @Override                                                                                                     </span>
<span class="-2734878980042286667" onmouseenter="enter('-2734878980042286667');" onmouseout="out('-2734878980042286667');" style="">  91      public List&lt;Category&gt; readCategoriesByIds(List&lt;Long&gt; categoryIds) {                                           </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style="">  92          TypedQuery&lt;Category&gt; query = em.createQuery(                                                              </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style="">  93                  &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;               </span>
<span class="8492196872460237252" onmouseenter="enter('8492196872460237252');" onmouseout="out('8492196872460237252');" style="">  94                          + &quot;where category.id in :ids&quot;,                                                            </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style="">  95                  Category.class);                                                                                  </span>
<span class="-9071990595145503125" onmouseenter="enter('-9071990595145503125');" onmouseout="out('-9071990595145503125');" style="">  96          query.setParameter(&quot;ids&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class,                                 </span>
<span class="4557980810072534004" onmouseenter="enter('4557980810072534004');" onmouseout="out('4557980810072534004');" style="">  97                  categoryIds.toArray(new Long[categoryIds.size()])));                                              </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style="">  98          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style="">  99          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 101          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102      }                                                                                                             </span>
<span  style=""> 103                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104      @Override                                                                                                     </span>
<span class="6372790553455555099" onmouseenter="enter('6372790553455555099');" onmouseout="out('6372790553455555099');" style=""> 105      public Category readCategoryByExternalId(@Nonnull String externalId) {                                        </span>
<span class="-8177601870096522202" onmouseenter="enter('-8177601870096522202');" onmouseout="out('-8177601870096522202');" style=""> 106          TypedQuery&lt;Category&gt; query = new TypedQueryBuilder&lt;Category&gt;(Category.class, &quot;cat&quot;)                       </span>
<span class="6235972726248107838" onmouseenter="enter('6235972726248107838');" onmouseout="out('6235972726248107838');" style=""> 107                  .addRestriction(&quot;cat.externalId&quot;, &quot;=&quot;, externalId)                                                </span>
<span class="-7189622533419316302" onmouseenter="enter('-7189622533419316302');" onmouseout="out('-7189622533419316302');" style=""> 108                  .toQuery(em);                                                                                     </span>
<span  style=""> 109                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 110          try {                                                                                                     </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 111              return query.getSingleResult();                                                                       </span>
<span class="-1897366143479758132" onmouseenter="enter('-1897366143479758132');" onmouseout="out('-1897366143479758132');" style=""> 112          } catch (NoResultException e) {                                                                           </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 113              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115      }                                                                                                             </span>
<span  style=""> 116                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 117      @Override                                                                                                     </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 118      @Deprecated                                                                                                   </span>
<span class="1330252346125288431" onmouseenter="enter('1330252346125288431');" onmouseout="out('1330252346125288431');" style=""> 119      public Category readCategoryByName(String categoryName) {                                                     </span>
<span class="4490784415613551923" onmouseenter="enter('4490784415613551923');" onmouseout="out('4490784415613551923');" style=""> 120          Query query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;);                                            </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 121          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 122          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 123          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="9215301334629248201" onmouseenter="enter('9215301334629248201');" onmouseout="out('9215301334629248201');" style=""> 124          return (Category) query.getSingleResult();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125      }                                                                                                             </span>
<span  style=""> 126                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127      @Override                                                                                                     </span>
<span class="-7861596550314441722" onmouseenter="enter('-7861596550314441722');" onmouseout="out('-7861596550314441722');" style=""> 128      public List&lt;Category&gt; readCategoriesByName(String categoryName) {                                             </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 129          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);             </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 130          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 131          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 132          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 133          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134      }                                                                                                             </span>
<span  style=""> 135                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 136      @Override                                                                                                     </span>
<span class="-3733083089318223050" onmouseenter="enter('-3733083089318223050');" onmouseout="out('-3733083089318223050');" style=""> 137      public List&lt;Category&gt; readCategoriesByName(String categoryName, int limit, int offset) {                      </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 138          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);             </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 139          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 140          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 141          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 142          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 143          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 144                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 145          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146      }                                                                                                             </span>
<span  style=""> 147                                                                                                                    </span>
<span class="-5856804643170892729" onmouseenter="enter('-5856804643170892729');" onmouseout="out('-5856804643170892729');" style=""> 148      @Nonnull                                                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 149      @Override                                                                                                     </span>
<span class="8026514126938132721" onmouseenter="enter('8026514126938132721');" onmouseout="out('8026514126938132721');" style=""> 150      public List&lt;Category&gt; readCategoriesByNames(List&lt;String&gt; names) {                                             </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style=""> 151          TypedQuery&lt;Category&gt; query = em.createQuery(                                                              </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style=""> 152                  &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;               </span>
<span class="5550564523533047478" onmouseenter="enter('5550564523533047478');" onmouseout="out('5550564523533047478');" style=""> 153                          + &quot;where category.name in :names&quot;,                                                        </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 154                  Category.class);                                                                                  </span>
<span class="3940418125637823478" onmouseenter="enter('3940418125637823478');" onmouseout="out('3940418125637823478');" style=""> 155          query.setParameter(&quot;names&quot;, names);                                                                       </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 156          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 157          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 158                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 159          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160      }                                                                                                             </span>
<span  style=""> 161                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162      @Override                                                                                                     </span>
<span class="-2765553356125939299" onmouseenter="enter('-2765553356125939299');" onmouseout="out('-2765553356125939299');" style=""> 163      public List&lt;Category&gt; readAllCategories() {                                                                   </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 164          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 165          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 166          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 167          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168      }                                                                                                             </span>
<span  style=""> 169                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170      @Override                                                                                                     </span>
<span class="-7050054301231053808" onmouseenter="enter('-7050054301231053808');" onmouseout="out('-7050054301231053808');" style=""> 171      public List&lt;Category&gt; readAllCategories(int limit, int offset) {                                              </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 172          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);               </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 173          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 174          query.setMaxResults(limit);                                                                               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 175          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 176          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 178          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179      }                                                                                                             </span>
<span  style=""> 180                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181      @Override                                                                                                     </span>
<span class="-1090928259522556769" onmouseenter="enter('-1090928259522556769');" onmouseout="out('-1090928259522556769');" style=""> 182      public Long readTotalCategoryCount() {                                                                        </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 183          CriteriaBuilder builder = em.getCriteriaBuilder();                                                        </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 184          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="-3130360519501791725" onmouseenter="enter('-3130360519501791725');" onmouseout="out('-3130360519501791725');" style=""> 185          criteria.select(builder.count(criteria.from(CategoryImpl.class)));                                        </span>
<span  style=""> 186                                                                                                                    </span>
<span class="2641644591534382769" onmouseenter="enter('2641644591534382769');" onmouseout="out('2641644591534382769');" style=""> 187          TypedQuery&lt;Long&gt; query = em.createQuery(criteria);                                                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 188          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 189          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 190          return query.getSingleResult();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span  style=""> 192                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 193      @Override                                                                                                     </span>
<span class="589942758010713414" onmouseenter="enter('589942758010713414');" onmouseout="out('589942758010713414');" style=""> 194      public List&lt;Product&gt; readAllProducts() {                                                                      </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 195          TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);                   </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 196          //don&#x27;t cache - could take up too much memory                                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 197          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198      }                                                                                                             </span>
<span  style=""> 199                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200      @Override                                                                                                     </span>
<span class="-8545629804500839357" onmouseenter="enter('-8545629804500839357');" onmouseout="out('-8545629804500839357');" style=""> 201      public List&lt;Product&gt; readAllProducts(int limit, int offset) {                                                 </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 202          TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);                   </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 203          //don&#x27;t cache - could take up too much memory                                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 204          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 205          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 206                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 207          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208      }                                                                                                             </span>
<span  style=""> 209                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 210      @Override                                                                                                     </span>
<span class="1649149426621095507" onmouseenter="enter('1649149426621095507');" onmouseout="out('1649149426621095507');" style=""> 211      public List&lt;Category&gt; readAllSubCategories(Category category) {                                               </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 212          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);            </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 213          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 214          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 215          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 216                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 217          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218      }                                                                                                             </span>
<span  style=""> 219                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 220      @Override                                                                                                     </span>
<span class="4466563761717757144" onmouseenter="enter('4466563761717757144');" onmouseout="out('4466563761717757144');" style=""> 221      public List&lt;Category&gt; readAllSubCategories(Category category, int limit, int offset) {                        </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 222          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);            </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 223          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 224          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 225          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 226          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 227          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 228                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 229          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230      }                                                                                                             </span>
<span  style=""> 231                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 232      @Override                                                                                                     </span>
<span class="8147144214627712718" onmouseenter="enter('8147144214627712718');" onmouseout="out('8147144214627712718');" style=""> 233      public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category) {                                  </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 234          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 234          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.clasðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 235          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 236          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 237          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 238          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 239                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 240          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241      }                                                                                                             </span>
<span  style=""> 242                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243      @Override                                                                                                     </span>
<span class="-8891382843385441863" onmouseenter="enter('-8891382843385441863');" onmouseout="out('-8891382843385441863');" style=""> 244      public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category, int limit, int offset) {           </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 245          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 245          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.clasðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 246          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 247          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 248          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 249          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 250          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 251          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 252                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 253          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254      }                                                                                                             </span>
<span  style=""> 255                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256      @Override                                                                                                     </span>
<span class="5477970363726054314" onmouseenter="enter('5477970363726054314');" onmouseout="out('5477970363726054314');" style=""> 257      public Long getCurrentDateResolution() {                                                                      </span>
<span class="-7988021434068185318" onmouseenter="enter('-7988021434068185318');" onmouseout="out('-7988021434068185318');" style=""> 258          return currentDateResolution;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259      }                                                                                                             </span>
<span  style=""> 260                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261      @Override                                                                                                     </span>
<span class="-271762138402286644" onmouseenter="enter('-271762138402286644');" onmouseout="out('-271762138402286644');" style=""> 262      public void setCurrentDateResolution(Long currentDateResolution) {                                            </span>
<span class="-7813324798835187266" onmouseenter="enter('-7813324798835187266');" onmouseout="out('-7813324798835187266');" style=""> 263          this.currentDateResolution = currentDateResolution;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264      }                                                                                                             </span>
<span  style=""> 265                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 266      @Override                                                                                                     </span>
<span class="-5266804200993984383" onmouseenter="enter('-5266804200993984383');" onmouseout="out('-5266804200993984383');" style=""> 267      public void delete(Category category) {                                                                       </span>
<span class="5199197594530880178" onmouseenter="enter('5199197594530880178');" onmouseout="out('5199197594530880178');" style=""> 268          ((Status) category).setArchived(&#x27;Y&#x27;);                                                                     </span>
<span class="5809525946305354875" onmouseenter="enter('5809525946305354875');" onmouseout="out('5809525946305354875');" style=""> 269          em.merge(category);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270      }                                                                                                             </span>
<span  style=""> 271                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272      @Override                                                                                                     </span>
<span class="6705207597198754658" onmouseenter="enter('6705207597198754658');" onmouseout="out('6705207597198754658');" style=""> 273      public Category create() {                                                                                    </span>
<span class="-4956135895005348193" onmouseenter="enter('-4956135895005348193');" onmouseout="out('-4956135895005348193');" style=""> 274          return (Category) entityConfiguration.createEntityInstance(Category.class.getName());                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275      }                                                                                                             </span>
<span  style=""> 276                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 277      @Override                                                                                                     </span>
<span class="7079825514614323494" onmouseenter="enter('7079825514614323494');" onmouseout="out('7079825514614323494');" style=""> 278      public Category findCategoryByURI(String uri) {                                                               </span>
<span class="955805546394053652" onmouseenter="enter('955805546394053652');" onmouseout="out('955805546394053652');" style=""> 279          if (extensionManager != null) {                                                                           </span>
<span class="-8112713965554756916" onmouseenter="enter('-8112713965554756916');" onmouseout="out('-8112713965554756916');" style=""> 280              ExtensionResultHolder holder = new ExtensionResultHolder();                                           </span>
<span class="6247772092607522498" onmouseenter="enter('6247772092607522498');" onmouseout="out('6247772092607522498');" style=""> 281              ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder);        </span>
<span class="-2043051207329155259" onmouseenter="enter('-2043051207329155259');" onmouseout="out('-2043051207329155259');" style=""> 282              if (ExtensionResultStatusType.HANDLED.equals(result)) {                                               </span>
<span class="2380707789634551021" onmouseenter="enter('2380707789634551021');" onmouseout="out('2380707789634551021');" style=""> 283                  return (Category) holder.getResult();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285          }                                                                                                         </span>
<span class="8488286104605996569" onmouseenter="enter('8488286104605996569');" onmouseout="out('8488286104605996569');" style=""> 286          Query query;                                                                                              </span>
<span class="-8383745979944657835" onmouseenter="enter('-8383745979944657835');" onmouseout="out('-8383745979944657835');" style=""> 287          query = em.createNamedQuery(&quot;BC_READ_CATEGORY_OUTGOING_URL&quot;);                                             </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 288          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="4896460677355787668" onmouseenter="enter('4896460677355787668');" onmouseout="out('4896460677355787668');" style=""> 289          query.setParameter(&quot;url&quot;, uri);                                                                           </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 290          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 291          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 292                                                                                                                    </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 293          @SuppressWarnings(&quot;unchecked&quot;)                                                                            </span>
<span class="336557026659912648" onmouseenter="enter('336557026659912648');" onmouseout="out('336557026659912648');" style=""> 294          List&lt;Category&gt; results = query.getResultList();                                                           </span>
<span class="1664098627939760384" onmouseenter="enter('1664098627939760384');" onmouseout="out('1664098627939760384');" style=""> 295          if (results != null &amp;&amp; !results.isEmpty()) {                                                              </span>
<span class="-1509108618928821666" onmouseenter="enter('-1509108618928821666');" onmouseout="out('-1509108618928821666');" style=""> 296              return results.get(0);                                                                                </span>
<span  style=""> 297                                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 298          } else {                                                                                                  </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 299              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301      }                                                                                                             </span>
<span  style=""> 302                                                                                                                    </span>










<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-5062573030309236877" onmouseenter="enter('-5062573030309236877');" onmouseout="out('-5062573030309236877');" style="">   3   * BroadleafCommerce Framework                                                                                    </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="1649369238998064692" onmouseenter="enter('1649369238998064692');" onmouseout="out('1649369238998064692');" style="">  18  package org.broadleafcommerce.core.catalog.dao;                                                                   </span>
<span  style="">  19                                                                                                                    </span>
<span class="-7911969485500261220" onmouseenter="enter('-7911969485500261220');" onmouseout="out('-7911969485500261220');" style="">  20  import org.broadleafcommerce.common.extension.ExtensionResultHolder;                                              </span>
<span class="-8339254235515724670" onmouseenter="enter('-8339254235515724670');" onmouseout="out('-8339254235515724670');" style="">  21  import org.broadleafcommerce.common.extension.ExtensionResultStatusType;                                          </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  22  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  23  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="-2818686525334833130" onmouseenter="enter('-2818686525334833130');" onmouseout="out('-2818686525334833130');" style="">  24  import org.broadleafcommerce.common.sandbox.SandBoxHelper;                                                        </span>
<span class="1373992879208813777" onmouseenter="enter('1373992879208813777');" onmouseout="out('1373992879208813777');" style="">  25  import org.broadleafcommerce.common.time.SystemTime;                                                              </span>
<span class="8922526534929083638" onmouseenter="enter('8922526534929083638');" onmouseout="out('8922526534929083638');" style="">  26  import org.broadleafcommerce.common.util.dao.TypedQueryBuilder;                                                   </span>
<span class="-684463979217480005" onmouseenter="enter('-684463979217480005');" onmouseout="out('-684463979217480005');" style="">  27  import org.broadleafcommerce.core.catalog.domain.Category;                                                        </span>
<span class="4115133761608674822" onmouseenter="enter('4115133761608674822');" onmouseout="out('4115133761608674822');" style="">  28  import org.broadleafcommerce.core.catalog.domain.CategoryImpl;                                                    </span>
<span class="425392860705941540" onmouseenter="enter('425392860705941540');" onmouseout="out('425392860705941540');" style="">  29  import org.broadleafcommerce.core.catalog.domain.Product;                                                         </span>
<span class="-85811185251521902" onmouseenter="enter('-85811185251521902');" onmouseout="out('-85811185251521902');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -import org.broadleafcommerce.core.catalog.domain.ProductImpl;                                                     </span>
<span class="-6828803720731431718" onmouseenter="enter('-6828803720731431718');" onmouseout="out('-6828803720731431718');" style="">  31  import org.hibernate.ejb.QueryHints;                                                                              </span>

<span class="-4190555539420257130" onmouseenter="enter('-4190555539420257130');" onmouseout="out('-4190555539420257130');" style="">  32  import org.springframework.stereotype.Repository;                                                                 </span>
<span  style="">  33                                                                                                                    </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  34  import java.util.Date;                                                                                            </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  35  import java.util.List;                                                                                            </span>
<span  style="">  36                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  37  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  38  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  39  import javax.persistence.EntityManager;                                                                           </span>
<span class="-2473428574971545300" onmouseenter="enter('-2473428574971545300');" onmouseout="out('-2473428574971545300');" style="">  40  import javax.persistence.NoResultException;                                                                       </span>
<span class="3821515051839343306" onmouseenter="enter('3821515051839343306');" onmouseout="out('3821515051839343306');" style="">  41  import javax.persistence.PersistenceContext;                                                                      </span>
<span class="2825707167313657836" onmouseenter="enter('2825707167313657836');" onmouseout="out('2825707167313657836');" style="">  42  import javax.persistence.Query;                                                                                   </span>
<span class="6539032290250175619" onmouseenter="enter('6539032290250175619');" onmouseout="out('6539032290250175619');" style="">  43  import javax.persistence.TypedQuery;                                                                              </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  44  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  45  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span  style="">  46                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  47  /**                                                                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  48   *                                                                                                                </span>
<span class="-7311139588847938491" onmouseenter="enter('-7311139588847938491');" onmouseout="out('-7311139588847938491');" style="">  49   * @author Jeff Fischer                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50   */                                                                                                               </span>
<span class="6538087147450552080" onmouseenter="enter('6538087147450552080');" onmouseout="out('6538087147450552080');" style="">  51  @Repository(&quot;blCategoryDao&quot;)                                                                                      </span>
<span class="-7377789269320432791" onmouseenter="enter('-7377789269320432791');" onmouseout="out('-7377789269320432791');" style="">  52  public class CategoryDaoImpl implements CategoryDao {                                                             </span>
<span  style="">  53                                                                                                                    </span>
<span class="7826517811365870180" onmouseenter="enter('7826517811365870180');" onmouseout="out('7826517811365870180');" style="">  54      protected Long currentDateResolution = 10000L;                                                                </span>
<span class="-3015759496674095868" onmouseenter="enter('-3015759496674095868');" onmouseout="out('-3015759496674095868');" style="">  55      protected Date cachedDate = SystemTime.asDate();                                                              </span>
<span  style="">  56                                                                                                                    </span>
<span class="-1267510524885549695" onmouseenter="enter('-1267510524885549695');" onmouseout="out('-1267510524885549695');" style="">  57      protected Date getCurrentDateAfterFactoringInDateResolution() {                                               </span>
<span class="7456092887221268123" onmouseenter="enter('7456092887221268123');" onmouseout="out('7456092887221268123');" style="">  58          Date returnDate = SystemTime.getCurrentDateWithinTimeResolution(cachedDate, getCurrentDateResolution());  </span>
<span class="-701896352794694369" onmouseenter="enter('-701896352794694369');" onmouseout="out('-701896352794694369');" style="">  59          if (returnDate != cachedDate) {                                                                           </span>
<span class="5100208720017764216" onmouseenter="enter('5100208720017764216');" onmouseout="out('5100208720017764216');" style="">  60              if (SystemTime.shouldCacheDate()) {                                                                   </span>
<span class="-2842817032367762030" onmouseenter="enter('-2842817032367762030');" onmouseout="out('-2842817032367762030');" style="">  61                  cachedDate = returnDate;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  62              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63          }                                                                                                         </span>
<span class="8495881565272727908" onmouseenter="enter('8495881565272727908');" onmouseout="out('8495881565272727908');" style="">  64          return returnDate;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65      }                                                                                                             </span>
<span  style="">  66                                                                                                                    </span>
<span class="-4259734795637808055" onmouseenter="enter('-4259734795637808055');" onmouseout="out('-4259734795637808055');" style="">  67      @PersistenceContext(unitName=&quot;blPU&quot;)                                                                          </span>
<span class="-5741815223868414625" onmouseenter="enter('-5741815223868414625');" onmouseout="out('-5741815223868414625');" style="">  68      protected EntityManager em;                                                                                   </span>
<span  style="">  69                                                                                                                    </span>
<span class="1637373992155499263" onmouseenter="enter('1637373992155499263');" onmouseout="out('1637373992155499263');" style="">  70      @Resource(name=&quot;blEntityConfiguration&quot;)                                                                       </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style="">  71      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style="">  72                                                                                                                    </span>
<span class="-3946461589801993391" onmouseenter="enter('-3946461589801993391');" onmouseout="out('-3946461589801993391');" style="">  73      @Resource(name = &quot;blSandBoxHelper&quot;)                                                                           </span>
<span class="-7799183597372200632" onmouseenter="enter('-7799183597372200632');" onmouseout="out('-7799183597372200632');" style="">  74      protected SandBoxHelper sandBoxHelper;                                                                        </span>
<span  style="">  75                                                                                                                    </span>
<span class="-1977724902777907991" onmouseenter="enter('-1977724902777907991');" onmouseout="out('-1977724902777907991');" style="">  76      @Resource(name = &quot;blCategoryDaoExtensionManager&quot;)                                                             </span>
<span class="-2565316811317482904" onmouseenter="enter('-2565316811317482904');" onmouseout="out('-2565316811317482904');" style="">  77      protected CategoryDaoExtensionManager extensionManager;                                                       </span>
<span  style="">  78                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  79      @Override                                                                                                     </span>
<span class="3708268787070951967" onmouseenter="enter('3708268787070951967');" onmouseout="out('3708268787070951967');" style="">  80      public Category save(Category category) {                                                                     </span>
<span class="-5534825090018364028" onmouseenter="enter('-5534825090018364028');" onmouseout="out('-5534825090018364028');" style="">  81          return em.merge(category);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  82      }                                                                                                             </span>
<span  style="">  83                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  84      @Override                                                                                                     </span>
<span class="7629584939279473543" onmouseenter="enter('7629584939279473543');" onmouseout="out('7629584939279473543');" style="">  85      public Category readCategoryById(Long categoryId) {                                                           </span>
<span class="-5264737980240746914" onmouseenter="enter('-5264737980240746914');" onmouseout="out('-5264737980240746914');" style="">  86          return em.find(CategoryImpl.class, categoryId);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87      }                                                                                                             </span>
<span  style="">  88                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89      @Override                                                                                                     </span>
<span class="-2734878980042286667" onmouseenter="enter('-2734878980042286667');" onmouseout="out('-2734878980042286667');" style="">  90      public List&lt;Category&gt; readCategoriesByIds(List&lt;Long&gt; categoryIds) {                                           </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style="">  91          TypedQuery&lt;Category&gt; query = em.createQuery(                                                              </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style="">  92                  &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;               </span>
<span class="8492196872460237252" onmouseenter="enter('8492196872460237252');" onmouseout="out('8492196872460237252');" style="">  93                          + &quot;where category.id in :ids&quot;,                                                            </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style="">  94                  Category.class);                                                                                  </span>
<span class="-9071990595145503125" onmouseenter="enter('-9071990595145503125');" onmouseout="out('-9071990595145503125');" style="">  95          query.setParameter(&quot;ids&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class,                                 </span>
<span class="4557980810072534004" onmouseenter="enter('4557980810072534004');" onmouseout="out('4557980810072534004');" style="">  96                  categoryIds.toArray(new Long[categoryIds.size()])));                                              </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style="">  97          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style="">  98          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style="">  99                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 100          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101      }                                                                                                             </span>
<span  style=""> 102                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 103      @Override                                                                                                     </span>
<span class="6372790553455555099" onmouseenter="enter('6372790553455555099');" onmouseout="out('6372790553455555099');" style=""> 104      public Category readCategoryByExternalId(@Nonnull String externalId) {                                        </span>
<span class="-8177601870096522202" onmouseenter="enter('-8177601870096522202');" onmouseout="out('-8177601870096522202');" style=""> 105          TypedQuery&lt;Category&gt; query = new TypedQueryBuilder&lt;Category&gt;(Category.class, &quot;cat&quot;)                       </span>
<span class="6235972726248107838" onmouseenter="enter('6235972726248107838');" onmouseout="out('6235972726248107838');" style=""> 106                  .addRestriction(&quot;cat.externalId&quot;, &quot;=&quot;, externalId)                                                </span>
<span class="-7189622533419316302" onmouseenter="enter('-7189622533419316302');" onmouseout="out('-7189622533419316302');" style=""> 107                  .toQuery(em);                                                                                     </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 109          try {                                                                                                     </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 110              return query.getSingleResult();                                                                       </span>
<span class="-1897366143479758132" onmouseenter="enter('-1897366143479758132');" onmouseout="out('-1897366143479758132');" style=""> 111          } catch (NoResultException e) {                                                                           </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 112              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114      }                                                                                                             </span>
<span  style=""> 115                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116      @Override                                                                                                     </span>
<span class="-9122364098618956613" onmouseenter="enter('-9122364098618956613');" onmouseout="out('-9122364098618956613');" style=""> 117      @Deprecated                                                                                                   </span>
<span class="1330252346125288431" onmouseenter="enter('1330252346125288431');" onmouseout="out('1330252346125288431');" style=""> 118      public Category readCategoryByName(String categoryName) {                                                     </span>
<span class="4490784415613551923" onmouseenter="enter('4490784415613551923');" onmouseout="out('4490784415613551923');" style=""> 119          Query query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;);                                            </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 120          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 121          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 122          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="9215301334629248201" onmouseenter="enter('9215301334629248201');" onmouseout="out('9215301334629248201');" style=""> 123          return (Category) query.getSingleResult();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124      }                                                                                                             </span>
<span  style=""> 125                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 126      @Override                                                                                                     </span>
<span class="-7861596550314441722" onmouseenter="enter('-7861596550314441722');" onmouseout="out('-7861596550314441722');" style=""> 127      public List&lt;Category&gt; readCategoriesByName(String categoryName) {                                             </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 128          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);             </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 129          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 130          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 131          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 132          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133      }                                                                                                             </span>
<span  style=""> 134                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135      @Override                                                                                                     </span>
<span class="-3733083089318223050" onmouseenter="enter('-3733083089318223050');" onmouseout="out('-3733083089318223050');" style=""> 136      public List&lt;Category&gt; readCategoriesByName(String categoryName, int limit, int offset) {                      </span>
<span class="3100317969046700716" onmouseenter="enter('3100317969046700716');" onmouseout="out('3100317969046700716');" style=""> 137          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_CATEGORY_BY_NAME&quot;, Category.class);             </span>
<span class="-1966390080082723476" onmouseenter="enter('-1966390080082723476');" onmouseout="out('-1966390080082723476');" style=""> 138          query.setParameter(&quot;categoryName&quot;, categoryName);                                                         </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 139          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 140          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 141          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 142          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 143                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 144          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145      }                                                                                                             </span>
<span  style=""> 146                                                                                                                    </span>
<span class="-5856804643170892729" onmouseenter="enter('-5856804643170892729');" onmouseout="out('-5856804643170892729');" style=""> 147      @Nonnull                                                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 148      @Override                                                                                                     </span>
<span class="8026514126938132721" onmouseenter="enter('8026514126938132721');" onmouseout="out('8026514126938132721');" style=""> 149      public List&lt;Category&gt; readCategoriesByNames(List&lt;String&gt; names) {                                             </span>
<span class="844419439424165875" onmouseenter="enter('844419439424165875');" onmouseout="out('844419439424165875');" style=""> 150          TypedQuery&lt;Category&gt; query = em.createQuery(                                                              </span>
<span class="-3529593155332439268" onmouseenter="enter('-3529593155332439268');" onmouseout="out('-3529593155332439268');" style=""> 151                  &quot;select category from org.broadleafcommerce.core.catalog.domain.Category category &quot;               </span>
<span class="5550564523533047478" onmouseenter="enter('5550564523533047478');" onmouseout="out('5550564523533047478');" style=""> 152                          + &quot;where category.name in :names&quot;,                                                        </span>
<span class="1312407036898925980" onmouseenter="enter('1312407036898925980');" onmouseout="out('1312407036898925980');" style=""> 153                  Category.class);                                                                                  </span>
<span class="3940418125637823478" onmouseenter="enter('3940418125637823478');" onmouseout="out('3940418125637823478');" style=""> 154          query.setParameter(&quot;names&quot;, names);                                                                       </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 155          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 156          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 157                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 158          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="-2765553356125939299" onmouseenter="enter('-2765553356125939299');" onmouseout="out('-2765553356125939299');" style=""> 162      public List&lt;Category&gt; readAllCategories() {                                                                   </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 163          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 164          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 165          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 166          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167      }                                                                                                             </span>
<span  style=""> 168                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 169      @Override                                                                                                     </span>
<span class="-7050054301231053808" onmouseenter="enter('-7050054301231053808');" onmouseout="out('-7050054301231053808');" style=""> 170      public List&lt;Category&gt; readAllCategories(int limit, int offset) {                                              </span>
<span class="2290993389089216" onmouseenter="enter('2290993389089216');" onmouseout="out('2290993389089216');" style=""> 171          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_CATEGORIES&quot;, Category.class);               </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 172          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 173          query.setMaxResults(limit);                                                                               </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 174          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 175          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 176                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 177          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178      }                                                                                                             </span>
<span  style=""> 179                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180      @Override                                                                                                     </span>
<span class="-1090928259522556769" onmouseenter="enter('-1090928259522556769');" onmouseout="out('-1090928259522556769');" style=""> 181      public Long readTotalCategoryCount() {                                                                        </span>
<span class="2959951002703615279" onmouseenter="enter('2959951002703615279');" onmouseout="out('2959951002703615279');" style=""> 182          CriteriaBuilder builder = em.getCriteriaBuilder();                                                        </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 183          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="-3130360519501791725" onmouseenter="enter('-3130360519501791725');" onmouseout="out('-3130360519501791725');" style=""> 184          criteria.select(builder.count(criteria.from(CategoryImpl.class)));                                        </span>
<span  style=""> 185                                                                                                                    </span>
<span class="2641644591534382769" onmouseenter="enter('2641644591534382769');" onmouseout="out('2641644591534382769');" style=""> 186          TypedQuery&lt;Long&gt; query = em.createQuery(criteria);                                                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 187          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 188          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style=""> 189          return query.getSingleResult();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190      }                                                                                                             </span>
<span  style=""> 191                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 192      @Override                                                                                                     </span>
<span class="589942758010713414" onmouseenter="enter('589942758010713414');" onmouseout="out('589942758010713414');" style=""> 193      public List&lt;Product&gt; readAllProducts() {                                                                      </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 194          TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);                   </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 195          //don&#x27;t cache - could take up too much memory                                                             </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 196          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197      }                                                                                                             </span>
<span  style=""> 198                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199      @Override                                                                                                     </span>
<span class="-8545629804500839357" onmouseenter="enter('-8545629804500839357');" onmouseout="out('-8545629804500839357');" style=""> 200      public List&lt;Product&gt; readAllProducts(int limit, int offset) {                                                 </span>
<span class="-489069833173567552" onmouseenter="enter('-489069833173567552');" onmouseout="out('-489069833173567552');" style=""> 201          TypedQuery&lt;Product&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_PRODUCTS&quot;, Product.class);                   </span>
<span class="1920027017418218585" onmouseenter="enter('1920027017418218585');" onmouseout="out('1920027017418218585');" style=""> 202          //don&#x27;t cache - could take up too much memory                                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 203          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 204          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 205                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 206          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209      @Override                                                                                                     </span>
<span class="1649149426621095507" onmouseenter="enter('1649149426621095507');" onmouseout="out('1649149426621095507');" style=""> 210      public List&lt;Category&gt; readAllSubCategories(Category category) {                                               </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 211          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);            </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 212          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 213          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 214          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 215                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 216          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="4466563761717757144" onmouseenter="enter('4466563761717757144');" onmouseout="out('4466563761717757144');" style=""> 220      public List&lt;Category&gt; readAllSubCategories(Category category, int limit, int offset) {                        </span>
<span class="2937049017550819032" onmouseenter="enter('2937049017550819032');" onmouseout="out('2937049017550819032');" style=""> 221          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ALL_SUBCATEGORIES&quot;, Category.class);            </span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 222          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 223          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 224          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 225          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 226          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 227                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 228          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span  style=""> 230                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231      @Override                                                                                                     </span>
<span class="8147144214627712718" onmouseenter="enter('8147144214627712718');" onmouseout="out('8147144214627712718');" style=""> 232      public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category) {                                  </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 233          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 233          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.clasðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 234          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 235          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 236          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 237          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 238                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 239          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style=""> 241                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242      @Override                                                                                                     </span>
<span class="-8891382843385441863" onmouseenter="enter('-8891382843385441863');" onmouseout="out('-8891382843385441863');" style=""> 243      public List&lt;Category&gt; readActiveSubCategoriesByCategory(Category category, int limit, int offset) {           </span>
<span class="-7299664625463803607" onmouseenter="enter('-7299664625463803607');" onmouseout="out('-7299664625463803607');" style=""><abbr title=" 244          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.class);"> 244          TypedQuery&lt;Category&gt; query = em.createNamedQuery(&quot;BC_READ_ACTIVE_SUBCATEGORIES_BY_CATEGORY&quot;, Category.clasðŸ”µ</abbr></span>
<span class="-8374715248628604656" onmouseenter="enter('-8374715248628604656');" onmouseout="out('-8374715248628604656');" style=""> 245          query.setParameter(&quot;parentCategoryId&quot;, sandBoxHelper.mergeCloneIds(CategoryImpl.class, category.getId()));</span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 246          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 247          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 248          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span class="-6292796884462089716" onmouseenter="enter('-6292796884462089716');" onmouseout="out('-6292796884462089716');" style=""> 249          query.setFirstResult(offset);                                                                             </span>
<span class="-4245455447148739394" onmouseenter="enter('-4245455447148739394');" onmouseout="out('-4245455447148739394');" style=""> 250          query.setMaxResults(limit);                                                                               </span>
<span  style=""> 251                                                                                                                    </span>
<span class="6708314796189813357" onmouseenter="enter('6708314796189813357');" onmouseout="out('6708314796189813357');" style=""> 252          return query.getResultList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253      }                                                                                                             </span>
<span  style=""> 254                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255      @Override                                                                                                     </span>
<span class="5477970363726054314" onmouseenter="enter('5477970363726054314');" onmouseout="out('5477970363726054314');" style=""> 256      public Long getCurrentDateResolution() {                                                                      </span>
<span class="-7988021434068185318" onmouseenter="enter('-7988021434068185318');" onmouseout="out('-7988021434068185318');" style=""> 257          return currentDateResolution;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258      }                                                                                                             </span>
<span  style=""> 259                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 260      @Override                                                                                                     </span>
<span class="-271762138402286644" onmouseenter="enter('-271762138402286644');" onmouseout="out('-271762138402286644');" style=""> 261      public void setCurrentDateResolution(Long currentDateResolution) {                                            </span>
<span class="-7813324798835187266" onmouseenter="enter('-7813324798835187266');" onmouseout="out('-7813324798835187266');" style=""> 262          this.currentDateResolution = currentDateResolution;                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263      }                                                                                                             </span>
<span  style=""> 264                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 265      @Override                                                                                                     </span>
<span class="-5266804200993984383" onmouseenter="enter('-5266804200993984383');" onmouseout="out('-5266804200993984383');" style=""> 266      public void delete(Category category) {                                                                       </span>
<span class="5199197594530880178" onmouseenter="enter('5199197594530880178');" onmouseout="out('5199197594530880178');" style=""> 267          ((Status) category).setArchived(&#x27;Y&#x27;);                                                                     </span>
<span class="5809525946305354875" onmouseenter="enter('5809525946305354875');" onmouseout="out('5809525946305354875');" style=""> 268          em.merge(category);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span  style=""> 270                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271      @Override                                                                                                     </span>
<span class="6705207597198754658" onmouseenter="enter('6705207597198754658');" onmouseout="out('6705207597198754658');" style=""> 272      public Category create() {                                                                                    </span>
<span class="-4956135895005348193" onmouseenter="enter('-4956135895005348193');" onmouseout="out('-4956135895005348193');" style=""> 273          return (Category) entityConfiguration.createEntityInstance(Category.class.getName());                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274      }                                                                                                             </span>
<span  style=""> 275                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 276      @Override                                                                                                     </span>
<span class="7079825514614323494" onmouseenter="enter('7079825514614323494');" onmouseout="out('7079825514614323494');" style=""> 277      public Category findCategoryByURI(String uri) {                                                               </span>
<span class="955805546394053652" onmouseenter="enter('955805546394053652');" onmouseout="out('955805546394053652');" style=""> 278          if (extensionManager != null) {                                                                           </span>
<span class="-8112713965554756916" onmouseenter="enter('-8112713965554756916');" onmouseout="out('-8112713965554756916');" style=""> 279              ExtensionResultHolder holder = new ExtensionResultHolder();                                           </span>
<span class="6247772092607522498" onmouseenter="enter('6247772092607522498');" onmouseout="out('6247772092607522498');" style=""> 280              ExtensionResultStatusType result = extensionManager.getProxy().findCategoryByURI(uri, holder);        </span>
<span class="-2043051207329155259" onmouseenter="enter('-2043051207329155259');" onmouseout="out('-2043051207329155259');" style=""> 281              if (ExtensionResultStatusType.HANDLED.equals(result)) {                                               </span>
<span class="2380707789634551021" onmouseenter="enter('2380707789634551021');" onmouseout="out('2380707789634551021');" style=""> 282                  return (Category) holder.getResult();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284          }                                                                                                         </span>
<span class="8488286104605996569" onmouseenter="enter('8488286104605996569');" onmouseout="out('8488286104605996569');" style=""> 285          Query query;                                                                                              </span>
<span class="-8383745979944657835" onmouseenter="enter('-8383745979944657835');" onmouseout="out('-8383745979944657835');" style=""> 286          query = em.createNamedQuery(&quot;BC_READ_CATEGORY_OUTGOING_URL&quot;);                                             </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style=""> 287          query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="4896460677355787668" onmouseenter="enter('4896460677355787668');" onmouseout="out('4896460677355787668');" style=""> 288          query.setParameter(&quot;url&quot;, uri);                                                                           </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style=""> 289          query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style=""> 290          query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style=""> 291                                                                                                                    </span>
<span class="7948482626287429940" onmouseenter="enter('7948482626287429940');" onmouseout="out('7948482626287429940');" style=""> 292          @SuppressWarnings(&quot;unchecked&quot;)                                                                            </span>
<span class="336557026659912648" onmouseenter="enter('336557026659912648');" onmouseout="out('336557026659912648');" style=""> 293          List&lt;Category&gt; results = query.getResultList();                                                           </span>
<span class="1664098627939760384" onmouseenter="enter('1664098627939760384');" onmouseout="out('1664098627939760384');" style=""> 294          if (results != null &amp;&amp; !results.isEmpty()) {                                                              </span>
<span class="-1509108618928821666" onmouseenter="enter('-1509108618928821666');" onmouseout="out('-1509108618928821666');" style=""> 295              return results.get(0);                                                                                </span>
<span  style=""> 296                                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 297          } else {                                                                                                  </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 298              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300      }                                                                                                             </span>
<span  style=""> 301                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 302 +    @Override                                                                                                     </span>
<span class="-7882014416038133113" onmouseenter="enter('-7882014416038133113');" onmouseout="out('-7882014416038133113');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 303 +    public Long readCountAllActiveProductsByCategory(Category category) {                                         </span>
<span class="5718422784143141314" onmouseenter="enter('5718422784143141314');" onmouseout="out('5718422784143141314');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 304 +        TypedQuery&lt;Long&gt; query = em.createNamedQuery(&quot;BC_READ_COUNT_ALL_ACTIVE_PRODUCTS_BY_CATEGORY&quot;, Long.class);</span>
<span class="9223263466746518830" onmouseenter="enter('9223263466746518830');" onmouseout="out('9223263466746518830');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +        query.setParameter(&quot;categoryId&quot;, category.getId());                                                       </span>
<span class="-4689954234772645667" onmouseenter="enter('-4689954234772645667');" onmouseout="out('-4689954234772645667');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +        query.setParameter(&quot;currentDate&quot;, getCurrentDateAfterFactoringInDateResolution());                        </span>
<span class="5915708249677748664" onmouseenter="enter('5915708249677748664');" onmouseout="out('5915708249677748664');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +        query.setHint(QueryHints.HINT_CACHEABLE, true);                                                           </span>
<span class="-4684098216235565787" onmouseenter="enter('-4684098216235565787');" onmouseout="out('-4684098216235565787');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 308 +        query.setHint(QueryHints.HINT_CACHE_REGION, &quot;query.Catalog&quot;);                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 309 +                                                                                                                  </span>
<span class="-5318016161907480331" onmouseenter="enter('-5318016161907480331');" onmouseout="out('-5318016161907480331');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 310 +        return query.getSingleResult();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 311 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            