<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>155</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    155
                    <a href="154.html">prev</a>
                    <a href="156.html">next</a>
                    <a href="155_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_49fa8befbd7cfe6eb217aa321a7ab150b4119af6_Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;49fa8befbd7cfe6eb217aa321a7ab150b4119af6:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;49fa8befbd7cfe6eb217aa321a7ab150b4119af6^1:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;49fa8befbd7cfe6eb217aa321a7ab150b4119af6^2:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;604432beb5628c170c1160ff7424a1816ec1a72d:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">   9 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  10 import android.support.annotation.NonNull;                                                               </span>
<span class="-1175395762947432016" onmouseenter="enter('-1175395762947432016');" onmouseout="out('-1175395762947432016');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  11 import android.support.v7.app.AlertDialog;                                                               </span>
<span class="-5711898256796180066" onmouseenter="enter('-5711898256796180066');" onmouseout="out('-5711898256796180066');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  12 import android.support.v7.widget.DividerItemDecoration;                                                  </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  13 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  14 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  15 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 import android.support.annotation.NonNull;                                                               </span>
<span class="-1175395762947432016" onmouseenter="enter('-1175395762947432016');" onmouseout="out('-1175395762947432016');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 import android.support.v7.app.AlertDialog;                                                               </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 import android.view.ActionMode;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 import android.view.Menu;                                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  21 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  22 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">  23 import android.view.ActionMode;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  24 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  25 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  26 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  27 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  28 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  29 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  30 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  31 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  32 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  33 import android.widget.TextView;                                                                          </span>
<span  style="">  34                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  35 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  36 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span  style="">  37                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  38 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  39 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  40 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  41 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  42 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  43 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  44 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  45 import com.simperium.client.Query;                                                                       </span>
<span  style="">  46                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  47 import java.util.List;                                                                                   </span>
<span  style="">  48                                                                                                          </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  49 public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {    </span>
<span  style="">  50                                                                                                          </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  51     private ActionMode mActionMode;                                                                      </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  52     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  53     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  54     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  55                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  56     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  57      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  58      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  59      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  60     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61     }                                                                                                    </span>
<span  style="">  62                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style=""><abbr title="  64     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {">  64     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceSðŸ”µ</abbr></span>
<span class="-6986796645507067760" onmouseenter="enter('-6986796645507067760');" onmouseout="out('-6986796645507067760');" style="">  65         View view = inflater.inflate(R.layout.fragment_tags_list, container, false);                     </span>
<span  style="">  66                                                                                                          </span>
<span class="5644034063134125316" onmouseenter="enter('5644034063134125316');" onmouseout="out('5644034063134125316');" style="">  67         TextView emptyTextView = view.findViewById(android.R.id.empty);                                  </span>
<span class="-1166834197706312513" onmouseenter="enter('-1166834197706312513');" onmouseout="out('-1166834197706312513');" style=""><abbr title="  68         emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));">  68         emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strðŸ”µ</abbr></span>
<span class="3345849580761087571" onmouseenter="enter('3345849580761087571');" onmouseout="out('3345849580761087571');" style="">  69         return view;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70     }                                                                                                    </span>
<span  style="">  71                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  72     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  73     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  74         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  75                                                                                                          </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  76         setHasOptionsMenu(true);                                                                         </span>
<span  style="">  77                                                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  78         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  79         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  80         mNotesBucket = application.getNotesBucket();                                                     </span>
<span  style="">  81                                                                                                          </span>
<span class="-797081848655809404" onmouseenter="enter('-797081848655809404');" onmouseout="out('-797081848655809404');" style="">  82         RecyclerView recyclerView = getActivity().findViewById(R.id.tagList);                            </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  83         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  84         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  85         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style=""><abbr title="  86         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  86         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDeðŸ”µ</abbr></span>
<span  style="">  87                                                                                                          </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  88         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89     }                                                                                                    </span>
<span  style="">  90                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  91     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  92     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  93         super.onResume();                                                                                </span>
<span  style="">  94                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  95         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  96         mTagsBucket.start();                                                                             </span>
<span  style="">  97                                                                                                          </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  98         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  99         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style=""> 100         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 101     }                                                                                                    </span>
<span  style=""> 102                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 103     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 104     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 105         super.onPause();                                                                                 </span>
<span  style=""> 106                                                                                                          </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style=""> 107         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style=""> 108         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style=""> 109         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span  style=""> 110                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 111         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 112         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113     }                                                                                                    </span>
<span  style=""> 114                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 115     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title=" 116         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);"> 116         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 117         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 118         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 121     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 122     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 123     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 124         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 125         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 126         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 127         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 130     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 131     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 132         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133     }                                                                                                    </span>
<span  style=""> 134                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 136     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 137         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 138             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 139             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 141         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142     }                                                                                                    </span>
<span  style=""> 143                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 145     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 146         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147     }                                                                                                    </span>
<span  style=""> 148                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 149     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 150     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span  style=""> 151                                                                                                          </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 152         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 153             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 154                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 155                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157         }                                                                                                </span>
<span  style=""> 158                                                                                                          </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 159         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span  style=""> 161                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 162     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 164     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 165         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 166             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 168                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 169                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 171             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173     }                                                                                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 175     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 176     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 177         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 178             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 179                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 180                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 181                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 183             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185     }                                                                                                    </span>
<span  style=""> 186                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 187     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 188     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 189         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 190             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 192                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 193                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 195             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 200     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 201         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 204     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span  style=""> 205                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 207         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 208             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 209             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 210                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 211                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 212                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 213                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 214                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 215                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 216                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 218                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 220             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span  style=""> 223                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 224     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span  style=""> 225                                                                                                          </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 226         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span  style=""> 227                                                                                                          </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 228             private TextView tagTitle;                                                                   </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 229             private TextView tagCountTextView;                                                           </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 230             private ImageButton deleteButton;                                                            </span>
<span  style=""> 231                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 232             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 233                 super(itemView);                                                                         </span>
<span  style=""> 234                                                                                                          </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 235                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 236                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 237                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span  style=""> 238                                                                                                          </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 239                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 240                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 241                     public void onClick(View view) {                                                     </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 242                         if (!isAdded()) return;                                                          </span>
<span  style=""> 243                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""><abbr title=" 244                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();"> 244                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObjeðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 245                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 245                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 246                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 247                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 248                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style=""> 249                             AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());          </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 250                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 251                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 252                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 253                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 254                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 256                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 257                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 258                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 259                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 261                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 262                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 265                 });                                                                                      </span>
<span  style=""> 266                                                                                                          </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 267                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268             }                                                                                            </span>
<span  style=""> 269                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 270             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 271             public void onClick(View view) {                                                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 272                 if (!isAdded()) return;                                                                  </span>
<span  style=""> 273                                                                                                          </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style=""> 274                 final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                </span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 275                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 275                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layouðŸ”µ</abbr></span>
<span  style=""> 276                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 277                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();   </span>
<span  style=""> 278                                                                                                          </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 279                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 280                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 281                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 282                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 283                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 284                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 285                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 286                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 287                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 288                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 289                             AnalyticsTracker.track(                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 290                                     AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                           </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 291                                     AnalyticsTracker.CATEGORY_TAG,                                       </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 292                                     &quot;tag_alert_edit_box&quot;                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 293                             );                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 294                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 295                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 296                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 299                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 300                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 301                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 302                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 304                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 305                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306             }                                                                                            </span>
<span  style=""> 307                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 308             private void deleteTag(Tag tag) {                                                            </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 309                 tag.delete();                                                                            </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 310                 new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 311                 AnalyticsTracker.track(                                                                  </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 312                         AnalyticsTracker.Stat.TAG_MENU_DELETED,                                          </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 313                         AnalyticsTracker.CATEGORY_TAG,                                                   </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 314                         &quot;list_trash_button&quot;                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 315                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317         }                                                                                                </span>
<span  style=""> 318                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 319         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 320             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321         }                                                                                                </span>
<span  style=""> 322                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 323         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 324         @Override                                                                                        </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 325         public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                  </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 326             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 327             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span  style=""> 328                                                                                                          </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 329             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span  style=""> 330                                                                                                          </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 331             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span  style=""> 333                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 334         @Override                                                                                        </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 335         public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                        </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 336             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 338             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 339             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 339             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 340             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 341                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 343                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345         }                                                                                                </span>
<span  style=""> 346                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 347         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 348         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 349             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-5711898256796180066" onmouseenter="enter('-5711898256796180066');" onmouseout="out('-5711898256796180066');" style="">   9 import android.support.v7.widget.DividerItemDecoration;                                                  </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  10 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  11 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">  12 import android.view.ActionMode;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  13 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  14 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  15 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  16 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  17 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  18 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  19 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  20 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  21 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  22 import android.widget.TextView;                                                                          </span>
<span  style="">  23                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  24 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  25 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span  style="">  26                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  27 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  28 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  29 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  30 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  31 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  32 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  33 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  34 import com.simperium.client.Query;                                                                       </span>
<span  style="">  35                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  36 import java.util.List;                                                                                   </span>
<span  style="">  37                                                                                                          </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  38 public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {    </span>
<span  style="">  39                                                                                                          </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  40     private ActionMode mActionMode;                                                                      </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  41     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  42     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  43     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  45     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  46      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  47      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  48      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  49     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  50         }                                                                                                </span>
<span  style="">  51                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  52     @Override                                                                                            </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style=""><abbr title="  53     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {">  53     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceSðŸ”µ</abbr></span>
<span class="-6986796645507067760" onmouseenter="enter('-6986796645507067760');" onmouseout="out('-6986796645507067760');" style="">  54         View view = inflater.inflate(R.layout.fragment_tags_list, container, false);                     </span>
<span  style="">  55                                                                                                          </span>
<span class="5644034063134125316" onmouseenter="enter('5644034063134125316');" onmouseout="out('5644034063134125316');" style="">  56         TextView emptyTextView = view.findViewById(android.R.id.empty);                                  </span>
<span class="-1166834197706312513" onmouseenter="enter('-1166834197706312513');" onmouseout="out('-1166834197706312513');" style=""><abbr title="  57         emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));">  57         emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strðŸ”µ</abbr></span>
<span class="3345849580761087571" onmouseenter="enter('3345849580761087571');" onmouseout="out('3345849580761087571');" style="">  58         return view;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  59     }                                                                                                    </span>
<span  style="">  60                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  61     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  62     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  63         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  64                                                                                                          </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  65         setHasOptionsMenu(true);                                                                         </span>
<span  style="">  66                                                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  67         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  68         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  69         mNotesBucket = application.getNotesBucket();                                                     </span>
<span  style="">  70                                                                                                          </span>
<span class="-797081848655809404" onmouseenter="enter('-797081848655809404');" onmouseout="out('-797081848655809404');" style="">  71         RecyclerView recyclerView = getActivity().findViewById(R.id.tagList);                            </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  72         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  73         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  74         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style=""><abbr title="  75         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  75         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDeðŸ”µ</abbr></span>
<span  style="">  76                                                                                                          </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  77         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78     }                                                                                                    </span>
<span  style="">  79                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  80     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  81     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  82         super.onResume();                                                                                </span>
<span  style="">  83                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  84         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  85         mTagsBucket.start();                                                                             </span>
<span  style="">  86                                                                                                          </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  87         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  88         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  89         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90     }                                                                                                    </span>
<span  style="">  91                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  93     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  94         super.onPause();                                                                                 </span>
<span  style="">  95                                                                                                          </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  96         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  97         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style="">  98         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span  style="">  99                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 100         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 101         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102     }                                                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 104     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title=" 105         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);"> 105         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 106         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 107         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108     }                                                                                                    </span>
<span  style=""> 109                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 110     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 112     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 113         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 114         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 115         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 116         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117     }                                                                                                    </span>
<span  style=""> 118                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 119     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 120     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 121         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122     }                                                                                                    </span>
<span  style=""> 123                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 124     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 125     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 126         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 127             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 128             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 130         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 134     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 135         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136     }                                                                                                    </span>
<span  style=""> 137                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 139     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span  style=""> 140                                                                                                          </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 141         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 142             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 143                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 144                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 145             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146         }                                                                                                </span>
<span  style=""> 147                                                                                                          </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 148         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149     }                                                                                                    </span>
<span  style=""> 150                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 151     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 152     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 153     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 154         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 155             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 157                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 158                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 160             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162     }                                                                                                    </span>
<span  style=""> 163                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 164     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 165     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 166         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 167             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 168                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 169                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 170                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 172             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174     }                                                                                                    </span>
<span  style=""> 175                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 176     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 177     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 178         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 179             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 181                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 182                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 184             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186     }                                                                                                    </span>
<span  style=""> 187                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 188     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 189     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 190         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span  style=""> 192                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 193     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span  style=""> 194                                                                                                          </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 195         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span  style=""> 196                                                                                                          </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 197             private TextView tagTitle;                                                                   </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 198             private TextView tagCountTextView;                                                           </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 199             private ImageButton deleteButton;                                                            </span>
<span  style=""> 200                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 201             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 202                 super(itemView);                                                                         </span>
<span  style=""> 203                                                                                                          </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 204                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 205                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 206                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 208                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 210                     public void onClick(View view) {                                                     </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 211                         if (!isAdded()) return;                                                          </span>
<span  style=""> 212                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""><abbr title=" 213                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();"> 213                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObjeðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 214                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 214                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 215                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 216                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 217                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style=""> 218                             AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());          </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 219                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 220                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 221                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 222                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 223                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 225                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 226                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 227                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 228                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 230                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 231                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 234                 });                                                                                      </span>
<span  style=""> 235                                                                                                          </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 236                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237             }                                                                                            </span>
<span  style=""> 238                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 239             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 240             public void onClick(View view) {                                                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 241                 if (!isAdded()) return;                                                                  </span>
<span  style=""> 242                                                                                                          </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style=""> 243                 final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                </span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 244                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 244                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layouðŸ”µ</abbr></span>
<span  style=""> 245                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 246                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();   </span>
<span  style=""> 247                                                                                                          </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 248                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 249                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 250                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 251                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 252                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 253                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 254                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 255                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 256                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 257                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 258                             AnalyticsTracker.track(                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 259                                     AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                           </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 260                                     AnalyticsTracker.CATEGORY_TAG,                                       </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 261                                     &quot;tag_alert_edit_box&quot;                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 262                             );                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 263                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 264                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 265                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 268                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 269                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 270                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 271                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 273                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 274                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275             }                                                                                            </span>
<span  style=""> 276                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 277             private void deleteTag(Tag tag) {                                                            </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 278                 tag.delete();                                                                            </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 279                 new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 280                 AnalyticsTracker.track(                                                                  </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 281                         AnalyticsTracker.Stat.TAG_MENU_DELETED,                                          </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 282                         AnalyticsTracker.CATEGORY_TAG,                                                   </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 283                         &quot;list_trash_button&quot;                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 284                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286         }                                                                                                </span>
<span  style=""> 287                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 288         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 289             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290         }                                                                                                </span>
<span  style=""> 291                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 292         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 293         @Override                                                                                        </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 294         public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                  </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 295             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 296             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span  style=""> 297                                                                                                          </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 298             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span  style=""> 299                                                                                                          </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 300             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301         }                                                                                                </span>
<span  style=""> 302                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 303         @Override                                                                                        </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 304         public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                        </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 305             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                    </span>
<span  style=""> 306                                                                                                          </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 307             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 308             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 308             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 309             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 310                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 311             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 312                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span  style=""> 315                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 316         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 317         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 318             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320     }                                                                                                    </span>
<span  style=""> 321                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 322     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span  style=""> 323                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 324         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 325         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 326             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 327             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 328                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 329                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 330                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 331                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 332                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 333                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 334                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 336                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 338             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341 }                                                                                                        </span>









</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-5711898256796180066" onmouseenter="enter('-5711898256796180066');" onmouseout="out('-5711898256796180066');" style="">   9 import android.support.v7.widget.DividerItemDecoration;                                                  </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  10 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  11 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">  12 import android.view.ActionMode;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  13 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  14 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  15 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  16 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  17 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  18 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  19 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  20 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  21 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  22 import android.widget.TextView;                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  23 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  24 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  25 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  26 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  27 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  28 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  29 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  30 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  31 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  32 import com.simperium.client.Query;                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  33 import java.util.List;                                                                                   </span>
<span  style="">  34                                                                                                          </span>
<span  style="">  35                                                                                                          </span>
<span class="8654598926887064957" onmouseenter="enter('8654598926887064957');" onmouseout="out('8654598926887064957');" style="">  36 public class TagsListFragment extends Fragment implements ActionMode.Callback , Bucket.Listener&lt;Tag&gt; {   </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  37     private ActionMode mActionMode;                                                                      </span>
<span  style="">  38                                                                                                          </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  39     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span  style="">  40                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  41     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span  style="">  42                                                                                                          </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  43     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  45     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  46      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  47      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  48      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  49     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  50     }                                                                                                    </span>
<span  style="">  51                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  52     @Override                                                                                            </span>
<span class="-5467678769290806465" onmouseenter="enter('-5467678769290806465');" onmouseout="out('-5467678769290806465');" style="">  53     public View onCreateView(@NonNull                                                                    </span>
<span class="-2940382649904418396" onmouseenter="enter('-2940382649904418396');" onmouseout="out('-2940382649904418396');" style="">  54     LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {                           </span>
<span class="-6986796645507067760" onmouseenter="enter('-6986796645507067760');" onmouseout="out('-6986796645507067760');" style="">  55         View view = inflater.inflate(R.layout.fragment_tags_list, container, false);                     </span>
<span class="5644034063134125316" onmouseenter="enter('5644034063134125316');" onmouseout="out('5644034063134125316');" style="">  56         TextView emptyTextView = view.findViewById(android.R.id.empty);                                  </span>
<span class="-913934402242610712" onmouseenter="enter('-913934402242610712');" onmouseout="out('-913934402242610712');" style=""><abbr title="  57         emptyTextView.setText(HtmlCompat.fromHtml((&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found)) + &quot;&lt;/strong&gt;&quot;));">  57         emptyTextView.setText(HtmlCompat.fromHtml((&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found)) + &quot;&lt;/sðŸ”µ</abbr></span>
<span class="3345849580761087571" onmouseenter="enter('3345849580761087571');" onmouseout="out('3345849580761087571');" style="">  58         return view;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  59     }                                                                                                    </span>
<span  style="">  60                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  61     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  62     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  63         super.onActivityCreated(savedInstanceState);                                                     </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  64         setHasOptionsMenu(true);                                                                         </span>
<span class="1018174203056851079" onmouseenter="enter('1018174203056851079');" onmouseout="out('1018174203056851079');" style="">  65         Simplenote application = ((Simplenote) (getActivity().getApplication()));                        </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  66         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  67         mNotesBucket = application.getNotesBucket();                                                     </span>
<span class="-797081848655809404" onmouseenter="enter('-797081848655809404');" onmouseout="out('-797081848655809404');" style="">  68         RecyclerView recyclerView = getActivity().findViewById(R.id.tagList);                            </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  69         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  70         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  71         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style=""><abbr title="  72         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  72         recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDeðŸ”µ</abbr></span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  73         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74     }                                                                                                    </span>
<span  style="">  75                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  76     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  77     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  78         super.onResume();                                                                                </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  79         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  80         mTagsBucket.start();                                                                             </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  81         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  82         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  83         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84     }                                                                                                    </span>
<span  style="">  85                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  87     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  88         super.onPause();                                                                                 </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  89         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  90         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style="">  91         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style="">  92         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style="">  93         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94     }                                                                                                    </span>
<span  style="">  95                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style="">  96     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title="  97         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);">  97         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style="">  98         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style="">  99         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 102     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 103     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 104     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 105         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 106         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 107         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 108         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109     }                                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 111     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 112     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 113         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 117     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 118         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 119             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 120             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 122         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 126     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 127         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 130     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 131     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 132         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 133             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 134                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 135                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137         }                                                                                                </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 138         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 141     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 142     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 143     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 144         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 145             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 146                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 147                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 148                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 150             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152     }                                                                                                    </span>
<span  style=""> 153                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 154     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 155     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 156         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 157             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 158                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 159                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 160                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 162             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164     }                                                                                                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 167     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 168         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 169             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 171                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 172                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 174             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span  style=""> 177                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 179     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 180         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 183     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 184         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 185         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 186             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 187             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 188                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 189                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 190                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 191                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 192                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 193                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 194                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 196                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 198             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200     }                                                                                                    </span>
<span  style=""> 201                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 202     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 203         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 204             private TextView tagTitle;                                                                   </span>
<span  style=""> 205                                                                                                          </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 206             private TextView tagCountTextView;                                                           </span>
<span  style=""> 207                                                                                                          </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 208             private ImageButton deleteButton;                                                            </span>
<span  style=""> 209                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 210             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 211                 super(itemView);                                                                         </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 212                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 213                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 214                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 215                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 217                     public void onClick(View view) {                                                     </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 218                         if (!isAdded()) {                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 219                             return;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220                         }                                                                                </span>
<span class="-2403963399139158157" onmouseenter="enter('-2403963399139158157');" onmouseout="out('-2403963399139158157');" style=""><abbr title=" 221                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getObject();"> 221                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getOðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 222                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 222                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 223                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 224                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 225                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style=""> 226                             AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());          </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 227                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 228                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 229                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 230                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 231                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 233                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 234                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 235                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 236                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 238                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 239                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 242                 });                                                                                      </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 243                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244             }                                                                                            </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 247             public void onClick(View view) {                                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 248                 if (!isAdded()) {                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 249                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250                 }                                                                                        </span>
<span class="7289912358466688223" onmouseenter="enter('7289912358466688223');" onmouseout="out('7289912358466688223');" style=""><abbr title=" 251                 final AlertDialog.Builder alert = new android.support.v7.app.AlertDialog.Builder(getActivity());"> 251                 final AlertDialog.Builder alert = new android.support.v7.app.AlertDialog.Builder(getActivðŸ”µ</abbr></span>
<span class="-1712768939122158882" onmouseenter="enter('-1712768939122158882');" onmouseout="out('-1712768939122158882');" style=""><abbr title=" 252                 LinearLayout alertView = ((LinearLayout) (getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null)));"> 252                 LinearLayout alertView = ((LinearLayout) (getActivity().getLayoutInflater().inflate(R.layðŸ”µ</abbr></span>
<span class="-2403963399139158157" onmouseenter="enter('-2403963399139158157');" onmouseout="out('-2403963399139158157');" style=""> 253                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getObject();</span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 254                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 255                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 256                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 257                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 258                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 259                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 260                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 261                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 262                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 263                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="3099152705005215757" onmouseenter="enter('3099152705005215757');" onmouseout="out('3099152705005215757');" style=""><abbr title=" 264                             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTracker.CATEGORY_TAG, &quot;tag_alert_edit_box&quot;);"> 264                             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTrðŸ”µ</abbr></span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 265                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 266                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 267                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 270                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 271                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 272                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 273                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 275                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 276                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277             }                                                                                            </span>
<span  style=""> 278                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 279         private void deleteTag(Tag tag) {                                                                </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 280             tag.delete();                                                                                </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 281             new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);         </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 282             AnalyticsTracker.track(                                                                      </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 283                     AnalyticsTracker.Stat.TAG_MENU_DELETED,                                              </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 284                     AnalyticsTracker.CATEGORY_TAG,                                                       </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 285                     &quot;list_trash_button&quot;                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 286             );                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288         }                                                                                                </span>
<span  style=""> 289                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 290         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 291             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span  style=""> 293                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 294         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 295         @Override                                                                                        </span>
<span class="3728036627336498319" onmouseenter="enter('3728036627336498319');" onmouseout="out('3728036627336498319');" style=""> 296         public ViewHolder onCreateViewHolder(@NonNull                                                    </span>
<span class="-3646556293722289677" onmouseenter="enter('-3646556293722289677');" onmouseout="out('-3646556293722289677');" style=""> 297         ViewGroup parent, int viewType) {                                                                </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 298             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 299             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 300             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 301             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302         }                                                                                                </span>
<span  style=""> 303                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 304         @Override                                                                                        </span>
<span class="4455474049610786379" onmouseenter="enter('4455474049610786379');" onmouseout="out('4455474049610786379');" style=""> 305         public void onBindViewHolder(@NonNull                                                            </span>
<span class="1048394835474753434" onmouseenter="enter('1048394835474753434');" onmouseout="out('1048394835474753434');" style=""> 306         ViewHolder holder, Cursor cursor) {                                                              </span>
<span class="-2918507065371985451" onmouseenter="enter('-2918507065371985451');" onmouseout="out('-2918507065371985451');" style=""> 307             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (cursor)).getObject();                                 </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 308             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 309             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 309             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 310             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 311                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 312             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 313                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315         }                                                                                                </span>
<span  style=""> 316                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 317         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 318         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 319             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322 }                                                                                                        </span>




























</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="3363003358985456451" onmouseenter="enter('3363003358985456451');" onmouseout="out('3363003358985456451');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 -import android.app.ListFragment;                                                                                  </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   4 +import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   5  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6  import android.content.DialogInterface;                                                                           </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   7  import android.database.Cursor;                                                                                   </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   8  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   9  import android.os.Bundle;                                                                                         </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="">  10  import android.support.annotation.NonNull;                                                                        </span>
<span class="-1175395762947432016" onmouseenter="enter('-1175395762947432016');" onmouseout="out('-1175395762947432016');" style="">  11  import android.support.v7.app.AlertDialog;                                                                        </span>
<span class="-5711898256796180066" onmouseenter="enter('-5711898256796180066');" onmouseout="out('-5711898256796180066');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +import android.support.v7.widget.DividerItemDecoration;                                                           </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 +import android.support.v7.widget.LinearLayoutManager;                                                             </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 +import android.support.v7.widget.RecyclerView;                                                                    </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">  15  import android.view.ActionMode;                                                                                   </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  16  import android.view.LayoutInflater;                                                                               </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  17  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  18  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  19  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  20  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  21  import android.view.ViewGroup;                                                                                    </span>
<span class="8298308471536083466" onmouseenter="enter('8298308471536083466');" onmouseout="out('8298308471536083466');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -import android.widget.AbsListView;                                                                                </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -import android.widget.AdapterView;                                                                                </span>
<span class="5634491474902588492" onmouseenter="enter('5634491474902588492');" onmouseout="out('5634491474902588492');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -import android.widget.CursorAdapter;                                                                              </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  25  import android.widget.EditText;                                                                                   </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  26  import android.widget.ImageButton;                                                                                </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  27  import android.widget.LinearLayout;                                                                               </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import android.widget.ListView;                                                                                   </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  29  import android.widget.TextView;                                                                                   </span>



<span  style="">  30                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  31  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  32  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  33  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 +import com.automattic.simplenote.utils.BaseCursorAdapter;                                                         </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  35  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  36  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  37  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  38  import com.simperium.client.Query;                                                                                </span>
<span  style="">  39                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  40  import java.util.List;                                                                                            </span>
<span  style="">  41                                                                                                                    </span>
<span class="-152769991887114183" onmouseenter="enter('-152769991887114183');" onmouseout="out('-152769991887114183');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  42 -public class TagsListFragment extends ListFragment implements AdapterView.OnItemClickListener, ActionMode.Callback, AbsListView.MultiChoiceModeListener, AdapterView.OnItemLongClickListener, Bucket.Listener&lt;Tag&gt; {">  42 -public class TagsListFragment extends ListFragment implements AdapterView.OnItemClickListener, ActionMode.CallbackðŸ”µ</abbr></span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {             </span>
<span  style="">  44                                                                                                                    </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  45      private ActionMode mActionMode;                                                                               </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  46      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  47      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  48      private TagsAdapter mTagsAdapter;                                                                             </span>
<span  style="">  49                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  50      /**                                                                                                           </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  51       * Mandatory empty constructor for the fragment manager to instantiate the                                    </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  52       * fragment (e.g. upon screen orientation changes).                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53       */                                                                                                           </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  54      public TagsListFragment() {                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  55      }                                                                                                             </span>
<span  style="">  56                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  57      @Override                                                                                                     </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style="">  58      public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="-6986796645507067760" onmouseenter="enter('-6986796645507067760');" onmouseout="out('-6986796645507067760');" style="">  59          View view = inflater.inflate(R.layout.fragment_tags_list, container, false);                              </span>
<span  style="">  60                                                                                                                    </span>
<span class="5644034063134125316" onmouseenter="enter('5644034063134125316');" onmouseout="out('5644034063134125316');" style="">  61          TextView emptyTextView = view.findViewById(android.R.id.empty);                                           </span>
<span class="-1166834197706312513" onmouseenter="enter('-1166834197706312513');" onmouseout="out('-1166834197706312513');" style="">  62          emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;)); </span>
<span class="3345849580761087571" onmouseenter="enter('3345849580761087571');" onmouseout="out('3345849580761087571');" style="">  63          return view;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  64      }                                                                                                             </span>
<span  style="">  65                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  66      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  67      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  68          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  69                                                                                                                    </span>
<span class="-9089163939562981150" onmouseenter="enter('-9089163939562981150');" onmouseout="out('-9089163939562981150');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -        ListView listView = getListView();                                                                        </span>
<span class="-3317629933202128972" onmouseenter="enter('-3317629933202128972');" onmouseout="out('-3317629933202128972');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -        listView.setMultiChoiceModeListener(this);                                                                </span>
<span class="2322260269427377635" onmouseenter="enter('2322260269427377635');" onmouseout="out('2322260269427377635');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -        listView.setOnItemClickListener(this);                                                                    </span>
<span class="-6901644183807506258" onmouseenter="enter('-6901644183807506258');" onmouseout="out('-6901644183807506258');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -        // Disabling long press CAB action for now since bulk deleting is incomplete                              </span>
<span class="-2975624850084730734" onmouseenter="enter('-2975624850084730734');" onmouseout="out('-2975624850084730734');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -        // listView.setOnItemLongClickListener(this);                                                             </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  75          setHasOptionsMenu(true);                                                                                  </span>
<span  style="">  76                                                                                                                    </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  77          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  78          mTagsBucket = application.getTagsBucket();                                                                </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  79          mNotesBucket = application.getNotesBucket();                                                              </span>
<span  style="">  80                                                                                                                    </span>
<span class="-5670144245724332576" onmouseenter="enter('-5670144245724332576');" onmouseout="out('-5670144245724332576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -        mTagsAdapter = new TagsAdapter(getActivity().getBaseContext(), null, 0);                                  </span>
<span class="4241689774280081988" onmouseenter="enter('4241689774280081988');" onmouseout="out('4241689774280081988');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -        setListAdapter(mTagsAdapter);                                                                             </span>
<span class="-797081848655809404" onmouseenter="enter('-797081848655809404');" onmouseout="out('-797081848655809404');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +        RecyclerView recyclerView = getActivity().findViewById(R.id.tagList);                                     </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +        mTagsAdapter = new TagsAdapter();                                                                         </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +        recyclerView.setAdapter(mTagsAdapter);                                                                    </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                                    </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  87 +        recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  87 +        recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.ðŸ”µ</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +                                                                                                                  </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  89          refreshTags();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  90      }                                                                                                             </span>
<span  style="">  91                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  92      @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  93      public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  94          super.onResume();                                                                                         </span>
<span  style="">  95                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  96          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  97          mTagsBucket.start();                                                                                      </span>
<span  style="">  98                                                                                                                    </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  99          mTagsBucket.addOnNetworkChangeListener(this);                                                             </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style=""> 100          mTagsBucket.addOnSaveObjectListener(this);                                                                </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style=""> 101          mTagsBucket.addOnDeleteObjectListener(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 102      }                                                                                                             </span>
<span  style=""> 103                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 104      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 105      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 106          super.onPause();                                                                                          </span>
<span  style=""> 107                                                                                                                    </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style=""> 108          mTagsBucket.removeOnNetworkChangeListener(this);                                                          </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style=""> 109          mTagsBucket.removeOnSaveObjectListener(this);                                                             </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style=""> 110          mTagsBucket.removeOnDeleteObjectListener(this);                                                           </span>
<span  style=""> 111                                                                                                                    </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 112          mNotesBucket.stop();                                                                                      </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 113          mTagsBucket.stop();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114      }                                                                                                             </span>
<span  style=""> 115                                                                                                                    </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 116      protected void refreshTags() {                                                                                </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""> 117          Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);     </span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 118          Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                                     </span>
<span class="7446509202990191395" onmouseenter="enter('7446509202990191395');" onmouseout="out('7446509202990191395');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 119 -        mTagsAdapter.changeCursor(cursor);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 120 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 121 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -    @Override                                                                                                     </span>
<span class="-7871946035850126704" onmouseenter="enter('-7871946035850126704');" onmouseout="out('-7871946035850126704');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -    public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int row, long l) {                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -        if (!isAdded()) return;                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 125 -                                                                                                                  </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -        final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                                 </span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 127 -        LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 127 -        LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null)ðŸ”µ</abbr></span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 128 -                                                                                                                  </span>
<span class="-4699786447840580319" onmouseenter="enter('-4699786447840580319');" onmouseout="out('-4699786447840580319');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 129 -        final Tag tag = mTagsAdapter.getItem(row);                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 130 -                                                                                                                  </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -        final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);                              </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 132 -        tagNameEditText.setText(tag.getName());                                                                   </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 133 -        tagNameEditText.setSelection(tagNameEditText.length());                                                   </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -        alert.setView(alertView);                                                                                 </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -        alert.setTitle(R.string.rename_tag);                                                                      </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -        alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -            public void onClick(DialogInterface dialog, int whichButton) {                                        </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -                String value = tagNameEditText.getText().toString().trim();                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -                try {                                                                                             </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -                    tag.renameTo(value, mNotesBucket);                                                            </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -                    AnalyticsTracker.track(                                                                       </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -                            AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                            </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -                            AnalyticsTracker.CATEGORY_TAG,                                                        </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -                            &quot;tag_alert_edit_box&quot;                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -                    );                                                                                            </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -                } catch (BucketObjectNameInvalid e) {                                                             </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -                    android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -                    // TODO: show user a message that new tag name is not ok                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -        });                                                                                                       </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -        alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {                          </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -            public void onClick(DialogInterface dialog, int whichButton) {                                        </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -                // Do nothing                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -        });                                                                                                       </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -        alert.show();                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -                                                                                                                  </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +        mTagsAdapter.swapCursor(cursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160      }                                                                                                             </span>
<span  style=""> 161                                                                                                                    </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 162      // TODO: Finish bulk editing                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163      @Override                                                                                                     </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 164      public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                         </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 165          MenuInflater inflater = actionMode.getMenuInflater();                                                     </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 166          inflater.inflate(R.menu.bulk_edit, menu);                                                                 </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 167          mActionMode = actionMode;                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 168          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169      }                                                                                                             </span>
<span  style=""> 170                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 171      @Override                                                                                                     </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 172      public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 173          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174      }                                                                                                             </span>
<span  style=""> 175                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 176      @Override                                                                                                     </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 177      public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                                </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 178          if (menuItem.getItemId() == R.id.menu_delete) {                                                           </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 179              actionMode.finish(); // Action picked, so close the CAB                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 180              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 182          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183      }                                                                                                             </span>
<span  style=""> 184                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185      @Override                                                                                                     </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 186      public void onDestroyActionMode(ActionMode actionMode) {                                                      </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 187          mActionMode = null;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 188 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 189 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 190 -    @Override                                                                                                     </span>
<span class="5067835035841722244" onmouseenter="enter('5067835035841722244');" onmouseout="out('5067835035841722244');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 191 -    public void onItemCheckedStateChanged(ActionMode actionMode, int i, long l, boolean b) {                      </span>
<span class="3095382717862724025" onmouseenter="enter('3095382717862724025');" onmouseout="out('3095382717862724025');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -        final int checkedCount = getListView().getCheckedItemCount();                                             </span>
<span class="5977243856713192668" onmouseenter="enter('5977243856713192668');" onmouseout="out('5977243856713192668');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -        switch (checkedCount) {                                                                                   </span>
<span class="-5990352835943936653" onmouseenter="enter('-5990352835943936653');" onmouseout="out('-5990352835943936653');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 194 -            case 0:                                                                                               </span>
<span class="-6824368476797108146" onmouseenter="enter('-6824368476797108146');" onmouseout="out('-6824368476797108146');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 195 -                actionMode.setSubtitle(null);                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -                break;                                                                                            </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -            case 1:                                                                                               </span>
<span class="-7507435092125162824" onmouseenter="enter('-7507435092125162824');" onmouseout="out('-7507435092125162824');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -                actionMode.setSubtitle(&quot;One item selected&quot;);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -                break;                                                                                            </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 200 -            default:                                                                                              </span>
<span class="-6569179487897728803" onmouseenter="enter('-6569179487897728803');" onmouseout="out('-6569179487897728803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 201 -                actionMode.setSubtitle(&quot;&quot; + checkedCount + &quot; items selected&quot;);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -                break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 203 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 205 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 206 -    @Override                                                                                                     </span>
<span class="-8842924157968021883" onmouseenter="enter('-8842924157968021883');" onmouseout="out('-8842924157968021883');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 207 -    public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {                 </span>
<span class="3510300597542862136" onmouseenter="enter('3510300597542862136');" onmouseout="out('3510300597542862136');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -        getListView().setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL);                                         </span>
<span class="-1084404285042085247" onmouseenter="enter('-1084404285042085247');" onmouseout="out('-1084404285042085247');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 209 -        getListView().setItemChecked(position, true);                                                             </span>
<span class="-8699656759287297113" onmouseenter="enter('-8699656759287297113');" onmouseout="out('-8699656759287297113');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 210 -        if (isAdded() &amp;&amp; mActionMode == null) {                                                                   </span>
<span class="-4007475450960846247" onmouseenter="enter('-4007475450960846247');" onmouseout="out('-4007475450960846247');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -            getActivity().startActionMode(this);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -        }                                                                                                         </span>
<span class="-7337692346201437317" onmouseenter="enter('-7337692346201437317');" onmouseout="out('-7337692346201437317');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -        //isCABDestroyed = false;                                                                                 </span>
<span class="966672162172813564" onmouseenter="enter('966672162172813564');" onmouseout="out('966672162172813564');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 214 -        return false; // so this action does not consume the event!!!                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215      }                                                                                                             </span>
<span  style=""> 216                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 218      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span  style=""> 219                                                                                                                    </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 220          if (item.getItemId() == android.R.id.home) {                                                              </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 221              if (isAdded()) {                                                                                      </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 222                  getActivity().finish();                                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 223                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225          }                                                                                                         </span>
<span  style=""> 226                                                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 227          return super.onOptionsItemSelected(item);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228      }                                                                                                             </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 230      // Tag Bucket listeners                                                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231      @Override                                                                                                     </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 232      public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                  </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 233          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 234              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 235                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 236                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 237                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 239              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241      }                                                                                                             </span>
<span  style=""> 242                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243      @Override                                                                                                     </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 244      public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 245          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 246              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 248                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 249                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 251              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253      }                                                                                                             </span>
<span  style=""> 254                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 255      @Override                                                                                                     </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 256      public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                    </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 257          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 258              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 259                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 260                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 261                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 263              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265      }                                                                                                             </span>
<span  style=""> 266                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 267      @Override                                                                                                     </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 268      public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                            </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 269          // noop                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 271 -                                                                                                                  </span>
<span class="-2754220613026931454" onmouseenter="enter('-2754220613026931454');" onmouseout="out('-2754220613026931454');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 272 -    private class TagsAdapter extends CursorAdapter {                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 273 -                                                                                                                  </span>
<span class="-4046164790922706694" onmouseenter="enter('-4046164790922706694');" onmouseout="out('-4046164790922706694');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 274 -        private Bucket.ObjectCursor&lt;Tag&gt; mCursor;                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 275 -                                                                                                                  </span>
<span class="-3881824047007024390" onmouseenter="enter('-3881824047007024390');" onmouseout="out('-3881824047007024390');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 276 -        TagsAdapter(Context context, Bucket.ObjectCursor&lt;Tag&gt; c, int flags) {                                     </span>
<span class="4475640358278384962" onmouseenter="enter('4475640358278384962');" onmouseout="out('4475640358278384962');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 277 -            super(context, c, flags);                                                                             </span>
<span class="-6225947996727404464" onmouseenter="enter('-6225947996727404464');" onmouseout="out('-6225947996727404464');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 278 -            mCursor = c;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 279 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 280 -                                                                                                                  </span>
<span class="-8213294645336279480" onmouseenter="enter('-8213294645336279480');" onmouseout="out('-8213294645336279480');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 281 -        void changeCursor(Bucket.ObjectCursor&lt;Tag&gt; cursor) {                                                      </span>
<span class="-1782999507280862726" onmouseenter="enter('-1782999507280862726');" onmouseout="out('-1782999507280862726');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 282 -            super.changeCursor(cursor);                                                                           </span>
<span class="5842055254565452007" onmouseenter="enter('5842055254565452007');" onmouseout="out('5842055254565452007');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 283 -            mCursor = cursor;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 284 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 285 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 286 -        @Override                                                                                                 </span>
<span class="2898556115509730489" onmouseenter="enter('2898556115509730489');" onmouseout="out('2898556115509730489');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 287 -        public Tag getItem(int row) {                                                                             </span>
<span class="7290643495577853118" onmouseenter="enter('7290643495577853118');" onmouseout="out('7290643495577853118');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 288 -            super.getItem(row);                                                                                   </span>
<span class="-9064184092399275635" onmouseenter="enter('-9064184092399275635');" onmouseout="out('-9064184092399275635');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 289 -            return mCursor.getObject();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 290 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 291 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 292 -        @Override                                                                                                 </span>
<span class="2293699050074188816" onmouseenter="enter('2293699050074188816');" onmouseout="out('2293699050074188816');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 293 -        public View getView(final int position, View convertView, ViewGroup parent) {                             </span>
<span class="7685616133980151702" onmouseenter="enter('7685616133980151702');" onmouseout="out('7685616133980151702');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 294 -            mCursor.moveToPosition(position);                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 295 -                                                                                                                  </span>
<span class="4181524603843345875" onmouseenter="enter('4181524603843345875');" onmouseout="out('4181524603843345875');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 296 -            if (convertView == null) {                                                                            </span>
<span class="4099718954321974270" onmouseenter="enter('4099718954321974270');" onmouseout="out('4099718954321974270');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 297 -                convertView = getActivity().getLayoutInflater().inflate(R.layout.tags_list_row, null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 298 -            }                                                                                                     </span>
<span class="7496101153174194655" onmouseenter="enter('7496101153174194655');" onmouseout="out('7496101153174194655');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 299 -            final Tag tag = mCursor.getObject();                                                                  </span>
<span class="-2493889343908532496" onmouseenter="enter('-2493889343908532496');" onmouseout="out('-2493889343908532496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 300 -            convertView.setTag(tag.getSimperiumKey());                                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 301 -                                                                                                                  </span>
<span class="-6159058936195629094" onmouseenter="enter('-6159058936195629094');" onmouseout="out('-6159058936195629094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 302 -            TextView tagTitle = convertView.findViewById(R.id.tag_name);                                          </span>
<span class="-7425551292470450270" onmouseenter="enter('-7425551292470450270');" onmouseout="out('-7425551292470450270');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 303 -            TextView tagCountTextView = convertView.findViewById(R.id.tag_count);                                 </span>
<span class="-5543261251486785747" onmouseenter="enter('-5543261251486785747');" onmouseout="out('-5543261251486785747');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 304 -            tagTitle.setText(tag.getName());                                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 305 -            final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 305 -            final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).ðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 306 -            if (tagCount &gt; 0) {                                                                                   </span>
<span class="-7832587411623783541" onmouseenter="enter('-7832587411623783541');" onmouseout="out('-7832587411623783541');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 307 -                tagCountTextView.setText(String.valueOf(tagCount));                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 308 -            } else {                                                                                              </span>
<span class="-7896946325255357722" onmouseenter="enter('-7896946325255357722');" onmouseout="out('-7896946325255357722');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 309 -                tagCountTextView.setText(&quot;&quot;);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 310 -            }                                                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 311 -                                                                                                                  </span>
<span class="1094393396899203785" onmouseenter="enter('1094393396899203785');" onmouseout="out('1094393396899203785');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 312 -            ImageButton deleteButton = convertView.findViewById(R.id.tag_trash);                                  </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 313 -            deleteButton.setOnClickListener(new View.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 314 -                @Override                                                                                         </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 315 -                public void onClick(View view) {                                                                  </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 316 -                    if (!isAdded()) return;                                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 317 -                                                                                                                  </span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 318 -                    if (tagCount == 0) {                                                                          </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 319 -                        deleteTag(tag);                                                                           </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -                    } else if (tagCount &gt; 0) {                                                                    </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 321 -                        AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                       </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 322 -                        alert.setTitle(R.string.delete_tag);                                                      </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 323 -                        alert.setMessage(getString(R.string.confirm_delete_tag));                                 </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 324 -                        alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 325 -                            public void onClick(DialogInterface dialog, int whichButton) {                        </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 326 -                                deleteTag(tag);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 327 -                            }                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 328 -                        });                                                                                       </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 329 -                        alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {              </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 330 -                            public void onClick(DialogInterface dialog, int whichButton) {                        </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 331 -                                // Do nothing, just closing the dialog                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 332 -                            }                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 333 -                        });                                                                                       </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 334 -                        alert.show();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 336 -                }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 337 -            });                                                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 338 -                                                                                                                  </span>
<span class="2451306768777979572" onmouseenter="enter('2451306768777979572');" onmouseout="out('2451306768777979572');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 339 -            return convertView;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 340 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 341 -                                                                                                                  </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 342 -        private void deleteTag(Tag tag) {                                                                         </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 343 -            tag.delete();                                                                                         </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 344 -            new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);                  </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 345 -            AnalyticsTracker.track(                                                                               </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 346 -                    AnalyticsTracker.Stat.TAG_MENU_DELETED,                                                       </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 347 -                    AnalyticsTracker.CATEGORY_TAG,                                                                </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 348 -                    &quot;list_trash_button&quot;                                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 349 -            );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 350 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 351 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 352 -        @Override                                                                                                 </span>
<span class="-1050354018022547806" onmouseenter="enter('-1050354018022547806');" onmouseout="out('-1050354018022547806');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 353 -        public View newView(Context context, Cursor cursor, ViewGroup viewGroup) {                                </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 354 -            return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 355 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 356 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 357 -        @Override                                                                                                 </span>
<span class="19024103499623332" onmouseenter="enter('19024103499623332');" onmouseout="out('19024103499623332');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 358 -        public void bindView(View view, Context context, Cursor cursor) {                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 359 -                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 360 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 361      }                                                                                                             </span>
<span  style=""> 362                                                                                                                    </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 363      private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                                     </span>
<span  style=""> 364                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 365          @Override                                                                                                 </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 366          protected Void doInBackground(Tag... removedTags) {                                                       </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 367              Tag tag = removedTags[0];                                                                             </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 368              if (tag != null) {                                                                                    </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 369                  Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                              </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 370                  while (notesCursor.moveToNext()) {                                                                </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 371                      Note note = notesCursor.getObject();                                                          </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 372                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 373                      tags.remove(tag.getName());                                                                   </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 374                      note.setTags(tags);                                                                           </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 375                      note.save();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376                  }                                                                                                 </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 377                  notesCursor.close();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 379              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 382 +                                                                                                                  </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 383 +    private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 384 +                                                                                                                  </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 385 +        public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 386 +                                                                                                                  </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 387 +            private TextView tagTitle;                                                                            </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 388 +            private TextView tagCountTextView;                                                                    </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 389 +            private ImageButton deleteButton;                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 390 +                                                                                                                  </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 391 +            private ViewHolder(View itemView) {                                                                   </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 392 +                super(itemView);                                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 393 +                                                                                                                  </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 394 +                tagTitle = itemView.findViewById(R.id.tag_name);                                                  </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 395 +                tagCountTextView = itemView.findViewById(R.id.tag_count);                                         </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 396 +                deleteButton = itemView.findViewById(R.id.tag_trash);                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 397 +                                                                                                                  </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 398 +                deleteButton.setOnClickListener(new View.OnClickListener() {                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 399 +                    @Override                                                                                     </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 400 +                    public void onClick(View view) {                                                              </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 401 +                        if (!isAdded()) return;                                                                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 402 +                                                                                                                  </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 403 +                        final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();    </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 404 +                        final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 404 +                        final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tagðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 405 +                        if (tagCount == 0) {                                                                      </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 406 +                            deleteTag(tag);                                                                       </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 407 +                        } else if (tagCount &gt; 0) {                                                                </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 408 +                            AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                   </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 409 +                            alert.setTitle(R.string.delete_tag);                                                  </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 410 +                            alert.setMessage(getString(R.string.confirm_delete_tag));                             </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 411 +                            alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 412 +                                public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 413 +                                    deleteTag(tag);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 414 +                                }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 415 +                            });                                                                                   </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 416 +                            alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {          </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 417 +                                public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +                                    // Do nothing, just closing the dialog                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +                                }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +                            });                                                                                   </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +                            alert.show();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 422 +                        }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 423 +                    }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 424 +                });                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 425 +                                                                                                                  </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +                itemView.setOnClickListener(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 427 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 428 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 429 +            @Override                                                                                             </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 430 +            public void onClick(View view) {                                                                      </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 431 +                if (!isAdded()) return;                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 432 +                                                                                                                  </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +                final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                         </span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 434 +                LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 434 +                LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_taðŸ”µ</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 435 +                                                                                                                  </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 436 +                final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 437 +                                                                                                                  </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 438 +                final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);                      </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 439 +                tagNameEditText.setText(tag.getName());                                                           </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 440 +                tagNameEditText.setSelection(tagNameEditText.length());                                           </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 441 +                alert.setView(alertView);                                                                         </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 442 +                alert.setTitle(R.string.rename_tag);                                                              </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 443 +                alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                    </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 444 +                    public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 445 +                        String value = tagNameEditText.getText().toString().trim();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 446 +                        try {                                                                                     </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 447 +                            tag.renameTo(value, mNotesBucket);                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 448 +                            AnalyticsTracker.track(                                                               </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 449 +                                    AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                    </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 450 +                                    AnalyticsTracker.CATEGORY_TAG,                                                </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 451 +                                    &quot;tag_alert_edit_box&quot;                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 452 +                            );                                                                                    </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 453 +                        } catch (BucketObjectNameInvalid e) {                                                     </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 454 +                            android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                        </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 455 +                            // TODO: show user a message that new tag name is not ok                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 456 +                        }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 457 +                    }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 458 +                });                                                                                               </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 459 +                alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {                  </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 460 +                    public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 461 +                        // Do nothing                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 462 +                    }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 463 +                });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 464 +                alert.show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 465 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 466 +                                                                                                                  </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 467 +            private void deleteTag(Tag tag) {                                                                     </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 468 +                tag.delete();                                                                                     </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 469 +                new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 470 +                AnalyticsTracker.track(                                                                           </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 471 +                        AnalyticsTracker.Stat.TAG_MENU_DELETED,                                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 472 +                        AnalyticsTracker.CATEGORY_TAG,                                                            </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 473 +                        &quot;list_trash_button&quot;                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 474 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 475 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 476 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 477 +                                                                                                                  </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 478 +        private TagsAdapter() {                                                                                   </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 479 +            super(null);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 480 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 481 +                                                                                                                  </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 482 +        @NonNull                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 483 +        @Override                                                                                                 </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 484 +        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                           </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 485 +            Context context = parent.getContext();                                                                </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 486 +            LayoutInflater inflater = LayoutInflater.from(context);                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 487 +                                                                                                                  </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 488 +            View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 489 +                                                                                                                  </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 490 +            return new ViewHolder(contactView);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 491 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 492 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 493 +        @Override                                                                                                 </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 494 +        public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                                 </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 495 +            Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 496 +                                                                                                                  </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 497 +            holder.tagTitle.setText(tag.getName());                                                               </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 498 +            final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 498 +            final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).ðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 499 +            if (tagCount &gt; 0) {                                                                                   </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 500 +                holder.tagCountTextView.setText(String.valueOf(tagCount));                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 501 +            } else {                                                                                              </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 502 +                holder.tagCountTextView.setText(&quot;&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 503 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 504 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 505 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 506 +        @Override                                                                                                 </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 507 +        public void swapCursor(Cursor newCursor) {                                                                </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 508 +            super.swapCursor(newCursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 509 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 510 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="3363003358985456451" onmouseenter="enter('3363003358985456451');" onmouseout="out('3363003358985456451');" style="">   3  import android.app.ListFragment;                                                                                  </span>

<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6  import android.database.Cursor;                                                                                   </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8  import android.os.Bundle;                                                                                         </span>
<span class="-2370850629707943459" onmouseenter="enter('-2370850629707943459');" onmouseout="out('-2370850629707943459');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   9 -import android.support.annotation.NonNull;                                                                        </span>
<span class="-1175395762947432016" onmouseenter="enter('-1175395762947432016');" onmouseout="out('-1175395762947432016');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 -import android.support.v7.app.AlertDialog;                                                                        </span>



<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">  11  import android.view.ActionMode;                                                                                   </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  12  import android.view.LayoutInflater;                                                                               </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  13  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  14  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  15  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  16  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  17  import android.view.ViewGroup;                                                                                    </span>
<span class="8298308471536083466" onmouseenter="enter('8298308471536083466');" onmouseout="out('8298308471536083466');" style="">  18  import android.widget.AbsListView;                                                                                </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  19  import android.widget.AdapterView;                                                                                </span>
<span class="5634491474902588492" onmouseenter="enter('5634491474902588492');" onmouseout="out('5634491474902588492');" style="">  20  import android.widget.CursorAdapter;                                                                              </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  21  import android.widget.EditText;                                                                                   </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  22  import android.widget.ImageButton;                                                                                </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  23  import android.widget.LinearLayout;                                                                               </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  24  import android.widget.ListView;                                                                                   </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  25  import android.widget.TextView;                                                                                   </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +                                                                                                                  </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import androidx.annotation.NonNull;                                                                               </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span  style="">  29                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  30  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32  import com.automattic.simplenote.models.Tag;                                                                      </span>

<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  33  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  34  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  35  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  36  import com.simperium.client.Query;                                                                                </span>
<span  style="">  37                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  38  import java.util.List;                                                                                            </span>
<span  style="">  39                                                                                                                    </span>
<span class="-152769991887114183" onmouseenter="enter('-152769991887114183');" onmouseout="out('-152769991887114183');" style=""><abbr title="  40  public class TagsListFragment extends ListFragment implements AdapterView.OnItemClickListener, ActionMode.Callback, AbsListView.MultiChoiceModeListener, AdapterView.OnItemLongClickListener, Bucket.Listener&lt;Tag&gt; {">  40  public class TagsListFragment extends ListFragment implements AdapterView.OnItemClickListener, ActionMode.CallbackðŸ”µ</abbr></span>

<span  style="">  41                                                                                                                    </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  42      private ActionMode mActionMode;                                                                               </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  43      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  44      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  45      private TagsAdapter mTagsAdapter;                                                                             </span>
<span  style="">  46                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  47      /**                                                                                                           </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  48       * Mandatory empty constructor for the fragment manager to instantiate the                                    </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  49       * fragment (e.g. upon screen orientation changes).                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50       */                                                                                                           </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  51      public TagsListFragment() {                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  52      }                                                                                                             </span>
<span  style="">  53                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  54      @Override                                                                                                     </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style="">  55      public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="-6986796645507067760" onmouseenter="enter('-6986796645507067760');" onmouseout="out('-6986796645507067760');" style="">  56          View view = inflater.inflate(R.layout.fragment_tags_list, container, false);                              </span>
<span  style="">  57                                                                                                                    </span>
<span class="5644034063134125316" onmouseenter="enter('5644034063134125316');" onmouseout="out('5644034063134125316');" style="">  58          TextView emptyTextView = view.findViewById(android.R.id.empty);                                           </span>
<span class="-1166834197706312513" onmouseenter="enter('-1166834197706312513');" onmouseout="out('-1166834197706312513');" style="">  59          emptyTextView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;)); </span>
<span class="3345849580761087571" onmouseenter="enter('3345849580761087571');" onmouseout="out('3345849580761087571');" style="">  60          return view;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61      }                                                                                                             </span>
<span  style="">  62                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  64      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  65          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  66                                                                                                                    </span>
<span class="-9089163939562981150" onmouseenter="enter('-9089163939562981150');" onmouseout="out('-9089163939562981150');" style="">  67          ListView listView = getListView();                                                                        </span>
<span class="-3317629933202128972" onmouseenter="enter('-3317629933202128972');" onmouseout="out('-3317629933202128972');" style="">  68          listView.setMultiChoiceModeListener(this);                                                                </span>
<span class="2322260269427377635" onmouseenter="enter('2322260269427377635');" onmouseout="out('2322260269427377635');" style="">  69          listView.setOnItemClickListener(this);                                                                    </span>
<span class="-6901644183807506258" onmouseenter="enter('-6901644183807506258');" onmouseout="out('-6901644183807506258');" style="">  70          // Disabling long press CAB action for now since bulk deleting is incomplete                              </span>
<span class="-2975624850084730734" onmouseenter="enter('-2975624850084730734');" onmouseout="out('-2975624850084730734');" style="">  71          // listView.setOnItemLongClickListener(this);                                                             </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  72          setHasOptionsMenu(true);                                                                                  </span>
<span  style="">  73                                                                                                                    </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  74          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  75          mTagsBucket = application.getTagsBucket();                                                                </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  76          mNotesBucket = application.getNotesBucket();                                                              </span>
<span  style="">  77                                                                                                                    </span>
<span class="-5670144245724332576" onmouseenter="enter('-5670144245724332576');" onmouseout="out('-5670144245724332576');" style="">  78          mTagsAdapter = new TagsAdapter(getActivity().getBaseContext(), null, 0);                                  </span>
<span class="4241689774280081988" onmouseenter="enter('4241689774280081988');" onmouseout="out('4241689774280081988');" style="">  79          setListAdapter(mTagsAdapter);                                                                             </span>






<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  80          refreshTags();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81      }                                                                                                             </span>
<span  style="">  82                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  83      @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  84      public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  85          super.onResume();                                                                                         </span>
<span  style="">  86                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  87          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  88          mTagsBucket.start();                                                                                      </span>
<span  style="">  89                                                                                                                    </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  90          mTagsBucket.addOnNetworkChangeListener(this);                                                             </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  91          mTagsBucket.addOnSaveObjectListener(this);                                                                </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  92          mTagsBucket.addOnDeleteObjectListener(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93      }                                                                                                             </span>
<span  style="">  94                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  95      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  96      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  97          super.onPause();                                                                                          </span>
<span  style="">  98                                                                                                                    </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  99          mTagsBucket.removeOnNetworkChangeListener(this);                                                          </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style=""> 100          mTagsBucket.removeOnSaveObjectListener(this);                                                             </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style=""> 101          mTagsBucket.removeOnDeleteObjectListener(this);                                                           </span>
<span  style=""> 102                                                                                                                    </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 103          mNotesBucket.stop();                                                                                      </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 104          mTagsBucket.stop();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105      }                                                                                                             </span>
<span  style=""> 106                                                                                                                    </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 107      protected void refreshTags() {                                                                                </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""> 108          Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);     </span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 109          Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                                     </span>
<span class="7446509202990191395" onmouseenter="enter('7446509202990191395');" onmouseout="out('7446509202990191395');" style=""> 110          mTagsAdapter.changeCursor(cursor);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111      }                                                                                                             </span>
<span  style=""> 112                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 113      @Override                                                                                                     </span>
<span class="-7871946035850126704" onmouseenter="enter('-7871946035850126704');" onmouseout="out('-7871946035850126704');" style=""> 114      public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int row, long l) {                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 115          if (!isAdded()) return;                                                                                   </span>
<span  style=""> 116                                                                                                                    </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style=""> 117          final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                                 </span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 118          LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 118          LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null)ðŸ”µ</abbr></span>
<span  style=""> 119                                                                                                                    </span>
<span class="-4699786447840580319" onmouseenter="enter('-4699786447840580319');" onmouseout="out('-4699786447840580319');" style=""> 120          final Tag tag = mTagsAdapter.getItem(row);                                                                </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 122          final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);                              </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 123          tagNameEditText.setText(tag.getName());                                                                   </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 124          tagNameEditText.setSelection(tagNameEditText.length());                                                   </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 125          alert.setView(alertView);                                                                                 </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 126          alert.setTitle(R.string.rename_tag);                                                                      </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 127          alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 128              public void onClick(DialogInterface dialog, int whichButton) {                                        </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 129                  String value = tagNameEditText.getText().toString().trim();                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 130                  try {                                                                                             </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 131                      tag.renameTo(value, mNotesBucket);                                                            </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 132                      AnalyticsTracker.track(                                                                       </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 133                              AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                            </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 134                              AnalyticsTracker.CATEGORY_TAG,                                                        </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 135                              &quot;tag_alert_edit_box&quot;                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 136                      );                                                                                            </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 137                  } catch (BucketObjectNameInvalid e) {                                                             </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 138                      android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 139                      // TODO: show user a message that new tag name is not ok                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 141              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 142          });                                                                                                       </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 143          alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {                          </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 144              public void onClick(DialogInterface dialog, int whichButton) {                                        </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 145                  // Do nothing                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 147          });                                                                                                       </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 148          alert.show();                                                                                             </span>
<span  style=""> 149                                                                                                                    </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150      }                                                                                                             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 152      // TODO: Finish bulk editing                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153      @Override                                                                                                     </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 154      public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                         </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 155          MenuInflater inflater = actionMode.getMenuInflater();                                                     </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 156          inflater.inflate(R.menu.bulk_edit, menu);                                                                 </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 157          mActionMode = actionMode;                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 158          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 162      public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 163          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164      }                                                                                                             </span>
<span  style=""> 165                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166      @Override                                                                                                     </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 167      public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                                </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 168          if (menuItem.getItemId() == R.id.menu_delete) {                                                           </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 169              actionMode.finish(); // Action picked, so close the CAB                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 170              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 172          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173      }                                                                                                             </span>
<span  style=""> 174                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 175      @Override                                                                                                     </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 176      public void onDestroyActionMode(ActionMode actionMode) {                                                      </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 177          mActionMode = null;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178      }                                                                                                             </span>
<span  style=""> 179                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 180      @Override                                                                                                     </span>
<span class="5067835035841722244" onmouseenter="enter('5067835035841722244');" onmouseout="out('5067835035841722244');" style=""> 181      public void onItemCheckedStateChanged(ActionMode actionMode, int i, long l, boolean b) {                      </span>
<span class="3095382717862724025" onmouseenter="enter('3095382717862724025');" onmouseout="out('3095382717862724025');" style=""> 182          final int checkedCount = getListView().getCheckedItemCount();                                             </span>
<span class="5977243856713192668" onmouseenter="enter('5977243856713192668');" onmouseout="out('5977243856713192668');" style=""> 183          switch (checkedCount) {                                                                                   </span>
<span class="-5990352835943936653" onmouseenter="enter('-5990352835943936653');" onmouseout="out('-5990352835943936653');" style=""> 184              case 0:                                                                                               </span>
<span class="-6824368476797108146" onmouseenter="enter('-6824368476797108146');" onmouseout="out('-6824368476797108146');" style=""> 185                  actionMode.setSubtitle(null);                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 186                  break;                                                                                            </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style=""> 187              case 1:                                                                                               </span>
<span class="-7507435092125162824" onmouseenter="enter('-7507435092125162824');" onmouseout="out('-7507435092125162824');" style=""> 188                  actionMode.setSubtitle(&quot;One item selected&quot;);                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 189                  break;                                                                                            </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 190              default:                                                                                              </span>
<span class="-6569179487897728803" onmouseenter="enter('-6569179487897728803');" onmouseout="out('-6569179487897728803');" style=""> 191                  actionMode.setSubtitle(&quot;&quot; + checkedCount + &quot; items selected&quot;);                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 192                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="-8842924157968021883" onmouseenter="enter('-8842924157968021883');" onmouseout="out('-8842924157968021883');" style=""> 197      public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int position, long l) {                 </span>
<span class="3510300597542862136" onmouseenter="enter('3510300597542862136');" onmouseout="out('3510300597542862136');" style=""> 198          getListView().setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL);                                         </span>
<span class="-1084404285042085247" onmouseenter="enter('-1084404285042085247');" onmouseout="out('-1084404285042085247');" style=""> 199          getListView().setItemChecked(position, true);                                                             </span>
<span class="-8699656759287297113" onmouseenter="enter('-8699656759287297113');" onmouseout="out('-8699656759287297113');" style=""> 200          if (isAdded() &amp;&amp; mActionMode == null) {                                                                   </span>
<span class="-4007475450960846247" onmouseenter="enter('-4007475450960846247');" onmouseout="out('-4007475450960846247');" style=""> 201              getActivity().startActionMode(this);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202          }                                                                                                         </span>
<span class="-7337692346201437317" onmouseenter="enter('-7337692346201437317');" onmouseout="out('-7337692346201437317');" style=""> 203          //isCABDestroyed = false;                                                                                 </span>
<span class="966672162172813564" onmouseenter="enter('966672162172813564');" onmouseout="out('966672162172813564');" style=""> 204          return false; // so this action does not consume the event!!!                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205      }                                                                                                             </span>
<span  style=""> 206                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 208      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span  style=""> 209                                                                                                                    </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 210          if (item.getItemId() == android.R.id.home) {                                                              </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 211              if (isAdded()) {                                                                                      </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 212                  getActivity().finish();                                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 213                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215          }                                                                                                         </span>
<span  style=""> 216                                                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 217          return super.onOptionsItemSelected(item);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218      }                                                                                                             </span>
<span  style=""> 219                                                                                                                    </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 220      // Tag Bucket listeners                                                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221      @Override                                                                                                     </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 222      public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                  </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 223          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 224              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 225                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 226                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 227                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 229              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231      }                                                                                                             </span>
<span  style=""> 232                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 233      @Override                                                                                                     </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 234      public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 235          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 236              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 238                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 239                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 241              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243      }                                                                                                             </span>
<span  style=""> 244                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 245      @Override                                                                                                     </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 246      public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                    </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 247          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 248              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 249                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 250                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 251                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 253              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span  style=""> 256                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257      @Override                                                                                                     </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 258      public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                            </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 259          // noop                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260      }                                                                                                             </span>
<span  style=""> 261                                                                                                                    </span>
<span class="-2754220613026931454" onmouseenter="enter('-2754220613026931454');" onmouseout="out('-2754220613026931454');" style=""> 262      private class TagsAdapter extends CursorAdapter {                                                             </span>
<span  style=""> 263                                                                                                                    </span>
<span class="-4046164790922706694" onmouseenter="enter('-4046164790922706694');" onmouseout="out('-4046164790922706694');" style=""> 264          private Bucket.ObjectCursor&lt;Tag&gt; mCursor;                                                                 </span>
<span  style=""> 265                                                                                                                    </span>
<span class="-3881824047007024390" onmouseenter="enter('-3881824047007024390');" onmouseout="out('-3881824047007024390');" style=""> 266          TagsAdapter(Context context, Bucket.ObjectCursor&lt;Tag&gt; c, int flags) {                                     </span>
<span class="4475640358278384962" onmouseenter="enter('4475640358278384962');" onmouseout="out('4475640358278384962');" style=""> 267              super(context, c, flags);                                                                             </span>
<span class="-6225947996727404464" onmouseenter="enter('-6225947996727404464');" onmouseout="out('-6225947996727404464');" style=""> 268              mCursor = c;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269          }                                                                                                         </span>
<span  style=""> 270                                                                                                                    </span>
<span class="-8213294645336279480" onmouseenter="enter('-8213294645336279480');" onmouseout="out('-8213294645336279480');" style=""> 271          void changeCursor(Bucket.ObjectCursor&lt;Tag&gt; cursor) {                                                      </span>
<span class="-1782999507280862726" onmouseenter="enter('-1782999507280862726');" onmouseout="out('-1782999507280862726');" style=""> 272              super.changeCursor(cursor);                                                                           </span>
<span class="5842055254565452007" onmouseenter="enter('5842055254565452007');" onmouseout="out('5842055254565452007');" style=""> 273              mCursor = cursor;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274          }                                                                                                         </span>
<span  style=""> 275                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 276          @Override                                                                                                 </span>
<span class="2898556115509730489" onmouseenter="enter('2898556115509730489');" onmouseout="out('2898556115509730489');" style=""> 277          public Tag getItem(int row) {                                                                             </span>
<span class="7290643495577853118" onmouseenter="enter('7290643495577853118');" onmouseout="out('7290643495577853118');" style=""> 278              super.getItem(row);                                                                                   </span>
<span class="-9064184092399275635" onmouseenter="enter('-9064184092399275635');" onmouseout="out('-9064184092399275635');" style=""> 279              return mCursor.getObject();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280          }                                                                                                         </span>
<span  style=""> 281                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282          @Override                                                                                                 </span>
<span class="2293699050074188816" onmouseenter="enter('2293699050074188816');" onmouseout="out('2293699050074188816');" style=""> 283          public View getView(final int position, View convertView, ViewGroup parent) {                             </span>
<span class="7685616133980151702" onmouseenter="enter('7685616133980151702');" onmouseout="out('7685616133980151702');" style=""> 284              mCursor.moveToPosition(position);                                                                     </span>
<span  style=""> 285                                                                                                                    </span>
<span class="4181524603843345875" onmouseenter="enter('4181524603843345875');" onmouseout="out('4181524603843345875');" style=""> 286              if (convertView == null) {                                                                            </span>
<span class="4099718954321974270" onmouseenter="enter('4099718954321974270');" onmouseout="out('4099718954321974270');" style=""> 287                  convertView = getActivity().getLayoutInflater().inflate(R.layout.tags_list_row, null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288              }                                                                                                     </span>
<span class="7496101153174194655" onmouseenter="enter('7496101153174194655');" onmouseout="out('7496101153174194655');" style=""> 289              final Tag tag = mCursor.getObject();                                                                  </span>
<span class="-2493889343908532496" onmouseenter="enter('-2493889343908532496');" onmouseout="out('-2493889343908532496');" style=""> 290              convertView.setTag(tag.getSimperiumKey());                                                            </span>
<span  style=""> 291                                                                                                                    </span>
<span class="-6159058936195629094" onmouseenter="enter('-6159058936195629094');" onmouseout="out('-6159058936195629094');" style=""> 292              TextView tagTitle = convertView.findViewById(R.id.tag_name);                                          </span>
<span class="-7425551292470450270" onmouseenter="enter('-7425551292470450270');" onmouseout="out('-7425551292470450270');" style=""> 293              TextView tagCountTextView = convertView.findViewById(R.id.tag_count);                                 </span>
<span class="-5543261251486785747" onmouseenter="enter('-5543261251486785747');" onmouseout="out('-5543261251486785747');" style=""> 294              tagTitle.setText(tag.getName());                                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 295              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 295              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).ðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 296              if (tagCount &gt; 0) {                                                                                   </span>
<span class="-7832587411623783541" onmouseenter="enter('-7832587411623783541');" onmouseout="out('-7832587411623783541');" style=""> 297                  tagCountTextView.setText(String.valueOf(tagCount));                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 298              } else {                                                                                              </span>
<span class="-7896946325255357722" onmouseenter="enter('-7896946325255357722');" onmouseout="out('-7896946325255357722');" style=""> 299                  tagCountTextView.setText(&quot;&quot;);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300              }                                                                                                     </span>
<span  style=""> 301                                                                                                                    </span>
<span class="1094393396899203785" onmouseenter="enter('1094393396899203785');" onmouseout="out('1094393396899203785');" style=""> 302              ImageButton deleteButton = convertView.findViewById(R.id.tag_trash);                                  </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 303              deleteButton.setOnClickListener(new View.OnClickListener() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 304                  @Override                                                                                         </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 305                  public void onClick(View view) {                                                                  </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 306                      if (!isAdded()) return;                                                                       </span>
<span  style=""> 307                                                                                                                    </span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 308                      if (tagCount == 0) {                                                                          </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 309                          deleteTag(tag);                                                                           </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 310                      } else if (tagCount &gt; 0) {                                                                    </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style=""> 311                          AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                       </span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 312                          alert.setTitle(R.string.delete_tag);                                                      </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 313                          alert.setMessage(getString(R.string.confirm_delete_tag));                                 </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 314                          alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 315                              public void onClick(DialogInterface dialog, int whichButton) {                        </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 316                                  deleteTag(tag);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317                              }                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 318                          });                                                                                       </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 319                          alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {              </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 320                              public void onClick(DialogInterface dialog, int whichButton) {                        </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 321                                  // Do nothing, just closing the dialog                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322                              }                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 323                          });                                                                                       </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 324                          alert.show();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 327              });                                                                                                   </span>
<span  style=""> 328                                                                                                                    </span>
<span class="2451306768777979572" onmouseenter="enter('2451306768777979572');" onmouseout="out('2451306768777979572');" style=""> 329              return convertView;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330          }                                                                                                         </span>
<span  style=""> 331                                                                                                                    </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 332          private void deleteTag(Tag tag) {                                                                         </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 333              tag.delete();                                                                                         </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 334              new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);                  </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 335              AnalyticsTracker.track(                                                                               </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 336                      AnalyticsTracker.Stat.TAG_MENU_DELETED,                                                       </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 337                      AnalyticsTracker.CATEGORY_TAG,                                                                </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 338                      &quot;list_trash_button&quot;                                                                           </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 339              );                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340          }                                                                                                         </span>
<span  style=""> 341                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 342          @Override                                                                                                 </span>
<span class="-1050354018022547806" onmouseenter="enter('-1050354018022547806');" onmouseout="out('-1050354018022547806');" style=""> 343          public View newView(Context context, Cursor cursor, ViewGroup viewGroup) {                                </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 344              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345          }                                                                                                         </span>
<span  style=""> 346                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 347          @Override                                                                                                 </span>
<span class="19024103499623332" onmouseenter="enter('19024103499623332');" onmouseout="out('19024103499623332');" style=""> 348          public void bindView(View view, Context context, Cursor cursor) {                                         </span>
<span  style=""> 349                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351      }                                                                                                             </span>
<span  style=""> 352                                                                                                                    </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 353      private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                                     </span>
<span  style=""> 354                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 355          @Override                                                                                                 </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 356          protected Void doInBackground(Tag... removedTags) {                                                       </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 357              Tag tag = removedTags[0];                                                                             </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 358              if (tag != null) {                                                                                    </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 359                  Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                              </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 360                  while (notesCursor.moveToNext()) {                                                                </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 361                      Note note = notesCursor.getObject();                                                          </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 362                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 363                      tags.remove(tag.getName());                                                                   </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 364                      note.setTags(tags);                                                                           </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 365                      note.save();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366                  }                                                                                                 </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 367                  notesCursor.close();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 369              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371      }                                                                                                             </span>

































































































































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            