<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>296</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    296
                    <a href="295.html">prev</a>
                    <a href="297.html">next</a>
                    <a href="296_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_289d73798436413d6717ebe27ac4225c1b72220a_Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;289d73798436413d6717ebe27ac4225c1b72220a:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;289d73798436413d6717ebe27ac4225c1b72220a^1:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;289d73798436413d6717ebe27ac4225c1b72220a^2:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;e8c0cc6eb145965734732c7ccbf4c00c49ed6e23:Simplenote/src/main/java/com/automattic/simplenote/NotesActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bsj], [bj]], subset: [[bsj], [bj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   4 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   5 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   6 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   7 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   8 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   9 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  10 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  11 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  12 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="4781461510639479636" onmouseenter="enter('4781461510639479636');" onmouseout="out('4781461510639479636');" style="">  16 import android.support.v4.view.MenuItemCompat;                                                           </span>
<span class="-7265034909983537815" onmouseenter="enter('-7265034909983537815');" onmouseout="out('-7265034909983537815');" style="">  17 import android.support.v7.app.ActionBarDrawerToggle;                                                     </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="5183907075420479303" onmouseenter="enter('5183907075420479303');" onmouseout="out('5183907075420479303');" style="">  19 import android.support.v7.app.ActionBar;                                                                 </span>
<span class="5838751333637237801" onmouseenter="enter('5838751333637237801');" onmouseout="out('5838751333637237801');" style="">  20 import android.support.v7.app.ActionBarActivity;                                                         </span>
<span class="748566200108870678" onmouseenter="enter('748566200108870678');" onmouseout="out('748566200108870678');" style="">  21 import android.support.v7.widget.Toolbar;                                                                </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  22 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  23 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  24 import android.text.TextUtils;                                                                           </span>
<span class="1137223268924283846" onmouseenter="enter('1137223268924283846');" onmouseout="out('1137223268924283846');" style="">  25 import android.view.Gravity;                                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  26 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  27 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  30 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  31 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  32 import android.widget.ListView;                                                                          </span>
<span class="2821820676337305430" onmouseenter="enter('2821820676337305430');" onmouseout="out('2821820676337305430');" style="">  33 import android.support.v7.widget.SearchView;                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  35 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  36 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  37 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  38 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  39 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="2396571929468120860" onmouseenter="enter('2396571929468120860');" onmouseout="out('2396571929468120860');" style="">  40 import com.automattic.simplenote.widgets.FloatingActionButton;                                           </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  41 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  42 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  43 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  44 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  45 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  46 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  47 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  48 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  49 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  50 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  51 import com.simperium.client.User;                                                                        </span>
<span  style="">  52                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  53 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  54 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  55 import java.util.List;                                                                                   </span>
<span  style="">  56                                                                                                          </span>
<span class="-7482342265326387784" onmouseenter="enter('-7482342265326387784');" onmouseout="out('-7482342265326387784');" style="">  57 public class NotesActivity extends ActionBarActivity implements                                          </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  58         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  58         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarCoðŸ”µ</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  59         Bucket.Listener&lt;Note&gt; {                                                                          </span>
<span  style="">  60                                                                                                          </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  61     private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                  </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  62     private String mTabletSearchQuery;                                                                   </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  63     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  64     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  65     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  66     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  67     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  68     private Note mCurrentNote;                                                                           </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  69     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  70     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  71     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  72     private ActionBar mActionBar;                                                                        </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  73     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  74                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  75     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  76     private DrawerLayout mDrawerLayout;                                                                  </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  77     private ListView mDrawerList;                                                                        </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  78     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  79     private TagsAdapter mTagsAdapter;                                                                    </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  80     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  81     private CharSequence mActionBarTitle;                                                                </span>
<span  style="">  82                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  83     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  84     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  85                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  86     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  87     private Tracker mTracker;                                                                            </span>
<span  style="">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  90     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="3699502760248041016" onmouseenter="enter('3699502760248041016');" onmouseout="out('3699502760248041016');" style="">  91         supportRequestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                              </span>
<span  style="">  92                                                                                                          </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  93         ThemeUtils.setTheme(this);                                                                       </span>
<span  style="">  94                                                                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  95         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  96         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span  style="">  97                                                                                                          </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  98         if (mNotesBucket == null)                                                                        </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  99             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span  style=""> 100                                                                                                          </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style=""> 101         if (mTagsBucket == null)                                                                         </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style=""> 102             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 104         setContentView(R.layout.activity_notes);                                                         </span>
<span  style=""> 105                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 106 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-478997688759020781" onmouseenter="enter('-478997688759020781');" onmouseout="out('-478997688759020781');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 107         Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);                                          </span>
<span class="-7717068737558593543" onmouseenter="enter('-7717068737558593543');" onmouseout="out('-7717068737558593543');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 108         setSupportActionBar(toolbar);                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 109                                                                                                          </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 110         EasyTracker.getInstance().activityStart(this);                                                   </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 111         mTracker = EasyTracker.getTracker();                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 112 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         EasyTracker.getInstance().activityStart(this);                                                   </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114         mTracker = EasyTracker.getTracker();                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 119             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 123 =======                                                                                                  </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 124         mTracker = currentApp.getTracker();                                                              </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 125 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style=""> 126                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 127         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 128             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 129             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 130             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 131             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 132         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 133             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134         }                                                                                                </span>
<span  style=""> 135                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 136         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 137         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 138                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 139                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 140             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 141                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 142             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 143                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 143                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 144             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 145                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 146                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148         }                                                                                                </span>
<span  style=""> 149                                                                                                          </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 150         // Set up the menu drawer                                                                        </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 151         mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                 </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 152         mDrawerList = (ListView) findViewById(R.id.left_drawer);                                         </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 153         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 154         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 155         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 156         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span  style=""> 157                                                                                                          </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 158         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 159             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 160                                                                                                          </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 161         mDrawerToggle = new ActionBarDrawerToggle(                                                       </span>
<span class="-5783349819328245482" onmouseenter="enter('-5783349819328245482');" onmouseout="out('-5783349819328245482');" style=""> 162                 this,  mDrawerLayout, toolbar,                                                           </span>
<span class="-6484461085659018563" onmouseenter="enter('-6484461085659018563');" onmouseout="out('-6484461085659018563');" style=""> 163                 R.string.open_drawer, R.string.close_drawer                                              </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 164         ) {                                                                                              </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 165             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 166                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 167                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168             }                                                                                            </span>
<span  style=""> 169                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 170             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 171                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 172                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 174         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 175         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 176                                                                                                          </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 177         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="-1557652575642587556" onmouseenter="enter('-1557652575642587556');" onmouseout="out('-1557652575642587556');" style=""> 178         mActionBar = getSupportActionBar();                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 179         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 180         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span  style=""> 181                                                                                                          </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 182         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 183                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 184         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 185                                                                                                          </span>
<span class="7276435277982660612" onmouseenter="enter('7276435277982660612');" onmouseout="out('7276435277982660612');" style=""> 186         FloatingActionButton fabButton = new FloatingActionButton.Builder(this)                          </span>
<span class="8726841811322177379" onmouseenter="enter('8726841811322177379');" onmouseout="out('8726841811322177379');" style=""> 187                 .withDrawable(getResources().getDrawable(R.drawable.ic_create_white))                    </span>
<span class="-7485210973608763852" onmouseenter="enter('-7485210973608763852');" onmouseout="out('-7485210973608763852');" style=""> 188                 .withButtonColor(getResources().getColor(R.color.simplenote_blue))                       </span>
<span class="2118911739178036452" onmouseenter="enter('2118911739178036452');" onmouseout="out('2118911739178036452');" style=""> 189                 .withGravity(Gravity.BOTTOM | Gravity.RIGHT)                                             </span>
<span class="-6809120621893824058" onmouseenter="enter('-6809120621893824058');" onmouseout="out('-6809120621893824058');" style=""> 190                 .withMargins(0, 0, 16, 16)                                                               </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 191                 .create();                                                                               </span>
<span  style=""> 192                                                                                                          </span>
<span class="1755938213130270228" onmouseenter="enter('1755938213130270228');" onmouseout="out('1755938213130270228');" style=""> 193         fabButton.setOnClickListener(new View.OnClickListener() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194             @Override                                                                                    </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style=""> 195             public void onClick(View v) {                                                                </span>
<span class="-8657156247817339377" onmouseenter="enter('-8657156247817339377');" onmouseout="out('-8657156247817339377');" style=""> 196                 if (getNoteListFragment() != null) {                                                     </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 197                     getNoteListFragment().addNote();                                                     </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 198                     mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 201         });                                                                                              </span>
<span  style=""> 202                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 203         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 204             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 205             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 206                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 207                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 208                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 209                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 210                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 211                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 212             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 213                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214             }                                                                                            </span>
<span  style=""> 215                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 216             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 217             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 218             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 219             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span  style=""> 221                                                                                                          </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 222         if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                        </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 223             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 224             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 225             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 226             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 227             if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                      </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 228                 if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                            </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 229                     text = subject + &quot;\n\n&quot; + text;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 231                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 232                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 233                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 234                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 235                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 236                 setCurrentNote(note);                                                                    </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 237                 mShouldSelectNewNote = true;                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 238                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 239                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 240                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style=""> 241                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style=""> 242                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 243                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 244                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 247         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 248         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 249         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250     }                                                                                                    </span>
<span  style=""> 251                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 253     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 254         super.onResume();                                                                                </span>
<span  style=""> 255                                                                                                          </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 256         // Ensure user has valid authorization                                                           </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 257         if (userAuthenticationIsInvalid())                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 258             startLoginActivity(true);                                                                    </span>
<span  style=""> 259                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 260         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 261         mTagsBucket.start();                                                                             </span>
<span  style=""> 262                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 263         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 264         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 265         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 266         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span  style=""> 267                                                                                                          </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 268         updateNavigationDrawerItems();                                                                   </span>
<span  style=""> 269                                                                                                          </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 270         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 271         Simplenote currentApp = (Simplenote)getApplication();                                            </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 272         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 273             if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                          </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 274                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 275                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277         }                                                                                                </span>
<span  style=""> 278                                                                                                          </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 279         setSelectedTagActive();                                                                          </span>
<span  style=""> 280                                                                                                          </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 281         if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                              </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 282             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 283             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285     }                                                                                                    </span>
<span  style=""> 286                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 287     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 288     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 289         super.onPause();                                                                                 </span>
<span  style=""> 290                                                                                                          </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 291         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span  style=""> 292                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 293         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 294         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 295         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296     }                                                                                                    </span>
<span  style=""> 297                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 298     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 299     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 300         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 301         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302     }                                                                                                    </span>
<span  style=""> 303                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 304     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 305         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 306         if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))               </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 307                 &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                            </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 308             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 309             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310         }                                                                                                </span>
<span  style=""> 311                                                                                                          </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 312         SpannableString s = new SpannableString(title);                                                  </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 313         s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                 </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 314                 Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                     </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 315         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316     }                                                                                                    </span>
<span  style=""> 317                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 318     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 319         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 320         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 323     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 324         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 325             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 326                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 327         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 328         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329     }                                                                                                    </span>
<span  style=""> 330                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 331     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 332     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 333         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 334             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 335         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 336         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 337         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 338         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 339         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 340             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 341             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 343             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 344             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346     }                                                                                                    </span>
<span  style=""> 347                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 348     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 349     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 350         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 351         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span  style=""> 352                                                                                                          </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 353             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 354             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 355             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 356             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 357             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span  style=""> 358                                                                                                          </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 359             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 360             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 361                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 362             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 363                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364             }                                                                                            </span>
<span  style=""> 365                                                                                                          </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 366             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 367             if (position &gt; 1) {                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 368                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 369                         new HitBuilders.EventBuilder()                                                   </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style=""> 370                                 .setCategory(&quot;tag&quot;)                                                      </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style=""> 371                                 .setAction(&quot;viewed_notes_for_tag&quot;)                                       </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style=""> 372                                 .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 373                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 374                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377     }                                                                                                    </span>
<span  style=""> 378                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 379     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 380         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381     }                                                                                                    </span>
<span  style=""> 382                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 383     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 384         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 385         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 386         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 387         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 388         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 389         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390     }                                                                                                    </span>
<span  style=""> 391                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 392     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 393      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 394      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 395      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 396      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 397     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 398         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 399         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 400         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 401         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402     }                                                                                                    </span>
<span  style=""> 403                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 404     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 405         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406     }                                                                                                    </span>
<span  style=""> 407                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 408     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 409     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 410     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 411         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 412             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 413             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 414                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 415                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 416                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 418         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419     }                                                                                                    </span>
<span  style=""> 420                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 421     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 422     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 423         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 424             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 425             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 426                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 428         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429     }                                                                                                    </span>
<span  style=""> 430                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 431     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 432     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 433         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 434             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 435             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 436                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 438         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439     }                                                                                                    </span>
<span  style=""> 440                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 441     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 442     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 443                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 444         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 445                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 446     }                                                                                                    </span>
<span  style=""> 447                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 448     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 449     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 450         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 451             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 452                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 453                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 455             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span  style=""> 457                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 458         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 459         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 460             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461         }                                                                                                </span>
<span  style=""> 462                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 464         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 465             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466         }                                                                                                </span>
<span  style=""> 467                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 468         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 469         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 470             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471         }                                                                                                </span>
<span  style=""> 472                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 473         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 474         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 475             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 477     };                                                                                                   </span>
<span  style=""> 478                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 479     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 480         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 483     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 484     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 485         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486     }                                                                                                    </span>
<span  style=""> 487                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 488     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 489     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 490         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 491         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 492         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 493                                                                                                          </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 494         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span  style=""> 495                                                                                                          </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 496         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 497         String searchQuery = null;                                                                       </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 498         if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                             </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 499             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span  style=""> 500                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 501         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 502         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span  style=""> 503                                                                                                          </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 504         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 505             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 506             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507         }                                                                                                </span>
<span  style=""> 508                                                                                                          </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 509         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 510             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 511             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 512                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 513                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 515                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 516             }                                                                                            </span>
<span  style=""> 517                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 518             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 519             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 520                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 521                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522             }                                                                                            </span>
<span  style=""> 523                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 524         });                                                                                              </span>
<span  style=""> 525                                                                                                          </span>
<span class="4566642929880777544" onmouseenter="enter('4566642929880777544');" onmouseout="out('4566642929880777544');" style=""><abbr title=" 526         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListener() {"> 526         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListenðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 527             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 528             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 529                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 530                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 531                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 532                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 533                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style=""> 534                                 .setAction(&quot;searched_notes&quot;)                                             </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style=""> 535                                 .setLabel(&quot;action_bar_search_tap&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 536                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 537                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 538                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 539             }                                                                                            </span>
<span  style=""> 540                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 541             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 542             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 543                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 544                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 545                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 546                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 547                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 548                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 549                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 551         });                                                                                              </span>
<span  style=""> 552                                                                                                          </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 553         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 554             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 555             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 556                 if (!mSearchMenuItem.isActionViewExpanded())                                             </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 557                     showDetailPlaceholder();                                                             </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 558                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 560         });                                                                                              </span>
<span  style=""> 561                                                                                                          </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 562         // Restore the search query on landscape tablets                                                 </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 563         if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                        </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 564             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 565             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 566             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 567         }                                                                                                </span>
<span  style=""> 568                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 569         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 570         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span  style=""> 571                                                                                                          </span>
<span  style=""> 572                                                                                                          </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 573         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 574         if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                            </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 575             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 576         else                                                                                             </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 577             trashItem.setTitle(R.string.delete);                                                         </span>
<span  style=""> 578                                                                                                          </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 579         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 580             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 581             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 582             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 583                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 584                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 585             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 586                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 587                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 588             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 589             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 590             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 591         } else {                                                                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 592             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 593             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 594             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 595             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 596             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 597             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 598         }                                                                                                </span>
<span  style=""> 599                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 600         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 601         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 602             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 603             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span  style=""> 604                                                                                                          </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 605             updateTrashMenuItem();                                                                       </span>
<span  style=""> 606                                                                                                          </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 607             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 608             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609         }                                                                                                </span>
<span  style=""> 610                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 611         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612     }                                                                                                    </span>
<span  style=""> 613                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 614     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 615     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 616         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 617             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 618         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 619         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 620             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 621                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 621                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 622                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 623                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 624                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 625             case R.id.menu_sign_in:                                                                      </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 626                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 627                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 628             case R.id.menu_edit_tags:                                                                    </span>
<span class="-5224226921207816625" onmouseenter="enter('-5224226921207816625');" onmouseout="out('-5224226921207816625');" style=""> 629                 Intent editTagsIntent = new Intent(this, TagsActivity.class);                            </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 630                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 631                 return true;                                                                             </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 632 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 633 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 634                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 635             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 636                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 637                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 638                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 639                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 640                         mCurrentNote.save();                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 641                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 642                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 643                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 644 =======                                                                                                  </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 645             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 646                 getNoteListFragment().addNote();                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 647                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 648                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 649                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 650                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 651                                 .setLabel(&quot;action_bar_button&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 652                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 653                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 654                 return true;                                                                             </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 655 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 656             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 657                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 658                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 659                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 660                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 661                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 661                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 662                     mTracker.send(                                                                       </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 663                             new HitBuilders.EventBuilder()                                               </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 664                                     .setCategory(&quot;note&quot;)                                                 </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style=""> 665                                     .setAction(&quot;shared_note&quot;)                                            </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style=""> 666                                     .setLabel(&quot;action_bar_share_button&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 667                                     .build()                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 668                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 669                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 670                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 671             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 672                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 673                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 674                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 675                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 676                         mCurrentNote.save();                                                             </span>
<span  style=""> 677                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 678                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 679                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 680                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 681                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 682                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 682                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 683                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 684                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 685                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style=""> 686                                             .setAction(&quot;deleted_note&quot;)                                   </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 687                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 688                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 689                             );                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 690                         } else {                                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 691                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 692                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 693                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style=""> 694                                             .setAction(&quot;restored_note&quot;)                                  </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 695                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 696                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 697                             );                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 699                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 701                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 702                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 703                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 704                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 706                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 707                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 708             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 709                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 710                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 711                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 712                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 713                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 714                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 715                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 716                         mTracker.send(                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 717                                 new HitBuilders.EventBuilder()                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 718                                         .setCategory(&quot;note&quot;)                                             </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style=""> 719                                         .setAction(&quot;trash_emptied&quot;)                                      </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 720                                         .setLabel(&quot;overflow_menu&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 721                                         .build()                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 722                         );                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 724                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 725                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 726                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 727                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 728                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 729                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 730                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 731                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 732             case android.R.id.home:                                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 733                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 734                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 735             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 736                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 737         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 738     }                                                                                                    </span>
<span  style=""> 739                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 740     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 741      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 742      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 743      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 744     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 745     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span  style=""> 746                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 747         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 748             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 749             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 750             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 751             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span  style=""> 752                                                                                                          </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 753             if (matchOffsets != null)                                                                    </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 754                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span  style=""> 755                                                                                                          </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 756             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 757             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 758             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 759         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 760             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 761             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 762             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 763             if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                            </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 764                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 765             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 766             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 767         }                                                                                                </span>
<span  style=""> 768                                                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 769         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 770                 new HitBuilders.EventBuilder()                                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 771                         .setCategory(&quot;note&quot;)                                                             </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style=""> 772                         .setAction(&quot;viewed_note&quot;)                                                        </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style=""> 773                         .setLabel(&quot;note_list_row_tap&quot;)                                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 774                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 775         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 776     }                                                                                                    </span>
<span  style=""> 777                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 778     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 779     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 780         // New account created                                                                           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 781         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 782                 new HitBuilders.EventBuilder()                                                           </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 783                         .setCategory(&quot;user&quot;)                                                             </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style=""> 784                         .setAction(&quot;new_account_created&quot;)                                                </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style=""> 785                         .setLabel(&quot;account_created_from_login_activity&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 786                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 787         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 788     }                                                                                                    </span>
<span  style=""> 789                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 790     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 791         switch (status) {                                                                                </span>
<span  style=""> 792                                                                                                          </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 793             // successfully used access token to connect to simperium bucket                             </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 794             case AUTHORIZED:                                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 795                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 796                         new HitBuilders.EventBuilder()                                                   </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 797                                 .setCategory(&quot;user&quot;)                                                     </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style=""> 798                                 .setAction(&quot;signed_in&quot;)                                                  </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style=""> 799                                 .setLabel(&quot;signed_in_from_login_activity&quot;)                               </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 800                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 801                 );                                                                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 802                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 803                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 804                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 805                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 806                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 808                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 809                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 810                 break;                                                                                   </span>
<span  style=""> 811                                                                                                          </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 812             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 813             case NOT_AUTHORIZED:                                                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 814                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 815                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 816                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 817                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 819                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 820                 break;                                                                                   </span>
<span  style=""> 821                                                                                                          </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 822             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 822             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in ðŸ”µ</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 823             case UNKNOWN:                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 824                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 825         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 826     }                                                                                                    </span>
<span  style=""> 827                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 828     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 829         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 830         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 831             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 832         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833     }                                                                                                    </span>
<span  style=""> 834                                                                                                          </span>
<span  style=""> 835                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 836     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 837     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 838         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 839         switch (requestCode) {                                                                           </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 840             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 841                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 842                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 843                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 844                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 845                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 846                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 846                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 847                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 848                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 849                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 850                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 851                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 852                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 853                 break;                                                                                   </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 854             case Simplenote.INTENT_EDIT_NOTE:                                                            </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""><abbr title=" 855                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 855                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID))ðŸ”µ</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 856                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 857                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 858                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 859                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 860                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 861                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 862                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 863                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 864                 break;                                                                                   </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 865             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 866                 invalidateOptionsMenu();                                                                 </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 867                 if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {           </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 868                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 869                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 870                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 871         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 872     }                                                                                                    </span>
<span  style=""> 873                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 874     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 875     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 876         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 877         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 878                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 879             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 880                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 881                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 882                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 883                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 884                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 885                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 886                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 887                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 888                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 889                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 890                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 891                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 892                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 893                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 894                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 895                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 896             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 897         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 898     }                                                                                                    </span>
<span  style=""> 899                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 900     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 901     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 902         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 903         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 904         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 905     }                                                                                                    </span>
<span  style=""> 906                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 907     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 908     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 909         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 910                                                                                                          </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 911         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span  style=""> 912                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 913         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 914             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 915                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 916                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 917                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 918                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 919                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 920                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 921                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 922                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 923                 if (mCurrentNote != null)                                                                </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 924                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 925                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 926                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 927                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 928                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 929                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 930             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 930             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragmentðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 931                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 932                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 933                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 934                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 935                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 936                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 937                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 938                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 939                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 940                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 941                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 942                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 943                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 944                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 945                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 946                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 947             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 948         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 949     }                                                                                                    </span>
<span  style=""> 950                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 951     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 952         if (isSearch) {                                                                                  </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 953             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 953             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;ðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 954             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 955         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 956             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 956             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;ðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 957             mTracker.send(                                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 958                     new HitBuilders.EventBuilder()                                                       </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 959                             .setCategory(&quot;user&quot;)                                                         </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style=""> 960                             .setAction(&quot;viewed_trash&quot;)                                                   </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style=""> 961                             .setLabel(&quot;trash_filter_selected&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 962                             .build()                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 963             );                                                                                           </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 964             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 965         } else {                                                                                         </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 966             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 966             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;ðŸ”µ</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 967             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 968         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 969     }                                                                                                    </span>
<span  style=""> 970                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 971     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 972         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 973             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 974             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 975             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 976         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 977     }                                                                                                    </span>
<span  style=""> 978                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 979     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 980         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 981         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 982         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 983     }                                                                                                    </span>
<span  style=""> 984                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 985     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 986         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 987             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 988             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 988             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_noteðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 990     }                                                                                                    </span>
<span  style=""> 991                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 992     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 993                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 994         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 995         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 996             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 997             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 998             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 999             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style="">1000             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style="">1001                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1002             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style="">1003             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1004         }                                                                                                </span>
<span  style="">1005                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1006         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style="">1007         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style="">1008             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1009         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1010     }                                                                                                    </span>
<span  style="">1011                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1012 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   4 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   5 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   6 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   7 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   8 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   9 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  10 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  11 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  12 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="4781461510639479636" onmouseenter="enter('4781461510639479636');" onmouseout="out('4781461510639479636');" style="">  16 import android.support.v4.view.MenuItemCompat;                                                           </span>
<span class="-7265034909983537815" onmouseenter="enter('-7265034909983537815');" onmouseout="out('-7265034909983537815');" style="">  17 import android.support.v7.app.ActionBarDrawerToggle;                                                     </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="5183907075420479303" onmouseenter="enter('5183907075420479303');" onmouseout="out('5183907075420479303');" style="">  19 import android.support.v7.app.ActionBar;                                                                 </span>
<span class="5838751333637237801" onmouseenter="enter('5838751333637237801');" onmouseout="out('5838751333637237801');" style="">  20 import android.support.v7.app.ActionBarActivity;                                                         </span>
<span class="748566200108870678" onmouseenter="enter('748566200108870678');" onmouseout="out('748566200108870678');" style="">  21 import android.support.v7.widget.Toolbar;                                                                </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  22 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  23 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  24 import android.text.TextUtils;                                                                           </span>
<span class="1137223268924283846" onmouseenter="enter('1137223268924283846');" onmouseout="out('1137223268924283846');" style="">  25 import android.view.Gravity;                                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  26 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  27 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  30 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  31 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  32 import android.widget.ListView;                                                                          </span>
<span class="2821820676337305430" onmouseenter="enter('2821820676337305430');" onmouseout="out('2821820676337305430');" style="">  33 import android.support.v7.widget.SearchView;                                                             </span>
<span  style="">  34                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  35 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  36 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  37 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  38 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  39 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="2396571929468120860" onmouseenter="enter('2396571929468120860');" onmouseout="out('2396571929468120860');" style="">  40 import com.automattic.simplenote.widgets.FloatingActionButton;                                           </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  41 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  42 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  43 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  44 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  45 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  46 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  47 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  48 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  49 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  50 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  51 import com.simperium.client.User;                                                                        </span>
<span  style="">  52                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  53 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  54 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  55 import java.util.List;                                                                                   </span>
<span  style="">  56                                                                                                          </span>
<span class="-7482342265326387784" onmouseenter="enter('-7482342265326387784');" onmouseout="out('-7482342265326387784');" style="">  57 public class NotesActivity extends ActionBarActivity implements                                          </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  58         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  58         NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarCoðŸ”µ</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  59         Bucket.Listener&lt;Note&gt; {                                                                          </span>
<span  style="">  60                                                                                                          </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  61     private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                  </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  62     private String mTabletSearchQuery;                                                                   </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  63     private UndoBarController mUndoBarController;                                                        </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  64     private SearchView mSearchView;                                                                      </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  65     private MenuItem mSearchMenuItem;                                                                    </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  66     private NoteListFragment mNoteListFragment;                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  67     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  68     private Note mCurrentNote;                                                                           </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  69     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  70     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  71     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  72     private ActionBar mActionBar;                                                                        </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  73     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  74                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  75     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  76     private DrawerLayout mDrawerLayout;                                                                  </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  77     private ListView mDrawerList;                                                                        </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  78     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  79     private TagsAdapter mTagsAdapter;                                                                    </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  80     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  81     private CharSequence mActionBarTitle;                                                                </span>
<span  style="">  82                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  83     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  84     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style="">  85                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  86     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  87     private Tracker mTracker;                                                                            </span>
<span  style="">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  90     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="3699502760248041016" onmouseenter="enter('3699502760248041016');" onmouseout="out('3699502760248041016');" style="">  91         supportRequestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                              </span>
<span  style="">  92                                                                                                          </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  93         ThemeUtils.setTheme(this);                                                                       </span>
<span  style="">  94                                                                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  95         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  96         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span  style="">  97                                                                                                          </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  98         if (mNotesBucket == null)                                                                        </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  99             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span  style=""> 100                                                                                                          </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style=""> 101         if (mTagsBucket == null)                                                                         </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style=""> 102             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 104         setContentView(R.layout.activity_notes);                                                         </span>
<span  style=""> 105                                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 106 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-478997688759020781" onmouseenter="enter('-478997688759020781');" onmouseout="out('-478997688759020781');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 107         Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);                                          </span>
<span class="-7717068737558593543" onmouseenter="enter('-7717068737558593543');" onmouseout="out('-7717068737558593543');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 108         setSupportActionBar(toolbar);                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 109                                                                                                          </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 110         EasyTracker.getInstance().activityStart(this);                                                   </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 111         mTracker = EasyTracker.getTracker();                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 112 ||||||| BASE                                                                                             </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         EasyTracker.getInstance().activityStart(this);                                                   </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114         mTracker = EasyTracker.getTracker();                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 118 =======                                                                                                  </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 119         mTracker = currentApp.getTracker();                                                              </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 120 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 121                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 122         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 123             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 124             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 125             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 126             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 127         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 128             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129         }                                                                                                </span>
<span  style=""> 130                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 131         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 132         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 133                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 134                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 135             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 136                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 137             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 138                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 138                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 139             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 140                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 141                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143         }                                                                                                </span>
<span  style=""> 144                                                                                                          </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 145         // Set up the menu drawer                                                                        </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 146         mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                 </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 147         mDrawerList = (ListView) findViewById(R.id.left_drawer);                                         </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 148         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 149         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 150         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 151         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span  style=""> 152                                                                                                          </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 153         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 154             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 155                                                                                                          </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 156         mDrawerToggle = new ActionBarDrawerToggle(                                                       </span>
<span class="-5783349819328245482" onmouseenter="enter('-5783349819328245482');" onmouseout="out('-5783349819328245482');" style=""> 157                 this,  mDrawerLayout, toolbar,                                                           </span>
<span class="-6484461085659018563" onmouseenter="enter('-6484461085659018563');" onmouseout="out('-6484461085659018563');" style=""> 158                 R.string.open_drawer, R.string.close_drawer                                              </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 159         ) {                                                                                              </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 160             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 161                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 162                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163             }                                                                                            </span>
<span  style=""> 164                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 165             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 166                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 167                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 169         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 170         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 171                                                                                                          </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 172         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="-1557652575642587556" onmouseenter="enter('-1557652575642587556');" onmouseout="out('-1557652575642587556');" style=""> 173         mActionBar = getSupportActionBar();                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 174         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 175         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span  style=""> 176                                                                                                          </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 177         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 178                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 179         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 180                                                                                                          </span>
<span class="7276435277982660612" onmouseenter="enter('7276435277982660612');" onmouseout="out('7276435277982660612');" style=""> 181         FloatingActionButton fabButton = new FloatingActionButton.Builder(this)                          </span>
<span class="8726841811322177379" onmouseenter="enter('8726841811322177379');" onmouseout="out('8726841811322177379');" style=""> 182                 .withDrawable(getResources().getDrawable(R.drawable.ic_create_white))                    </span>
<span class="-7485210973608763852" onmouseenter="enter('-7485210973608763852');" onmouseout="out('-7485210973608763852');" style=""> 183                 .withButtonColor(getResources().getColor(R.color.simplenote_blue))                       </span>
<span class="2118911739178036452" onmouseenter="enter('2118911739178036452');" onmouseout="out('2118911739178036452');" style=""> 184                 .withGravity(Gravity.BOTTOM | Gravity.RIGHT)                                             </span>
<span class="-6809120621893824058" onmouseenter="enter('-6809120621893824058');" onmouseout="out('-6809120621893824058');" style=""> 185                 .withMargins(0, 0, 16, 16)                                                               </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 186                 .create();                                                                               </span>
<span  style=""> 187                                                                                                          </span>
<span class="1755938213130270228" onmouseenter="enter('1755938213130270228');" onmouseout="out('1755938213130270228');" style=""> 188         fabButton.setOnClickListener(new View.OnClickListener() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189             @Override                                                                                    </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style=""> 190             public void onClick(View v) {                                                                </span>
<span class="-8657156247817339377" onmouseenter="enter('-8657156247817339377');" onmouseout="out('-8657156247817339377');" style=""> 191                 if (getNoteListFragment() != null) {                                                     </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 192                     getNoteListFragment().addNote();                                                     </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 193                     mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 196         });                                                                                              </span>
<span  style=""> 197                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 198         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 199             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 200             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 201                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 202                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 203                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 204                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 205                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 206                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 207             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 208                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209             }                                                                                            </span>
<span  style=""> 210                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 211             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 212             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 213             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 214             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215         }                                                                                                </span>
<span  style=""> 216                                                                                                          </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 217         if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                        </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 218             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 219             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 220             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 221             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 222             if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                      </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 223                 if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                            </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 224                     text = subject + &quot;\n\n&quot; + text;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 226                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 227                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 228                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 229                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 230                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 231                 setCurrentNote(note);                                                                    </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 232                 mShouldSelectNewNote = true;                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 233                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 234                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 235                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style=""> 236                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style=""> 237                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 238                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 239                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 242         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 243         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 244         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245     }                                                                                                    </span>
<span  style=""> 246                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 248     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 249         super.onResume();                                                                                </span>
<span  style=""> 250                                                                                                          </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 251         // Ensure user has valid authorization                                                           </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 252         if (userAuthenticationIsInvalid())                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 253             startLoginActivity(true);                                                                    </span>
<span  style=""> 254                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 255         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 256         mTagsBucket.start();                                                                             </span>
<span  style=""> 257                                                                                                          </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 258         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 259         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 260         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 261         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span  style=""> 262                                                                                                          </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 263         updateNavigationDrawerItems();                                                                   </span>
<span  style=""> 264                                                                                                          </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 265         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 266         Simplenote currentApp = (Simplenote)getApplication();                                            </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 267         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 268             if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                          </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 269                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 270                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272         }                                                                                                </span>
<span  style=""> 273                                                                                                          </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 274         setSelectedTagActive();                                                                          </span>
<span  style=""> 275                                                                                                          </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 276         if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                              </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 277             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 278             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280     }                                                                                                    </span>
<span  style=""> 281                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 282     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 283     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 284         super.onPause();                                                                                 </span>
<span  style=""> 285                                                                                                          </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 286         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span  style=""> 287                                                                                                          </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 288         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 289         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 290         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291     }                                                                                                    </span>
<span  style=""> 292                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 293     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 294     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 295         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 296         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 297     }                                                                                                    </span>
<span  style=""> 298                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 299     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 300         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 301         if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))               </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 302                 &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                            </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 303             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 304             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305         }                                                                                                </span>
<span  style=""> 306                                                                                                          </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 307         SpannableString s = new SpannableString(title);                                                  </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 308         s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                 </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 309                 Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                     </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 310         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311     }                                                                                                    </span>
<span  style=""> 312                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 313     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 314         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 315         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316     }                                                                                                    </span>
<span  style=""> 317                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 318     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 319         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 320             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 321                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 322         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 323         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324     }                                                                                                    </span>
<span  style=""> 325                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 326     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 327     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 328         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 329             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 330         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 331         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 332         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 333         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 334         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 335             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 336             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 337         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 338             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 339             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341     }                                                                                                    </span>
<span  style=""> 342                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 343     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 344     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 345         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 346         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span  style=""> 347                                                                                                          </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 348             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 349             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 350             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 351             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 352             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span  style=""> 353                                                                                                          </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 354             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 355             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 356                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 357             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 358                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359             }                                                                                            </span>
<span  style=""> 360                                                                                                          </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 361             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 362             if (position &gt; 1) {                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 363                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 364                         new HitBuilders.EventBuilder()                                                   </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style=""> 365                                 .setCategory(&quot;tag&quot;)                                                      </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style=""> 366                                 .setAction(&quot;viewed_notes_for_tag&quot;)                                       </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style=""> 367                                 .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 368                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 369                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372     }                                                                                                    </span>
<span  style=""> 373                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 374     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 375         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376     }                                                                                                    </span>
<span  style=""> 377                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 378     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 379         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 380         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 381         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 382         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 383         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 384         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385     }                                                                                                    </span>
<span  style=""> 386                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 387     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 388      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 389      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 390      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 391      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 392     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 393         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 394         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 395         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 396         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397     }                                                                                                    </span>
<span  style=""> 398                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 399     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 400         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401     }                                                                                                    </span>
<span  style=""> 402                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 403     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 404     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 405     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 406         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 407             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 408             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 409                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 410                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 411                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 413         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414     }                                                                                                    </span>
<span  style=""> 415                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 417     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 418         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 419             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 420             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 421                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 423         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424     }                                                                                                    </span>
<span  style=""> 425                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 426     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 427     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 428         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 429             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 430             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 431                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 433         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434     }                                                                                                    </span>
<span  style=""> 435                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 436     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 437     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 438                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 439         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 440                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441     }                                                                                                    </span>
<span  style=""> 442                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 443     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 444     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 445         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 446             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 447                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 448                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 450             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451         }                                                                                                </span>
<span  style=""> 452                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 453         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 454         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 455             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span  style=""> 457                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 458         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 459         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 460             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461         }                                                                                                </span>
<span  style=""> 462                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 464         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 465             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466         }                                                                                                </span>
<span  style=""> 467                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 468         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 469         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 470             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 472     };                                                                                                   </span>
<span  style=""> 473                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 474     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 475         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476     }                                                                                                    </span>
<span  style=""> 477                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 478     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 479     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 480         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 483     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 484     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 485         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 486         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 487         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span  style=""> 488                                                                                                          </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 489         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span  style=""> 490                                                                                                          </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 491         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 492         String searchQuery = null;                                                                       </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 493         if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                             </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 494             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span  style=""> 495                                                                                                          </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 496         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 497         mSearchView = (SearchView) mSearchMenuItem.getActionView();                                      </span>
<span  style=""> 498                                                                                                          </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 499         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 500             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 501             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 502         }                                                                                                </span>
<span  style=""> 503                                                                                                          </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 504         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 505             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 506             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 507                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 508                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 509                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 510                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511             }                                                                                            </span>
<span  style=""> 512                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 513             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 514             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 515                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 516                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517             }                                                                                            </span>
<span  style=""> 518                                                                                                          </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 519         });                                                                                              </span>
<span  style=""> 520                                                                                                          </span>
<span class="4566642929880777544" onmouseenter="enter('4566642929880777544');" onmouseout="out('4566642929880777544');" style=""><abbr title=" 521         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListener() {"> 521         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListenðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 522             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 523             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 524                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 525                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 526                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 527                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 528                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style=""> 529                                 .setAction(&quot;searched_notes&quot;)                                             </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style=""> 530                                 .setLabel(&quot;action_bar_search_tap&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 531                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 532                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 533                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 534             }                                                                                            </span>
<span  style=""> 535                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 536             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 537             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 538                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 539                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 540                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 541                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 542                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 543                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 544                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 545             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 546         });                                                                                              </span>
<span  style=""> 547                                                                                                          </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 548         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 549             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 550             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 551                 if (!mSearchMenuItem.isActionViewExpanded())                                             </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 552                     showDetailPlaceholder();                                                             </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 553                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 555         });                                                                                              </span>
<span  style=""> 556                                                                                                          </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 557         // Restore the search query on landscape tablets                                                 </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 558         if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                        </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 559             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 560             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 561             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 562         }                                                                                                </span>
<span  style=""> 563                                                                                                          </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 564         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 565         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span  style=""> 566                                                                                                          </span>
<span  style=""> 567                                                                                                          </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 568         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 569         if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                            </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 570             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 571         else                                                                                             </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 572             trashItem.setTitle(R.string.delete);                                                         </span>
<span  style=""> 573                                                                                                          </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 574         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 575             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 576             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 577             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 578                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 579                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 580             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 581                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 582                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 583             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 584             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 585             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 586         } else {                                                                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 587             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 588             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 589             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 590             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 591             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 592             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593         }                                                                                                </span>
<span  style=""> 594                                                                                                          </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 595         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 596         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 597             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 598             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span  style=""> 599                                                                                                          </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 600             updateTrashMenuItem();                                                                       </span>
<span  style=""> 601                                                                                                          </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 602             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 603             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 604         }                                                                                                </span>
<span  style=""> 605                                                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 606         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 607     }                                                                                                    </span>
<span  style=""> 608                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 609     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 610     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 611         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 612             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 613         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 614         switch (item.getItemId()) {                                                                      </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 615             case R.id.menu_preferences:                                                                  </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 616                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 616                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 617                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 618                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 619                 return true;                                                                             </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 620             case R.id.menu_sign_in:                                                                      </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 621                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 622                 return true;                                                                             </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 623             case R.id.menu_edit_tags:                                                                    </span>
<span class="-5224226921207816625" onmouseenter="enter('-5224226921207816625');" onmouseout="out('-5224226921207816625');" style=""> 624                 Intent editTagsIntent = new Intent(this, TagsActivity.class);                            </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 625                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 626                 return true;                                                                             </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 627 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 628 ||||||| BASE                                                                                             </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 629             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 630                 getNoteListFragment().addNote();                                                         </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 631                 mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 632                 return true;                                                                             </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 633             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 634                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 635                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 636                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 637                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 638                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 638                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 639 =======                                                                                                  </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 640             case R.id.menu_create_note:                                                                  </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 641                 getNoteListFragment().addNote();                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 642                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 643                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 644                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 645                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 646                                 .setLabel(&quot;action_bar_button&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 647                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 648                 );                                                                                       </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 649                 return true;                                                                             </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 650 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 651             case R.id.menu_share:                                                                        </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 652                 if (mCurrentNote != null) {                                                              </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 653                     Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 654                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 655                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 656                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 656                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 657                     mTracker.send(                                                                       </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 658                             new HitBuilders.EventBuilder()                                               </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 659                                     .setCategory(&quot;note&quot;)                                                 </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style=""> 660                                     .setAction(&quot;shared_note&quot;)                                            </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style=""> 661                                     .setLabel(&quot;action_bar_share_button&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 662                                     .build()                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 663                     );                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 664                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 665                 return true;                                                                             </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 666             case R.id.menu_delete:                                                                       </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 667                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 668                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 669                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 670                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 671                         mCurrentNote.save();                                                             </span>
<span  style=""> 672                                                                                                          </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 673                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 674                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 675                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 676                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 677                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 677                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 678                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 679                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 680                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style=""> 681                                             .setAction(&quot;deleted_note&quot;)                                   </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 682                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 683                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 684                             );                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 685                         } else {                                                                         </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 686                             mTracker.send(                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 687                                     new HitBuilders.EventBuilder()                                       </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 688                                             .setCategory(&quot;note&quot;)                                         </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style=""> 689                                             .setAction(&quot;restored_note&quot;)                                  </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 690                                             .setLabel(&quot;overflow_menu&quot;)                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 691                                             .build()                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 692                             );                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 694                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 696                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 697                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 698                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 699                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 702                 return true;                                                                             </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 703             case R.id.menu_empty_trash:                                                                  </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 704                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span  style=""> 705                                                                                                          </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 706                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 707                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 708                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 709                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 710                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 711                         mTracker.send(                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 712                                 new HitBuilders.EventBuilder()                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 713                                         .setCategory(&quot;note&quot;)                                             </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style=""> 714                                         .setAction(&quot;trash_emptied&quot;)                                      </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style=""> 715                                         .setLabel(&quot;overflow_menu&quot;)                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 716                                         .build()                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 717                         );                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 719                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 720                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 721                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 722                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 724                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 725                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 726                 return true;                                                                             </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 727             case android.R.id.home:                                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 728                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 729                 return true;                                                                             </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 730             default:                                                                                     </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 731                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 732         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 733     }                                                                                                    </span>
<span  style=""> 734                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 735     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 736      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 737      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 738      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 739     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 740     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span  style=""> 741                                                                                                          </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 742         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 743             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 744             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 745             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 746             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span  style=""> 747                                                                                                          </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 748             if (matchOffsets != null)                                                                    </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 749                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span  style=""> 750                                                                                                          </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 751             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 752             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 753             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 754         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 755             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 756             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 757             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 758             if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                            </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 759                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 760             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 761             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 762         }                                                                                                </span>
<span  style=""> 763                                                                                                          </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 764         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 765                 new HitBuilders.EventBuilder()                                                           </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 766                         .setCategory(&quot;note&quot;)                                                             </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style=""> 767                         .setAction(&quot;viewed_note&quot;)                                                        </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style=""> 768                         .setLabel(&quot;note_list_row_tap&quot;)                                                   </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 769                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 770         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 771     }                                                                                                    </span>
<span  style=""> 772                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 773     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 774     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 775         // New account created                                                                           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 776         mTracker.send(                                                                                   </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 777                 new HitBuilders.EventBuilder()                                                           </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 778                         .setCategory(&quot;user&quot;)                                                             </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style=""> 779                         .setAction(&quot;new_account_created&quot;)                                                </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style=""> 780                         .setLabel(&quot;account_created_from_login_activity&quot;)                                 </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 781                         .build()                                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 782         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 783     }                                                                                                    </span>
<span  style=""> 784                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 785     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 786         switch (status) {                                                                                </span>
<span  style=""> 787                                                                                                          </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 788             // successfully used access token to connect to simperium bucket                             </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 789             case AUTHORIZED:                                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 790                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 791                         new HitBuilders.EventBuilder()                                                   </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 792                                 .setCategory(&quot;user&quot;)                                                     </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style=""> 793                                 .setAction(&quot;signed_in&quot;)                                                  </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style=""> 794                                 .setLabel(&quot;signed_in_from_login_activity&quot;)                               </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 795                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 796                 );                                                                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 797                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 798                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 799                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 800                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 801                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 802                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 804                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 805                 break;                                                                                   </span>
<span  style=""> 806                                                                                                          </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 807             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 808             case NOT_AUTHORIZED:                                                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 809                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 810                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 811                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 812                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 813                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 814                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 815                 break;                                                                                   </span>
<span  style=""> 816                                                                                                          </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 817             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 817             // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in ðŸ”µ</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 818             case UNKNOWN:                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 819                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 820         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 821     }                                                                                                    </span>
<span  style=""> 822                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 823     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 824         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 825         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 826             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 827         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 828     }                                                                                                    </span>
<span  style=""> 829                                                                                                          </span>
<span  style=""> 830                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 831     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 832     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 833         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 834         switch (requestCode) {                                                                           </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 835             case Simplenote.INTENT_PREFERENCES:                                                          </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 836                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 837                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 838                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 839                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 840                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 841                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 841                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 842                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 843                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 844                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 845                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 846                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 848                 break;                                                                                   </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 849             case Simplenote.INTENT_EDIT_NOTE:                                                            </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""><abbr title=" 850                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 850                 if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID))ðŸ”µ</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 851                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 852                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 853                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 854                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 855                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 856                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 857                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 858                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 859                 break;                                                                                   </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 860             case Simperium.SIGNUP_SIGNIN_REQUEST:                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 861                 invalidateOptionsMenu();                                                                 </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 862                 if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {           </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 863                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 864                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 865                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 867     }                                                                                                    </span>
<span  style=""> 868                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 869     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 870     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 871         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 872         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 873                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 874             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 875                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 876                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 877                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 878                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 879                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 880                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 881                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 882                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 883                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 884                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 885                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 886                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 887                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 888                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 889                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 890                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 891             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 892         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 893     }                                                                                                    </span>
<span  style=""> 894                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 895     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 896     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 897         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 898         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 899         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 900     }                                                                                                    </span>
<span  style=""> 901                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 902     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 903     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 904         super.onConfigurationChanged(newConfig);                                                         </span>
<span  style=""> 905                                                                                                          </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 906         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span  style=""> 907                                                                                                          </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 908         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 909             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 910                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 911                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 912                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 913                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 914                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 915                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 916                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 917                 // Select the current note on a tablet                                                   </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 918                 if (mCurrentNote != null)                                                                </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 919                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 920                 else {                                                                                   </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 921                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 922                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 923                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 924                 invalidateOptionsMenu();                                                                 </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 925             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 925             } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragmentðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 926                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 927                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 928                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 929                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 930                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 931                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 932                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 933                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 934                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 935                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 936                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 937                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 938                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 939                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 940                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 941                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 942             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 943         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 944     }                                                                                                    </span>
<span  style=""> 945                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 946     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 947         if (isSearch) {                                                                                  </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 948             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 948             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;ðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 949             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 950         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 951             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 951             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;ðŸ”µ</abbr></span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 952             mTracker.send(                                                                               </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 953                     new HitBuilders.EventBuilder()                                                       </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style=""> 954                             .setCategory(&quot;user&quot;)                                                         </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style=""> 955                             .setAction(&quot;viewed_trash&quot;)                                                   </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style=""> 956                             .setLabel(&quot;trash_filter_selected&quot;)                                           </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 957                             .build()                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 958             );                                                                                           </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 959             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 960         } else {                                                                                         </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 961             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 961             getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;ðŸ”µ</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 962             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 963         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 964     }                                                                                                    </span>
<span  style=""> 965                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 966     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 967         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 968             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 969             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 970             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 971         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 972     }                                                                                                    </span>
<span  style=""> 973                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 974     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 975         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 976         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 977         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 978     }                                                                                                    </span>
<span  style=""> 979                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 980     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 981         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 982             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 983             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 983             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_noteðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 984         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985     }                                                                                                    </span>
<span  style=""> 986                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 987     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span  style=""> 988                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 989         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 990         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 991             Simplenote application = (Simplenote) getApplication();                                      </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 992             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 993             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 994             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 995             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 996                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 997             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 998             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 999         }                                                                                                </span>
<span  style="">1000                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1001         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style="">1002         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style="">1003             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1004         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1005     }                                                                                                    </span>
<span  style="">1006                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1007 }                                                                                                        </span>



</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   3 import android.app.Activity;                                                                             </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   4 import android.app.AlertDialog;                                                                          </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   5 import android.app.FragmentManager;                                                                      </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   6 import android.app.FragmentTransaction;                                                                  </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   7 import android.content.DialogInterface;                                                                  </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   8 import android.content.Intent;                                                                           </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">   9 import android.content.SharedPreferences;                                                                </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  10 import android.content.res.Configuration;                                                                </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  11 import android.os.AsyncTask;                                                                             </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  12 import android.os.Build;                                                                                 </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  13 import android.os.Bundle;                                                                                </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  14 import android.os.Parcelable;                                                                            </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  15 import android.preference.PreferenceManager;                                                             </span>
<span class="4781461510639479636" onmouseenter="enter('4781461510639479636');" onmouseout="out('4781461510639479636');" style="">  16 import android.support.v4.view.MenuItemCompat;                                                           </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  17 import android.support.v4.widget.DrawerLayout;                                                           </span>
<span class="5183907075420479303" onmouseenter="enter('5183907075420479303');" onmouseout="out('5183907075420479303');" style="">  18 import android.support.v7.app.ActionBar;                                                                 </span>
<span class="5838751333637237801" onmouseenter="enter('5838751333637237801');" onmouseout="out('5838751333637237801');" style="">  19 import android.support.v7.app.ActionBarActivity;                                                         </span>
<span class="-7265034909983537815" onmouseenter="enter('-7265034909983537815');" onmouseout="out('-7265034909983537815');" style="">  20 import android.support.v7.app.ActionBarDrawerToggle;                                                     </span>
<span class="2821820676337305430" onmouseenter="enter('2821820676337305430');" onmouseout="out('2821820676337305430');" style="">  21 import android.support.v7.widget.SearchView;                                                             </span>
<span class="748566200108870678" onmouseenter="enter('748566200108870678');" onmouseout="out('748566200108870678');" style="">  22 import android.support.v7.widget.Toolbar;                                                                </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  23 import android.text.Spannable;                                                                           </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  24 import android.text.SpannableString;                                                                     </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  25 import android.text.TextUtils;                                                                           </span>
<span class="1137223268924283846" onmouseenter="enter('1137223268924283846');" onmouseout="out('1137223268924283846');" style="">  26 import android.view.Gravity;                                                                             </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  27 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  28 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  29 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  30 import android.view.View;                                                                                </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  31 import android.view.Window;                                                                              </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  32 import android.widget.AdapterView;                                                                       </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  33 import android.widget.ListView;                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  34 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  35 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  36 import com.automattic.simplenote.utils.PrefUtils;                                                        </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  37 import com.automattic.simplenote.utils.TagsAdapter;                                                      </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  38 import com.automattic.simplenote.utils.ThemeUtils;                                                       </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  39 import com.automattic.simplenote.utils.UndoBarController;                                                </span>
<span class="2396571929468120860" onmouseenter="enter('2396571929468120860');" onmouseout="out('2396571929468120860');" style="">  40 import com.automattic.simplenote.widgets.FloatingActionButton;                                           </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  41 import com.automattic.simplenote.widgets.TypefaceSpan;                                                   </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="">  42 import com.google.android.gms.analytics.HitBuilders;                                                     </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="">  43 import com.google.android.gms.analytics.Tracker;                                                         </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  44 import com.simperium.Simperium;                                                                          </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  45 import com.simperium.android.LoginActivity;                                                              </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  46 import com.simperium.client.Bucket;                                                                      </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  47 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  48 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  49 import com.simperium.client.Query;                                                                       </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  50 import com.simperium.client.User;                                                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  51 import java.util.ArrayList;                                                                              </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  52 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  53 import java.util.List;                                                                                   </span>
<span  style="">  54                                                                                                          </span>
<span  style="">  55                                                                                                          </span>
<span class="4115280751820170200" onmouseenter="enter('4115280751820170200');" onmouseout="out('4115280751820170200');" style=""><abbr title="  56 public class NotesActivity extends ActionBarActivity implements NoteListFragment.Callbacks , User.StatusChangeListener , Simperium.OnUserCreatedListener , UndoBarController.UndoListener , Bucket.Listener&lt;Note&gt; {">  56 public class NotesActivity extends ActionBarActivity implements NoteListFragment.Callbacks , User.StatusCðŸ”µ</abbr></span>
<span class="8116785100819994127" onmouseenter="enter('8116785100819994127');" onmouseout="out('8116785100819994127');" style="">  57     private boolean mIsLargeScreen;                                                                      </span>
<span  style="">  58                                                                                                          </span>
<span class="-24985701792273083" onmouseenter="enter('-24985701792273083');" onmouseout="out('-24985701792273083');" style="">  59     private boolean mIsLandscape;                                                                        </span>
<span  style="">  60                                                                                                          </span>
<span class="1185672530966312670" onmouseenter="enter('1185672530966312670');" onmouseout="out('1185672530966312670');" style="">  61     private boolean mShouldSelectNewNote;                                                                </span>
<span  style="">  62                                                                                                          </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  63     private String mTabletSearchQuery;                                                                   </span>
<span  style="">  64                                                                                                          </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  65     private UndoBarController mUndoBarController;                                                        </span>
<span  style="">  66                                                                                                          </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  67     private SearchView mSearchView;                                                                      </span>
<span  style="">  68                                                                                                          </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  69     private MenuItem mSearchMenuItem;                                                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  71     private NoteListFragment mNoteListFragment;                                                          </span>
<span  style="">  72                                                                                                          </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  73     private NoteEditorFragment mNoteEditorFragment;                                                      </span>
<span  style="">  74                                                                                                          </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  75     private Note mCurrentNote;                                                                           </span>
<span  style="">  76                                                                                                          </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  77     protected Bucket&lt;Note&gt; mNotesBucket;                                                                 </span>
<span  style="">  78                                                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  79     protected Bucket&lt;Tag&gt; mTagsBucket;                                                                   </span>
<span  style="">  80                                                                                                          </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  81     private int TRASH_SELECTED_ID = 1;                                                                   </span>
<span  style="">  82                                                                                                          </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  83     private ActionBar mActionBar;                                                                        </span>
<span  style="">  84                                                                                                          </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  85     private MenuItem mEmptyTrashMenuItem;                                                                </span>
<span  style="">  86                                                                                                          </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  87     // Menu drawer                                                                                       </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  88     // Menu drawer                                                                                       </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  89     private DrawerLayout mDrawerLayout;                                                                  </span>
<span  style="">  90                                                                                                          </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  91     private ListView mDrawerList;                                                                        </span>
<span  style="">  92                                                                                                          </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  93     private ActionBarDrawerToggle mDrawerToggle;                                                         </span>
<span  style="">  94                                                                                                          </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  95     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  97     private TagsAdapter.TagMenuItem mSelectedTag;                                                        </span>
<span  style="">  98                                                                                                          </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  99     private CharSequence mActionBarTitle;                                                                </span>
<span  style=""> 100                                                                                                          </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style=""> 101     public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                     </span>
<span  style=""> 102                                                                                                          </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style=""> 103     public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                 </span>
<span  style=""> 104                                                                                                          </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style=""> 105     // Google Analytics tracker                                                                          </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style=""> 106     private Tracker mTracker;                                                                            </span>
<span  style=""> 107                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 108     @Override                                                                                            </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style=""> 109     protected void onCreate(Bundle savedInstanceState) {                                                 </span>
<span class="3699502760248041016" onmouseenter="enter('3699502760248041016');" onmouseout="out('3699502760248041016');" style=""> 110         supportRequestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                              </span>
<span  style=""> 111                                                                                                          </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style=""> 112         ThemeUtils.setTheme(this);                                                                       </span>
<span  style=""> 113                                                                                                          </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style=""> 114         super.onCreate(savedInstanceState);                                                              </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 115         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span  style=""> 116                                                                                                          </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style=""> 117         if (mNotesBucket == null)                                                                        </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style=""> 118             mNotesBucket = currentApp.getNotesBucket();                                                  </span>
<span  style=""> 119                                                                                                          </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style=""> 120         if (mTagsBucket == null)                                                                         </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style=""> 121             mTagsBucket = currentApp.getTagsBucket();                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 123         setContentView(R.layout.activity_notes);                                                         </span>
<span  style=""> 124                                                                                                          </span>
<span  style=""> 125                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 126 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-478997688759020781" onmouseenter="enter('-478997688759020781');" onmouseout="out('-478997688759020781');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 127         Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);                                          </span>
<span class="-7717068737558593543" onmouseenter="enter('-7717068737558593543');" onmouseout="out('-7717068737558593543');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 128         setSupportActionBar(toolbar);                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 129                                                                                                          </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 130         EasyTracker.getInstance().activityStart(this);                                                   </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 131         mTracker = EasyTracker.getTracker();                                                             </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 132                                                                                                          </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 133 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 134 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 134 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 135 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136                                                                                                          </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137         mTracker = currentApp.getTracker();                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138                                                                                                          </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 139 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style=""> 140                                                                                                          </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 141         if (savedInstanceState == null) {                                                                </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 142             mNoteListFragment = new NoteListFragment();                                                  </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 143             FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();           </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 144             fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);       </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 145             fragmentTransaction.commit();                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 146         } else {                                                                                         </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 147             mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148         }                                                                                                </span>
<span  style=""> 149                                                                                                          </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 150         Configuration config = getBaseContext().getResources().getConfiguration();                       </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 151         if ((config.screenLayout                                                                         </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 152                 &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                  </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 153                 &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                              </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 154             mIsLargeScreen = true;                                                                       </span>
<span  style=""> 155                                                                                                          </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 156             if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                       </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 157                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 157                 mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 158             } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                      </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 159                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 160                 addEditorFragment();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162         }                                                                                                </span>
<span  style=""> 163                                                                                                          </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 164         // Set up the menu drawer                                                                        </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 165         mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                 </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 166         mDrawerList = (ListView) findViewById(R.id.left_drawer);                                         </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 167         mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                              </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 168         mDrawerList.setAdapter(mTagsAdapter);                                                            </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 169         // Set the list&#x27;s click listener                                                                 </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 170         mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                               </span>
<span  style=""> 171                                                                                                          </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 172         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 173             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 174                                                                                                          </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 175         mDrawerToggle = new ActionBarDrawerToggle(                                                       </span>
<span class="-5783349819328245482" onmouseenter="enter('-5783349819328245482');" onmouseout="out('-5783349819328245482');" style=""> 176                 this,  mDrawerLayout, toolbar,                                                           </span>
<span class="-6484461085659018563" onmouseenter="enter('-6484461085659018563');" onmouseout="out('-6484461085659018563');" style=""> 177                 R.string.open_drawer, R.string.close_drawer                                              </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 178         ) {                                                                                              </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 179             public void onDrawerClosed(View view) {                                                      </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 180                 setTitle(mActionBarTitle);                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 181                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182             }                                                                                            </span>
<span  style=""> 183                                                                                                          </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 184             public void onDrawerOpened(View drawerView) {                                                </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 185                 setTitleWithCustomFont(getString(R.string.app_name));                                    </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 186                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 188         };                                                                                               </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 189         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 190                                                                                                          </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 191         // enable ActionBar app icon to behave as action to toggle nav drawer                            </span>
<span class="-1557652575642587556" onmouseenter="enter('-1557652575642587556');" onmouseout="out('-1557652575642587556');" style=""> 192         mActionBar = getSupportActionBar();                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 193         mActionBar.setDisplayHomeAsUpEnabled(true);                                                      </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 194         mActionBar.setHomeButtonEnabled(true);                                                           </span>
<span  style=""> 195                                                                                                          </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 196         mDrawerLayout.setDrawerListener(mDrawerToggle);                                                  </span>
<span  style=""> 197                                                                                                          </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 198         mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                    </span>
<span  style=""> 199                                                                                                          </span>
<span class="7276435277982660612" onmouseenter="enter('7276435277982660612');" onmouseout="out('7276435277982660612');" style=""> 200         FloatingActionButton fabButton = new FloatingActionButton.Builder(this)                          </span>
<span class="8726841811322177379" onmouseenter="enter('8726841811322177379');" onmouseout="out('8726841811322177379');" style=""> 201                 .withDrawable(getResources().getDrawable(R.drawable.ic_create_white))                    </span>
<span class="-7485210973608763852" onmouseenter="enter('-7485210973608763852');" onmouseout="out('-7485210973608763852');" style=""> 202                 .withButtonColor(getResources().getColor(R.color.simplenote_blue))                       </span>
<span class="2118911739178036452" onmouseenter="enter('2118911739178036452');" onmouseout="out('2118911739178036452');" style=""> 203                 .withGravity(Gravity.BOTTOM | Gravity.RIGHT)                                             </span>
<span class="-6809120621893824058" onmouseenter="enter('-6809120621893824058');" onmouseout="out('-6809120621893824058');" style=""> 204                 .withMargins(0, 0, 16, 16)                                                               </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style=""> 205                 .create();                                                                               </span>
<span  style=""> 206                                                                                                          </span>
<span class="1755938213130270228" onmouseenter="enter('1755938213130270228');" onmouseout="out('1755938213130270228');" style=""> 207         fabButton.setOnClickListener(new View.OnClickListener() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 208             @Override                                                                                    </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style=""> 209             public void onClick(View v) {                                                                </span>
<span class="-8657156247817339377" onmouseenter="enter('-8657156247817339377');" onmouseout="out('-8657156247817339377');" style=""> 210                 if (getNoteListFragment() != null) {                                                     </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 211                     getNoteListFragment().addNote();                                                     </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style=""> 212                     mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 215         });                                                                                              </span>
<span  style=""> 216                                                                                                          </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 217         if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                            </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 218             // Create the welcome note                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 219             try {                                                                                        </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 220                 Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                            </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 221                 welcomeNote.setCreationDate(Calendar.getInstance());                                     </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 222                 welcomeNote.setModificationDate(welcomeNote.getCreationDate());                          </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 223                 welcomeNote.setContent(getString(R.string.welcome_note));                                </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 224                 welcomeNote.getTitle();                                                                  </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 225                 welcomeNote.save();                                                                      </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 226             } catch (BucketObjectNameInvalid e) {                                                        </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 227                 // this won&#x27;t happen because welcome-android is a valid name                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228             }                                                                                            </span>
<span  style=""> 229                                                                                                          </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 230             SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);         </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 231             SharedPreferences.Editor editor = preferences.edit();                                        </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 232             editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                       </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 233             editor.commit();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234         }                                                                                                </span>
<span  style=""> 235                                                                                                          </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 236         if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                        </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 237             // Check share action                                                                        </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 238             Intent intent = getIntent();                                                                 </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 239             String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 240             String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                      </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 241             if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                      </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 242                 if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                            </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 243                     text = subject + &quot;\n\n&quot; + text;                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244                 }                                                                                        </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 245                 Note note = mNotesBucket.newObject();                                                    </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 246                 note.setCreationDate(Calendar.getInstance());                                            </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 247                 note.setModificationDate(note.getCreationDate());                                        </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 248                 note.setContent(text);                                                                   </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 249                 note.save();                                                                             </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 250                 setCurrentNote(note);                                                                    </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 251                 mShouldSelectNewNote = true;                                                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style=""> 252                 mTracker.send(                                                                           </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style=""> 253                         new HitBuilders.EventBuilder()                                                   </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style=""> 254                                 .setCategory(&quot;note&quot;)                                                     </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style=""> 255                                 .setAction(&quot;create_note&quot;)                                                </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style=""> 256                                 .setLabel(&quot;external_share&quot;)                                              </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 257                                 .build()                                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 258                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260         }                                                                                                </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 261         currentApp.getSimperium().setOnUserCreatedListener(this);                                        </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 262         currentApp.getSimperium().setUserStatusChangeListener(this);                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 263         setProgressBarIndeterminateVisibility(false);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264     }                                                                                                    </span>
<span  style=""> 265                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 266     @Override                                                                                            </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 267     protected void onResume() {                                                                          </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 268         super.onResume();                                                                                </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 269         // Ensure user has valid authorization                                                           </span>
<span class="-7912476481862373010" onmouseenter="enter('-7912476481862373010');" onmouseout="out('-7912476481862373010');" style=""> 270         if (userAuthenticationIsInvalid()) {                                                             </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 271             startLoginActivity(true);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272         }                                                                                                </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 273         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 274         mTagsBucket.start();                                                                             </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 275         mNotesBucket.addOnNetworkChangeListener(this);                                                   </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 276         mNotesBucket.addOnSaveObjectListener(this);                                                      </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 277         mNotesBucket.addOnDeleteObjectListener(this);                                                    </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 278         mTagsBucket.addListener(mTagsMenuUpdater);                                                       </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 279         updateNavigationDrawerItems();                                                                   </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 280         // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style=""> 281         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 282         if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {             </span>
<span class="-8655694457388379082" onmouseenter="enter('-8655694457388379082');" onmouseout="out('-8655694457388379082');" style=""> 283             if ((-1) == mTagsAdapter.getPosition(mSelectedTag)) {                                        </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 284                 mSelectedTag = null;                                                                     </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 285                 mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287         }                                                                                                </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 288         setSelectedTagActive();                                                                          </span>
<span class="2314435364922647576" onmouseenter="enter('2314435364922647576');" onmouseout="out('2314435364922647576');" style=""> 289         if ((mCurrentNote != null) &amp;&amp; mShouldSelectNewNote) {                                            </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 290             onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                  </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 291             mShouldSelectNewNote = false;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293     }                                                                                                    </span>
<span  style=""> 294                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 295     @Override                                                                                            </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 296     protected void onPause() {                                                                           </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 297         super.onPause();                                                                                 </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 298         mTagsBucket.removeListener(mTagsMenuUpdater);                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 299         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 300         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 301         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302     }                                                                                                    </span>
<span  style=""> 303                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 304     @Override                                                                                            </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 305     public void setTitle(CharSequence title) {                                                           </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 306         mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                  </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 307         setTitleWithCustomFont(mActionBarTitle);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308     }                                                                                                    </span>
<span  style=""> 309                                                                                                          </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 310     private void setTitleWithCustomFont(CharSequence title) {                                            </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 311         // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                     </span>
<span class="-3459320900858089988" onmouseenter="enter('-3459320900858089988');" onmouseout="out('-3459320900858089988');" style=""><abbr title=" 312         if (((!TextUtils.isEmpty(Build.BRAND)) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;)) &amp;&amp; (Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN)) {"> 312         if (((!TextUtils.isEmpty(Build.BRAND)) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;)) &amp;&amp; (Build.VEðŸ”µ</abbr></span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 313             mActionBar.setTitle(title);                                                                  </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 314             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315         }                                                                                                </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 316         SpannableString s = new SpannableString(title);                                                  </span>
<span class="4619405845333796456" onmouseenter="enter('4619405845333796456');" onmouseout="out('4619405845333796456');" style=""> 317         s.setSpan(new TypefaceSpan(this), 0, s.length(), Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);            </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 318         mActionBar.setTitle(s);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319     }                                                                                                    </span>
<span  style=""> 320                                                                                                          </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 321     private void updateNavigationDrawerItems() {                                                         </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 322         Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                    </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 323         mTagsAdapter.changeCursor(tagCursor);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324     }                                                                                                    </span>
<span  style=""> 325                                                                                                          </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 326     private void setSelectedTagActive() {                                                                </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 327         if (mSelectedTag == null)                                                                        </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 328             mSelectedTag = mTagsAdapter.getDefaultItem();                                                </span>
<span  style=""> 329                                                                                                          </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 330         setTitle(mSelectedTag.name);                                                                     </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 331         mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332     }                                                                                                    </span>
<span  style=""> 333                                                                                                          </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 334     // Enable or disable the trash action bar button depending on if there are deleted notes or not      </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 335     public void updateTrashMenuItem() {                                                                  </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 336         if (mEmptyTrashMenuItem == null)                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 337             return;                                                                                      </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 338         // Disable the trash icon if there are no notes trashed.                                         </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 339         Simplenote application = (Simplenote) getApplication();                                          </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 340         Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                          </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 341         Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                 </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 342         if (query.count() == 0) {                                                                        </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 343             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                        </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 344             mEmptyTrashMenuItem.setEnabled(false);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 345         } else {                                                                                         </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 346             mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                 </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 347             mEmptyTrashMenuItem.setEnabled(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349     }                                                                                                    </span>
<span  style=""> 350                                                                                                          </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 351     /* The click listener for ListView in the navigation drawer */                                       </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 352     private class DrawerItemClickListener implements ListView.OnItemClickListener {                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 353         @Override                                                                                        </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 354         public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {               </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 355             mSelectedTag = mTagsAdapter.getItem(position);                                               </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 356             checkEmptyListText(false);                                                                   </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 357             // Update checked item in navigation drawer and close it                                     </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 358             setSelectedTagActive();                                                                      </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 359             mDrawerLayout.closeDrawer(mDrawerList);                                                      </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 360             // Disable long press on notes if we&#x27;re viewing the trash                                    </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 361             if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                             </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 362                 getNoteListFragment().getListView().setLongClickable(false);                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 363             } else {                                                                                     </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 364                 getNoteListFragment().getListView().setLongClickable(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365             }                                                                                            </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 366             getNoteListFragment().refreshListFromNavSelect();                                            </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style=""> 367             if (position &gt; 1) {                                                                          </span>
<span class="-5701201932390367450" onmouseenter="enter('-5701201932390367450');" onmouseout="out('-5701201932390367450');" style=""><abbr title=" 368                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;tag&quot;).setAction(&quot;viewed_notes_for_tag&quot;).setLabel(&quot;selected_tag_in_navigation_drawer&quot;).build());"> 368                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;tag&quot;).setAction(&quot;viewed_notes_fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371     }                                                                                                    </span>
<span  style=""> 372                                                                                                          </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 373     public TagsAdapter.TagMenuItem getSelectedTag() {                                                    </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 374         return mSelectedTag;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375     }                                                                                                    </span>
<span  style=""> 376                                                                                                          </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 377     private void addEditorFragment() {                                                                   </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 378         FragmentManager fm = getFragmentManager();                                                       </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 379         FragmentTransaction ft = fm.beginTransaction();                                                  </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 380         mNoteEditorFragment = new NoteEditorFragment();                                                  </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 381         ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                        </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 382         ft.commitAllowingStateLoss();                                                                    </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 383         fm.executePendingTransactions();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384     }                                                                                                    </span>
<span  style=""> 385                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 386     /**                                                                                                  </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 387      * Checks for a previously valid user that is now not authenticated                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 388      *                                                                                                   </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 389      * @return true if user has invalid authorization                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 390      */                                                                                                  </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 391     private boolean userAuthenticationIsInvalid() {                                                      </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 392         Simplenote currentApp = (Simplenote) getApplication();                                           </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 393         Simperium simperium = currentApp.getSimperium();                                                 </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 394         User user = simperium.getUser();                                                                 </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 395         return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396     }                                                                                                    </span>
<span  style=""> 397                                                                                                          </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 398     public void setCurrentNote(Note note) {                                                              </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 399         mCurrentNote = note;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400     }                                                                                                    </span>
<span  style=""> 401                                                                                                          </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 402     // received a change from the network, refresh the list                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 403     @Override                                                                                            </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 404     public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 405         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 406             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 407             public void run() {                                                                          </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 408                 if (type == Bucket.ChangeType.INDEX)                                                     </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 409                     setProgressBarIndeterminateVisibility(false);                                        </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 410                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 412         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span  style=""> 414                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 415     @Override                                                                                            </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 416     public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 417         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 418             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 419             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 420                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 422         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423     }                                                                                                    </span>
<span  style=""> 424                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 425     @Override                                                                                            </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 426     public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                       </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 427         runOnUiThread(new Runnable() {                                                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 428             @Override                                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 429             public void run() {                                                                          </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 430                 mNoteListFragment.refreshList();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 432         });                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 433     }                                                                                                    </span>
<span  style=""> 434                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 435     @Override                                                                                            </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 436     public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                   </span>
<span  style=""> 437                                                                                                          </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 438         // noop, NoteEditorFragment will handle this                                                     </span>
<span  style=""> 439                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440     }                                                                                                    </span>
<span  style=""> 441                                                                                                          </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 442     // Tags bucket listener                                                                              </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 443     // Tags bucket listener                                                                              </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 444     private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                         </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 445         void updateNavigationDrawer() {                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 446             runOnUiThread(new Runnable() {                                                               </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 447                 public void run() {                                                                      </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 448                     updateNavigationDrawerItems();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 450             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451         }                                                                                                </span>
<span  style=""> 452                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 453         @Override                                                                                        </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 454         public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                          </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 455             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456         }                                                                                                </span>
<span  style=""> 457                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 458         @Override                                                                                        </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 459         public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                        </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 460             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461         }                                                                                                </span>
<span  style=""> 462                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463         @Override                                                                                        </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 464         public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 465             updateNavigationDrawer();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466         }                                                                                                </span>
<span  style=""> 467                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 468         @Override                                                                                        </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 469         public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                               </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 470             // noop                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 472     };                                                                                                   </span>
<span  style=""> 473                                                                                                          </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 474     public boolean isLargeScreenLandscape() {                                                            </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 475         return mIsLargeScreen &amp;&amp; mIsLandscape;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476     }                                                                                                    </span>
<span  style=""> 477                                                                                                          </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 478     // nbradbury 01-Apr-2013                                                                             </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 479     public NoteListFragment getNoteListFragment() {                                                      </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 480         return mNoteListFragment;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 483     @Override                                                                                            </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 484     public boolean onCreateOptionsMenu(Menu menu) {                                                      </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 485         super.onCreateOptionsMenu(menu);                                                                 </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 486         MenuInflater inflater = getMenuInflater();                                                       </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 487         inflater.inflate(R.menu.notes_list, menu);                                                       </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 488         boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 489         // restore the search query if on a landscape tablet                                             </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 490         String searchQuery = null;                                                                       </span>
<span class="-5857103858596653514" onmouseenter="enter('-5857103858596653514');" onmouseout="out('-5857103858596653514');" style=""> 491         if (isLargeScreenLandscape() &amp;&amp; (mSearchView != null)) {                                         </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 492             searchQuery = mSearchView.getQuery().toString();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493         }                                                                                                </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 494         mSearchMenuItem = menu.findItem(R.id.menu_search);                                               </span>
<span class="3272437102001460651" onmouseenter="enter('3272437102001460651');" onmouseout="out('3272437102001460651');" style=""> 495         mSearchView = ((SearchView) (mSearchMenuItem.getActionView()));                                  </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 496         if (!TextUtils.isEmpty(searchQuery)) {                                                           </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 497             mSearchView.setQuery(searchQuery, false);                                                    </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 498             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499         }                                                                                                </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 500         mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 501             @Override                                                                                    </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 502             public boolean onQueryTextChange(String newText) {                                           </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 503                 if (mSearchMenuItem.isActionViewExpanded()) {                                            </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 504                     getNoteListFragment().searchNotes(newText);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 505                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 506                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507             }                                                                                            </span>
<span  style=""> 508                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 509             @Override                                                                                    </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 510             public boolean onQueryTextSubmit(String queryText) {                                         </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 511                 getNoteListFragment().searchNotes(queryText);                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 512                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 514         });                                                                                              </span>
<span class="4566642929880777544" onmouseenter="enter('4566642929880777544');" onmouseout="out('4566642929880777544');" style=""><abbr title=" 515         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListener() {"> 515         MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListenðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 516             @Override                                                                                    </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 517             public boolean onMenuItemActionExpand(MenuItem menuItem) {                                   </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 518                 checkEmptyListText(true);                                                                </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 519                 getNoteListFragment().hideWelcomeView();                                                 </span>
<span class="532907680402524417" onmouseenter="enter('532907680402524417');" onmouseout="out('532907680402524417');" style=""><abbr title=" 520                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;searched_notes&quot;).setLabel(&quot;action_bar_search_tap&quot;).build());"> 520                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;searched_noteðŸ”µ</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 521                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 522             }                                                                                            </span>
<span  style=""> 523                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 524             @Override                                                                                    </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 525             public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                 </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 526                 // Show all notes again                                                                  </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 527                 mTabletSearchQuery = &quot;&quot;;                                                                 </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 528                 mSearchView.setQuery(&quot;&quot;, false);                                                         </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 529                 checkEmptyListText(false);                                                               </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 530                 getNoteListFragment().clearSearch();                                                     </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 531                 getNoteListFragment().setWelcomeViewVisibility();                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 532                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 533             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 534         });                                                                                              </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 535         mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 536             @Override                                                                                    </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 537             public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="3606845470861323221" onmouseenter="enter('3606845470861323221');" onmouseout="out('3606845470861323221');" style=""> 538                 if (!mSearchMenuItem.isActionViewExpanded()) {                                           </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 539                     showDetailPlaceholder();                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540                 }                                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 541                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 542             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 543         });                                                                                              </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 544         // Restore the search query on landscape tablets                                                 </span>
<span class="3294827609454567092" onmouseenter="enter('3294827609454567092');" onmouseout="out('3294827609454567092');" style=""> 545         if (isLargeScreenLandscape() &amp;&amp; (!TextUtils.isEmpty(mTabletSearchQuery))) {                      </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 546             mSearchView.setQuery(mTabletSearchQuery, false);                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 547             mSearchMenuItem.expandActionView();                                                          </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 548             mSearchView.clearFocus();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 549         }                                                                                                </span>
<span class="4097965836923357921" onmouseenter="enter('4097965836923357921');" onmouseout="out('4097965836923357921');" style=""> 550         Simplenote currentApp = ((Simplenote) (getApplication()));                                       </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 551         menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());     </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 552         MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                </span>
<span class="7981805915062927604" onmouseenter="enter('7981805915062927604');" onmouseout="out('7981805915062927604');" style=""> 553         if ((mCurrentNote != null) &amp;&amp; mCurrentNote.isDeleted()) {                                        </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 554             trashItem.setTitle(R.string.undelete);                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 555         } else {                                                                                         </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 556             trashItem.setTitle(R.string.delete);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 557         }                                                                                                </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 558         if (isLargeScreenLandscape()) {                                                                  </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 559             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 560             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 561             if (mCurrentNote != null) {                                                                  </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 562                 menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                  </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 563                 trashItem.setVisible(true);                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 564             } else {                                                                                     </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 565                 menu.findItem(R.id.menu_share).setVisible(false);                                        </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 566                 trashItem.setVisible(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 567             }                                                                                            </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 568             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 569             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 570         } else {                                                                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 571             menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                     </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 572             menu.findItem(R.id.menu_preferences).setVisible(true);                                       </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 573             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 574             trashItem.setVisible(false);                                                                 </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 575             menu.findItem(R.id.menu_edit_tags).setVisible(true);                                         </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 576             menu.findItem(R.id.menu_empty_trash).setVisible(false);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577         }                                                                                                </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 578         // Are we looking at the trash? Adjust menu accordingly.                                         </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 579         if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                 </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 580             mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                  </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 581             mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                 </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 582             updateTrashMenuItem();                                                                       </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 583             menu.findItem(R.id.menu_search).setVisible(false);                                           </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 584             menu.findItem(R.id.menu_share).setVisible(false);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 585         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 586         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 587     }                                                                                                    </span>
<span  style=""> 588                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 589     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 590     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 591         if (mDrawerToggle.onOptionsItemSelected(item)) {                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 592             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593         }                                                                                                </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 594         switch (item.getItemId()) {                                                                      </span>
<span class="-5055644811283604841" onmouseenter="enter('-5055644811283604841');" onmouseout="out('-5055644811283604841');" style=""> 595             case R.id.menu_preferences :                                                                 </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 596                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 596                 // nbradbury - use startActivityForResult so onActivityResult can detect when user returnðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 597                 Intent i = new Intent(this, PreferencesActivity.class);                                  </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 598                 startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 599                 return true;                                                                             </span>
<span class="-2319704929653943740" onmouseenter="enter('-2319704929653943740');" onmouseout="out('-2319704929653943740');" style=""> 600             case R.id.menu_sign_in :                                                                     </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 601                 startLoginActivity(true);                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 602                 return true;                                                                             </span>
<span class="1042804872057263675" onmouseenter="enter('1042804872057263675');" onmouseout="out('1042804872057263675');" style=""> 603             case R.id.menu_edit_tags :                                                                   </span>
<span class="-5224226921207816625" onmouseenter="enter('-5224226921207816625');" onmouseout="out('-5224226921207816625');" style=""> 604                 Intent editTagsIntent = new Intent(this, TagsActivity.class);                            </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 605                 startActivity(editTagsIntent);                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 606                 return true;                                                                             </span>
<span class="-4929350896823615772" onmouseenter="enter('-4929350896823615772');" onmouseout="out('-4929350896823615772');" style=""> 607             case R.id.menu_share :                                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 608                 if (mCurrentNote != null) {                                                              </span>
<span class="2351823289576090125" onmouseenter="enter('2351823289576090125');" onmouseout="out('2351823289576090125');" style=""> 609                     Intent shareIntent = new Intent(Intent.ACTION_SEND);                                 </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 610                     shareIntent.setType(&quot;text/plain&quot;);                                                   </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 611                     shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());  </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 612                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 612                     startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.shaðŸ”µ</abbr></span>
<span class="-6023974736626738641" onmouseenter="enter('-6023974736626738641');" onmouseout="out('-6023974736626738641');" style=""><abbr title=" 613                     mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;shared_note&quot;).setLabel(&quot;action_bar_share_button&quot;).build());"> 613                     mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;shared_noðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 614                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 615                 return true;                                                                             </span>
<span class="4085560905623289311" onmouseenter="enter('4085560905623289311');" onmouseout="out('4085560905623289311');" style=""> 616             case R.id.menu_delete :                                                                      </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 617                 if (mNoteEditorFragment != null) {                                                       </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 618                     if (mCurrentNote != null) {                                                          </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 619                         mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                              </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 620                         mCurrentNote.setModificationDate(Calendar.getInstance());                        </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 621                         mCurrentNote.save();                                                             </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 622                         if (mCurrentNote.isDeleted()) {                                                  </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 623                             List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                       </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 624                             deletedNoteIds.add(mCurrentNote.getSimperiumKey());                          </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 625                             mUndoBarController.setDeletedNoteIds(deletedNoteIds);                        </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""><abbr title=" 626                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);"> 626                             mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null)ðŸ”µ</abbr></span>
<span class="707283825480925922" onmouseenter="enter('707283825480925922');" onmouseout="out('707283825480925922');" style=""><abbr title=" 627                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;deleted_note&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 627                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;dðŸ”µ</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 628                         } else {                                                                         </span>
<span class="-2255747906187631825" onmouseenter="enter('-2255747906187631825');" onmouseout="out('-2255747906187631825');" style=""><abbr title=" 629                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;restored_note&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 629                             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;rðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 630                         }                                                                                </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 631                         showDetailPlaceholder();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 632                     }                                                                                    </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 633                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 634                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 635                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 636                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 638                 }                                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 639                 return true;                                                                             </span>
<span class="2574119336327208433" onmouseenter="enter('2574119336327208433');" onmouseout="out('2574119336327208433');" style=""> 640             case R.id.menu_empty_trash :                                                                 </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 641                 AlertDialog.Builder alert = new AlertDialog.Builder(this);                               </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 642                 alert.setTitle(R.string.empty_trash);                                                    </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 643                 alert.setMessage(R.string.confirm_empty_trash);                                          </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 644                 alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {            </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 645                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 646                         new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);          </span>
<span class="-8539540474049676307" onmouseenter="enter('-8539540474049676307');" onmouseout="out('-8539540474049676307');" style=""><abbr title=" 647                         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;trash_emptied&quot;).setLabel(&quot;overflow_menu&quot;).build());"> 647                         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;trashðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 649                 });                                                                                      </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 650                 alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {             </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 651                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 652                         // Do nothing, just closing the dialog                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 653                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 654                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 655                 alert.show();                                                                            </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 656                 return true;                                                                             </span>
<span class="-1147335564575759755" onmouseenter="enter('-1147335564575759755');" onmouseout="out('-1147335564575759755');" style=""> 657             case android.R.id.home :                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 658                 invalidateOptionsMenu();                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 659                 return true;                                                                             </span>
<span class="3050734735710613783" onmouseenter="enter('3050734735710613783');" onmouseout="out('3050734735710613783');" style=""> 660             default :                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 661                 return super.onOptionsItemSelected(item);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 662         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 663     }                                                                                                    </span>
<span  style=""> 664                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 665     /**                                                                                                  </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 666      * Callback method from {@link NoteListFragment.Callbacks} indicating that                           </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 667      * the item with the given ID was selected.                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 668      */                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 669     @Override                                                                                            </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 670     public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                      </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 671         if (!isLargeScreenLandscape()) {                                                                 </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 672             // Launch the editor activity                                                                </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 673             Bundle arguments = new Bundle();                                                             </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 674             arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                 </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 675             arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                </span>
<span class="-7566474685196195951" onmouseenter="enter('-7566474685196195951');" onmouseout="out('-7566474685196195951');" style=""> 676             if (matchOffsets != null) {                                                                  </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 677                 arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 678             }                                                                                            </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 679             Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                          </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 680             editNoteIntent.putExtras(arguments);                                                         </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 681             startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 682         } else {                                                                                         </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 683             mNoteEditorFragment.setIsNewNote(isNew);                                                     </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 684             mNoteEditorFragment.setNote(noteID, matchOffsets);                                           </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 685             getNoteListFragment().setNoteSelected(noteID);                                               </span>
<span class="-6511901160538592247" onmouseenter="enter('-6511901160538592247');" onmouseout="out('-6511901160538592247');" style=""> 686             if ((mSearchView != null) &amp;&amp; (mSearchView.getQuery().length() &gt; 0)) {                        </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 687                 mTabletSearchQuery = mSearchView.getQuery().toString();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 688             }                                                                                            </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 689             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 690         }                                                                                                </span>
<span class="-4564216319929588783" onmouseenter="enter('-4564216319929588783');" onmouseout="out('-4564216319929588783');" style=""><abbr title=" 691         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;viewed_note&quot;).setLabel(&quot;note_list_row_tap&quot;).build());"> 691         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;note&quot;).setAction(&quot;viewed_note&quot;).setLabeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692     }                                                                                                    </span>
<span  style=""> 693                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 694     @Override                                                                                            </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 695     public void onUserCreated(User user) {                                                               </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 696         // New account created                                                                           </span>
<span class="-6561148211415741377" onmouseenter="enter('-6561148211415741377');" onmouseout="out('-6561148211415741377');" style=""><abbr title=" 697         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;new_account_created&quot;).setLabel(&quot;account_created_from_login_activity&quot;).build());"> 697         mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;new_account_created&quot;)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698     }                                                                                                    </span>
<span  style=""> 699                                                                                                          </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 700     public void onUserStatusChange(User.Status status) {                                                 </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 701         switch (status) {                                                                                </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 702             // successfully used access token to connect to simperium bucket                             </span>
<span class="8530657123535022875" onmouseenter="enter('8530657123535022875');" onmouseout="out('8530657123535022875');" style=""> 703             case AUTHORIZED :                                                                            </span>
<span class="2156428351969481188" onmouseenter="enter('2156428351969481188');" onmouseout="out('2156428351969481188');" style=""><abbr title=" 704                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;signed_in&quot;).setLabel(&quot;signed_in_from_login_activity&quot;).build());"> 704                 mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;signed_in&quot;).sðŸ”µ</abbr></span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 705                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 706                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 707                     public void run() {                                                                  </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 708                         if (!mNotesBucket.hasChangeVersion()) {                                          </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 709                             setProgressBarIndeterminateVisibility(true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 710                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 711                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 712                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 713                 break;                                                                                   </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 714             // NOT_AUTHORIZED means we attempted to connect but the token was not valid                  </span>
<span class="-3012977817220663920" onmouseenter="enter('-3012977817220663920');" onmouseout="out('-3012977817220663920');" style=""> 715             case NOT_AUTHORIZED :                                                                        </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 716                 runOnUiThread(new Runnable() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 717                     @Override                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 718                     public void run() {                                                                  </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 719                         startLoginActivity(true);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 720                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 721                 });                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 722                 break;                                                                                   </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 723                 // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 723                 // Default starting state of User, don&#x27;t do anything we allow use of app while not signedðŸ”µ</abbr></span>
<span class="6174632715204271229" onmouseenter="enter('6174632715204271229');" onmouseout="out('6174632715204271229');" style=""> 724             case UNKNOWN :                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 725                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727     }                                                                                                    </span>
<span  style=""> 728                                                                                                          </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 729     public void startLoginActivity(boolean signInFirst) {                                                </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 730         Intent loginIntent = new Intent(this, LoginActivity.class);                                      </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 731         if (signInFirst)                                                                                 </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 732             loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                               </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 733         startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734     }                                                                                                    </span>
<span  style=""> 735                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 736     @Override                                                                                            </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 737     protected void onActivityResult(int requestCode, int resultCode, Intent data) {                      </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 738         super.onActivityResult(requestCode, resultCode, data);                                           </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 739         switch (requestCode) {                                                                           </span>
<span class="3200066479646225352" onmouseenter="enter('3200066479646225352');" onmouseout="out('3200066479646225352');" style=""> 740             case Simplenote.INTENT_PREFERENCES :                                                         </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 741                 if (ThemeUtils.themeWasChanged(data)) {                                                  </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 742                     // Restart this activity to apply the new theme                                      </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 743                     recreate();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 744                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 745                 }                                                                                        </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 746                 // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 746                 // nbradbury - refresh note list when user returns from preferences (in case they changedðŸ”µ</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 747                 invalidateOptionsMenu();                                                                 </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 748                 NoteListFragment fragment = getNoteListFragment();                                       </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 749                 if (fragment != null) {                                                                  </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 750                     fragment.getPrefs();                                                                 </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 751                     fragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 753                 break;                                                                                   </span>
<span class="-4322531385092981025" onmouseenter="enter('-4322531385092981025');" onmouseout="out('-4322531385092981025');" style=""> 754             case Simplenote.INTENT_EDIT_NOTE :                                                           </span>
<span class="1732654892694420151" onmouseenter="enter('1732654892694420151');" onmouseout="out('1732654892694420151');" style=""><abbr title=" 755                 if (((resultCode == RESULT_OK) &amp;&amp; (data != null)) &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {"> 755                 if (((resultCode == RESULT_OK) &amp;&amp; (data != null)) &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTðŸ”µ</abbr></span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 756                     String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                     </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 757                     if (noteId != null) {                                                                </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 758                         List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                           </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 759                         deletedNoteIds.add(noteId);                                                      </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 760                         mUndoBarController.setDeletedNoteIds(deletedNoteIds);                            </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 761                         mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 762                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 764                 break;                                                                                   </span>
<span class="3500956188778406163" onmouseenter="enter('3500956188778406163');" onmouseout="out('3500956188778406163');" style=""> 765             case Simperium.SIGNUP_SIGNIN_REQUEST :                                                       </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 766                 invalidateOptionsMenu();                                                                 </span>
<span class="-8018417314888882758" onmouseenter="enter('-8018417314888882758');" onmouseout="out('-8018417314888882758');" style=""> 767                 if ((resultCode == Activity.RESULT_CANCELED) &amp;&amp; userAuthenticationIsInvalid()) {         </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 768                     finish();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 769                 }                                                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 770                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 771         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 772     }                                                                                                    </span>
<span  style=""> 773                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 774     @Override                                                                                            </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 775     public void onUndo(Parcelable p) {                                                                   </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 776         List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                            </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 777         if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                      </span>
<span  style=""> 778                                                                                                          </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 779             for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                              </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 780                 Note deletedNote = null;                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 781                 try {                                                                                    </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 782                     deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                               </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 783                 } catch (BucketObjectMissingException e) {                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 784                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 785                 }                                                                                        </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 786                 if (deletedNote != null) {                                                               </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 787                     deletedNote.setDeleted(false);                                                       </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 788                     deletedNote.setModificationDate(Calendar.getInstance());                             </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 789                     deletedNote.save();                                                                  </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 790                     NoteListFragment fragment = getNoteListFragment();                                   </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 791                     if (fragment != null) {                                                              </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 792                         fragment.getPrefs();                                                             </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 793                         fragment.refreshList();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 794                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 795                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 796             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 797         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 798     }                                                                                                    </span>
<span  style=""> 799                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 800     @Override                                                                                            </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 801     protected void onPostCreate(Bundle savedInstanceState) {                                             </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 802         super.onPostCreate(savedInstanceState);                                                          </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 803         // Sync the toggle state after onRestoreInstanceState has occurred.                              </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 804         mDrawerToggle.syncState();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 805     }                                                                                                    </span>
<span  style=""> 806                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 807     @Override                                                                                            </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 808     public void onConfigurationChanged(Configuration newConfig) {                                        </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 809         super.onConfigurationChanged(newConfig);                                                         </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 810         mDrawerToggle.onConfigurationChanged(newConfig);                                                 </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 811         if (mIsLargeScreen) {                                                                            </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 812             if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                          </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 813                 // Add the editor fragment                                                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 814                 mIsLandscape = true;                                                                     </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 815                 addEditorFragment();                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 816                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 817                     mNoteListFragment.setActivateOnItemClick(true);                                      </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 818                     mNoteListFragment.setDividerVisible(true);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 819                 }                                                                                        </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 820                 // Select the current note on a tablet                                                   </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 821                 if (mCurrentNote != null) {                                                              </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 822                     onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 823                 } else {                                                                                 </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 824                     mNoteEditorFragment.setPlaceholderVisible(true);                                     </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 825                     mNoteListFragment.getListView().clearChoices();                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 826                 }                                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 827                 invalidateOptionsMenu();                                                                 </span>
<span class="1053611769689074391" onmouseenter="enter('1053611769689074391');" onmouseout="out('1053611769689074391');" style=""><abbr title=" 828             } else if ((newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) &amp;&amp; (mNoteEditorFragment != null)) {"> 828             } else if ((newConfig.orientation == Configuration.ORIENTATION_PORTRAIT) &amp;&amp; (mNoteEditorFragmðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 829                 // Remove the editor fragment when rotating back to portrait                             </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 830                 mIsLandscape = false;                                                                    </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 831                 mCurrentNote = null;                                                                     </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 832                 if (mNoteListFragment != null) {                                                         </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 833                     mNoteListFragment.setActivateOnItemClick(false);                                     </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 834                     mNoteListFragment.setDividerVisible(false);                                          </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 835                     mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 836                     mNoteListFragment.refreshList();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 837                 }                                                                                        </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 838                 FragmentManager fm = getFragmentManager();                                               </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 839                 FragmentTransaction ft = fm.beginTransaction();                                          </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 840                 ft.remove(mNoteEditorFragment);                                                          </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 841                 mNoteEditorFragment = null;                                                              </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 842                 ft.commitAllowingStateLoss();                                                            </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 843                 fm.executePendingTransactions();                                                         </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 844                 invalidateOptionsMenu();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 845             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 846         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847     }                                                                                                    </span>
<span  style=""> 848                                                                                                          </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 849     public void checkEmptyListText(boolean isSearch) {                                                   </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 850         if (isSearch) {                                                                                  </span>
<span class="-3939719737472060201" onmouseenter="enter('-3939719737472060201');" onmouseout="out('-3939719737472060201');" style=""><abbr title=" 851             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found)) + &quot;&lt;/strong&gt;&quot;);"> 851             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found)) +ðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 852             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 853         } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                          </span>
<span class="-1916371577987904015" onmouseenter="enter('-1916371577987904015');" onmouseout="out('-1916371577987904015');" style=""><abbr title=" 854             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty)) + &quot;&lt;/strong&gt;&quot;);"> 854             getNoteListFragment().setEmptyListMessage((&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty)) +ðŸ”µ</abbr></span>
<span class="-5043343125166379994" onmouseenter="enter('-5043343125166379994');" onmouseout="out('-5043343125166379994');" style=""><abbr title=" 855             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;viewed_trash&quot;).setLabel(&quot;trash_filter_selected&quot;).build());"> 855             mTracker.send(new HitBuilders.EventBuilder().setCategory(&quot;user&quot;).setAction(&quot;viewed_trash&quot;).seðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 856             getNoteListFragment().setEmptyListViewClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 857         } else {                                                                                         </span>
<span class="-1146433742164721318" onmouseenter="enter('-1146433742164721318');" onmouseout="out('-1146433742164721318');" style=""><abbr title=" 858             getNoteListFragment().setEmptyListMessage(((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here)) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot;) + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 858             getNoteListFragment().setEmptyListMessage(((&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here)) +ðŸ”µ</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 859             getNoteListFragment().setEmptyListViewClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 860         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 861     }                                                                                                    </span>
<span  style=""> 862                                                                                                          </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 863     public void showDetailPlaceholder() {                                                                </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 864         if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                   </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 865             mCurrentNote = null;                                                                         </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 866             mNoteEditorFragment.setPlaceholderVisible(true);                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 867             invalidateOptionsMenu();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 868         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 869     }                                                                                                    </span>
<span  style=""> 870                                                                                                          </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 871     public void stopListeningToNotesBucket() {                                                           </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 872         mNotesBucket.removeOnNetworkChangeListener(this);                                                </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 873         mNotesBucket.removeOnSaveObjectListener(this);                                                   </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 874         mNotesBucket.removeOnDeleteObjectListener(this);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875     }                                                                                                    </span>
<span  style=""> 876                                                                                                          </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 877     public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                           </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 878         if (mUndoBarController != null) {                                                                </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 879             mUndoBarController.setDeletedNoteIds(noteIds);                                               </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 880             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 880             mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_noteðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 881         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 882     }                                                                                                    </span>
<span  style=""> 883                                                                                                          </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 884     private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 885         @Override                                                                                        </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 886         protected Void doInBackground(Void... voids) {                                                   </span>
<span class="490992353589700684" onmouseenter="enter('490992353589700684');" onmouseout="out('490992353589700684');" style=""> 887             Simplenote application = ((Simplenote) (getApplication()));                                  </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 888             Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                      </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 889             Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                             </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 890             Bucket.ObjectCursor c = query.execute();                                                     </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 891             while (c.moveToNext()) {                                                                     </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 892                 c.getObject().delete();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 893             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 894             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 895         }                                                                                                </span>
<span  style=""> 896                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 897         @Override                                                                                        </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 898         protected void onPostExecute(Void nada) {                                                        </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 899             showDetailPlaceholder();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 900         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 901     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 902 }                                                                                                        </span>












































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 -import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10  import android.content.SharedPreferences;                                                                         </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12  import android.os.AsyncTask;                                                                                      </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15  import android.os.Parcelable;                                                                                     </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16  import android.preference.PreferenceManager;                                                                      </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  17 -import android.support.v4.app.ActionBarDrawerToggle;                                                              </span>
<span class="4781461510639479636" onmouseenter="enter('4781461510639479636');" onmouseout="out('4781461510639479636');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +import android.support.v4.view.MenuItemCompat;                                                                    </span>
<span class="-7265034909983537815" onmouseenter="enter('-7265034909983537815');" onmouseout="out('-7265034909983537815');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  19 +import android.support.v7.app.ActionBarDrawerToggle;                                                              </span>
<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  20  import android.support.v4.widget.DrawerLayout;                                                                    </span>
<span class="5183907075420479303" onmouseenter="enter('5183907075420479303');" onmouseout="out('5183907075420479303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import android.support.v7.app.ActionBar;                                                                          </span>
<span class="5838751333637237801" onmouseenter="enter('5838751333637237801');" onmouseout="out('5838751333637237801');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import android.support.v7.app.ActionBarActivity;                                                                  </span>
<span class="748566200108870678" onmouseenter="enter('748566200108870678');" onmouseout="out('748566200108870678');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import android.support.v7.widget.Toolbar;                                                                         </span>
<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  24  import android.text.Spannable;                                                                                    </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  25  import android.text.SpannableString;                                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  26  import android.text.TextUtils;                                                                                    </span>
<span class="1137223268924283846" onmouseenter="enter('1137223268924283846');" onmouseout="out('1137223268924283846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +import android.view.Gravity;                                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  28  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  29  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  30  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  31  import android.view.View;                                                                                         </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  32  import android.view.Window;                                                                                       </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  33  import android.widget.AdapterView;                                                                                </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  34  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -import android.widget.SearchView;                                                                                 </span>
<span class="2821820676337305430" onmouseenter="enter('2821820676337305430');" onmouseout="out('2821820676337305430');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import android.support.v7.widget.SearchView;                                                                      </span>
<span  style="">  37                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  38  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  39  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  40  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  41  import com.automattic.simplenote.utils.TagsAdapter;                                                               </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  42  import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>
<span class="2396571929468120860" onmouseenter="enter('2396571929468120860');" onmouseout="out('2396571929468120860');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +import com.automattic.simplenote.widgets.FloatingActionButton;                                                    </span>
<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  44  import com.automattic.simplenote.widgets.TypefaceSpan;                                                            </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  45  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="">  46  import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="">  47  import com.google.analytics.tracking.android.Tracker;                                                             </span>


<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  48  import com.simperium.Simperium;                                                                                   </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  49  import com.simperium.android.LoginActivity;                                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  50  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  51  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  52  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  53  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  54  import com.simperium.client.User;                                                                                 </span>
<span  style="">  55                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  56  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  57  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  58  import java.util.List;                                                                                            </span>
<span  style="">  59                                                                                                                    </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  60 -public class NotesActivity extends Activity implements                                                            </span>
<span class="-7482342265326387784" onmouseenter="enter('-7482342265326387784');" onmouseout="out('-7482342265326387784');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +public class NotesActivity extends ActionBarActivity implements                                                   </span>
<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  62          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  62          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.ðŸ”µ</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  63          Bucket.Listener&lt;Note&gt; {                                                                                   </span>
<span  style="">  64                                                                                                                    </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  65      private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                           </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  66      private String mTabletSearchQuery;                                                                            </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  67      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  68      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  69      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  70      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  71      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  72      private Note mCurrentNote;                                                                                    </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  73      protected Bucket&lt;Note&gt; mNotesBucket;                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  74      protected Bucket&lt;Tag&gt; mTagsBucket;                                                                            </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  75      private int TRASH_SELECTED_ID = 1;                                                                            </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  76      private ActionBar mActionBar;                                                                                 </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  77      private MenuItem mEmptyTrashMenuItem;                                                                         </span>
<span  style="">  78                                                                                                                    </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  79      // Menu drawer                                                                                                </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  80      private DrawerLayout mDrawerLayout;                                                                           </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  81      private ListView mDrawerList;                                                                                 </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  82      private ActionBarDrawerToggle mDrawerToggle;                                                                  </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  83      private TagsAdapter mTagsAdapter;                                                                             </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  84      private TagsAdapter.TagMenuItem mSelectedTag;                                                                 </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  85      private CharSequence mActionBarTitle;                                                                         </span>
<span  style="">  86                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  87      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  88      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  89                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  90      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  91      private Tracker mTracker;                                                                                     </span>
<span  style="">  92                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  94      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -        requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                              </span>
<span class="3699502760248041016" onmouseenter="enter('3699502760248041016');" onmouseout="out('3699502760248041016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +        supportRequestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                       </span>
<span  style="">  97                                                                                                                    </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  98          ThemeUtils.setTheme(this);                                                                                </span>
<span  style="">  99                                                                                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style=""> 100          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 101          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span  style=""> 102                                                                                                                    </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style=""> 103          if (mNotesBucket == null)                                                                                 </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style=""> 104              mNotesBucket = currentApp.getNotesBucket();                                                           </span>
<span  style=""> 105                                                                                                                    </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style=""> 106          if (mTagsBucket == null)                                                                                  </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style=""> 107              mTagsBucket = currentApp.getTagsBucket();                                                             </span>
<span  style=""> 108                                                                                                                    </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 109          setContentView(R.layout.activity_notes);                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +                                                                                                                  </span>
<span class="-478997688759020781" onmouseenter="enter('-478997688759020781');" onmouseout="out('-478997688759020781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);                                                   </span>
<span class="-7717068737558593543" onmouseenter="enter('-7717068737558593543');" onmouseout="out('-7717068737558593543');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +        setSupportActionBar(toolbar);                                                                             </span>
<span  style=""> 113                                                                                                                    </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style=""> 114          EasyTracker.getInstance().activityStart(this);                                                            </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style=""> 115          mTracker = EasyTracker.getTracker();                                                                      </span>

<span  style=""> 116                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 117          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 118              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 119              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 120              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 121              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 122          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 123              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124          }                                                                                                         </span>
<span  style=""> 125                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 126          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 127          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 128                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 129                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 130              mIsLargeScreen = true;                                                                                </span>
<span  style=""> 131                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 132              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 133                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 133                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)ðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 134              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 135                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 136                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138          }                                                                                                         </span>
<span  style=""> 139                                                                                                                    </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 140          // Set up the menu drawer                                                                                 </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 141          mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                          </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 142          mDrawerList = (ListView) findViewById(R.id.left_drawer);                                                  </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 143          mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                                       </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 144          mDrawerList.setAdapter(mTagsAdapter);                                                                     </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 145          // Set the list&#x27;s click listener                                                                          </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 146          mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                                        </span>
<span  style=""> 147                                                                                                                    </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 148          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 149              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 150                                                                                                                    </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -        // enable ActionBar app icon to behave as action to toggle nav drawer                                     </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -        mActionBar = getActionBar();                                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -        mActionBar.setDisplayHomeAsUpEnabled(true);                                                               </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -        mActionBar.setHomeButtonEnabled(true);                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -                                                                                                                  </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 156 -        // ActionBarDrawerToggle ties together the the proper interactions                                        </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -        // between the sliding drawer and the action bar app icon                                                 </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 158          mDrawerToggle = new ActionBarDrawerToggle(                                                                </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -                this,                                                                                             </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -                mDrawerLayout,                                                                                    </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 161 -                R.drawable.ic_drawer,                                                                             </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -                R.string.open_drawer,                                                                             </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -                R.string.close_drawer                                                                             </span>
<span class="-5783349819328245482" onmouseenter="enter('-5783349819328245482');" onmouseout="out('-5783349819328245482');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +                this,  mDrawerLayout, toolbar,                                                                    </span>
<span class="-6484461085659018563" onmouseenter="enter('-6484461085659018563');" onmouseout="out('-6484461085659018563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +                R.string.open_drawer, R.string.close_drawer                                                       </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 166          ) {                                                                                                       </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 167              public void onDrawerClosed(View view) {                                                               </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 168                  setTitle(mActionBarTitle);                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 169                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170              }                                                                                                     </span>
<span  style=""> 171                                                                                                                    </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 172              public void onDrawerOpened(View drawerView) {                                                         </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 173                  setTitleWithCustomFont(getString(R.string.app_name));                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 174                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 176          };                                                                                                        </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 177          mDrawerLayout.setDrawerListener(mDrawerToggle);                                                           </span>
<span  style=""> 178                                                                                                                    </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +        // enable ActionBar app icon to behave as action to toggle nav drawer                                     </span>
<span class="-1557652575642587556" onmouseenter="enter('-1557652575642587556');" onmouseout="out('-1557652575642587556');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +        mActionBar = getSupportActionBar();                                                                       </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +        mActionBar.setDisplayHomeAsUpEnabled(true);                                                               </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +        mActionBar.setHomeButtonEnabled(true);                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +                                                                                                                  </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +        mDrawerLayout.setDrawerListener(mDrawerToggle);                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +                                                                                                                  </span>
<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 186          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +                                                                                                                  </span>
<span class="7276435277982660612" onmouseenter="enter('7276435277982660612');" onmouseout="out('7276435277982660612');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +        FloatingActionButton fabButton = new FloatingActionButton.Builder(this)                                   </span>
<span class="8726841811322177379" onmouseenter="enter('8726841811322177379');" onmouseout="out('8726841811322177379');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +                .withDrawable(getResources().getDrawable(R.drawable.ic_create_white))                             </span>
<span class="-7485210973608763852" onmouseenter="enter('-7485210973608763852');" onmouseout="out('-7485210973608763852');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +                .withButtonColor(getResources().getColor(R.color.simplenote_blue))                                </span>
<span class="2118911739178036452" onmouseenter="enter('2118911739178036452');" onmouseout="out('2118911739178036452');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +                .withGravity(Gravity.BOTTOM | Gravity.RIGHT)                                                      </span>
<span class="-6809120621893824058" onmouseenter="enter('-6809120621893824058');" onmouseout="out('-6809120621893824058');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +                .withMargins(0, 0, 16, 16)                                                                        </span>
<span class="-4695371955558143929" onmouseenter="enter('-4695371955558143929');" onmouseout="out('-4695371955558143929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 193 +                .create();                                                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                                                                                                                  </span>
<span class="1755938213130270228" onmouseenter="enter('1755938213130270228');" onmouseout="out('1755938213130270228');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +        fabButton.setOnClickListener(new View.OnClickListener() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +            @Override                                                                                             </span>
<span class="-6587489291029443051" onmouseenter="enter('-6587489291029443051');" onmouseout="out('-6587489291029443051');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +            public void onClick(View v) {                                                                         </span>
<span class="-8657156247817339377" onmouseenter="enter('-8657156247817339377');" onmouseout="out('-8657156247817339377');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +                if (getNoteListFragment() != null) {                                                              </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +                    getNoteListFragment().addNote();                                                              </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +                    mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +            }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +        });                                                                                                       </span>
<span  style=""> 204                                                                                                                    </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 205          if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                                     </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 206              // Create the welcome note                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 207              try {                                                                                                 </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 208                  Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                     </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 209                  welcomeNote.setCreationDate(Calendar.getInstance());                                              </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 210                  welcomeNote.setModificationDate(welcomeNote.getCreationDate());                                   </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 211                  welcomeNote.setContent(getString(R.string.welcome_note));                                         </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 212                  welcomeNote.getTitle();                                                                           </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 213                  welcomeNote.save();                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 214              } catch (BucketObjectNameInvalid e) {                                                                 </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 215                  // this won&#x27;t happen because welcome-android is a valid name                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216              }                                                                                                     </span>
<span  style=""> 217                                                                                                                    </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 218              SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);                  </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 219              SharedPreferences.Editor editor = preferences.edit();                                                 </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 220              editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                                </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 221              editor.commit();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222          }                                                                                                         </span>
<span  style=""> 223                                                                                                                    </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 224          if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                                 </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 225              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 226              Intent intent = getIntent();                                                                          </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 227              String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                         </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 228              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 229              if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                               </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 230                  if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                                     </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 231                      text = subject + &quot;\n\n&quot; + text;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232                  }                                                                                                 </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 233                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 234                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 235                  note.setModificationDate(note.getCreationDate());                                                 </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 236                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 237                  note.save();                                                                                      </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 238                  setCurrentNote(note);                                                                             </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 239                  mShouldSelectNewNote = true;                                                                      </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style=""> 240                  mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 243          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 244          currentApp.getSimperium().setUserStatusChangeListener(this);                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 245          setProgressBarIndeterminateVisibility(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span  style=""> 247                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 248      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 249      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 250          super.onResume();                                                                                         </span>
<span  style=""> 251                                                                                                                    </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 252          // Ensure user has valid authorization                                                                    </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 253          if (userAuthenticationIsInvalid())                                                                        </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 254              startLoginActivity(true);                                                                             </span>
<span  style=""> 255                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 256          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 257          mTagsBucket.start();                                                                                      </span>
<span  style=""> 258                                                                                                                    </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 259          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 260          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 261          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 262          mTagsBucket.addListener(mTagsMenuUpdater);                                                                </span>
<span  style=""> 263                                                                                                                    </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 264          updateNavigationDrawerItems();                                                                            </span>
<span  style=""> 265                                                                                                                    </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 266          // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection          </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 267          Simplenote currentApp = (Simplenote)getApplication();                                                     </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 268          if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {                      </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 269              if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                                   </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 270                  mSelectedTag = null;                                                                              </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 271                  mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273          }                                                                                                         </span>
<span  style=""> 274                                                                                                                    </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 275          setSelectedTagActive();                                                                                   </span>
<span  style=""> 276                                                                                                                    </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 277          if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                                       </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 278              onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                           </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 279              mShouldSelectNewNote = false;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281      }                                                                                                             </span>
<span  style=""> 282                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 283      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 284      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 285          super.onPause();                                                                                          </span>
<span  style=""> 286                                                                                                                    </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 287          mTagsBucket.removeListener(mTagsMenuUpdater);                                                             </span>
<span  style=""> 288                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 289          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 290          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 291          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292      }                                                                                                             </span>
<span  style=""> 293                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 294      @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style=""> 295      public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 296          super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style=""> 297          EasyTracker.getInstance().activityStop(this);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298      }                                                                                                             </span>
<span  style=""> 299                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 300      @Override                                                                                                     </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 301      public void setTitle(CharSequence title) {                                                                    </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 302          mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                           </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 303          setTitleWithCustomFont(mActionBarTitle);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304      }                                                                                                             </span>
<span  style=""> 305                                                                                                                    </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 306      private void setTitleWithCustomFont(CharSequence title) {                                                     </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 307          // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                              </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 308          if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))                        </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 309                  &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                                     </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 310              mActionBar.setTitle(title);                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 311              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312          }                                                                                                         </span>
<span  style=""> 313                                                                                                                    </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 314          SpannableString s = new SpannableString(title);                                                           </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 315          s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                          </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 316                  Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                              </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 317          mActionBar.setTitle(s);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318      }                                                                                                             </span>
<span  style=""> 319                                                                                                                    </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 320      private void updateNavigationDrawerItems() {                                                                  </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 321          Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                             </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 322          mTagsAdapter.changeCursor(tagCursor);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323      }                                                                                                             </span>
<span  style=""> 324                                                                                                                    </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 325      private void setSelectedTagActive() {                                                                         </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 326          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 327              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 328                                                                                                                    </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 329          setTitle(mSelectedTag.name);                                                                              </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 330          mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331      }                                                                                                             </span>
<span  style=""> 332                                                                                                                    </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 333      // Enable or disable the trash action bar button depending on if there are deleted notes or not               </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 334      public void updateTrashMenuItem() {                                                                           </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 335          if (mEmptyTrashMenuItem == null)                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 336              return;                                                                                               </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 337          // Disable the trash icon if there are no notes trashed.                                                  </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 338          Simplenote application = (Simplenote) getApplication();                                                   </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 339          Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                                   </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 340          Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                          </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 341          if (query.count() == 0) {                                                                                 </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 342              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                                 </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 343              mEmptyTrashMenuItem.setEnabled(false);                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 344          } else {                                                                                                  </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 345              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                          </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 346              mEmptyTrashMenuItem.setEnabled(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348      }                                                                                                             </span>
<span  style=""> 349                                                                                                                    </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 350      /* The click listener for ListView in the navigation drawer */                                                </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 351      private class DrawerItemClickListener implements ListView.OnItemClickListener {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 352          @Override                                                                                                 </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 353          public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {                        </span>
<span  style=""> 354                                                                                                                    </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 355              mSelectedTag = mTagsAdapter.getItem(position);                                                        </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 356              checkEmptyListText(false);                                                                            </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 357              // Update checked item in navigation drawer and close it                                              </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 358              setSelectedTagActive();                                                                               </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 359              mDrawerLayout.closeDrawer(mDrawerList);                                                               </span>
<span  style=""> 360                                                                                                                    </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 361              // Disable long press on notes if we&#x27;re viewing the trash                                             </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 362              if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                      </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 363                  getNoteListFragment().getListView().setLongClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 364              } else {                                                                                              </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 365                  getNoteListFragment().getListView().setLongClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366              }                                                                                                     </span>
<span  style=""> 367                                                                                                                    </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 368              getNoteListFragment().refreshListFromNavSelect();                                                     </span>
<span class="-7917187965429903515" onmouseenter="enter('-7917187965429903515');" onmouseout="out('-7917187965429903515');" style=""> 369              if (position &gt; 1)                                                                                     </span>
<span class="7141105300359600542" onmouseenter="enter('7141105300359600542');" onmouseout="out('7141105300359600542');" style=""> 370                  mTracker.sendEvent(&quot;tag&quot;, &quot;viewed_notes_for_tag&quot;, &quot;selected_tag_in_navigation_drawer&quot;, null);     </span>









<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372      }                                                                                                             </span>
<span  style=""> 373                                                                                                                    </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 374      public TagsAdapter.TagMenuItem getSelectedTag() {                                                             </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 375          return mSelectedTag;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376      }                                                                                                             </span>
<span  style=""> 377                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 378      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 379          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 380          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 381          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 382          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 383          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 384          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 385      }                                                                                                             </span>
<span  style=""> 386                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 387      /**                                                                                                           </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 388       * Checks for a previously valid user that is now not authenticated                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 389       *                                                                                                            </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 390       * @return true if user has invalid authorization                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 391       */                                                                                                           </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 392      private boolean userAuthenticationIsInvalid() {                                                               </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 393          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 394          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 395          User user = simperium.getUser();                                                                          </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 396          return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397      }                                                                                                             </span>
<span  style=""> 398                                                                                                                    </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 399      public void setCurrentNote(Note note) {                                                                       </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 400          mCurrentNote = note;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401      }                                                                                                             </span>
<span  style=""> 402                                                                                                                    </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 403      // received a change from the network, refresh the list                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 404      @Override                                                                                                     </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 405      public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 406          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 407              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 408              public void run() {                                                                                   </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 409                  if (type == Bucket.ChangeType.INDEX)                                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 410                      setProgressBarIndeterminateVisibility(false);                                                 </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 411                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 413          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414      }                                                                                                             </span>
<span  style=""> 415                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 417      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 418          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 419              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 420              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 421                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 423          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424      }                                                                                                             </span>
<span  style=""> 425                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 426      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 427      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 428          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 429              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 430              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 431                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 433          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434      }                                                                                                             </span>
<span  style=""> 435                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 436      @Override                                                                                                     </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 437      public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                            </span>
<span  style=""> 438                                                                                                                    </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 439          // noop, NoteEditorFragment will handle this                                                              </span>
<span  style=""> 440                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441      }                                                                                                             </span>
<span  style=""> 442                                                                                                                    </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 443      // Tags bucket listener                                                                                       </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 444      private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                                  </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 445          void updateNavigationDrawer() {                                                                           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 446              runOnUiThread(new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 447                  public void run() {                                                                               </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 448                      updateNavigationDrawerItems();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 450              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451          }                                                                                                         </span>
<span  style=""> 452                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 453          @Override                                                                                                 </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 454          public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 455              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456          }                                                                                                         </span>
<span  style=""> 457                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 458          @Override                                                                                                 </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 459          public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                 </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 460              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461          }                                                                                                         </span>
<span  style=""> 462                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463          @Override                                                                                                 </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 464          public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                            </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 465              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466          }                                                                                                         </span>
<span  style=""> 467                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 468          @Override                                                                                                 </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 469          public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                        </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 470              // noop                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 471          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 472      };                                                                                                            </span>
<span  style=""> 473                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 474      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 475          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476      }                                                                                                             </span>
<span  style=""> 477                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 478      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 479      public NoteListFragment getNoteListFragment() {                                                               </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 480          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481      }                                                                                                             </span>
<span  style=""> 482                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 483      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 484      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 485          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 486          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 487          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 488                                                                                                                    </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 489          boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                             </span>
<span  style=""> 490                                                                                                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 491          // restore the search query if on a landscape tablet                                                      </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 492          String searchQuery = null;                                                                                </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 493          if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                                      </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 494              searchQuery = mSearchView.getQuery().toString();                                                      </span>
<span  style=""> 495                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 496          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 497          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span  style=""> 498                                                                                                                    </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 499 -        // Set a custom search view drawable                                                                      </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 500 -        int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 500 -        int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null,ðŸ”µ</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 501 -        View searchPlate = mSearchView.findViewById(searchPlateId);                                               </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 502 -        if (searchPlate != null)                                                                                  </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 503 -            searchPlate.setBackgroundResource(R.drawable.search_view_selector);                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 504 -                                                                                                                  </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 505          if (!TextUtils.isEmpty(searchQuery)) {                                                                    </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 506              mSearchView.setQuery(searchQuery, false);                                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 507              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 508          }                                                                                                         </span>
<span  style=""> 509                                                                                                                    </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 510          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 511              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 512              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 513                  if (mSearchMenuItem.isActionViewExpanded()) {                                                     </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 514                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 516                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517              }                                                                                                     </span>
<span  style=""> 518                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 519              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 520              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 521                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 522                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523              }                                                                                                     </span>
<span  style=""> 524                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 525          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 526 -        mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 527 +                                                                                                                  </span>
<span class="4566642929880777544" onmouseenter="enter('4566642929880777544');" onmouseout="out('4566642929880777544');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 528 +        MenuItemCompat.setOnActionExpandListener(mSearchMenuItem, new MenuItemCompat.OnActionExpandListener() {   </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 529              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 530              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 531                  checkEmptyListText(true);                                                                         </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 532                  getNoteListFragment().hideWelcomeView();                                                          </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style=""> 533                  mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>







<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 534                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 535              }                                                                                                     </span>
<span  style=""> 536                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 537              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 538              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 539                  // Show all notes again                                                                           </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 540                  mTabletSearchQuery = &quot;&quot;;                                                                          </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 541                  mSearchView.setQuery(&quot;&quot;, false);                                                                  </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 542                  checkEmptyListText(false);                                                                        </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 543                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 544                  getNoteListFragment().setWelcomeViewVisibility();                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 545                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 546              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 547          });                                                                                                       </span>
<span  style=""> 548                                                                                                                    </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 549          mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 550              @Override                                                                                             </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 551              public boolean onMenuItemClick(MenuItem item) {                                                       </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 552                  if (!mSearchMenuItem.isActionViewExpanded())                                                      </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 553                      showDetailPlaceholder();                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 554                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 556          });                                                                                                       </span>
<span  style=""> 557                                                                                                                    </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 558          // Restore the search query on landscape tablets                                                          </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 559          if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                                 </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 560              mSearchView.setQuery(mTabletSearchQuery, false);                                                      </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 561              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 562              mSearchView.clearFocus();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563          }                                                                                                         </span>
<span  style=""> 564                                                                                                                    </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 565          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 566          menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());              </span>
<span  style=""> 567                                                                                                                    </span>
<span  style=""> 568                                                                                                                    </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 569          MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                         </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 570          if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                     </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 571              trashItem.setTitle(R.string.undelete);                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 572          else                                                                                                      </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 573              trashItem.setTitle(R.string.delete);                                                                  </span>
<span  style=""> 574                                                                                                                    </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 575          if (isLargeScreenLandscape()) {                                                                           </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 576 -            menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 577              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 578              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 579              if (mCurrentNote != null) {                                                                           </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 580                  menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                           </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 581                  trashItem.setVisible(true);                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 582              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 583                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 584                  trashItem.setVisible(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 585              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 586              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 587              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 588          } else {                                                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 589 -            menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 590              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 591              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 592              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 593              trashItem.setVisible(false);                                                                          </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 594              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 595              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596          }                                                                                                         </span>
<span  style=""> 597                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 598          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 599          if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                          </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 600              mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                           </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 601              mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                          </span>
<span  style=""> 602                                                                                                                    </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 603              updateTrashMenuItem();                                                                                </span>
<span  style=""> 604                                                                                                                    </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 605 -            menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 606              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 607              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608          }                                                                                                         </span>
<span  style=""> 609                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 610          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 611      }                                                                                                             </span>
<span  style=""> 612                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 613      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 614      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 615          if (mDrawerToggle.onOptionsItemSelected(item)) {                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 616              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 617          }                                                                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 618          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 619              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 620                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 620                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from prðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 621                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 622                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 623                  return true;                                                                                      </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 624              case R.id.menu_sign_in:                                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 625                  startLoginActivity(true);                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 626                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 627              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 628 -                Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>
<span class="-5224226921207816625" onmouseenter="enter('-5224226921207816625');" onmouseout="out('-5224226921207816625');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 629 +                Intent editTagsIntent = new Intent(this, TagsActivity.class);                                     </span>
<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 630                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 631 -                return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 632 -            case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 633 -                getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 634 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>







<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 635                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 636              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 637                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 638                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 639                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 640                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 641                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 641                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))ðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style=""> 642                      mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 644                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 645              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 646                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 647                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 648                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 649                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 650                          mCurrentNote.save();                                                                      </span>
<span  style=""> 651                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 652                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 653                              List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 654                              deletedNoteIds.add(mCurrentNote.getSimperiumKey());                                   </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 655                              mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                 </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 656                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style=""> 657                              mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>







<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 658                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style=""> 659                              mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 660                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 661                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 662                      }                                                                                             </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 663                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 664                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 665                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 666                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 667                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 668                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 669                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 670              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 671                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 672                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 673                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 674                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 675                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 676                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 677                          new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);                   </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style=""> 678                          mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 680                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 681                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 682                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 683                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 684                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 685                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 686                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 687                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 688              case android.R.id.home:                                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 689                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 690                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 691              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 692                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694      }                                                                                                             </span>
<span  style=""> 695                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 696      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 697       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 698       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 699       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 700      @Override                                                                                                     </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 701      public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                               </span>
<span  style=""> 702                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 703          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 704              // Launch the editor activity                                                                         </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 705              Bundle arguments = new Bundle();                                                                      </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 706              arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                          </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 707              arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                         </span>
<span  style=""> 708                                                                                                                    </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 709              if (matchOffsets != null)                                                                             </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 710                  arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                          </span>
<span  style=""> 711                                                                                                                    </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 712              Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                                   </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 713              editNoteIntent.putExtras(arguments);                                                                  </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 714              startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 715          } else {                                                                                                  </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 716              mNoteEditorFragment.setIsNewNote(isNew);                                                              </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 717              mNoteEditorFragment.setNote(noteID, matchOffsets);                                                    </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 718              getNoteListFragment().setNoteSelected(noteID);                                                        </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 719              if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                                     </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 720                  mTabletSearchQuery = mSearchView.getQuery().toString();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721              }                                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 722              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723          }                                                                                                         </span>
<span  style=""> 724                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style=""> 725          mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726      }                                                                                                             </span>
<span  style=""> 727                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 728      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 729      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 730          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style=""> 731          mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 732      }                                                                                                             </span>
<span  style=""> 733                                                                                                                    </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 734      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 735          switch (status) {                                                                                         </span>
<span  style=""> 736                                                                                                                    </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 737              // successfully used access token to connect to simperium bucket                                      </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 738              case AUTHORIZED:                                                                                      </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style=""> 739                  mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                   </span>







<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 740                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 741                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 742                      public void run() {                                                                           </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 743                          if (!mNotesBucket.hasChangeVersion()) {                                                   </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 744                              setProgressBarIndeterminateVisibility(true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 745                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 746                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 747                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 748                  break;                                                                                            </span>
<span  style=""> 749                                                                                                                    </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 750              // NOT_AUTHORIZED means we attempted to connect but the token was not valid                           </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 751              case NOT_AUTHORIZED:                                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 752                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 753                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 754                      public void run() {                                                                           </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 755                          startLoginActivity(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 756                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 757                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 758                  break;                                                                                            </span>
<span  style=""> 759                                                                                                                    </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 760              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 760              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t ðŸ”µ</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 761              case UNKNOWN:                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 762                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 764      }                                                                                                             </span>
<span  style=""> 765                                                                                                                    </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 766      public void startLoginActivity(boolean signInFirst) {                                                         </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 767          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 768          if (signInFirst)                                                                                          </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 769              loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                        </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 770          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 771      }                                                                                                             </span>
<span  style=""> 772                                                                                                                    </span>
<span  style=""> 773                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 774      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 775      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 776          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 777          switch (requestCode) {                                                                                    </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 778              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 779                  if (ThemeUtils.themeWasChanged(data)) {                                                           </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 780                      // Restart this activity to apply the new theme                                               </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 781                      recreate();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 782                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 783                  }                                                                                                 </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 784                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 784                  // nbradbury - refresh note list when user returns from preferences (in case they changed anythingðŸ”µ</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 785                  invalidateOptionsMenu();                                                                          </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 786                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 787                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 788                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 789                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 790                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 791                  break;                                                                                            </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 792              case Simplenote.INTENT_EDIT_NOTE:                                                                     </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""> 793                  if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {       </span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 794                      String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                              </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 795                      if (noteId != null) {                                                                         </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 796                          List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                    </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 797                          deletedNoteIds.add(noteId);                                                               </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 798                          mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                     </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 799                          mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 800                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 801                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 802                  break;                                                                                            </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 803              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 804                  invalidateOptionsMenu();                                                                          </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 805                  if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {                    </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 806                      finish();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 808                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 809          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810      }                                                                                                             </span>
<span  style=""> 811                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 812      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 813      public void onUndo(Parcelable p) {                                                                            </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 814          List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                                     </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 815          if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                               </span>
<span  style=""> 816                                                                                                                    </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 817              for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                                       </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 818                  Note deletedNote = null;                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 819                  try {                                                                                             </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 820                      deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 821                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 822                      return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823                  }                                                                                                 </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 824                  if (deletedNote != null) {                                                                        </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 825                      deletedNote.setDeleted(false);                                                                </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 826                      deletedNote.setModificationDate(Calendar.getInstance());                                      </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 827                      deletedNote.save();                                                                           </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 828                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 829                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 830                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 831                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 832                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 834              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 835          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 836      }                                                                                                             </span>
<span  style=""> 837                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 838      @Override                                                                                                     </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 839      protected void onPostCreate(Bundle savedInstanceState) {                                                      </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 840          super.onPostCreate(savedInstanceState);                                                                   </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 841          // Sync the toggle state after onRestoreInstanceState has occurred.                                       </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 842          mDrawerToggle.syncState();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 843      }                                                                                                             </span>
<span  style=""> 844                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 845      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 846      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 847          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 848                                                                                                                    </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 849          mDrawerToggle.onConfigurationChanged(newConfig);                                                          </span>
<span  style=""> 850                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 851          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 852              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 853                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 854                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 855                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 856                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 857                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 858                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 859                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 860                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 861                  if (mCurrentNote != null)                                                                         </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 862                      onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                                  </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 863                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 864                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 865                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 867                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 868              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 868              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)ðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 869                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 870                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 871                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 872                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 873                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 874                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 875                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 876                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 877                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 878                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 879                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 880                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 881                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 882                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 883                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 884                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 885              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 886          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 887      }                                                                                                             </span>
<span  style=""> 888                                                                                                                    </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 889      public void checkEmptyListText(boolean isSearch) {                                                            </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 890          if (isSearch) {                                                                                           </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 891              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 891              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 892              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 893          } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                   </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 894              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 894              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="6910320161753486525" onmouseenter="enter('6910320161753486525');" onmouseout="out('6910320161753486525');" style=""> 895              EasyTracker.getTracker().sendEvent(&quot;note&quot;, &quot;viewed_trash&quot;, &quot;trash_filter_selected&quot;, null);            </span>







<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 896              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 897          } else {                                                                                                  </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 898              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 898              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;ðŸ”µ</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 899              getNoteListFragment().setEmptyListViewClickable(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 900          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 901      }                                                                                                             </span>
<span  style=""> 902                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 903      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 904          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 905              mCurrentNote = null;                                                                                  </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 906              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 907              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 908          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 909      }                                                                                                             </span>
<span  style=""> 910                                                                                                                    </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 911      public void stopListeningToNotesBucket() {                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 912          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 913          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 914          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 915      }                                                                                                             </span>
<span  style=""> 916                                                                                                                    </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 917      public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                                    </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 918          if (mUndoBarController != null) {                                                                         </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 919              mUndoBarController.setDeletedNoteIds(noteIds);                                                        </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 920              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 920              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIdðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 921          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 922      }                                                                                                             </span>
<span  style=""> 923                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 924      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 925                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 926          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 927          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 928              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 929              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 930              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 931              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 932              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 933                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 934              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 935              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 936          }                                                                                                         </span>
<span  style=""> 937                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 938          @Override                                                                                                 </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 939          protected void onPostExecute(Void nada) {                                                                 </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 940              showDetailPlaceholder();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 941          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 942      }                                                                                                             </span>
<span  style=""> 943                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 944  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="4319535404750690126" onmouseenter="enter('4319535404750690126');" onmouseout="out('4319535404750690126');" style="">   3  import android.app.ActionBar;                                                                                     </span>
<span class="-7090287939251728203" onmouseenter="enter('-7090287939251728203');" onmouseout="out('-7090287939251728203');" style="">   4  import android.app.Activity;                                                                                      </span>
<span class="5835771895619885629" onmouseenter="enter('5835771895619885629');" onmouseout="out('5835771895619885629');" style="">   5  import android.app.AlertDialog;                                                                                   </span>
<span class="5068902094527623106" onmouseenter="enter('5068902094527623106');" onmouseout="out('5068902094527623106');" style="">   6  import android.app.FragmentManager;                                                                               </span>
<span class="3002070298886184401" onmouseenter="enter('3002070298886184401');" onmouseout="out('3002070298886184401');" style="">   7  import android.app.FragmentTransaction;                                                                           </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   8  import android.content.DialogInterface;                                                                           </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">   9  import android.content.Intent;                                                                                    </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  10  import android.content.SharedPreferences;                                                                         </span>
<span class="-9179032954578521484" onmouseenter="enter('-9179032954578521484');" onmouseout="out('-9179032954578521484');" style="">  11  import android.content.res.Configuration;                                                                         </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">  12  import android.os.AsyncTask;                                                                                      </span>
<span class="-4549785658871057260" onmouseenter="enter('-4549785658871057260');" onmouseout="out('-4549785658871057260');" style="">  13  import android.os.Build;                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  14  import android.os.Bundle;                                                                                         </span>
<span class="-3467845820974384276" onmouseenter="enter('-3467845820974384276');" onmouseout="out('-3467845820974384276');" style="">  15  import android.os.Parcelable;                                                                                     </span>
<span class="-3409889999907038804" onmouseenter="enter('-3409889999907038804');" onmouseout="out('-3409889999907038804');" style="">  16  import android.preference.PreferenceManager;                                                                      </span>
<span class="4702007338988352399" onmouseenter="enter('4702007338988352399');" onmouseout="out('4702007338988352399');" style="">  17  import android.support.v4.app.ActionBarDrawerToggle;                                                              </span>


<span class="4399705366437939627" onmouseenter="enter('4399705366437939627');" onmouseout="out('4399705366437939627');" style="">  18  import android.support.v4.widget.DrawerLayout;                                                                    </span>



<span class="-273560163017703694" onmouseenter="enter('-273560163017703694');" onmouseout="out('-273560163017703694');" style="">  19  import android.text.Spannable;                                                                                    </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  20  import android.text.SpannableString;                                                                              </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  21  import android.text.TextUtils;                                                                                    </span>

<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  23  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  24  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  25  import android.view.View;                                                                                         </span>
<span class="8570405338525080773" onmouseenter="enter('8570405338525080773');" onmouseout="out('8570405338525080773');" style="">  26  import android.view.Window;                                                                                       </span>
<span class="-3898686145228074474" onmouseenter="enter('-3898686145228074474');" onmouseout="out('-3898686145228074474');" style="">  27  import android.widget.AdapterView;                                                                                </span>
<span class="-9114021488890459900" onmouseenter="enter('-9114021488890459900');" onmouseout="out('-9114021488890459900');" style="">  28  import android.widget.ListView;                                                                                   </span>
<span class="-7196675941993814662" onmouseenter="enter('-7196675941993814662');" onmouseout="out('-7196675941993814662');" style="">  29  import android.widget.SearchView;                                                                                 </span>

<span  style="">  30                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  31  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  32  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-7136497821822559876" onmouseenter="enter('-7136497821822559876');" onmouseout="out('-7136497821822559876');" style="">  33  import com.automattic.simplenote.utils.PrefUtils;                                                                 </span>
<span class="-2568542603930714189" onmouseenter="enter('-2568542603930714189');" onmouseout="out('-2568542603930714189');" style="">  34  import com.automattic.simplenote.utils.TagsAdapter;                                                               </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  35  import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>

<span class="374218454127932987" onmouseenter="enter('374218454127932987');" onmouseout="out('374218454127932987');" style="">  36  import com.automattic.simplenote.widgets.TypefaceSpan;                                                            </span>
<span class="-3513787177944710250" onmouseenter="enter('-3513787177944710250');" onmouseout="out('-3513787177944710250');" style="">  37  import com.automattic.simplenote.utils.UndoBarController;                                                         </span>
<span class="-3620359719870897085" onmouseenter="enter('-3620359719870897085');" onmouseout="out('-3620359719870897085');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -import com.google.analytics.tracking.android.EasyTracker;                                                         </span>
<span class="-1089094977948622186" onmouseenter="enter('-1089094977948622186');" onmouseout="out('-1089094977948622186');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -import com.google.analytics.tracking.android.Tracker;                                                             </span>
<span class="-454400291627646237" onmouseenter="enter('-454400291627646237');" onmouseout="out('-454400291627646237');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import com.google.android.gms.analytics.HitBuilders;                                                              </span>
<span class="-1389398410172463659" onmouseenter="enter('-1389398410172463659');" onmouseout="out('-1389398410172463659');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  41 +import com.google.android.gms.analytics.Tracker;                                                                  </span>
<span class="-6131823772648778947" onmouseenter="enter('-6131823772648778947');" onmouseout="out('-6131823772648778947');" style="">  42  import com.simperium.Simperium;                                                                                   </span>
<span class="7747306689104994283" onmouseenter="enter('7747306689104994283');" onmouseout="out('7747306689104994283');" style="">  43  import com.simperium.android.LoginActivity;                                                                       </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  44  import com.simperium.client.Bucket;                                                                               </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  45  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  46  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  47  import com.simperium.client.Query;                                                                                </span>
<span class="4554110602695491054" onmouseenter="enter('4554110602695491054');" onmouseout="out('4554110602695491054');" style="">  48  import com.simperium.client.User;                                                                                 </span>
<span  style="">  49                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  50  import java.util.ArrayList;                                                                                       </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">  51  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52  import java.util.List;                                                                                            </span>
<span  style="">  53                                                                                                                    </span>
<span class="-8076802619778680831" onmouseenter="enter('-8076802619778680831');" onmouseout="out('-8076802619778680831');" style="">  54  public class NotesActivity extends Activity implements                                                            </span>

<span class="-5232471082818613656" onmouseenter="enter('-5232471082818613656');" onmouseout="out('-5232471082818613656');" style=""><abbr title="  55          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.UndoListener,">  55          NoteListFragment.Callbacks, User.StatusChangeListener, Simperium.OnUserCreatedListener, UndoBarController.ðŸ”µ</abbr></span>
<span class="-5863608287619431506" onmouseenter="enter('-5863608287619431506');" onmouseout="out('-5863608287619431506');" style="">  56          Bucket.Listener&lt;Note&gt; {                                                                                   </span>
<span  style="">  57                                                                                                                    </span>
<span class="416358573885425622" onmouseenter="enter('416358573885425622');" onmouseout="out('416358573885425622');" style="">  58      private boolean mIsLargeScreen, mIsLandscape, mShouldSelectNewNote;                                           </span>
<span class="1892045469730049653" onmouseenter="enter('1892045469730049653');" onmouseout="out('1892045469730049653');" style="">  59      private String mTabletSearchQuery;                                                                            </span>
<span class="4806581600110140401" onmouseenter="enter('4806581600110140401');" onmouseout="out('4806581600110140401');" style="">  60      private UndoBarController mUndoBarController;                                                                 </span>
<span class="776807432959598639" onmouseenter="enter('776807432959598639');" onmouseout="out('776807432959598639');" style="">  61      private SearchView mSearchView;                                                                               </span>
<span class="1251729410240286017" onmouseenter="enter('1251729410240286017');" onmouseout="out('1251729410240286017');" style="">  62      private MenuItem mSearchMenuItem;                                                                             </span>
<span class="8816084286329709268" onmouseenter="enter('8816084286329709268');" onmouseout="out('8816084286329709268');" style="">  63      private NoteListFragment mNoteListFragment;                                                                   </span>
<span class="-5582870618786054530" onmouseenter="enter('-5582870618786054530');" onmouseout="out('-5582870618786054530');" style="">  64      private NoteEditorFragment mNoteEditorFragment;                                                               </span>
<span class="-5944583942925145569" onmouseenter="enter('-5944583942925145569');" onmouseout="out('-5944583942925145569');" style="">  65      private Note mCurrentNote;                                                                                    </span>
<span class="3226008078217165106" onmouseenter="enter('3226008078217165106');" onmouseout="out('3226008078217165106');" style="">  66      protected Bucket&lt;Note&gt; mNotesBucket;                                                                          </span>
<span class="-3143637023139166310" onmouseenter="enter('-3143637023139166310');" onmouseout="out('-3143637023139166310');" style="">  67      protected Bucket&lt;Tag&gt; mTagsBucket;                                                                            </span>
<span class="4101733554906847448" onmouseenter="enter('4101733554906847448');" onmouseout="out('4101733554906847448');" style="">  68      private int TRASH_SELECTED_ID = 1;                                                                            </span>
<span class="833024899608050540" onmouseenter="enter('833024899608050540');" onmouseout="out('833024899608050540');" style="">  69      private ActionBar mActionBar;                                                                                 </span>
<span class="-8115488273190103870" onmouseenter="enter('-8115488273190103870');" onmouseout="out('-8115488273190103870');" style="">  70      private MenuItem mEmptyTrashMenuItem;                                                                         </span>
<span  style="">  71                                                                                                                    </span>
<span class="7859863611333670010" onmouseenter="enter('7859863611333670010');" onmouseout="out('7859863611333670010');" style="">  72      // Menu drawer                                                                                                </span>
<span class="-2008391482644652194" onmouseenter="enter('-2008391482644652194');" onmouseout="out('-2008391482644652194');" style="">  73      private DrawerLayout mDrawerLayout;                                                                           </span>
<span class="4434460387275849412" onmouseenter="enter('4434460387275849412');" onmouseout="out('4434460387275849412');" style="">  74      private ListView mDrawerList;                                                                                 </span>
<span class="5472110872567616201" onmouseenter="enter('5472110872567616201');" onmouseout="out('5472110872567616201');" style="">  75      private ActionBarDrawerToggle mDrawerToggle;                                                                  </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  76      private TagsAdapter mTagsAdapter;                                                                             </span>
<span class="-3355941846924002072" onmouseenter="enter('-3355941846924002072');" onmouseout="out('-3355941846924002072');" style="">  77      private TagsAdapter.TagMenuItem mSelectedTag;                                                                 </span>
<span class="3353113765845755371" onmouseenter="enter('3353113765845755371');" onmouseout="out('3353113765845755371');" style="">  78      private CharSequence mActionBarTitle;                                                                         </span>
<span  style="">  79                                                                                                                    </span>
<span class="4096980227833918919" onmouseenter="enter('4096980227833918919');" onmouseout="out('4096980227833918919');" style="">  80      public static String TAG_NOTE_LIST = &quot;noteList&quot;;                                                              </span>
<span class="-5138208316943101978" onmouseenter="enter('-5138208316943101978');" onmouseout="out('-5138208316943101978');" style="">  81      public static String TAG_NOTE_EDITOR = &quot;noteEditor&quot;;                                                          </span>
<span  style="">  82                                                                                                                    </span>
<span class="963147367685892791" onmouseenter="enter('963147367685892791');" onmouseout="out('963147367685892791');" style="">  83      // Google Analytics tracker                                                                                   </span>
<span class="7126484835826685301" onmouseenter="enter('7126484835826685301');" onmouseout="out('7126484835826685301');" style="">  84      private Tracker mTracker;                                                                                     </span>
<span  style="">  85                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  86      @Override                                                                                                     </span>
<span class="6892052666771236398" onmouseenter="enter('6892052666771236398');" onmouseout="out('6892052666771236398');" style="">  87      protected void onCreate(Bundle savedInstanceState) {                                                          </span>
<span class="51595595816336141" onmouseenter="enter('51595595816336141');" onmouseout="out('51595595816336141');" style="">  88          requestWindowFeature(Window.FEATURE_INDETERMINATE_PROGRESS);                                              </span>

<span  style="">  89                                                                                                                    </span>
<span class="1918308515517800288" onmouseenter="enter('1918308515517800288');" onmouseout="out('1918308515517800288');" style="">  90          ThemeUtils.setTheme(this);                                                                                </span>
<span  style="">  91                                                                                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="">  92          super.onCreate(savedInstanceState);                                                                       </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style="">  93          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span  style="">  94                                                                                                                    </span>
<span class="-297724337777711275" onmouseenter="enter('-297724337777711275');" onmouseout="out('-297724337777711275');" style="">  95          if (mNotesBucket == null)                                                                                 </span>
<span class="3464165486447434608" onmouseenter="enter('3464165486447434608');" onmouseout="out('3464165486447434608');" style="">  96              mNotesBucket = currentApp.getNotesBucket();                                                           </span>
<span  style="">  97                                                                                                                    </span>
<span class="1698400989662836644" onmouseenter="enter('1698400989662836644');" onmouseout="out('1698400989662836644');" style="">  98          if (mTagsBucket == null)                                                                                  </span>
<span class="-5283192662218820499" onmouseenter="enter('-5283192662218820499');" onmouseout="out('-5283192662218820499');" style="">  99              mTagsBucket = currentApp.getTagsBucket();                                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="-4352223168815810503" onmouseenter="enter('-4352223168815810503');" onmouseout="out('-4352223168815810503');" style=""> 101          setContentView(R.layout.activity_notes);                                                                  </span>



<span  style=""> 102                                                                                                                    </span>
<span class="4185402571885188986" onmouseenter="enter('4185402571885188986');" onmouseout="out('4185402571885188986');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -        EasyTracker.getInstance().activityStart(this);                                                            </span>
<span class="4271944991784918244" onmouseenter="enter('4271944991784918244');" onmouseout="out('4271944991784918244');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        mTracker = EasyTracker.getTracker();                                                                      </span>
<span class="8395901407898834802" onmouseenter="enter('8395901407898834802');" onmouseout="out('8395901407898834802');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +        mTracker = currentApp.getTracker();                                                                       </span>
<span  style=""> 106                                                                                                                    </span>
<span class="-2542463531901607774" onmouseenter="enter('-2542463531901607774');" onmouseout="out('-2542463531901607774');" style=""> 107          if (savedInstanceState == null) {                                                                         </span>
<span class="4159503822010179424" onmouseenter="enter('4159503822010179424');" onmouseout="out('4159503822010179424');" style=""> 108              mNoteListFragment = new NoteListFragment();                                                           </span>
<span class="4211618469360442444" onmouseenter="enter('4211618469360442444');" onmouseout="out('4211618469360442444');" style=""> 109              FragmentTransaction fragmentTransaction = getFragmentManager().beginTransaction();                    </span>
<span class="-7354139065399442727" onmouseenter="enter('-7354139065399442727');" onmouseout="out('-7354139065399442727');" style=""> 110              fragmentTransaction.add(R.id.noteFragmentContainer, mNoteListFragment, TAG_NOTE_LIST);                </span>
<span class="-7964614421381437638" onmouseenter="enter('-7964614421381437638');" onmouseout="out('-7964614421381437638');" style=""> 111              fragmentTransaction.commit();                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 112          } else {                                                                                                  </span>
<span class="7556795736331838986" onmouseenter="enter('7556795736331838986');" onmouseout="out('7556795736331838986');" style=""> 113              mNoteListFragment = (NoteListFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_LIST);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114          }                                                                                                         </span>
<span  style=""> 115                                                                                                                    </span>
<span class="4262390240505933772" onmouseenter="enter('4262390240505933772');" onmouseout="out('4262390240505933772');" style=""> 116          Configuration config = getBaseContext().getResources().getConfiguration();                                </span>
<span class="-3386006184602972350" onmouseenter="enter('-3386006184602972350');" onmouseout="out('-3386006184602972350');" style=""> 117          if ((config.screenLayout                                                                                  </span>
<span class="-8390180110431971811" onmouseenter="enter('-8390180110431971811');" onmouseout="out('-8390180110431971811');" style=""> 118                  &amp; Configuration.SCREENLAYOUT_SIZE_MASK)                                                           </span>
<span class="3061823851929640256" onmouseenter="enter('3061823851929640256');" onmouseout="out('3061823851929640256');" style=""> 119                  &gt;= Configuration.SCREENLAYOUT_SIZE_LARGE) {                                                       </span>
<span class="3753575844338557469" onmouseenter="enter('3753575844338557469');" onmouseout="out('3753575844338557469');" style=""> 120              mIsLargeScreen = true;                                                                                </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-6446649996303203145" onmouseenter="enter('-6446649996303203145');" onmouseout="out('-6446649996303203145');" style=""> 122              if (getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR) != null) {                                </span>
<span class="8455455142529777267" onmouseenter="enter('8455455142529777267');" onmouseout="out('8455455142529777267');" style=""><abbr title=" 123                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR);"> 123                  mNoteEditorFragment = (NoteEditorFragment) getFragmentManager().findFragmentByTag(TAG_NOTE_EDITOR)ðŸ”µ</abbr></span>
<span class="683697424668393" onmouseenter="enter('683697424668393');" onmouseout="out('683697424668393');" style=""> 124              } else if (config.orientation == Configuration.ORIENTATION_LANDSCAPE) {                               </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 125                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 126                  addEditorFragment();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128          }                                                                                                         </span>
<span  style=""> 129                                                                                                                    </span>
<span class="-6793985292901488522" onmouseenter="enter('-6793985292901488522');" onmouseout="out('-6793985292901488522');" style=""> 130          // Set up the menu drawer                                                                                 </span>
<span class="1217020777024729264" onmouseenter="enter('1217020777024729264');" onmouseout="out('1217020777024729264');" style=""> 131          mDrawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);                                          </span>
<span class="-5454115513803377274" onmouseenter="enter('-5454115513803377274');" onmouseout="out('-5454115513803377274');" style=""> 132          mDrawerList = (ListView) findViewById(R.id.left_drawer);                                                  </span>
<span class="-9057191955409162430" onmouseenter="enter('-9057191955409162430');" onmouseout="out('-9057191955409162430');" style=""> 133          mTagsAdapter = new TagsAdapter(this, mNotesBucket);                                                       </span>
<span class="2229133684541773437" onmouseenter="enter('2229133684541773437');" onmouseout="out('2229133684541773437');" style=""> 134          mDrawerList.setAdapter(mTagsAdapter);                                                                     </span>
<span class="3856833831482884706" onmouseenter="enter('3856833831482884706');" onmouseout="out('3856833831482884706');" style=""> 135          // Set the list&#x27;s click listener                                                                          </span>
<span class="-2692980789692617364" onmouseenter="enter('-2692980789692617364');" onmouseout="out('-2692980789692617364');" style=""> 136          mDrawerList.setOnItemClickListener(new DrawerItemClickListener());                                        </span>
<span  style=""> 137                                                                                                                    </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 138          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 139              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-8590559642772988095" onmouseenter="enter('-8590559642772988095');" onmouseout="out('-8590559642772988095');" style=""> 141          // enable ActionBar app icon to behave as action to toggle nav drawer                                     </span>
<span class="5123930260865214030" onmouseenter="enter('5123930260865214030');" onmouseout="out('5123930260865214030');" style=""> 142          mActionBar = getActionBar();                                                                              </span>
<span class="-1051510686168923629" onmouseenter="enter('-1051510686168923629');" onmouseout="out('-1051510686168923629');" style=""> 143          mActionBar.setDisplayHomeAsUpEnabled(true);                                                               </span>
<span class="5570733029314684193" onmouseenter="enter('5570733029314684193');" onmouseout="out('5570733029314684193');" style=""> 144          mActionBar.setHomeButtonEnabled(true);                                                                    </span>
<span  style=""> 145                                                                                                                    </span>
<span class="-4072260133020323899" onmouseenter="enter('-4072260133020323899');" onmouseout="out('-4072260133020323899');" style=""> 146          // ActionBarDrawerToggle ties together the the proper interactions                                        </span>
<span class="-3779976718722387739" onmouseenter="enter('-3779976718722387739');" onmouseout="out('-3779976718722387739');" style=""> 147          // between the sliding drawer and the action bar app icon                                                 </span>
<span class="7857187459710865829" onmouseenter="enter('7857187459710865829');" onmouseout="out('7857187459710865829');" style=""> 148          mDrawerToggle = new ActionBarDrawerToggle(                                                                </span>
<span class="6637960409383215658" onmouseenter="enter('6637960409383215658');" onmouseout="out('6637960409383215658');" style=""> 149                  this,                                                                                             </span>
<span class="-8227012410899353971" onmouseenter="enter('-8227012410899353971');" onmouseout="out('-8227012410899353971');" style=""> 150                  mDrawerLayout,                                                                                    </span>
<span class="4784234801981494438" onmouseenter="enter('4784234801981494438');" onmouseout="out('4784234801981494438');" style=""> 151                  R.drawable.ic_drawer,                                                                             </span>
<span class="4434560209470776563" onmouseenter="enter('4434560209470776563');" onmouseout="out('4434560209470776563');" style=""> 152                  R.string.open_drawer,                                                                             </span>
<span class="3720432804702294397" onmouseenter="enter('3720432804702294397');" onmouseout="out('3720432804702294397');" style=""> 153                  R.string.close_drawer                                                                             </span>


<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 154          ) {                                                                                                       </span>
<span class="-1855343096498531740" onmouseenter="enter('-1855343096498531740');" onmouseout="out('-1855343096498531740');" style=""> 155              public void onDrawerClosed(View view) {                                                               </span>
<span class="8008614842398695307" onmouseenter="enter('8008614842398695307');" onmouseout="out('8008614842398695307');" style=""> 156                  setTitle(mActionBarTitle);                                                                        </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 157                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158              }                                                                                                     </span>
<span  style=""> 159                                                                                                                    </span>
<span class="6281959121095062262" onmouseenter="enter('6281959121095062262');" onmouseout="out('6281959121095062262');" style=""> 160              public void onDrawerOpened(View drawerView) {                                                         </span>
<span class="2519029332413297962" onmouseenter="enter('2519029332413297962');" onmouseout="out('2519029332413297962');" style=""> 161                  setTitleWithCustomFont(getString(R.string.app_name));                                             </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 162                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 164          };                                                                                                        </span>
<span class="-1359223984931077736" onmouseenter="enter('-1359223984931077736');" onmouseout="out('-1359223984931077736');" style=""> 165          mDrawerLayout.setDrawerListener(mDrawerToggle);                                                           </span>
<span  style=""> 166                                                                                                                    </span>







<span class="-4210962436926385228" onmouseenter="enter('-4210962436926385228');" onmouseout="out('-4210962436926385228');" style=""> 167          mUndoBarController = new UndoBarController(findViewById(R.id.undobar), this);                             </span>

















<span  style=""> 168                                                                                                                    </span>
<span class="-108778658266211276" onmouseenter="enter('-108778658266211276');" onmouseout="out('-108778658266211276');" style=""> 169          if (PrefUtils.getBoolPref(this, PrefUtils.PREF_FIRST_LAUNCH, true)) {                                     </span>
<span class="9128978628143972558" onmouseenter="enter('9128978628143972558');" onmouseout="out('9128978628143972558');" style=""> 170              // Create the welcome note                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 171              try {                                                                                                 </span>
<span class="145990497495408512" onmouseenter="enter('145990497495408512');" onmouseout="out('145990497495408512');" style=""> 172                  Note welcomeNote = mNotesBucket.newObject(&quot;welcome-android&quot;);                                     </span>
<span class="-8840298309636318650" onmouseenter="enter('-8840298309636318650');" onmouseout="out('-8840298309636318650');" style=""> 173                  welcomeNote.setCreationDate(Calendar.getInstance());                                              </span>
<span class="-2363916534787629548" onmouseenter="enter('-2363916534787629548');" onmouseout="out('-2363916534787629548');" style=""> 174                  welcomeNote.setModificationDate(welcomeNote.getCreationDate());                                   </span>
<span class="1348578549642821037" onmouseenter="enter('1348578549642821037');" onmouseout="out('1348578549642821037');" style=""> 175                  welcomeNote.setContent(getString(R.string.welcome_note));                                         </span>
<span class="-4597233226168743223" onmouseenter="enter('-4597233226168743223');" onmouseout="out('-4597233226168743223');" style=""> 176                  welcomeNote.getTitle();                                                                           </span>
<span class="7507492690856923465" onmouseenter="enter('7507492690856923465');" onmouseout="out('7507492690856923465');" style=""> 177                  welcomeNote.save();                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 178              } catch (BucketObjectNameInvalid e) {                                                                 </span>
<span class="-3531378918073747728" onmouseenter="enter('-3531378918073747728');" onmouseout="out('-3531378918073747728');" style=""> 179                  // this won&#x27;t happen because welcome-android is a valid name                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180              }                                                                                                     </span>
<span  style=""> 181                                                                                                                    </span>
<span class="-2404865847732513440" onmouseenter="enter('-2404865847732513440');" onmouseout="out('-2404865847732513440');" style=""> 182              SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this);                  </span>
<span class="8350998168884102846" onmouseenter="enter('8350998168884102846');" onmouseout="out('8350998168884102846');" style=""> 183              SharedPreferences.Editor editor = preferences.edit();                                                 </span>
<span class="6933313202719535256" onmouseenter="enter('6933313202719535256');" onmouseout="out('6933313202719535256');" style=""> 184              editor.putBoolean(PrefUtils.PREF_FIRST_LAUNCH, false);                                                </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 185              editor.commit();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186          }                                                                                                         </span>
<span  style=""> 187                                                                                                                    </span>
<span class="-7837110497390601676" onmouseenter="enter('-7837110497390601676');" onmouseout="out('-7837110497390601676');" style=""> 188          if (Intent.ACTION_SEND.equals(getIntent().getAction())) {                                                 </span>
<span class="115780932022575334" onmouseenter="enter('115780932022575334');" onmouseout="out('115780932022575334');" style=""> 189              // Check share action                                                                                 </span>
<span class="4515924128962678673" onmouseenter="enter('4515924128962678673');" onmouseout="out('4515924128962678673');" style=""> 190              Intent intent = getIntent();                                                                          </span>
<span class="-2475700703130125045" onmouseenter="enter('-2475700703130125045');" onmouseout="out('-2475700703130125045');" style=""> 191              String subject = intent.getStringExtra(Intent.EXTRA_SUBJECT);                                         </span>
<span class="-4554489903355273487" onmouseenter="enter('-4554489903355273487');" onmouseout="out('-4554489903355273487');" style=""> 192              String text = intent.getStringExtra(Intent.EXTRA_TEXT);                                               </span>
<span class="4372110242019641051" onmouseenter="enter('4372110242019641051');" onmouseout="out('4372110242019641051');" style=""> 193              if (text != null &amp;&amp; !text.equals(&quot;&quot;)) {                                                               </span>
<span class="-2951885471391107460" onmouseenter="enter('-2951885471391107460');" onmouseout="out('-2951885471391107460');" style=""> 194                  if (subject != null &amp;&amp; !subject.equals(&quot;&quot;)) {                                                     </span>
<span class="2322183895744884836" onmouseenter="enter('2322183895744884836');" onmouseout="out('2322183895744884836');" style=""> 195                      text = subject + &quot;\n\n&quot; + text;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196                  }                                                                                                 </span>
<span class="1631683798561233760" onmouseenter="enter('1631683798561233760');" onmouseout="out('1631683798561233760');" style=""> 197                  Note note = mNotesBucket.newObject();                                                             </span>
<span class="1465773082586789630" onmouseenter="enter('1465773082586789630');" onmouseout="out('1465773082586789630');" style=""> 198                  note.setCreationDate(Calendar.getInstance());                                                     </span>
<span class="-2721490489979887121" onmouseenter="enter('-2721490489979887121');" onmouseout="out('-2721490489979887121');" style=""> 199                  note.setModificationDate(note.getCreationDate());                                                 </span>
<span class="-3061260659430564425" onmouseenter="enter('-3061260659430564425');" onmouseout="out('-3061260659430564425');" style=""> 200                  note.setContent(text);                                                                            </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 201                  note.save();                                                                                      </span>
<span class="-3990959481016899248" onmouseenter="enter('-3990959481016899248');" onmouseout="out('-3990959481016899248');" style=""> 202                  setCurrentNote(note);                                                                             </span>
<span class="-5668868587638000455" onmouseenter="enter('-5668868587638000455');" onmouseout="out('-5668868587638000455');" style=""> 203                  mShouldSelectNewNote = true;                                                                      </span>
<span class="7156251166858230614" onmouseenter="enter('7156251166858230614');" onmouseout="out('7156251166858230614');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;external_share&quot;, null);                                </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +                                .setAction(&quot;create_note&quot;)                                                         </span>
<span class="-3294990099417343981" onmouseenter="enter('-3294990099417343981');" onmouseout="out('-3294990099417343981');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +                                .setLabel(&quot;external_share&quot;)                                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213          }                                                                                                         </span>
<span class="2612592616728169989" onmouseenter="enter('2612592616728169989');" onmouseout="out('2612592616728169989');" style=""> 214          currentApp.getSimperium().setOnUserCreatedListener(this);                                                 </span>
<span class="-2760075478950066331" onmouseenter="enter('-2760075478950066331');" onmouseout="out('-2760075478950066331');" style=""> 215          currentApp.getSimperium().setUserStatusChangeListener(this);                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 216          setProgressBarIndeterminateVisibility(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 219      @Override                                                                                                     </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style=""> 220      protected void onResume() {                                                                                   </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 221          super.onResume();                                                                                         </span>
<span  style=""> 222                                                                                                                    </span>
<span class="5554380574001500921" onmouseenter="enter('5554380574001500921');" onmouseout="out('5554380574001500921');" style=""> 223          // Ensure user has valid authorization                                                                    </span>
<span class="-4832194465621693570" onmouseenter="enter('-4832194465621693570');" onmouseout="out('-4832194465621693570');" style=""> 224          if (userAuthenticationIsInvalid())                                                                        </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 225              startLoginActivity(true);                                                                             </span>
<span  style=""> 226                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style=""> 227          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style=""> 228          mTagsBucket.start();                                                                                      </span>
<span  style=""> 229                                                                                                                    </span>
<span class="2394072968230591001" onmouseenter="enter('2394072968230591001');" onmouseout="out('2394072968230591001');" style=""> 230          mNotesBucket.addOnNetworkChangeListener(this);                                                            </span>
<span class="714175931171215367" onmouseenter="enter('714175931171215367');" onmouseout="out('714175931171215367');" style=""> 231          mNotesBucket.addOnSaveObjectListener(this);                                                               </span>
<span class="-1135727598289940217" onmouseenter="enter('-1135727598289940217');" onmouseout="out('-1135727598289940217');" style=""> 232          mNotesBucket.addOnDeleteObjectListener(this);                                                             </span>
<span class="-5805959667796717267" onmouseenter="enter('-5805959667796717267');" onmouseout="out('-5805959667796717267');" style=""> 233          mTagsBucket.addListener(mTagsMenuUpdater);                                                                </span>
<span  style=""> 234                                                                                                                    </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 235          updateNavigationDrawerItems();                                                                            </span>
<span  style=""> 236                                                                                                                    </span>
<span class="-8405882718452189692" onmouseenter="enter('-8405882718452189692');" onmouseout="out('-8405882718452189692');" style=""> 237          // if the user is not authenticated and the tag doesn&#x27;t exist revert to default drawer selection          </span>
<span class="-1631839299523174859" onmouseenter="enter('-1631839299523174859');" onmouseout="out('-1631839299523174859');" style=""> 238          Simplenote currentApp = (Simplenote)getApplication();                                                     </span>
<span class="6091553930960172938" onmouseenter="enter('6091553930960172938');" onmouseout="out('6091553930960172938');" style=""> 239          if (currentApp.getSimperium().getUser().getStatus() == User.Status.NOT_AUTHORIZED) {                      </span>
<span class="-2680144162718219417" onmouseenter="enter('-2680144162718219417');" onmouseout="out('-2680144162718219417');" style=""> 240              if (-1 == mTagsAdapter.getPosition(mSelectedTag)) {                                                   </span>
<span class="-1998631415776690340" onmouseenter="enter('-1998631415776690340');" onmouseout="out('-1998631415776690340');" style=""> 241                  mSelectedTag = null;                                                                              </span>
<span class="-8345219271068781254" onmouseenter="enter('-8345219271068781254');" onmouseout="out('-8345219271068781254');" style=""> 242                  mDrawerList.setSelection(mTagsAdapter.DEFAULT_ITEM_POSITION);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244          }                                                                                                         </span>
<span  style=""> 245                                                                                                                    </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 246          setSelectedTagActive();                                                                                   </span>
<span  style=""> 247                                                                                                                    </span>
<span class="1063218413123593849" onmouseenter="enter('1063218413123593849');" onmouseout="out('1063218413123593849');" style=""> 248          if (mCurrentNote != null &amp;&amp; mShouldSelectNewNote) {                                                       </span>
<span class="6910506725675699830" onmouseenter="enter('6910506725675699830');" onmouseout="out('6910506725675699830');" style=""> 249              onNoteSelected(mCurrentNote.getSimperiumKey(), true, null);                                           </span>
<span class="-1821555185703615961" onmouseenter="enter('-1821555185703615961');" onmouseout="out('-1821555185703615961');" style=""> 250              mShouldSelectNewNote = false;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 254      @Override                                                                                                     </span>
<span class="-1021977283554915693" onmouseenter="enter('-1021977283554915693');" onmouseout="out('-1021977283554915693');" style=""> 255      protected void onPause() {                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 256          super.onPause();                                                                                          </span>
<span  style=""> 257                                                                                                                    </span>
<span class="-7384573528577464535" onmouseenter="enter('-7384573528577464535');" onmouseout="out('-7384573528577464535');" style=""> 258          mTagsBucket.removeListener(mTagsMenuUpdater);                                                             </span>
<span  style=""> 259                                                                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 260          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 261          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 262          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -    @Override                                                                                                     </span>
<span class="-7382189559087428605" onmouseenter="enter('-7382189559087428605');" onmouseout="out('-7382189559087428605');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -    public void onStop() {                                                                                        </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -        super.onStop();                                                                                           </span>
<span class="3275264390132430659" onmouseenter="enter('3275264390132430659');" onmouseout="out('3275264390132430659');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -        EasyTracker.getInstance().activityStop(this);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269      }                                                                                                             </span>
<span  style=""> 270                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271      @Override                                                                                                     </span>
<span class="-7368243171138031201" onmouseenter="enter('-7368243171138031201');" onmouseout="out('-7368243171138031201');" style=""> 272      public void setTitle(CharSequence title) {                                                                    </span>
<span class="-4558310944333647771" onmouseenter="enter('-4558310944333647771');" onmouseout="out('-4558310944333647771');" style=""> 273          mActionBarTitle = (title != null) ? title : &quot;&quot;;                                                           </span>
<span class="-8821064470571885142" onmouseenter="enter('-8821064470571885142');" onmouseout="out('-8821064470571885142');" style=""> 274          setTitleWithCustomFont(mActionBarTitle);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275      }                                                                                                             </span>
<span  style=""> 276                                                                                                                    </span>
<span class="-9203467251250572614" onmouseenter="enter('-9203467251250572614');" onmouseout="out('-9203467251250572614');" style=""> 277      private void setTitleWithCustomFont(CharSequence title) {                                                     </span>
<span class="1011566400999499805" onmouseenter="enter('1011566400999499805');" onmouseout="out('1011566400999499805');" style=""> 278          // LG devices running 4.1 can&#x27;t handle a custom font in the action bar title                              </span>
<span class="653934052093096976" onmouseenter="enter('653934052093096976');" onmouseout="out('653934052093096976');" style=""> 279          if ((!TextUtils.isEmpty(Build.BRAND) &amp;&amp; Build.BRAND.toLowerCase().contains(&quot;lge&quot;))                        </span>
<span class="-478505745889420481" onmouseenter="enter('-478505745889420481');" onmouseout="out('-478505745889420481');" style=""> 280                  &amp;&amp; Build.VERSION.SDK_INT &lt;= Build.VERSION_CODES.JELLY_BEAN) {                                     </span>
<span class="-1896274473238990254" onmouseenter="enter('-1896274473238990254');" onmouseout="out('-1896274473238990254');" style=""> 281              mActionBar.setTitle(title);                                                                           </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 282              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283          }                                                                                                         </span>
<span  style=""> 284                                                                                                                    </span>
<span class="-5894217806054704471" onmouseenter="enter('-5894217806054704471');" onmouseout="out('-5894217806054704471');" style=""> 285          SpannableString s = new SpannableString(title);                                                           </span>
<span class="2768456589587214551" onmouseenter="enter('2768456589587214551');" onmouseout="out('2768456589587214551');" style=""> 286          s.setSpan(new TypefaceSpan(this), 0, s.length(),                                                          </span>
<span class="-848172540933228179" onmouseenter="enter('-848172540933228179');" onmouseout="out('-848172540933228179');" style=""> 287                  Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);                                                              </span>
<span class="6709990993232164096" onmouseenter="enter('6709990993232164096');" onmouseout="out('6709990993232164096');" style=""> 288          mActionBar.setTitle(s);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289      }                                                                                                             </span>
<span  style=""> 290                                                                                                                    </span>
<span class="-6133785159731078879" onmouseenter="enter('-6133785159731078879');" onmouseout="out('-6133785159731078879');" style=""> 291      private void updateNavigationDrawerItems() {                                                                  </span>
<span class="-4717148899636537497" onmouseenter="enter('-4717148899636537497');" onmouseout="out('-4717148899636537497');" style=""> 292          Bucket.ObjectCursor&lt;Tag&gt; tagCursor = Tag.allWithCount(mTagsBucket).execute();                             </span>
<span class="1536457075228794394" onmouseenter="enter('1536457075228794394');" onmouseout="out('1536457075228794394');" style=""> 293          mTagsAdapter.changeCursor(tagCursor);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294      }                                                                                                             </span>
<span  style=""> 295                                                                                                                    </span>
<span class="5817315754482636473" onmouseenter="enter('5817315754482636473');" onmouseout="out('5817315754482636473');" style=""> 296      private void setSelectedTagActive() {                                                                         </span>
<span class="3096189113447177402" onmouseenter="enter('3096189113447177402');" onmouseout="out('3096189113447177402');" style=""> 297          if (mSelectedTag == null)                                                                                 </span>
<span class="7366624184188159734" onmouseenter="enter('7366624184188159734');" onmouseout="out('7366624184188159734');" style=""> 298              mSelectedTag = mTagsAdapter.getDefaultItem();                                                         </span>
<span  style=""> 299                                                                                                                    </span>
<span class="614539926154057324" onmouseenter="enter('614539926154057324');" onmouseout="out('614539926154057324');" style=""> 300          setTitle(mSelectedTag.name);                                                                              </span>
<span class="8612888826524360471" onmouseenter="enter('8612888826524360471');" onmouseout="out('8612888826524360471');" style=""> 301          mDrawerList.setItemChecked(mTagsAdapter.getPosition(mSelectedTag), true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 302      }                                                                                                             </span>
<span  style=""> 303                                                                                                                    </span>
<span class="5840787824258561666" onmouseenter="enter('5840787824258561666');" onmouseout="out('5840787824258561666');" style=""> 304      // Enable or disable the trash action bar button depending on if there are deleted notes or not               </span>
<span class="3462916052858615201" onmouseenter="enter('3462916052858615201');" onmouseout="out('3462916052858615201');" style=""> 305      public void updateTrashMenuItem() {                                                                           </span>
<span class="-3518655106843705747" onmouseenter="enter('-3518655106843705747');" onmouseout="out('-3518655106843705747');" style=""> 306          if (mEmptyTrashMenuItem == null)                                                                          </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 307              return;                                                                                               </span>
<span class="7702755293497256904" onmouseenter="enter('7702755293497256904');" onmouseout="out('7702755293497256904');" style=""> 308          // Disable the trash icon if there are no notes trashed.                                                  </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 309          Simplenote application = (Simplenote) getApplication();                                                   </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 310          Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                                   </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 311          Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                          </span>
<span class="9203034423204730389" onmouseenter="enter('9203034423204730389');" onmouseout="out('9203034423204730389');" style=""> 312          if (query.count() == 0) {                                                                                 </span>
<span class="4238730227786548708" onmouseenter="enter('4238730227786548708');" onmouseout="out('4238730227786548708');" style=""> 313              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash_disabled);                                 </span>
<span class="-5791784207663299845" onmouseenter="enter('-5791784207663299845');" onmouseout="out('-5791784207663299845');" style=""> 314              mEmptyTrashMenuItem.setEnabled(false);                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 315          } else {                                                                                                  </span>
<span class="-4862463139360245479" onmouseenter="enter('-4862463139360245479');" onmouseout="out('-4862463139360245479');" style=""> 316              mEmptyTrashMenuItem.setIcon(R.drawable.ab_icon_empty_trash);                                          </span>
<span class="-8797862959792048666" onmouseenter="enter('-8797862959792048666');" onmouseout="out('-8797862959792048666');" style=""> 317              mEmptyTrashMenuItem.setEnabled(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319      }                                                                                                             </span>
<span  style=""> 320                                                                                                                    </span>
<span class="7209497675586350918" onmouseenter="enter('7209497675586350918');" onmouseout="out('7209497675586350918');" style=""> 321      /* The click listener for ListView in the navigation drawer */                                                </span>
<span class="2317341872917292357" onmouseenter="enter('2317341872917292357');" onmouseout="out('2317341872917292357');" style=""> 322      private class DrawerItemClickListener implements ListView.OnItemClickListener {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 323          @Override                                                                                                 </span>
<span class="-6307048688277996884" onmouseenter="enter('-6307048688277996884');" onmouseout="out('-6307048688277996884');" style=""> 324          public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {                        </span>
<span  style=""> 325                                                                                                                    </span>
<span class="1960897191124226702" onmouseenter="enter('1960897191124226702');" onmouseout="out('1960897191124226702');" style=""> 326              mSelectedTag = mTagsAdapter.getItem(position);                                                        </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 327              checkEmptyListText(false);                                                                            </span>
<span class="6297098092950608435" onmouseenter="enter('6297098092950608435');" onmouseout="out('6297098092950608435');" style=""> 328              // Update checked item in navigation drawer and close it                                              </span>
<span class="-3989837639650976268" onmouseenter="enter('-3989837639650976268');" onmouseout="out('-3989837639650976268');" style=""> 329              setSelectedTagActive();                                                                               </span>
<span class="5807812356302791922" onmouseenter="enter('5807812356302791922');" onmouseout="out('5807812356302791922');" style=""> 330              mDrawerLayout.closeDrawer(mDrawerList);                                                               </span>
<span  style=""> 331                                                                                                                    </span>
<span class="-536301636235824116" onmouseenter="enter('-536301636235824116');" onmouseout="out('-536301636235824116');" style=""> 332              // Disable long press on notes if we&#x27;re viewing the trash                                             </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 333              if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                      </span>
<span class="-4621895919606030036" onmouseenter="enter('-4621895919606030036');" onmouseout="out('-4621895919606030036');" style=""> 334                  getNoteListFragment().getListView().setLongClickable(false);                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 335              } else {                                                                                              </span>
<span class="419496834222346439" onmouseenter="enter('419496834222346439');" onmouseout="out('419496834222346439');" style=""> 336                  getNoteListFragment().getListView().setLongClickable(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337              }                                                                                                     </span>
<span  style=""> 338                                                                                                                    </span>
<span class="8426735131809411582" onmouseenter="enter('8426735131809411582');" onmouseout="out('8426735131809411582');" style=""> 339              getNoteListFragment().refreshListFromNavSelect();                                                     </span>
<span class="-7917187965429903515" onmouseenter="enter('-7917187965429903515');" onmouseout="out('-7917187965429903515');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 340 -            if (position &gt; 1)                                                                                     </span>
<span class="7141105300359600542" onmouseenter="enter('7141105300359600542');" onmouseout="out('7141105300359600542');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 341 -                mTracker.sendEvent(&quot;tag&quot;, &quot;viewed_notes_for_tag&quot;, &quot;selected_tag_in_navigation_drawer&quot;, null);     </span>
<span class="-117041262466973538" onmouseenter="enter('-117041262466973538');" onmouseout="out('-117041262466973538');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 342 +            if (position &gt; 1) {                                                                                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 343 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 344 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="8481659063908705476" onmouseenter="enter('8481659063908705476');" onmouseout="out('8481659063908705476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 345 +                                .setCategory(&quot;tag&quot;)                                                               </span>
<span class="8346922369884657540" onmouseenter="enter('8346922369884657540');" onmouseout="out('8346922369884657540');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 346 +                                .setAction(&quot;viewed_notes_for_tag&quot;)                                                </span>
<span class="3304544329017779656" onmouseenter="enter('3304544329017779656');" onmouseout="out('3304544329017779656');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 347 +                                .setLabel(&quot;selected_tag_in_navigation_drawer&quot;)                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 348 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 349 +                );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 350 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352      }                                                                                                             </span>
<span  style=""> 353                                                                                                                    </span>
<span class="4744209728047975340" onmouseenter="enter('4744209728047975340');" onmouseout="out('4744209728047975340');" style=""> 354      public TagsAdapter.TagMenuItem getSelectedTag() {                                                             </span>
<span class="-6630019874367245499" onmouseenter="enter('-6630019874367245499');" onmouseout="out('-6630019874367245499');" style=""> 355          return mSelectedTag;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356      }                                                                                                             </span>
<span  style=""> 357                                                                                                                    </span>
<span class="-9157574496455021692" onmouseenter="enter('-9157574496455021692');" onmouseout="out('-9157574496455021692');" style=""> 358      private void addEditorFragment() {                                                                            </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 359          FragmentManager fm = getFragmentManager();                                                                </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 360          FragmentTransaction ft = fm.beginTransaction();                                                           </span>
<span class="-7967870260285266390" onmouseenter="enter('-7967870260285266390');" onmouseout="out('-7967870260285266390');" style=""> 361          mNoteEditorFragment = new NoteEditorFragment();                                                           </span>
<span class="-1385513025784581271" onmouseenter="enter('-1385513025784581271');" onmouseout="out('-1385513025784581271');" style=""> 362          ft.add(R.id.noteFragmentContainer, mNoteEditorFragment, TAG_NOTE_EDITOR);                                 </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 363          ft.commitAllowingStateLoss();                                                                             </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 364          fm.executePendingTransactions();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365      }                                                                                                             </span>
<span  style=""> 366                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 367      /**                                                                                                           </span>
<span class="-12776306976950169" onmouseenter="enter('-12776306976950169');" onmouseout="out('-12776306976950169');" style=""> 368       * Checks for a previously valid user that is now not authenticated                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 369       *                                                                                                            </span>
<span class="2040051030599803468" onmouseenter="enter('2040051030599803468');" onmouseout="out('2040051030599803468');" style=""> 370       * @return true if user has invalid authorization                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 371       */                                                                                                           </span>
<span class="-2523399876020909044" onmouseenter="enter('-2523399876020909044');" onmouseout="out('-2523399876020909044');" style=""> 372      private boolean userAuthenticationIsInvalid() {                                                               </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 373          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="-4589466368752372978" onmouseenter="enter('-4589466368752372978');" onmouseout="out('-4589466368752372978');" style=""> 374          Simperium simperium = currentApp.getSimperium();                                                          </span>
<span class="1286635907496101852" onmouseenter="enter('1286635907496101852');" onmouseout="out('1286635907496101852');" style=""> 375          User user = simperium.getUser();                                                                          </span>
<span class="6270394904364920686" onmouseenter="enter('6270394904364920686');" onmouseout="out('6270394904364920686');" style=""> 376          return user.hasAccessToken() &amp;&amp; user.getStatus().equals(User.Status.NOT_AUTHORIZED);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377      }                                                                                                             </span>
<span  style=""> 378                                                                                                                    </span>
<span class="3808117040756344007" onmouseenter="enter('3808117040756344007');" onmouseout="out('3808117040756344007');" style=""> 379      public void setCurrentNote(Note note) {                                                                       </span>
<span class="6840698057754679427" onmouseenter="enter('6840698057754679427');" onmouseout="out('6840698057754679427');" style=""> 380          mCurrentNote = note;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381      }                                                                                                             </span>
<span  style=""> 382                                                                                                                    </span>
<span class="-8275237979450879514" onmouseenter="enter('-8275237979450879514');" onmouseout="out('-8275237979450879514');" style=""> 383      // received a change from the network, refresh the list                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 384      @Override                                                                                                     </span>
<span class="-6787326576765223185" onmouseenter="enter('-6787326576765223185');" onmouseout="out('-6787326576765223185');" style=""> 385      public void onChange(Bucket&lt;Note&gt; bucket, final Bucket.ChangeType type, String key) {                         </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 386          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 387              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 388              public void run() {                                                                                   </span>
<span class="7666138833716106654" onmouseenter="enter('7666138833716106654');" onmouseout="out('7666138833716106654');" style=""> 389                  if (type == Bucket.ChangeType.INDEX)                                                              </span>
<span class="-3191173677933030712" onmouseenter="enter('-3191173677933030712');" onmouseout="out('-3191173677933030712');" style=""> 390                      setProgressBarIndeterminateVisibility(false);                                                 </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 391                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 393          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394      }                                                                                                             </span>
<span  style=""> 395                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 396      @Override                                                                                                     </span>
<span class="1159664474625632065" onmouseenter="enter('1159664474625632065');" onmouseout="out('1159664474625632065');" style=""> 397      public void onSaveObject(Bucket&lt;Note&gt; bucket, Note object) {                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 398          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 399              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 400              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 401                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 403          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404      }                                                                                                             </span>
<span  style=""> 405                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 406      @Override                                                                                                     </span>
<span class="9027071134668845344" onmouseenter="enter('9027071134668845344');" onmouseout="out('9027071134668845344');" style=""> 407      public void onDeleteObject(Bucket&lt;Note&gt; bucket, Note object) {                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 408          runOnUiThread(new Runnable() {                                                                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 409              @Override                                                                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 410              public void run() {                                                                                   </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 411                  mNoteListFragment.refreshList();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 413          });                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414      }                                                                                                             </span>
<span  style=""> 415                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 416      @Override                                                                                                     </span>
<span class="-5956849782971602831" onmouseenter="enter('-5956849782971602831');" onmouseout="out('-5956849782971602831');" style=""> 417      public void onBeforeUpdateObject(Bucket&lt;Note&gt; bucket, Note note) {                                            </span>
<span  style=""> 418                                                                                                                    </span>
<span class="-3748846323552866949" onmouseenter="enter('-3748846323552866949');" onmouseout="out('-3748846323552866949');" style=""> 419          // noop, NoteEditorFragment will handle this                                                              </span>
<span  style=""> 420                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421      }                                                                                                             </span>
<span  style=""> 422                                                                                                                    </span>
<span class="120288353334474668" onmouseenter="enter('120288353334474668');" onmouseout="out('120288353334474668');" style=""> 423      // Tags bucket listener                                                                                       </span>
<span class="2521443022913374591" onmouseenter="enter('2521443022913374591');" onmouseout="out('2521443022913374591');" style=""> 424      private Bucket.Listener&lt;Tag&gt; mTagsMenuUpdater = new Bucket.Listener&lt;Tag&gt;() {                                  </span>
<span class="326871725865245463" onmouseenter="enter('326871725865245463');" onmouseout="out('326871725865245463');" style=""> 425          void updateNavigationDrawer() {                                                                           </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 426              runOnUiThread(new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 427                  public void run() {                                                                               </span>
<span class="220566651796336920" onmouseenter="enter('220566651796336920');" onmouseout="out('220566651796336920');" style=""> 428                      updateNavigationDrawerItems();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 430              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431          }                                                                                                         </span>
<span  style=""> 432                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 433          @Override                                                                                                 </span>
<span class="-5038686646778263830" onmouseenter="enter('-5038686646778263830');" onmouseout="out('-5038686646778263830');" style=""> 434          public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                   </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 435              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436          }                                                                                                         </span>
<span  style=""> 437                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 438          @Override                                                                                                 </span>
<span class="1256379129483276046" onmouseenter="enter('1256379129483276046');" onmouseout="out('1256379129483276046');" style=""> 439          public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag tag) {                                                 </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 440              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441          }                                                                                                         </span>
<span  style=""> 442                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 443          @Override                                                                                                 </span>
<span class="7184489389081226274" onmouseenter="enter('7184489389081226274');" onmouseout="out('7184489389081226274');" style=""> 444          public void onChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                            </span>
<span class="-277363239935624918" onmouseenter="enter('-277363239935624918');" onmouseout="out('-277363239935624918');" style=""> 445              updateNavigationDrawer();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 446          }                                                                                                         </span>
<span  style=""> 447                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 448          @Override                                                                                                 </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 449          public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                        </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 450              // noop                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 452      };                                                                                                            </span>
<span  style=""> 453                                                                                                                    </span>
<span class="-8438252266373635433" onmouseenter="enter('-8438252266373635433');" onmouseout="out('-8438252266373635433');" style=""> 454      public boolean isLargeScreenLandscape() {                                                                     </span>
<span class="-8594712910846244973" onmouseenter="enter('-8594712910846244973');" onmouseout="out('-8594712910846244973');" style=""> 455          return mIsLargeScreen &amp;&amp; mIsLandscape;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456      }                                                                                                             </span>
<span  style=""> 457                                                                                                                    </span>
<span class="7457188165864363481" onmouseenter="enter('7457188165864363481');" onmouseout="out('7457188165864363481');" style=""> 458      // nbradbury 01-Apr-2013                                                                                      </span>
<span class="-1402908699942952645" onmouseenter="enter('-1402908699942952645');" onmouseout="out('-1402908699942952645');" style=""> 459      public NoteListFragment getNoteListFragment() {                                                               </span>
<span class="-1378084759916092622" onmouseenter="enter('-1378084759916092622');" onmouseout="out('-1378084759916092622');" style=""> 460          return mNoteListFragment;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461      }                                                                                                             </span>
<span  style=""> 462                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 463      @Override                                                                                                     </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 464      public boolean onCreateOptionsMenu(Menu menu) {                                                               </span>
<span class="4475230673018819033" onmouseenter="enter('4475230673018819033');" onmouseout="out('4475230673018819033');" style=""> 465          super.onCreateOptionsMenu(menu);                                                                          </span>
<span class="5201573939225275253" onmouseenter="enter('5201573939225275253');" onmouseout="out('5201573939225275253');" style=""> 466          MenuInflater inflater = getMenuInflater();                                                                </span>
<span class="7926432866782137486" onmouseenter="enter('7926432866782137486');" onmouseout="out('7926432866782137486');" style=""> 467          inflater.inflate(R.menu.notes_list, menu);                                                                </span>
<span  style=""> 468                                                                                                                    </span>
<span class="-6940240987369370195" onmouseenter="enter('-6940240987369370195');" onmouseout="out('-6940240987369370195');" style=""> 469          boolean drawerOpen = mDrawerLayout.isDrawerOpen(mDrawerList);                                             </span>
<span  style=""> 470                                                                                                                    </span>
<span class="8021379061673456983" onmouseenter="enter('8021379061673456983');" onmouseout="out('8021379061673456983');" style=""> 471          // restore the search query if on a landscape tablet                                                      </span>
<span class="8884316667424204460" onmouseenter="enter('8884316667424204460');" onmouseout="out('8884316667424204460');" style=""> 472          String searchQuery = null;                                                                                </span>
<span class="-6505516605099748652" onmouseenter="enter('-6505516605099748652');" onmouseout="out('-6505516605099748652');" style=""> 473          if (isLargeScreenLandscape() &amp;&amp; mSearchView != null)                                                      </span>
<span class="6329028104169704684" onmouseenter="enter('6329028104169704684');" onmouseout="out('6329028104169704684');" style=""> 474              searchQuery = mSearchView.getQuery().toString();                                                      </span>
<span  style=""> 475                                                                                                                    </span>
<span class="1114117470721090423" onmouseenter="enter('1114117470721090423');" onmouseout="out('1114117470721090423');" style=""> 476          mSearchMenuItem = menu.findItem(R.id.menu_search);                                                        </span>
<span class="4291573171604707856" onmouseenter="enter('4291573171604707856');" onmouseout="out('4291573171604707856');" style=""> 477          mSearchView = (SearchView) mSearchMenuItem.getActionView();                                               </span>
<span  style=""> 478                                                                                                                    </span>
<span class="-3306659846619055369" onmouseenter="enter('-3306659846619055369');" onmouseout="out('-3306659846619055369');" style=""> 479          // Set a custom search view drawable                                                                      </span>
<span class="-1626543508939163687" onmouseenter="enter('-1626543508939163687');" onmouseout="out('-1626543508939163687');" style=""><abbr title=" 480          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null, null);"> 480          int searchPlateId = mSearchView.getContext().getResources().getIdentifier(&quot;android:id/search_plate&quot;, null,ðŸ”µ</abbr></span>
<span class="5124819462554738952" onmouseenter="enter('5124819462554738952');" onmouseout="out('5124819462554738952');" style=""> 481          View searchPlate = mSearchView.findViewById(searchPlateId);                                               </span>
<span class="1726784060196981125" onmouseenter="enter('1726784060196981125');" onmouseout="out('1726784060196981125');" style=""> 482          if (searchPlate != null)                                                                                  </span>
<span class="-5714482448737485121" onmouseenter="enter('-5714482448737485121');" onmouseout="out('-5714482448737485121');" style=""> 483              searchPlate.setBackgroundResource(R.drawable.search_view_selector);                                   </span>
<span  style=""> 484                                                                                                                    </span>
<span class="-7245494890371116789" onmouseenter="enter('-7245494890371116789');" onmouseout="out('-7245494890371116789');" style=""> 485          if (!TextUtils.isEmpty(searchQuery)) {                                                                    </span>
<span class="6514008070548320460" onmouseenter="enter('6514008070548320460');" onmouseout="out('6514008070548320460');" style=""> 486              mSearchView.setQuery(searchQuery, false);                                                             </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 487              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488          }                                                                                                         </span>
<span  style=""> 489                                                                                                                    </span>
<span class="7231265295527938000" onmouseenter="enter('7231265295527938000');" onmouseout="out('7231265295527938000');" style=""> 490          mSearchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 491              @Override                                                                                             </span>
<span class="6657014684998026852" onmouseenter="enter('6657014684998026852');" onmouseout="out('6657014684998026852');" style=""> 492              public boolean onQueryTextChange(String newText) {                                                    </span>
<span class="2284512369341891124" onmouseenter="enter('2284512369341891124');" onmouseout="out('2284512369341891124');" style=""> 493                  if (mSearchMenuItem.isActionViewExpanded()) {                                                     </span>
<span class="-689337060397691752" onmouseenter="enter('-689337060397691752');" onmouseout="out('-689337060397691752');" style=""> 494                      getNoteListFragment().searchNotes(newText);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 496                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497              }                                                                                                     </span>
<span  style=""> 498                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 499              @Override                                                                                             </span>
<span class="5359324101080272125" onmouseenter="enter('5359324101080272125');" onmouseout="out('5359324101080272125');" style=""> 500              public boolean onQueryTextSubmit(String queryText) {                                                  </span>
<span class="-3179500810924484493" onmouseenter="enter('-3179500810924484493');" onmouseout="out('-3179500810924484493');" style=""> 501                  getNoteListFragment().searchNotes(queryText);                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 502                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503              }                                                                                                     </span>
<span  style=""> 504                                                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 505          });                                                                                                       </span>
<span class="3928092539394917321" onmouseenter="enter('3928092539394917321');" onmouseout="out('3928092539394917321');" style=""> 506          mSearchMenuItem.setOnActionExpandListener(new MenuItem.OnActionExpandListener() {                         </span>


<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 507              @Override                                                                                             </span>
<span class="7421086166837861586" onmouseenter="enter('7421086166837861586');" onmouseout="out('7421086166837861586');" style=""> 508              public boolean onMenuItemActionExpand(MenuItem menuItem) {                                            </span>
<span class="-1196403231488880585" onmouseenter="enter('-1196403231488880585');" onmouseout="out('-1196403231488880585');" style=""> 509                  checkEmptyListText(true);                                                                         </span>
<span class="6481639821241412850" onmouseenter="enter('6481639821241412850');" onmouseout="out('6481639821241412850');" style=""> 510                  getNoteListFragment().hideWelcomeView();                                                          </span>
<span class="-490449822813239131" onmouseenter="enter('-490449822813239131');" onmouseout="out('-490449822813239131');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 511 -                mTracker.sendEvent(&quot;note&quot;, &quot;searched_notes&quot;, &quot;action_bar_search_tap&quot;, null);                      </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 512 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 513 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 514 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="626103863736809870" onmouseenter="enter('626103863736809870');" onmouseout="out('626103863736809870');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 515 +                                .setAction(&quot;searched_notes&quot;)                                                      </span>
<span class="-330726872802111023" onmouseenter="enter('-330726872802111023');" onmouseout="out('-330726872802111023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 516 +                                .setLabel(&quot;action_bar_search_tap&quot;)                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 517 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 518 +                );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 519                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 520              }                                                                                                     </span>
<span  style=""> 521                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 522              @Override                                                                                             </span>
<span class="6703610662812651417" onmouseenter="enter('6703610662812651417');" onmouseout="out('6703610662812651417');" style=""> 523              public boolean onMenuItemActionCollapse(MenuItem menuItem) {                                          </span>
<span class="324015222063897295" onmouseenter="enter('324015222063897295');" onmouseout="out('324015222063897295');" style=""> 524                  // Show all notes again                                                                           </span>
<span class="-5795855702478105907" onmouseenter="enter('-5795855702478105907');" onmouseout="out('-5795855702478105907');" style=""> 525                  mTabletSearchQuery = &quot;&quot;;                                                                          </span>
<span class="-4775309803658221244" onmouseenter="enter('-4775309803658221244');" onmouseout="out('-4775309803658221244');" style=""> 526                  mSearchView.setQuery(&quot;&quot;, false);                                                                  </span>
<span class="-603519038648988234" onmouseenter="enter('-603519038648988234');" onmouseout="out('-603519038648988234');" style=""> 527                  checkEmptyListText(false);                                                                        </span>
<span class="8452382340666347576" onmouseenter="enter('8452382340666347576');" onmouseout="out('8452382340666347576');" style=""> 528                  getNoteListFragment().clearSearch();                                                              </span>
<span class="-7063040485826306906" onmouseenter="enter('-7063040485826306906');" onmouseout="out('-7063040485826306906');" style=""> 529                  getNoteListFragment().setWelcomeViewVisibility();                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 530                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 531              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 532          });                                                                                                       </span>
<span  style=""> 533                                                                                                                    </span>
<span class="5147854758608635543" onmouseenter="enter('5147854758608635543');" onmouseout="out('5147854758608635543');" style=""> 534          mSearchMenuItem.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 535              @Override                                                                                             </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 536              public boolean onMenuItemClick(MenuItem item) {                                                       </span>
<span class="-7276124272036275766" onmouseenter="enter('-7276124272036275766');" onmouseout="out('-7276124272036275766');" style=""> 537                  if (!mSearchMenuItem.isActionViewExpanded())                                                      </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 538                      showDetailPlaceholder();                                                                      </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 539                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 540              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 541          });                                                                                                       </span>
<span  style=""> 542                                                                                                                    </span>
<span class="-934249307643384258" onmouseenter="enter('-934249307643384258');" onmouseout="out('-934249307643384258');" style=""> 543          // Restore the search query on landscape tablets                                                          </span>
<span class="4671411808555277756" onmouseenter="enter('4671411808555277756');" onmouseout="out('4671411808555277756');" style=""> 544          if (isLargeScreenLandscape() &amp;&amp; !TextUtils.isEmpty(mTabletSearchQuery)) {                                 </span>
<span class="-6315718770708223009" onmouseenter="enter('-6315718770708223009');" onmouseout="out('-6315718770708223009');" style=""> 545              mSearchView.setQuery(mTabletSearchQuery, false);                                                      </span>
<span class="-6681185573566411974" onmouseenter="enter('-6681185573566411974');" onmouseout="out('-6681185573566411974');" style=""> 546              mSearchMenuItem.expandActionView();                                                                   </span>
<span class="-630312920657834845" onmouseenter="enter('-630312920657834845');" onmouseout="out('-630312920657834845');" style=""> 547              mSearchView.clearFocus();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 548          }                                                                                                         </span>
<span  style=""> 549                                                                                                                    </span>
<span class="2560028013737279906" onmouseenter="enter('2560028013737279906');" onmouseout="out('2560028013737279906');" style=""> 550          Simplenote currentApp = (Simplenote) getApplication();                                                    </span>
<span class="838134360455505634" onmouseenter="enter('838134360455505634');" onmouseout="out('838134360455505634');" style=""> 551          menu.findItem(R.id.menu_sign_in).setVisible(currentApp.getSimperium().needsAuthorization());              </span>
<span  style=""> 552                                                                                                                    </span>
<span  style=""> 553                                                                                                                    </span>
<span class="7674470390729338414" onmouseenter="enter('7674470390729338414');" onmouseout="out('7674470390729338414');" style=""> 554          MenuItem trashItem = menu.findItem(R.id.menu_delete).setTitle(R.string.undelete);                         </span>
<span class="8223932563818831956" onmouseenter="enter('8223932563818831956');" onmouseout="out('8223932563818831956');" style=""> 555          if (mCurrentNote != null &amp;&amp; mCurrentNote.isDeleted())                                                     </span>
<span class="2395244797129247894" onmouseenter="enter('2395244797129247894');" onmouseout="out('2395244797129247894');" style=""> 556              trashItem.setTitle(R.string.undelete);                                                                </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 557          else                                                                                                      </span>
<span class="-2747782095374702281" onmouseenter="enter('-2747782095374702281');" onmouseout="out('-2747782095374702281');" style=""> 558              trashItem.setTitle(R.string.delete);                                                                  </span>
<span  style=""> 559                                                                                                                    </span>
<span class="8442475321327316975" onmouseenter="enter('8442475321327316975');" onmouseout="out('8442475321327316975');" style=""> 560          if (isLargeScreenLandscape()) {                                                                           </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 561              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 562              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 563              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 564              if (mCurrentNote != null) {                                                                           </span>
<span class="662390010538190495" onmouseenter="enter('662390010538190495');" onmouseout="out('662390010538190495');" style=""> 565                  menu.findItem(R.id.menu_share).setVisible(!drawerOpen);                                           </span>
<span class="-8305565788356344829" onmouseenter="enter('-8305565788356344829');" onmouseout="out('-8305565788356344829');" style=""> 566                  trashItem.setVisible(true);                                                                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 567              } else {                                                                                              </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 568                  menu.findItem(R.id.menu_share).setVisible(false);                                                 </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 569                  trashItem.setVisible(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570              }                                                                                                     </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 571              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 572              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 573          } else {                                                                                                  </span>
<span class="-1552080413656052437" onmouseenter="enter('-1552080413656052437');" onmouseout="out('-1552080413656052437');" style=""> 574              menu.findItem(R.id.menu_create_note).setVisible(!drawerOpen);                                         </span>
<span class="6479834690650388136" onmouseenter="enter('6479834690650388136');" onmouseout="out('6479834690650388136');" style=""> 575              menu.findItem(R.id.menu_search).setVisible(!drawerOpen);                                              </span>
<span class="-3138449685433508698" onmouseenter="enter('-3138449685433508698');" onmouseout="out('-3138449685433508698');" style=""> 576              menu.findItem(R.id.menu_preferences).setVisible(true);                                                </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 577              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="5704065295552974045" onmouseenter="enter('5704065295552974045');" onmouseout="out('5704065295552974045');" style=""> 578              trashItem.setVisible(false);                                                                          </span>
<span class="9075014130570869644" onmouseenter="enter('9075014130570869644');" onmouseout="out('9075014130570869644');" style=""> 579              menu.findItem(R.id.menu_edit_tags).setVisible(true);                                                  </span>
<span class="-698298710333052477" onmouseenter="enter('-698298710333052477');" onmouseout="out('-698298710333052477');" style=""> 580              menu.findItem(R.id.menu_empty_trash).setVisible(false);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581          }                                                                                                         </span>
<span  style=""> 582                                                                                                                    </span>
<span class="-7469692587778874111" onmouseenter="enter('-7469692587778874111');" onmouseout="out('-7469692587778874111');" style=""> 583          // Are we looking at the trash? Adjust menu accordingly.                                                  </span>
<span class="6526740321479494193" onmouseenter="enter('6526740321479494193');" onmouseout="out('6526740321479494193');" style=""> 584          if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                          </span>
<span class="-5419965319693579533" onmouseenter="enter('-5419965319693579533');" onmouseout="out('-5419965319693579533');" style=""> 585              mEmptyTrashMenuItem = menu.findItem(R.id.menu_empty_trash);                                           </span>
<span class="-8513235531381558614" onmouseenter="enter('-8513235531381558614');" onmouseout="out('-8513235531381558614');" style=""> 586              mEmptyTrashMenuItem.setVisible(!drawerOpen);                                                          </span>
<span  style=""> 587                                                                                                                    </span>
<span class="3357260082029969072" onmouseenter="enter('3357260082029969072');" onmouseout="out('3357260082029969072');" style=""> 588              updateTrashMenuItem();                                                                                </span>
<span  style=""> 589                                                                                                                    </span>
<span class="-8257358601392490803" onmouseenter="enter('-8257358601392490803');" onmouseout="out('-8257358601392490803');" style=""> 590              menu.findItem(R.id.menu_create_note).setVisible(false);                                               </span>
<span class="-6010656201486439331" onmouseenter="enter('-6010656201486439331');" onmouseout="out('-6010656201486439331');" style=""> 591              menu.findItem(R.id.menu_search).setVisible(false);                                                    </span>
<span class="2506506576823815050" onmouseenter="enter('2506506576823815050');" onmouseout="out('2506506576823815050');" style=""> 592              menu.findItem(R.id.menu_share).setVisible(false);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 593          }                                                                                                         </span>
<span  style=""> 594                                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 595          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 596      }                                                                                                             </span>
<span  style=""> 597                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 598      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 599      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span class="-6531896201696128643" onmouseenter="enter('-6531896201696128643');" onmouseout="out('-6531896201696128643');" style=""> 600          if (mDrawerToggle.onOptionsItemSelected(item)) {                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 601              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 602          }                                                                                                         </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 603          switch (item.getItemId()) {                                                                               </span>
<span class="-7090263251921967489" onmouseenter="enter('-7090263251921967489');" onmouseout="out('-7090263251921967489');" style=""> 604              case R.id.menu_preferences:                                                                           </span>
<span class="1300120439356082953" onmouseenter="enter('1300120439356082953');" onmouseout="out('1300120439356082953');" style=""><abbr title=" 605                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from preferences"> 605                  // nbradbury - use startActivityForResult so onActivityResult can detect when user returns from prðŸ”µ</abbr></span>
<span class="-378853944287140284" onmouseenter="enter('-378853944287140284');" onmouseout="out('-378853944287140284');" style=""> 606                  Intent i = new Intent(this, PreferencesActivity.class);                                           </span>
<span class="-6531841364715637531" onmouseenter="enter('-6531841364715637531');" onmouseout="out('-6531841364715637531');" style=""> 607                  startActivityForResult(i, Simplenote.INTENT_PREFERENCES);                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 608                  return true;                                                                                      </span>
<span class="9113898153178193870" onmouseenter="enter('9113898153178193870');" onmouseout="out('9113898153178193870');" style=""> 609              case R.id.menu_sign_in:                                                                               </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 610                  startLoginActivity(true);                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 611                  return true;                                                                                      </span>
<span class="-855077672367140539" onmouseenter="enter('-855077672367140539');" onmouseout="out('-855077672367140539');" style=""> 612              case R.id.menu_edit_tags:                                                                             </span>
<span class="8980754981490018045" onmouseenter="enter('8980754981490018045');" onmouseout="out('8980754981490018045');" style=""> 613                  Intent editTagsIntent = new Intent(this, TagsListActivity.class);                                 </span>

<span class="-5547463818899609309" onmouseenter="enter('-5547463818899609309');" onmouseout="out('-5547463818899609309');" style=""> 614                  startActivity(editTagsIntent);                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 615                  return true;                                                                                      </span>
<span class="7048818913276612681" onmouseenter="enter('7048818913276612681');" onmouseout="out('7048818913276612681');" style=""> 616              case R.id.menu_create_note:                                                                           </span>
<span class="9206467485691664132" onmouseenter="enter('9206467485691664132');" onmouseout="out('9206467485691664132');" style=""> 617                  getNoteListFragment().addNote();                                                                  </span>
<span class="3019301613478372595" onmouseenter="enter('3019301613478372595');" onmouseout="out('3019301613478372595');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 618 -                mTracker.sendEvent(&quot;note&quot;, &quot;create_note&quot;, &quot;action_bar_button&quot;, null);                             </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 619 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 620 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 621 +                                .setCategory(&quot;note&quot;)                                                              </span>
<span class="203363614289146892" onmouseenter="enter('203363614289146892');" onmouseout="out('203363614289146892');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 622 +                                .setAction(&quot;create_note&quot;)                                                         </span>
<span class="-5729747077358951321" onmouseenter="enter('-5729747077358951321');" onmouseout="out('-5729747077358951321');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 623 +                                .setLabel(&quot;action_bar_button&quot;)                                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 624 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 625 +                );                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 626                  return true;                                                                                      </span>
<span class="4712317589059090097" onmouseenter="enter('4712317589059090097');" onmouseout="out('4712317589059090097');" style=""> 627              case R.id.menu_share:                                                                                 </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 628                  if (mCurrentNote != null) {                                                                       </span>
<span class="-5295005974020567837" onmouseenter="enter('-5295005974020567837');" onmouseout="out('-5295005974020567837');" style=""> 629                      Intent shareIntent = new Intent(android.content.Intent.ACTION_SEND);                          </span>
<span class="5746492194121968101" onmouseenter="enter('5746492194121968101');" onmouseout="out('5746492194121968101');" style=""> 630                      shareIntent.setType(&quot;text/plain&quot;);                                                            </span>
<span class="-2769558504123011783" onmouseenter="enter('-2769558504123011783');" onmouseout="out('-2769558504123011783');" style=""> 631                      shareIntent.putExtra(android.content.Intent.EXTRA_TEXT, mCurrentNote.getContent());           </span>
<span class="7073775982354198335" onmouseenter="enter('7073775982354198335');" onmouseout="out('7073775982354198335');" style=""><abbr title=" 632                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note)));"> 632                      startActivity(Intent.createChooser(shareIntent, getResources().getString(R.string.share_note))ðŸ”µ</abbr></span>
<span class="968525842801100797" onmouseenter="enter('968525842801100797');" onmouseout="out('968525842801100797');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 633 -                    mTracker.sendEvent(&quot;note&quot;, &quot;shared_note&quot;, &quot;action_bar_share_button&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 634 +                    mTracker.send(                                                                                </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 635 +                            new HitBuilders.EventBuilder()                                                        </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 636 +                                    .setCategory(&quot;note&quot;)                                                          </span>
<span class="2679386718058736721" onmouseenter="enter('2679386718058736721');" onmouseout="out('2679386718058736721');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 637 +                                    .setAction(&quot;shared_note&quot;)                                                     </span>
<span class="-1410195237862732008" onmouseenter="enter('-1410195237862732008');" onmouseout="out('-1410195237862732008');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 638 +                                    .setLabel(&quot;action_bar_share_button&quot;)                                          </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 639 +                                    .build()                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 640 +                    );                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 641                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 642                  return true;                                                                                      </span>
<span class="6443133868746637198" onmouseenter="enter('6443133868746637198');" onmouseout="out('6443133868746637198');" style=""> 643              case R.id.menu_delete:                                                                                </span>
<span class="7916587082629358136" onmouseenter="enter('7916587082629358136');" onmouseout="out('7916587082629358136');" style=""> 644                  if (mNoteEditorFragment != null) {                                                                </span>
<span class="7093674290752974131" onmouseenter="enter('7093674290752974131');" onmouseout="out('7093674290752974131');" style=""> 645                      if (mCurrentNote != null) {                                                                   </span>
<span class="-4745136965987346636" onmouseenter="enter('-4745136965987346636');" onmouseout="out('-4745136965987346636');" style=""> 646                          mCurrentNote.setDeleted(!mCurrentNote.isDeleted());                                       </span>
<span class="-7117651312989067885" onmouseenter="enter('-7117651312989067885');" onmouseout="out('-7117651312989067885');" style=""> 647                          mCurrentNote.setModificationDate(Calendar.getInstance());                                 </span>
<span class="-4427611413925545596" onmouseenter="enter('-4427611413925545596');" onmouseout="out('-4427611413925545596');" style=""> 648                          mCurrentNote.save();                                                                      </span>
<span  style=""> 649                                                                                                                    </span>
<span class="2660251945939878851" onmouseenter="enter('2660251945939878851');" onmouseout="out('2660251945939878851');" style=""> 650                          if (mCurrentNote.isDeleted()) {                                                           </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 651                              List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                </span>
<span class="-2287309464627068579" onmouseenter="enter('-2287309464627068579');" onmouseout="out('-2287309464627068579');" style=""> 652                              deletedNoteIds.add(mCurrentNote.getSimperiumKey());                                   </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 653                              mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                 </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 654                              mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);        </span>
<span class="3418182482425351843" onmouseenter="enter('3418182482425351843');" onmouseout="out('3418182482425351843');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 655 -                            mTracker.sendEvent(&quot;note&quot;, &quot;deleted_note&quot;, &quot;overflow_menu&quot;, null);                    </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 656 +                            mTracker.send(                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 657 +                                    new HitBuilders.EventBuilder()                                                </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 658 +                                            .setCategory(&quot;note&quot;)                                                  </span>
<span class="4820706573643207865" onmouseenter="enter('4820706573643207865');" onmouseout="out('4820706573643207865');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 659 +                                            .setAction(&quot;deleted_note&quot;)                                            </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 660 +                                            .setLabel(&quot;overflow_menu&quot;)                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 661 +                                            .build()                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 662 +                            );                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 663                          } else {                                                                                  </span>
<span class="-6470253339366181468" onmouseenter="enter('-6470253339366181468');" onmouseout="out('-6470253339366181468');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 664 -                            mTracker.sendEvent(&quot;note&quot;, &quot;restored_note&quot;, &quot;overflow_menu&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 665 +                            mTracker.send(                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 666 +                                    new HitBuilders.EventBuilder()                                                </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 667 +                                            .setCategory(&quot;note&quot;)                                                  </span>
<span class="2059499498727930378" onmouseenter="enter('2059499498727930378');" onmouseout="out('2059499498727930378');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 668 +                                            .setAction(&quot;restored_note&quot;)                                           </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 669 +                                            .setLabel(&quot;overflow_menu&quot;)                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 670 +                                            .build()                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 671 +                            );                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 672                          }                                                                                         </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 673                          showDetailPlaceholder();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674                      }                                                                                             </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 675                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 676                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 677                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 678                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680                  }                                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 681                  return true;                                                                                      </span>
<span class="2367097415264446974" onmouseenter="enter('2367097415264446974');" onmouseout="out('2367097415264446974');" style=""> 682              case R.id.menu_empty_trash:                                                                           </span>
<span class="7210818405263904453" onmouseenter="enter('7210818405263904453');" onmouseout="out('7210818405263904453');" style=""> 683                  AlertDialog.Builder alert = new AlertDialog.Builder(this);                                        </span>
<span  style=""> 684                                                                                                                    </span>
<span class="9017976446251996611" onmouseenter="enter('9017976446251996611');" onmouseout="out('9017976446251996611');" style=""> 685                  alert.setTitle(R.string.empty_trash);                                                             </span>
<span class="2509650275673485757" onmouseenter="enter('2509650275673485757');" onmouseout="out('2509650275673485757');" style=""> 686                  alert.setMessage(R.string.confirm_empty_trash);                                                   </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 687                  alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {                     </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 688                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="5384239390143434479" onmouseenter="enter('5384239390143434479');" onmouseout="out('5384239390143434479');" style=""> 689                          new emptyTrashTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);                   </span>
<span class="-7333325933812980963" onmouseenter="enter('-7333325933812980963');" onmouseout="out('-7333325933812980963');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 690 -                        mTracker.sendEvent(&quot;note&quot;, &quot;trash_emptied&quot;, &quot;overflow_menu&quot;, null);                       </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 691 +                        mTracker.send(                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 692 +                                new HitBuilders.EventBuilder()                                                    </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 693 +                                        .setCategory(&quot;note&quot;)                                                      </span>
<span class="-2680943831319396023" onmouseenter="enter('-2680943831319396023');" onmouseout="out('-2680943831319396023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 694 +                                        .setAction(&quot;trash_emptied&quot;)                                               </span>
<span class="-5770379922761975102" onmouseenter="enter('-5770379922761975102');" onmouseout="out('-5770379922761975102');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 695 +                                        .setLabel(&quot;overflow_menu&quot;)                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 696 +                                        .build()                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 697 +                        );                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 699                  });                                                                                               </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 700                  alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 701                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 702                          // Do nothing, just closing the dialog                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 704                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 705                  alert.show();                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 706                  return true;                                                                                      </span>
<span class="4538874991877816092" onmouseenter="enter('4538874991877816092');" onmouseout="out('4538874991877816092');" style=""> 707              case android.R.id.home:                                                                               </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 708                  invalidateOptionsMenu();                                                                          </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 709                  return true;                                                                                      </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 710              default:                                                                                              </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 711                  return super.onOptionsItemSelected(item);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 712          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 713      }                                                                                                             </span>
<span  style=""> 714                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 715      /**                                                                                                           </span>
<span class="-6314262007317444042" onmouseenter="enter('-6314262007317444042');" onmouseout="out('-6314262007317444042');" style=""> 716       * Callback method from {@link NoteListFragment.Callbacks} indicating that                                    </span>
<span class="-1392768811084844083" onmouseenter="enter('-1392768811084844083');" onmouseout="out('-1392768811084844083');" style=""> 717       * the item with the given ID was selected.                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 718       */                                                                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 719      @Override                                                                                                     </span>
<span class="7742514430431223260" onmouseenter="enter('7742514430431223260');" onmouseout="out('7742514430431223260');" style=""> 720      public void onNoteSelected(String noteID, boolean isNew, String matchOffsets) {                               </span>
<span  style=""> 721                                                                                                                    </span>
<span class="3596143636623319192" onmouseenter="enter('3596143636623319192');" onmouseout="out('3596143636623319192');" style=""> 722          if (!isLargeScreenLandscape()) {                                                                          </span>
<span class="-1388745226309465704" onmouseenter="enter('-1388745226309465704');" onmouseout="out('-1388745226309465704');" style=""> 723              // Launch the editor activity                                                                         </span>
<span class="5412295681046414081" onmouseenter="enter('5412295681046414081');" onmouseout="out('5412295681046414081');" style=""> 724              Bundle arguments = new Bundle();                                                                      </span>
<span class="1708886518598226965" onmouseenter="enter('1708886518598226965');" onmouseout="out('1708886518598226965');" style=""> 725              arguments.putString(NoteEditorFragment.ARG_ITEM_ID, noteID);                                          </span>
<span class="2031963465368190626" onmouseenter="enter('2031963465368190626');" onmouseout="out('2031963465368190626');" style=""> 726              arguments.putBoolean(NoteEditorFragment.ARG_NEW_NOTE, isNew);                                         </span>
<span  style=""> 727                                                                                                                    </span>
<span class="2077738191995360697" onmouseenter="enter('2077738191995360697');" onmouseout="out('2077738191995360697');" style=""> 728              if (matchOffsets != null)                                                                             </span>
<span class="2157017611090545034" onmouseenter="enter('2157017611090545034');" onmouseout="out('2157017611090545034');" style=""> 729                  arguments.putString(NoteEditorFragment.ARG_MATCH_OFFSETS, matchOffsets);                          </span>
<span  style=""> 730                                                                                                                    </span>
<span class="270518683901143473" onmouseenter="enter('270518683901143473');" onmouseout="out('270518683901143473');" style=""> 731              Intent editNoteIntent = new Intent(this, NoteEditorActivity.class);                                   </span>
<span class="2878079595016841491" onmouseenter="enter('2878079595016841491');" onmouseout="out('2878079595016841491');" style=""> 732              editNoteIntent.putExtras(arguments);                                                                  </span>
<span class="6501331646498400670" onmouseenter="enter('6501331646498400670');" onmouseout="out('6501331646498400670');" style=""> 733              startActivityForResult(editNoteIntent, Simplenote.INTENT_EDIT_NOTE);                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 734          } else {                                                                                                  </span>
<span class="-2385996102333105440" onmouseenter="enter('-2385996102333105440');" onmouseout="out('-2385996102333105440');" style=""> 735              mNoteEditorFragment.setIsNewNote(isNew);                                                              </span>
<span class="3345589308739510039" onmouseenter="enter('3345589308739510039');" onmouseout="out('3345589308739510039');" style=""> 736              mNoteEditorFragment.setNote(noteID, matchOffsets);                                                    </span>
<span class="-1012320059204027610" onmouseenter="enter('-1012320059204027610');" onmouseout="out('-1012320059204027610');" style=""> 737              getNoteListFragment().setNoteSelected(noteID);                                                        </span>
<span class="-4573973471812821984" onmouseenter="enter('-4573973471812821984');" onmouseout="out('-4573973471812821984');" style=""> 738              if (mSearchView != null &amp;&amp; mSearchView.getQuery().length() &gt; 0) {                                     </span>
<span class="5871965300293528722" onmouseenter="enter('5871965300293528722');" onmouseout="out('5871965300293528722');" style=""> 739                  mTabletSearchQuery = mSearchView.getQuery().toString();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740              }                                                                                                     </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 741              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742          }                                                                                                         </span>
<span  style=""> 743                                                                                                                    </span>
<span class="-4861717601697404249" onmouseenter="enter('-4861717601697404249');" onmouseout="out('-4861717601697404249');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 744 -        mTracker.sendEvent(&quot;note&quot;, &quot;viewed_note&quot;, &quot;note_list_row_tap&quot;, null);                                     </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 745 +        mTracker.send(                                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 746 +                new HitBuilders.EventBuilder()                                                                    </span>
<span class="7688062753755212272" onmouseenter="enter('7688062753755212272');" onmouseout="out('7688062753755212272');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 747 +                        .setCategory(&quot;note&quot;)                                                                      </span>
<span class="6000477303386997874" onmouseenter="enter('6000477303386997874');" onmouseout="out('6000477303386997874');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 748 +                        .setAction(&quot;viewed_note&quot;)                                                                 </span>
<span class="1163867920053876079" onmouseenter="enter('1163867920053876079');" onmouseout="out('1163867920053876079');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 749 +                        .setLabel(&quot;note_list_row_tap&quot;)                                                            </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 750 +                        .build()                                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 751 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 752      }                                                                                                             </span>
<span  style=""> 753                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 754      @Override                                                                                                     </span>
<span class="5984220864459059356" onmouseenter="enter('5984220864459059356');" onmouseout="out('5984220864459059356');" style=""> 755      public void onUserCreated(User user) {                                                                        </span>
<span class="6216301296315928074" onmouseenter="enter('6216301296315928074');" onmouseout="out('6216301296315928074');" style=""> 756          // New account created                                                                                    </span>
<span class="3344680670544582958" onmouseenter="enter('3344680670544582958');" onmouseout="out('3344680670544582958');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 757 -        mTracker.sendEvent(&quot;user&quot;, &quot;new_account_created&quot;, &quot;account_created_from_login_activity&quot;, null);           </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 758 +        mTracker.send(                                                                                            </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 759 +                new HitBuilders.EventBuilder()                                                                    </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 760 +                        .setCategory(&quot;user&quot;)                                                                      </span>
<span class="5573993830327845759" onmouseenter="enter('5573993830327845759');" onmouseout="out('5573993830327845759');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 761 +                        .setAction(&quot;new_account_created&quot;)                                                         </span>
<span class="4433740048768960557" onmouseenter="enter('4433740048768960557');" onmouseout="out('4433740048768960557');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 762 +                        .setLabel(&quot;account_created_from_login_activity&quot;)                                          </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 763 +                        .build()                                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 764 +        );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 765      }                                                                                                             </span>
<span  style=""> 766                                                                                                                    </span>
<span class="-5342682213111723277" onmouseenter="enter('-5342682213111723277');" onmouseout="out('-5342682213111723277');" style=""> 767      public void onUserStatusChange(User.Status status) {                                                          </span>
<span class="1723944522238068006" onmouseenter="enter('1723944522238068006');" onmouseout="out('1723944522238068006');" style=""> 768          switch (status) {                                                                                         </span>
<span  style=""> 769                                                                                                                    </span>
<span class="8617426414371349217" onmouseenter="enter('8617426414371349217');" onmouseout="out('8617426414371349217');" style=""> 770              // successfully used access token to connect to simperium bucket                                      </span>
<span class="-4295594850506419025" onmouseenter="enter('-4295594850506419025');" onmouseout="out('-4295594850506419025');" style=""> 771              case AUTHORIZED:                                                                                      </span>
<span class="6283897532029383803" onmouseenter="enter('6283897532029383803');" onmouseout="out('6283897532029383803');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 772 -                mTracker.sendEvent(&quot;user&quot;, &quot;signed_in&quot;, &quot;signed_in_from_login_activity&quot;, null);                   </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 773 +                mTracker.send(                                                                                    </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 774 +                        new HitBuilders.EventBuilder()                                                            </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 775 +                                .setCategory(&quot;user&quot;)                                                              </span>
<span class="5534638609849263164" onmouseenter="enter('5534638609849263164');" onmouseout="out('5534638609849263164');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 776 +                                .setAction(&quot;signed_in&quot;)                                                           </span>
<span class="-5175523424458894281" onmouseenter="enter('-5175523424458894281');" onmouseout="out('-5175523424458894281');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 777 +                                .setLabel(&quot;signed_in_from_login_activity&quot;)                                        </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 778 +                                .build()                                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 779 +                );                                                                                                </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 780                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 781                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 782                      public void run() {                                                                           </span>
<span class="2831398359762849396" onmouseenter="enter('2831398359762849396');" onmouseout="out('2831398359762849396');" style=""> 783                          if (!mNotesBucket.hasChangeVersion()) {                                                   </span>
<span class="3837264535531857061" onmouseenter="enter('3837264535531857061');" onmouseout="out('3837264535531857061');" style=""> 784                              setProgressBarIndeterminateVisibility(true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 785                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 786                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 787                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 788                  break;                                                                                            </span>
<span  style=""> 789                                                                                                                    </span>
<span class="-3327185781300426801" onmouseenter="enter('-3327185781300426801');" onmouseout="out('-3327185781300426801');" style=""> 790              // NOT_AUTHORIZED means we attempted to connect but the token was not valid                           </span>
<span class="6409989715177917623" onmouseenter="enter('6409989715177917623');" onmouseout="out('6409989715177917623');" style=""> 791              case NOT_AUTHORIZED:                                                                                  </span>
<span class="-4717848982590896956" onmouseenter="enter('-4717848982590896956');" onmouseout="out('-4717848982590896956');" style=""> 792                  runOnUiThread(new Runnable() {                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 793                      @Override                                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 794                      public void run() {                                                                           </span>
<span class="585122820401049178" onmouseenter="enter('585122820401049178');" onmouseout="out('585122820401049178');" style=""> 795                          startLoginActivity(true);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 796                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 797                  });                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 798                  break;                                                                                            </span>
<span  style=""> 799                                                                                                                    </span>
<span class="4125340508304278576" onmouseenter="enter('4125340508304278576');" onmouseout="out('4125340508304278576');" style=""><abbr title=" 800              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t do anything"> 800              // Default starting state of User, don&#x27;t do anything we allow use of app while not signed in so don&#x27;t ðŸ”µ</abbr></span>
<span class="1143803050270343828" onmouseenter="enter('1143803050270343828');" onmouseout="out('1143803050270343828');" style=""> 801              case UNKNOWN:                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 802                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 804      }                                                                                                             </span>
<span  style=""> 805                                                                                                                    </span>
<span class="-6803189970611374442" onmouseenter="enter('-6803189970611374442');" onmouseout="out('-6803189970611374442');" style=""> 806      public void startLoginActivity(boolean signInFirst) {                                                         </span>
<span class="6317050810678326900" onmouseenter="enter('6317050810678326900');" onmouseout="out('6317050810678326900');" style=""> 807          Intent loginIntent = new Intent(this, LoginActivity.class);                                               </span>
<span class="-5024528895108318875" onmouseenter="enter('-5024528895108318875');" onmouseout="out('-5024528895108318875');" style=""> 808          if (signInFirst)                                                                                          </span>
<span class="-4906141763228032702" onmouseenter="enter('-4906141763228032702');" onmouseout="out('-4906141763228032702');" style=""> 809              loginIntent.putExtra(LoginActivity.EXTRA_SIGN_IN_FIRST, true);                                        </span>
<span class="-1745782676004839840" onmouseenter="enter('-1745782676004839840');" onmouseout="out('-1745782676004839840');" style=""> 810          startActivityForResult(loginIntent, Simperium.SIGNUP_SIGNIN_REQUEST);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 811      }                                                                                                             </span>
<span  style=""> 812                                                                                                                    </span>
<span  style=""> 813                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 814      @Override                                                                                                     </span>
<span class="-7749792035646111440" onmouseenter="enter('-7749792035646111440');" onmouseout="out('-7749792035646111440');" style=""> 815      protected void onActivityResult(int requestCode, int resultCode, Intent data) {                               </span>
<span class="5501674892079343196" onmouseenter="enter('5501674892079343196');" onmouseout="out('5501674892079343196');" style=""> 816          super.onActivityResult(requestCode, resultCode, data);                                                    </span>
<span class="1305190802688529943" onmouseenter="enter('1305190802688529943');" onmouseout="out('1305190802688529943');" style=""> 817          switch (requestCode) {                                                                                    </span>
<span class="-3298577710774892169" onmouseenter="enter('-3298577710774892169');" onmouseout="out('-3298577710774892169');" style=""> 818              case Simplenote.INTENT_PREFERENCES:                                                                   </span>
<span class="812731581131305592" onmouseenter="enter('812731581131305592');" onmouseout="out('812731581131305592');" style=""> 819                  if (ThemeUtils.themeWasChanged(data)) {                                                           </span>
<span class="7694066163383429592" onmouseenter="enter('7694066163383429592');" onmouseout="out('7694066163383429592');" style=""> 820                      // Restart this activity to apply the new theme                                               </span>
<span class="6732851197747614938" onmouseenter="enter('6732851197747614938');" onmouseout="out('6732851197747614938');" style=""> 821                      recreate();                                                                                   </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 822                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823                  }                                                                                                 </span>
<span class="-8159555652293597265" onmouseenter="enter('-8159555652293597265');" onmouseout="out('-8159555652293597265');" style=""><abbr title=" 824                  // nbradbury - refresh note list when user returns from preferences (in case they changed anything)"> 824                  // nbradbury - refresh note list when user returns from preferences (in case they changed anythingðŸ”µ</abbr></span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 825                  invalidateOptionsMenu();                                                                          </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 826                  NoteListFragment fragment = getNoteListFragment();                                                </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 827                  if (fragment != null) {                                                                           </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 828                      fragment.getPrefs();                                                                          </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 829                      fragment.refreshList();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 830                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 831                  break;                                                                                            </span>
<span class="3847681337091375342" onmouseenter="enter('3847681337091375342');" onmouseout="out('3847681337091375342');" style=""> 832              case Simplenote.INTENT_EDIT_NOTE:                                                                     </span>
<span class="9168804632000066987" onmouseenter="enter('9168804632000066987');" onmouseout="out('9168804632000066987');" style=""> 833                  if (resultCode == RESULT_OK &amp;&amp; data != null &amp;&amp; data.hasExtra(Simplenote.DELETED_NOTE_ID)) {       </span>
<span class="927365151827928440" onmouseenter="enter('927365151827928440');" onmouseout="out('927365151827928440');" style=""> 834                      String noteId = data.getStringExtra(Simplenote.DELETED_NOTE_ID);                              </span>
<span class="3431348253079949637" onmouseenter="enter('3431348253079949637');" onmouseout="out('3431348253079949637');" style=""> 835                      if (noteId != null) {                                                                         </span>
<span class="-8294752795408722926" onmouseenter="enter('-8294752795408722926');" onmouseout="out('-8294752795408722926');" style=""> 836                          List&lt;String&gt; deletedNoteIds = new ArrayList&lt;String&gt;();                                    </span>
<span class="-5483116729520331755" onmouseenter="enter('-5483116729520331755');" onmouseout="out('-5483116729520331755');" style=""> 837                          deletedNoteIds.add(noteId);                                                               </span>
<span class="-3802417997600421422" onmouseenter="enter('-3802417997600421422');" onmouseout="out('-3802417997600421422');" style=""> 838                          mUndoBarController.setDeletedNoteIds(deletedNoteIds);                                     </span>
<span class="-1852982348762838863" onmouseenter="enter('-1852982348762838863');" onmouseout="out('-1852982348762838863');" style=""> 839                          mUndoBarController.showUndoBar(false, getString(R.string.note_deleted), null);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 840                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 841                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 842                  break;                                                                                            </span>
<span class="-5931675068594212515" onmouseenter="enter('-5931675068594212515');" onmouseout="out('-5931675068594212515');" style=""> 843              case Simperium.SIGNUP_SIGNIN_REQUEST:                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 844                  invalidateOptionsMenu();                                                                          </span>
<span class="623750950522197910" onmouseenter="enter('623750950522197910');" onmouseout="out('623750950522197910');" style=""> 845                  if (resultCode == Activity.RESULT_CANCELED &amp;&amp; userAuthenticationIsInvalid()) {                    </span>
<span class="4919593796336381990" onmouseenter="enter('4919593796336381990');" onmouseout="out('4919593796336381990');" style=""> 846                      finish();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847                  }                                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 848                  break;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 849          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 850      }                                                                                                             </span>
<span  style=""> 851                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 852      @Override                                                                                                     </span>
<span class="762507775943356059" onmouseenter="enter('762507775943356059');" onmouseout="out('762507775943356059');" style=""> 853      public void onUndo(Parcelable p) {                                                                            </span>
<span class="7485294654813768924" onmouseenter="enter('7485294654813768924');" onmouseout="out('7485294654813768924');" style=""> 854          List&lt;String&gt; deletedNoteIds = mUndoBarController.getDeletedNoteIds();                                     </span>
<span class="468525913924042816" onmouseenter="enter('468525913924042816');" onmouseout="out('468525913924042816');" style=""> 855          if (mUndoBarController != null &amp;&amp; deletedNoteIds != null) {                                               </span>
<span  style=""> 856                                                                                                                    </span>
<span class="7095248278585623794" onmouseenter="enter('7095248278585623794');" onmouseout="out('7095248278585623794');" style=""> 857              for (int i=0; i &lt; deletedNoteIds.size(); i++) {                                                       </span>
<span class="-5639297680990913115" onmouseenter="enter('-5639297680990913115');" onmouseout="out('-5639297680990913115');" style=""> 858                  Note deletedNote = null;                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 859                  try {                                                                                             </span>
<span class="7692176517306848993" onmouseenter="enter('7692176517306848993');" onmouseout="out('7692176517306848993');" style=""> 860                      deletedNote = mNotesBucket.get(deletedNoteIds.get(i));                                        </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style=""> 861                  } catch (BucketObjectMissingException e) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 862                      return;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 863                  }                                                                                                 </span>
<span class="-2657460478779894310" onmouseenter="enter('-2657460478779894310');" onmouseout="out('-2657460478779894310');" style=""> 864                  if (deletedNote != null) {                                                                        </span>
<span class="-8029044086660829082" onmouseenter="enter('-8029044086660829082');" onmouseout="out('-8029044086660829082');" style=""> 865                      deletedNote.setDeleted(false);                                                                </span>
<span class="-4172634029039166595" onmouseenter="enter('-4172634029039166595');" onmouseout="out('-4172634029039166595');" style=""> 866                      deletedNote.setModificationDate(Calendar.getInstance());                                      </span>
<span class="8993472277931511914" onmouseenter="enter('8993472277931511914');" onmouseout="out('8993472277931511914');" style=""> 867                      deletedNote.save();                                                                           </span>
<span class="5851756112360873597" onmouseenter="enter('5851756112360873597');" onmouseout="out('5851756112360873597');" style=""> 868                      NoteListFragment fragment = getNoteListFragment();                                            </span>
<span class="8682461618194216316" onmouseenter="enter('8682461618194216316');" onmouseout="out('8682461618194216316');" style=""> 869                      if (fragment != null) {                                                                       </span>
<span class="5672913180267552216" onmouseenter="enter('5672913180267552216');" onmouseout="out('5672913180267552216');" style=""> 870                          fragment.getPrefs();                                                                      </span>
<span class="909156545280010623" onmouseenter="enter('909156545280010623');" onmouseout="out('909156545280010623');" style=""> 871                          fragment.refreshList();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 872                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 873                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 874              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 876      }                                                                                                             </span>
<span  style=""> 877                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 878      @Override                                                                                                     </span>
<span class="3374366648111366690" onmouseenter="enter('3374366648111366690');" onmouseout="out('3374366648111366690');" style=""> 879      protected void onPostCreate(Bundle savedInstanceState) {                                                      </span>
<span class="-6145256060188919238" onmouseenter="enter('-6145256060188919238');" onmouseout="out('-6145256060188919238');" style=""> 880          super.onPostCreate(savedInstanceState);                                                                   </span>
<span class="2024230301387937162" onmouseenter="enter('2024230301387937162');" onmouseout="out('2024230301387937162');" style=""> 881          // Sync the toggle state after onRestoreInstanceState has occurred.                                       </span>
<span class="2814317172533870177" onmouseenter="enter('2814317172533870177');" onmouseout="out('2814317172533870177');" style=""> 882          mDrawerToggle.syncState();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 883      }                                                                                                             </span>
<span  style=""> 884                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 885      @Override                                                                                                     </span>
<span class="2483214837331013305" onmouseenter="enter('2483214837331013305');" onmouseout="out('2483214837331013305');" style=""> 886      public void onConfigurationChanged(Configuration newConfig) {                                                 </span>
<span class="-1478537389163372238" onmouseenter="enter('-1478537389163372238');" onmouseout="out('-1478537389163372238');" style=""> 887          super.onConfigurationChanged(newConfig);                                                                  </span>
<span  style=""> 888                                                                                                                    </span>
<span class="5218172557854990536" onmouseenter="enter('5218172557854990536');" onmouseout="out('5218172557854990536');" style=""> 889          mDrawerToggle.onConfigurationChanged(newConfig);                                                          </span>
<span  style=""> 890                                                                                                                    </span>
<span class="-1856438057182142990" onmouseenter="enter('-1856438057182142990');" onmouseout="out('-1856438057182142990');" style=""> 891          if (mIsLargeScreen) {                                                                                     </span>
<span class="-5623408656820273447" onmouseenter="enter('-5623408656820273447');" onmouseout="out('-5623408656820273447');" style=""> 892              if (newConfig.orientation == Configuration.ORIENTATION_LANDSCAPE) {                                   </span>
<span class="5995425270035473507" onmouseenter="enter('5995425270035473507');" onmouseout="out('5995425270035473507');" style=""> 893                  // Add the editor fragment                                                                        </span>
<span class="-8221482093447747927" onmouseenter="enter('-8221482093447747927');" onmouseout="out('-8221482093447747927');" style=""> 894                  mIsLandscape = true;                                                                              </span>
<span class="-8998188607286920103" onmouseenter="enter('-8998188607286920103');" onmouseout="out('-8998188607286920103');" style=""> 895                  addEditorFragment();                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 896                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8402437466085581571" onmouseenter="enter('-8402437466085581571');" onmouseout="out('-8402437466085581571');" style=""> 897                      mNoteListFragment.setActivateOnItemClick(true);                                               </span>
<span class="6623675967838405670" onmouseenter="enter('6623675967838405670');" onmouseout="out('6623675967838405670');" style=""> 898                      mNoteListFragment.setDividerVisible(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 899                  }                                                                                                 </span>
<span class="-4082842857355623983" onmouseenter="enter('-4082842857355623983');" onmouseout="out('-4082842857355623983');" style=""> 900                  // Select the current note on a tablet                                                            </span>
<span class="1867292130225576045" onmouseenter="enter('1867292130225576045');" onmouseout="out('1867292130225576045');" style=""> 901                  if (mCurrentNote != null)                                                                         </span>
<span class="2030021336147856741" onmouseenter="enter('2030021336147856741');" onmouseout="out('2030021336147856741');" style=""> 902                      onNoteSelected(mCurrentNote.getSimperiumKey(), false, null);                                  </span>
<span class="4391598042186419731" onmouseenter="enter('4391598042186419731');" onmouseout="out('4391598042186419731');" style=""> 903                  else {                                                                                            </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 904                      mNoteEditorFragment.setPlaceholderVisible(true);                                              </span>
<span class="2049445060294344211" onmouseenter="enter('2049445060294344211');" onmouseout="out('2049445060294344211');" style=""> 905                      mNoteListFragment.getListView().clearChoices();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 906                  }                                                                                                 </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 907                  invalidateOptionsMenu();                                                                          </span>
<span class="-546159024041667395" onmouseenter="enter('-546159024041667395');" onmouseout="out('-546159024041667395');" style=""><abbr title=" 908              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null) {"> 908              } else if (newConfig.orientation == Configuration.ORIENTATION_PORTRAIT &amp;&amp; mNoteEditorFragment != null)ðŸ”µ</abbr></span>
<span class="-2726557162347062573" onmouseenter="enter('-2726557162347062573');" onmouseout="out('-2726557162347062573');" style=""> 909                  // Remove the editor fragment when rotating back to portrait                                      </span>
<span class="7208828032391967609" onmouseenter="enter('7208828032391967609');" onmouseout="out('7208828032391967609');" style=""> 910                  mIsLandscape = false;                                                                             </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 911                  mCurrentNote = null;                                                                              </span>
<span class="-4907149386838242752" onmouseenter="enter('-4907149386838242752');" onmouseout="out('-4907149386838242752');" style=""> 912                  if (mNoteListFragment != null) {                                                                  </span>
<span class="-8694175362291534530" onmouseenter="enter('-8694175362291534530');" onmouseout="out('-8694175362291534530');" style=""> 913                      mNoteListFragment.setActivateOnItemClick(false);                                              </span>
<span class="-1258633091247872618" onmouseenter="enter('-1258633091247872618');" onmouseout="out('-1258633091247872618');" style=""> 914                      mNoteListFragment.setDividerVisible(false);                                                   </span>
<span class="-4826142201443827107" onmouseenter="enter('-4826142201443827107');" onmouseout="out('-4826142201443827107');" style=""> 915                      mNoteListFragment.setActivatedPosition(ListView.INVALID_POSITION);                            </span>
<span class="7446402448619312239" onmouseenter="enter('7446402448619312239');" onmouseout="out('7446402448619312239');" style=""> 916                      mNoteListFragment.refreshList();                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 917                  }                                                                                                 </span>
<span class="6812838368076636495" onmouseenter="enter('6812838368076636495');" onmouseout="out('6812838368076636495');" style=""> 918                  FragmentManager fm = getFragmentManager();                                                        </span>
<span class="6820352517506762961" onmouseenter="enter('6820352517506762961');" onmouseout="out('6820352517506762961');" style=""> 919                  FragmentTransaction ft = fm.beginTransaction();                                                   </span>
<span class="-2521978822270917917" onmouseenter="enter('-2521978822270917917');" onmouseout="out('-2521978822270917917');" style=""> 920                  ft.remove(mNoteEditorFragment);                                                                   </span>
<span class="-558791594125048917" onmouseenter="enter('-558791594125048917');" onmouseout="out('-558791594125048917');" style=""> 921                  mNoteEditorFragment = null;                                                                       </span>
<span class="1441024968693628757" onmouseenter="enter('1441024968693628757');" onmouseout="out('1441024968693628757');" style=""> 922                  ft.commitAllowingStateLoss();                                                                     </span>
<span class="-1978297046527251554" onmouseenter="enter('-1978297046527251554');" onmouseout="out('-1978297046527251554');" style=""> 923                  fm.executePendingTransactions();                                                                  </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 924                  invalidateOptionsMenu();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 925              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 926          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 927      }                                                                                                             </span>
<span  style=""> 928                                                                                                                    </span>
<span class="8962513015137262044" onmouseenter="enter('8962513015137262044');" onmouseout="out('8962513015137262044');" style=""> 929      public void checkEmptyListText(boolean isSearch) {                                                            </span>
<span class="-2517753851373422468" onmouseenter="enter('-2517753851373422468');" onmouseout="out('-2517753851373422468');" style=""> 930          if (isSearch) {                                                                                           </span>
<span class="8711388482836291674" onmouseenter="enter('8711388482836291674');" onmouseout="out('8711388482836291674');" style=""><abbr title=" 931              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;&quot;);"> 931              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_found) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 932              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="424418966349038289" onmouseenter="enter('424418966349038289');" onmouseout="out('424418966349038289');" style=""> 933          } else if (mDrawerList.getCheckedItemPosition() == TRASH_SELECTED_ID) {                                   </span>
<span class="4070756582382346769" onmouseenter="enter('4070756582382346769');" onmouseout="out('4070756582382346769');" style=""><abbr title=" 934              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;&quot;);"> 934              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.trash_is_empty) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="6910320161753486525" onmouseenter="enter('6910320161753486525');" onmouseout="out('6910320161753486525');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 935 -            EasyTracker.getTracker().sendEvent(&quot;note&quot;, &quot;viewed_trash&quot;, &quot;trash_filter_selected&quot;, null);            </span>
<span class="-6284125578603942393" onmouseenter="enter('-6284125578603942393');" onmouseout="out('-6284125578603942393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 936 +            mTracker.send(                                                                                        </span>
<span class="4089558766919565524" onmouseenter="enter('4089558766919565524');" onmouseout="out('4089558766919565524');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 937 +                    new HitBuilders.EventBuilder()                                                                </span>
<span class="-3185696161128295026" onmouseenter="enter('-3185696161128295026');" onmouseout="out('-3185696161128295026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 938 +                            .setCategory(&quot;user&quot;)                                                                  </span>
<span class="7358311356460723849" onmouseenter="enter('7358311356460723849');" onmouseout="out('7358311356460723849');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 939 +                            .setAction(&quot;viewed_trash&quot;)                                                            </span>
<span class="-6195956401694955402" onmouseenter="enter('-6195956401694955402');" onmouseout="out('-6195956401694955402');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 940 +                            .setLabel(&quot;trash_filter_selected&quot;)                                                    </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 941 +                            .build()                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 942 +            );                                                                                                    </span>
<span class="-5116052312865242966" onmouseenter="enter('-5116052312865242966');" onmouseout="out('-5116052312865242966');" style=""> 943              getNoteListFragment().setEmptyListViewClickable(false);                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 944          } else {                                                                                                  </span>
<span class="-1144694782139838324" onmouseenter="enter('-1144694782139838324');" onmouseout="out('-1144694782139838324');" style=""><abbr title=" 945              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;br /&gt;&quot; + String.format(getString(R.string.why_not_create_one), &quot;&lt;u&gt;&quot;, &quot;&lt;/u&gt;&quot;));"> 945              getNoteListFragment().setEmptyListMessage(&quot;&lt;strong&gt;&quot; + getString(R.string.no_notes_here) + &quot;&lt;/strong&gt;&lt;ðŸ”µ</abbr></span>
<span class="-2105075955393304223" onmouseenter="enter('-2105075955393304223');" onmouseout="out('-2105075955393304223');" style=""> 946              getNoteListFragment().setEmptyListViewClickable(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 947          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 948      }                                                                                                             </span>
<span  style=""> 949                                                                                                                    </span>
<span class="-4360522647485930352" onmouseenter="enter('-4360522647485930352');" onmouseout="out('-4360522647485930352');" style=""> 950      public void showDetailPlaceholder() {                                                                         </span>
<span class="3251481195844047655" onmouseenter="enter('3251481195844047655');" onmouseout="out('3251481195844047655');" style=""> 951          if (isLargeScreenLandscape() &amp;&amp; mNoteEditorFragment != null) {                                            </span>
<span class="-5181900323120187710" onmouseenter="enter('-5181900323120187710');" onmouseout="out('-5181900323120187710');" style=""> 952              mCurrentNote = null;                                                                                  </span>
<span class="7491900787760380546" onmouseenter="enter('7491900787760380546');" onmouseout="out('7491900787760380546');" style=""> 953              mNoteEditorFragment.setPlaceholderVisible(true);                                                      </span>
<span class="5474321977084294719" onmouseenter="enter('5474321977084294719');" onmouseout="out('5474321977084294719');" style=""> 954              invalidateOptionsMenu();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 955          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 956      }                                                                                                             </span>
<span  style=""> 957                                                                                                                    </span>
<span class="6071641759140658277" onmouseenter="enter('6071641759140658277');" onmouseout="out('6071641759140658277');" style=""> 958      public void stopListeningToNotesBucket() {                                                                    </span>
<span class="2008002182357627642" onmouseenter="enter('2008002182357627642');" onmouseout="out('2008002182357627642');" style=""> 959          mNotesBucket.removeOnNetworkChangeListener(this);                                                         </span>
<span class="2978891141247635532" onmouseenter="enter('2978891141247635532');" onmouseout="out('2978891141247635532');" style=""> 960          mNotesBucket.removeOnSaveObjectListener(this);                                                            </span>
<span class="4767298685236990645" onmouseenter="enter('4767298685236990645');" onmouseout="out('4767298685236990645');" style=""> 961          mNotesBucket.removeOnDeleteObjectListener(this);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 962      }                                                                                                             </span>
<span  style=""> 963                                                                                                                    </span>
<span class="-8006266696598287275" onmouseenter="enter('-8006266696598287275');" onmouseout="out('-8006266696598287275');" style=""> 964      public void showUndoBarWithNoteIds(List&lt;String&gt; noteIds) {                                                    </span>
<span class="-799379608215028622" onmouseenter="enter('-799379608215028622');" onmouseout="out('-799379608215028622');" style=""> 965          if (mUndoBarController != null) {                                                                         </span>
<span class="-5419983456026332480" onmouseenter="enter('-5419983456026332480');" onmouseout="out('-5419983456026332480');" style=""> 966              mUndoBarController.setDeletedNoteIds(noteIds);                                                        </span>
<span class="1550275339317235025" onmouseenter="enter('1550275339317235025');" onmouseout="out('1550275339317235025');" style=""><abbr title=" 967              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIds.size(), noteIds.size()), null);"> 967              mUndoBarController.showUndoBar(false, getResources().getQuantityString(R.plurals.trashed_notes, noteIdðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 968          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 969      }                                                                                                             </span>
<span  style=""> 970                                                                                                                    </span>
<span class="-7993413860272074333" onmouseenter="enter('-7993413860272074333');" onmouseout="out('-7993413860272074333');" style=""> 971      private class emptyTrashTask extends AsyncTask&lt;Void, Void, Void&gt; {                                            </span>
<span  style=""> 972                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 973          @Override                                                                                                 </span>
<span class="-1950593919017494144" onmouseenter="enter('-1950593919017494144');" onmouseout="out('-1950593919017494144');" style=""> 974          protected Void doInBackground(Void... voids) {                                                            </span>
<span class="3295965893933298094" onmouseenter="enter('3295965893933298094');" onmouseout="out('3295965893933298094');" style=""> 975              Simplenote application = (Simplenote) getApplication();                                               </span>
<span class="8887150402623588548" onmouseenter="enter('8887150402623588548');" onmouseout="out('8887150402623588548');" style=""> 976              Bucket&lt;Note&gt; noteBucket = application.getNotesBucket();                                               </span>
<span class="7650250978515486262" onmouseenter="enter('7650250978515486262');" onmouseout="out('7650250978515486262');" style=""> 977              Query&lt;Note&gt; query = Note.allDeleted(noteBucket);                                                      </span>
<span class="9003398823791226689" onmouseenter="enter('9003398823791226689');" onmouseout="out('9003398823791226689');" style=""> 978              Bucket.ObjectCursor c = query.execute();                                                              </span>
<span class="7090462364644597234" onmouseenter="enter('7090462364644597234');" onmouseout="out('7090462364644597234');" style=""> 979              while (c.moveToNext()) {                                                                              </span>
<span class="7351652836317045687" onmouseenter="enter('7351652836317045687');" onmouseout="out('7351652836317045687');" style=""> 980                  c.getObject().delete();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 981              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 982              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 983          }                                                                                                         </span>
<span  style=""> 984                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 985          @Override                                                                                                 </span>
<span class="2295103304779241059" onmouseenter="enter('2295103304779241059');" onmouseout="out('2295103304779241059');" style=""> 986          protected void onPostExecute(Void nada) {                                                                 </span>
<span class="4150629353466780062" onmouseenter="enter('4150629353466780062');" onmouseout="out('4150629353466780062');" style=""> 987              showDetailPlaceholder();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 988          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989      }                                                                                                             </span>
<span  style=""> 990                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 991  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            