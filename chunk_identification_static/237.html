<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>237</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        abbr {
                          /* Here is the delay */
                          transition-delay:0s;
                        }
                    </style>
              </head>
              <body>
                <span style="height: 4vh">
                    237
                    <a href="236.html">prev</a>
                    <a href="238.html">next</a>
                    <a href="237_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_bd01ec244a4deb5017acbb8fcaa766701c0c8cac_common/src/main/java/org/broadleafcommerce/common/i18n/service/TranslationService.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;bd01ec244a4deb5017acbb8fcaa766701c0c8cac:common/src/main/java/org/broadleafcommerce/common/i18n/service/TranslationService.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;bd01ec244a4deb5017acbb8fcaa766701c0c8cac^1:common/src/main/java/org/broadleafcommerce/common/i18n/service/TranslationService.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;bd01ec244a4deb5017acbb8fcaa766701c0c8cac^2:common/src/main/java/org/broadleafcommerce/common/i18n/service/TranslationService.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;27fb8aeb76208048099aab14c546c94639b2a4ef:common/src/main/java/org/broadleafcommerce/common/i18n/service/TranslationService.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Common Libraries
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  * 
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 
  19 package org.broadleafcommerce.common.i18n.service;
  20 
  21 import org.broadleafcommerce.common.extension.ResultType;
  22 import org.broadleafcommerce.common.i18n.domain.TranslatedEntity;
  23 import org.broadleafcommerce.common.i18n.domain.Translation;
  24 
  25 import java.util.List;
  26 import java.util.Locale;
  27 
  28 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  29 import javax.cache.Cache;</span>
  30 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 import java.util.Locale;</span>
  32 =======
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  33 import net.sf.ehcache.Cache;</span>
  34 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
  35 
  36 public interface TranslationService {
  37 
  38     /**
  39      * Persists the given translation
  40      * 
  41      * @param translation
  42      * @return the persisted translation
  43      */
  44     public Translation save(Translation translation);
  45 
  46     /**
<abbr title="  47      * Creates a new translation object for the requested parameters, saves it, and returns the saved instance.">  47      * Creates a new translation object for the requested parameters, saves it, and returns the saved insðŸ”µ</abbr>
  48      * 
<abbr title="  49      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityId, ">  49      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType,ðŸ”µ</abbr>
  50      * fieldName, and localeCode.&lt;/b&gt;
  51      * 
  52      * @param entityType
  53      * @param entityId
  54      * @param fieldName
  55      * @param localeCode
  56      * @param translatedValue
  57      * @return the persisted translation
  58      */
  59     public Translation save(String entityType, String entityId, String fieldName, String localeCode, 
  60             String translatedValue);
  61     
  62     /**
  63      * Updates the given translation id with the new locale code and translated value
  64      * 
  65      * @param translationId
  66      * @param localeCode
  67      * @param translatedValue
  68      * @return the persisted translation
  69      */
  70     public Translation update(Long translationId, String localeCode, String translatedValue);
  71     
  72     /**
  73      * Deletes the given translations
  74      * 
  75      * @param translationId
  76      */
  77     public void deleteTranslationById(Long translationId);
  78     
  79     /**
  80      * Finds all current translations for the specified field
  81      * 
  82      * @param ceilingEntityClassname
  83      * @param entityId
  84      * @param property
  85      * @return the list of translations
  86      */
<abbr title="  87     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String property);">  87     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String propeðŸ”µ</abbr>
  88     
  89     /**
  90      * Attempts to find the translation object for the given parameters
  91      * 
  92      * @param entity
  93      * @param entityId
  94      * @param fieldName
  95      * @param localeCode
  96      * @return the persisted translation
  97      */
<abbr title="  98     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCode);">  98     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String ðŸ”µ</abbr>
  99 
 100     /**
<abbr title=" 101      * Returns the translated value of the property for the given entity. For example, if entity is an instance of "> 101      * Returns the translated value of the property for the given entity. For example, if entity is an inðŸ”µ</abbr>
<abbr title=" 102      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in an English "> 102      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in aðŸ”µ</abbr>
 103      * locale and &quot;Salsa de la Muerte Saltante&quot; if we are in a Spanish locale.
 104      * 
<abbr title=" 105      * If a country is set on the locale (locale code en_GB for example), we will first look for a translation that matches"> 105      * If a country is set on the locale (locale code en_GB for example), we will first look for a translðŸ”µ</abbr>
<abbr title=" 106      * en_GB, and then look for a translation for en. If a translated value for the given locale is not available, "> 106      * en_GB, and then look for a translation for en. If a translated value for the given locale is not aðŸ”µ</abbr>
 107      * it will return null.
 108      * 
 109      * @param entity
 110      * @param property
 111      * @param locale
 112      * @return the translated value of the property for the given entity
 113      */
 114     public String getTranslatedValue(Object entity, String property, Locale locale);
 115 
 116     /**
<abbr title=" 117      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignable."> 117      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignablðŸ”µ</abbr>
 118      * 
 119      * @param className
 120      * @return
 121      */
 122     public TranslatedEntity getAssignableEntityType(String className);
 123 
 124     
 125     /**
<abbr title=" 126      * Remove a translation instance from the translation specific cache (different than level-2 hibernate cache)"> 126      * Remove a translation instance from the translation specific cache (different than level-2 hibernatðŸ”µ</abbr>
 127      *
 128      * @param translation The translation instance to remove
 129      */
 130     void removeTranslationFromCache(Translation translation);
 131 
 132     /**
 133      * Find a translation instance by its primary key value.
 134      *
 135      * @param id the primary key value
 136      * @return
 137      */
 138     Translation findTranslationById(Long id);
 139 
 140     /**
 141      * Get the translation specific cache (different than the level-2 hibernate cache)
 142      *
 143      * @return the translation specific cache
 144      */
 145     Cache&lt;String, Object&gt; getCache();
 146 
 147     /**
<abbr title=" 148      * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when a "> 148      * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when aðŸ”µ</abbr>
 149      * translation was not provided.
 150      * 
<abbr title=" 151      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLocale&quot;. "> 151      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNoðŸ”µ</abbr>
<abbr title=" 152      * If this is true, the system will return blank if the language of the defaultLocale does not match the language"> 152      * If this is true, the system will return blank if the language of the defaultLocale does not match ðŸ”µ</abbr>
 153      * of the passed in locale.
 154      * 
<abbr title=" 155      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this method is "> 155      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If tðŸ”µ</abbr>
<abbr title=" 156      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with a value"> 156      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is calðŸ”µ</abbr>
 157      * of &quot;fr_CA&quot;, blank will be returned.
 158      *  
 159      * @param entity
 160      * @param property
 161      * @param locale
 162      * @param requestedDefaultValue
 163      * @return
 164      */
<abbr title=" 165     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue);"> 165     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaðŸ”µ</abbr>
 166 
 167     /**
 168      * Find all the available translations for the given params.
 169      *
 170      * @param entityType
<abbr title=" 171      * @param stage param drives whether to look for entries at a template level or standard site level (multitenant concepts). Can be IGNORE. Any multitenant behavior is ignored in the absence of the multitenant module."> 171      * @param stage param drives whether to look for entries at a template level or standard site level (ðŸ”µ</abbr>
 172      * @param entityIds the {@link Translation#getEntityId()} to restrict the results by
 173      * @return
 174      */
<abbr title=" 175     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;String&gt; entityIds);"> 175     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, LðŸ”µ</abbr>
 176 
 177 }</pre></td>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Common Libraries
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  *
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 
  19 package org.broadleafcommerce.common.i18n.service;
  20 
  21 import org.broadleafcommerce.common.extension.ResultType;
  22 import org.broadleafcommerce.common.i18n.domain.TranslatedEntity;
  23 import org.broadleafcommerce.common.i18n.domain.Translation;
  24 
  25 import java.util.List;
  26 import java.util.Locale;
  27 
  28 import javax.cache.Cache;
  29 
  30 public interface TranslationService {
  31 
  32     /**
  33      * Persists the given translation
  34      *
  35      * @param translation
  36      * @return the persisted translation
  37      */
  38     public Translation save(Translation translation);
  39 
  40     /**
<abbr title="  41      * Creates a new translation object for the requested parameters, saves it, and returns the saved instance.">  41      * Creates a new translation object for the requested parameters, saves it, and returns the saved insðŸ”µ</abbr>
  42      *
<abbr title="  43      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityId,">  43      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType,ðŸ”µ</abbr>
  44      * fieldName, and localeCode.&lt;/b&gt;
  45      *
  46      * @param entityType
  47      * @param entityId
  48      * @param fieldName
  49      * @param localeCode
  50      * @param translatedValue
  51      * @return the persisted translation
  52      */
  53     public Translation save(String entityType, String entityId, String fieldName, String localeCode,
  54             String translatedValue);
  55 
  56     /**
  57      * Updates the given translation id with the new locale code and translated value
  58      *
  59      * @param translationId
  60      * @param localeCode
  61      * @param translatedValue
  62      * @return the persisted translation
  63      */
  64     public Translation update(Long translationId, String localeCode, String translatedValue);
  65 
  66     /**
  67      * Deletes the given translations
  68      *
  69      * @param translationId
  70      */
  71     public void deleteTranslationById(Long translationId);
  72 
  73     /**
  74      * Finds all current translations for the specified field
  75      *
  76      * @param ceilingEntityClassname
  77      * @param entityId
  78      * @param property
  79      * @return the list of translations
  80      */
<abbr title="  81     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String property);">  81     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String propeðŸ”µ</abbr>
  82 
  83     /**
  84      * Attempts to find the translation object for the given parameters
  85      *
  86      * @param entity
  87      * @param entityId
  88      * @param fieldName
  89      * @param localeCode
  90      * @return the persisted translation
  91      */
<abbr title="  92     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCode);">  92     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String ðŸ”µ</abbr>
  93 
  94     /**
<abbr title="  95      * Returns the translated value of the property for the given entity. For example, if entity is an instance of">  95      * Returns the translated value of the property for the given entity. For example, if entity is an inðŸ”µ</abbr>
<abbr title="  96      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in an English">  96      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in aðŸ”µ</abbr>
  97      * locale and &quot;Salsa de la Muerte Saltante&quot; if we are in a Spanish locale.
  98      *
<abbr title="  99      * If a country is set on the locale (locale code en_GB for example), we will first look for a translation that matches">  99      * If a country is set on the locale (locale code en_GB for example), we will first look for a translðŸ”µ</abbr>
<abbr title=" 100      * en_GB, and then look for a translation for en. If a translated value for the given locale is not available,"> 100      * en_GB, and then look for a translation for en. If a translated value for the given locale is not aðŸ”µ</abbr>
 101      * it will return null.
 102      *
 103      * @param entity
 104      * @param property
 105      * @param locale
 106      * @return the translated value of the property for the given entity
 107      */
 108     public String getTranslatedValue(Object entity, String property, Locale locale);
 109 
 110     /**
<abbr title=" 111      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignable."> 111      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignablðŸ”µ</abbr>
 112      *
 113      * @param className
 114      * @return
 115      */
 116     public TranslatedEntity getAssignableEntityType(String className);
 117 
 118 
 119     /**
<abbr title=" 120      * Remove a translation instance from the translation specific cache (different than level-2 hibernate cache)"> 120      * Remove a translation instance from the translation specific cache (different than level-2 hibernatðŸ”µ</abbr>
 121      *
 122      * @param translation The translation instance to remove
 123      */
 124     void removeTranslationFromCache(Translation translation);
 125 
 126     /**
 127      * Find a translation instance by its primary key value.
 128      *
 129      * @param id the primary key value
 130      * @return
 131      */
 132     Translation findTranslationById(Long id);
 133 
 134     /**
 135      * Get the translation specific cache (different than the level-2 hibernate cache)
 136      *
 137      * @return the translation specific cache
 138      */
 139     Cache&lt;String, Object&gt; getCache();
 140 
 141     /**
 142      * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when a
 143      * translation was not provided.
 144      *
<abbr title=" 145      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLocale&quot;."> 145      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNoðŸ”µ</abbr>
<abbr title=" 146      * If this is true, the system will return blank if the language of the defaultLocale does not match the language"> 146      * If this is true, the system will return blank if the language of the defaultLocale does not match ðŸ”µ</abbr>
 147      * of the passed in locale.
 148      *
<abbr title=" 149      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this method is"> 149      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If tðŸ”µ</abbr>
<abbr title=" 150      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with a value"> 150      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is calðŸ”µ</abbr>
 151      * of &quot;fr_CA&quot;, blank will be returned.
 152      *
 153      * @param entity
 154      * @param property
 155      * @param locale
 156      * @param requestedDefaultValue
 157      * @return
 158      */
<abbr title=" 159     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue);"> 159     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaðŸ”µ</abbr>
 160 
 161     /**
 162      * Find all the available translations for the given params.
 163      *
 164      * @param entityType
<abbr title=" 165      * @param stage param drives whether to look for entries at a template level or standard site level (multitenant concepts). Can be IGNORE. Any multitenant behavior is ignored in the absence of the multitenant module."> 165      * @param stage param drives whether to look for entries at a template level or standard site level (ðŸ”µ</abbr>
 166      * @param entityIds the {@link Translation#getEntityId()} to restrict the results by
 167      * @return
 168      */
<abbr title=" 169     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;String&gt; entityIds);"> 169     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, LðŸ”µ</abbr>
 170 
 171 }
 
 
 
 
 </pre></td>
                            <td><pre>   1 /*
   2  * #%L
   3  * BroadleafCommerce Common Libraries
   4  * %%
   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6  * %%
   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10  * the Broadleaf End User License Agreement (EULA), Version 1.1
  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12  * shall apply.
  13  *
<abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr>
<abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr>
  16  * #L%
  17  */
  18 package org.broadleafcommerce.common.i18n.service;
  19 
  20 import java.util.List;
  21 import java.util.Locale;
  22 import javax.cache.Cache;
  23 import org.broadleafcommerce.common.extension.ResultType;
  24 import org.broadleafcommerce.common.i18n.domain.TranslatedEntity;
  25 import org.broadleafcommerce.common.i18n.domain.Translation;
  26 
  27 
  28 public interface TranslationService {
  29     /**
  30      * Persists the given translation
  31      *
  32      * @param translation
  33      * @return the persisted translation
  34      */
  35     public Translation save(Translation translation);
  36 
  37     /**
<abbr title="  38      * Creates a new translation object for the requested parameters, saves it, and returns the saved instance.">  38      * Creates a new translation object for the requested parameters, saves it, and returns the saved insðŸ”µ</abbr>
  39      *
<abbr title="  40      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityId,">  40      * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType,ðŸ”µ</abbr>
  41      * fieldName, and localeCode.&lt;/b&gt;
  42      *
  43      * @param entityType
  44      * @param entityId
  45      * @param fieldName
  46      * @param localeCode
  47      * @param translatedValue
  48      * @return the persisted translation
  49      */
  50     public Translation save(String entityType, String entityId, String fieldName, String localeCode,
  51             String translatedValue);
  52 
  53     /**
  54      * Updates the given translation id with the new locale code and translated value
  55      *
  56      * @param translationId
  57      * @param localeCode
  58      * @param translatedValue
  59      * @return the persisted translation
  60      */
  61     public Translation update(Long translationId, String localeCode, String translatedValue);
  62 
  63     /**
  64      * Deletes the given translations
  65      *
  66      * @param translationId
  67      */
  68     public void deleteTranslationById(Long translationId);
  69 
  70     /**
  71      * Finds all current translations for the specified field
  72      *
  73      * @param ceilingEntityClassname
  74      * @param entityId
  75      * @param property
  76      * @return the list of translations
  77      */
<abbr title="  78     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String property);">  78     public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String propeðŸ”µ</abbr>
  79 
  80     /**
  81      * Attempts to find the translation object for the given parameters
  82      *
  83      * @param entity
  84      * @param entityId
  85      * @param fieldName
  86      * @param localeCode
  87      * @return the persisted translation
  88      */
<abbr title="  89     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCode);">  89     public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String ðŸ”µ</abbr>
  90 
  91     /**
<abbr title="  92      * Returns the translated value of the property for the given entity. For example, if entity is an instance of">  92      * Returns the translated value of the property for the given entity. For example, if entity is an inðŸ”µ</abbr>
<abbr title="  93      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in an English">  93      * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in aðŸ”µ</abbr>
  94      * locale and &quot;Salsa de la Muerte Saltante&quot; if we are in a Spanish locale.
  95      *
<abbr title="  96      * If a country is set on the locale (locale code en_GB for example), we will first look for a translation that matches">  96      * If a country is set on the locale (locale code en_GB for example), we will first look for a translðŸ”µ</abbr>
<abbr title="  97      * en_GB, and then look for a translation for en. If a translated value for the given locale is not available,">  97      * en_GB, and then look for a translation for en. If a translated value for the given locale is not aðŸ”µ</abbr>
  98      * it will return null.
  99      *
 100      * @param entity
 101      * @param property
 102      * @param locale
 103      * @return the translated value of the property for the given entity
 104      */
 105     public String getTranslatedValue(Object entity, String property, Locale locale);
 106 
 107     /**
<abbr title=" 108      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignable."> 108      * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignablðŸ”µ</abbr>
 109      *
 110      * @param className
 111      * @return
 112      */
 113     public TranslatedEntity getAssignableEntityType(String className);
 114 
 115     /**
<abbr title=" 116      * Remove a translation instance from the translation specific cache (different than level-2 hibernate cache)"> 116      * Remove a translation instance from the translation specific cache (different than level-2 hibernatðŸ”µ</abbr>
 117      *
 118      * @param translation The translation instance to remove
 119      */
 120     void removeTranslationFromCache(Translation translation);
 121 
 122     /**
 123      * Find a translation instance by its primary key value.
 124      *
 125      * @param id the primary key value
 126      * @return
 127      */
 128     Translation findTranslationById(Long id);
 129 
 130     /**
 131      * Get the translation specific cache (different than the level-2 hibernate cache)
 132      *
 133      * @return the translation specific cache
 134      */
 135     public abstract Cache&lt;String, Object&gt; getCache();
 136 
 137     /**
 138      * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when a
 139      * translation was not provided.
 140      *
<abbr title=" 141      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLocale&quot;."> 141      * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNoðŸ”µ</abbr>
<abbr title=" 142      * If this is true, the system will return blank if the language of the defaultLocale does not match the language"> 142      * If this is true, the system will return blank if the language of the defaultLocale does not match ðŸ”µ</abbr>
 143      * of the passed in locale.
 144      *
<abbr title=" 145      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this method is"> 145      * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If tðŸ”µ</abbr>
<abbr title=" 146      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with a value"> 146      * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is calðŸ”µ</abbr>
 147      * of &quot;fr_CA&quot;, blank will be returned.
 148      *
 149      * @param entity
 150      * @param property
 151      * @param locale
 152      * @param requestedDefaultValue
 153      * @return
 154      */
<abbr title=" 155     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue);"> 155     String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaðŸ”µ</abbr>
 156 
 157     /**
 158      * Find all the available translations for the given params.
 159      *
 160      * @param entityType
<abbr title=" 161      * @param stage param drives whether to look for entries at a template level or standard site level (multitenant concepts). Can be IGNORE. Any multitenant behavior is ignored in the absence of the multitenant module."> 161      * @param stage param drives whether to look for entries at a template level or standard site level (ðŸ”µ</abbr>
 162      * @param entityIds the {@link Translation#getEntityId()} to restrict the results by
 163      * @return
 164      */
<abbr title=" 165     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;String&gt; entityIds);"> 165     List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, LðŸ”µ</abbr>
 166 }
 
 
 
 
 
 
 
 
 
 </pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre>   1  /*
   2   * #%L
   3   * BroadleafCommerce Common Libraries
   4   * %%
   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6   * %%
   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10   * the Broadleaf End User License Agreement (EULA), Version 1.1
  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12   * shall apply.
  13   *
<abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr>
  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.
  16   * #L%
  17   */
  18  
  19  package org.broadleafcommerce.common.i18n.service;
  20  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  21 -import net.sf.ehcache.Cache;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  22 -</span>
  23  import org.broadleafcommerce.common.extension.ResultType;
  24  import org.broadleafcommerce.common.i18n.domain.TranslatedEntity;
  25  import org.broadleafcommerce.common.i18n.domain.Translation;
  26  
  27  import java.util.List;
  28  import java.util.Locale;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 +import javax.cache.Cache;</span>
  31  
  32  public interface TranslationService {
  33  
  34      /**
  35       * Persists the given translation
  36       *
  37       * @param translation
  38       * @return the persisted translation
  39       */
  40      public Translation save(Translation translation);
  41  
  42      /**
  43       * Creates a new translation object for the requested parameters, saves it, and returns the saved instance.
  44       *
<abbr title="  45       * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityId,">  45       * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityIdðŸ”µ</abbr>
  46       * fieldName, and localeCode.&lt;/b&gt;
  47       *
  48       * @param entityType
  49       * @param entityId
  50       * @param fieldName
  51       * @param localeCode
  52       * @param translatedValue
  53       * @return the persisted translation
  54       */
  55      public Translation save(String entityType, String entityId, String fieldName, String localeCode,
  56              String translatedValue);
  57  
  58      /**
  59       * Updates the given translation id with the new locale code and translated value
  60       *
  61       * @param translationId
  62       * @param localeCode
  63       * @param translatedValue
  64       * @return the persisted translation
  65       */
  66      public Translation update(Long translationId, String localeCode, String translatedValue);
  67  
  68      /**
  69       * Deletes the given translations
  70       *
  71       * @param translationId
  72       */
  73      public void deleteTranslationById(Long translationId);
  74  
  75      /**
  76       * Finds all current translations for the specified field
  77       *
  78       * @param ceilingEntityClassname
  79       * @param entityId
  80       * @param property
  81       * @return the list of translations
  82       */
  83      public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String property);
  84  
  85      /**
  86       * Attempts to find the translation object for the given parameters
  87       *
  88       * @param entity
  89       * @param entityId
  90       * @param fieldName
  91       * @param localeCode
  92       * @return the persisted translation
  93       */
<abbr title="  94      public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCode);">  94      public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCodðŸ”µ</abbr>
  95  
  96      /**
  97       * Returns the translated value of the property for the given entity. For example, if entity is an instance of
  98       * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in an English
  99       * locale and &quot;Salsa de la Muerte Saltante&quot; if we are in a Spanish locale.
 100       *
<abbr title=" 101       * If a country is set on the locale (locale code en_GB for example), we will first look for a translation that matches"> 101       * If a country is set on the locale (locale code en_GB for example), we will first look for a translation thaðŸ”µ</abbr>
 102       * en_GB, and then look for a translation for en. If a translated value for the given locale is not available,
 103       * it will return null.
 104       *
 105       * @param entity
 106       * @param property
 107       * @param locale
 108       * @return the translated value of the property for the given entity
 109       */
 110      public String getTranslatedValue(Object entity, String property, Locale locale);
 111  
 112      /**
 113       * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignable.
 114       *
 115       * @param className
 116       * @return
 117       */
 118      public TranslatedEntity getAssignableEntityType(String className);
 119  
 120  
 121      /**
 122       * Remove a translation instance from the translation specific cache (different than level-2 hibernate cache)
 123       *
 124       * @param translation The translation instance to remove
 125       */
 126      void removeTranslationFromCache(Translation translation);
 127  
 128      /**
 129       * Find a translation instance by its primary key value.
 130       *
 131       * @param id the primary key value
 132       * @return
 133       */
 134      Translation findTranslationById(Long id);
 135  
 136      /**
 137       * Get the translation specific cache (different than the level-2 hibernate cache)
 138       *
 139       * @return the translation specific cache
 140       */
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 141 -    Cache getCache();</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +    Cache&lt;String, Object&gt; getCache();</span>
 143  
 144      /**
 145       * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when a
 146       * translation was not provided.
 147       *
<abbr title=" 148       * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLocale&quot;."> 148       * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLðŸ”µ</abbr>
<abbr title=" 149       * If this is true, the system will return blank if the language of the defaultLocale does not match the language"> 149       * If this is true, the system will return blank if the language of the defaultLocale does not match the languðŸ”µ</abbr>
 150       * of the passed in locale.
 151       *
<abbr title=" 152       * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this method is"> 152       * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this methoðŸ”µ</abbr>
<abbr title=" 153       * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with a value"> 153       * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with ðŸ”µ</abbr>
 154       * of &quot;fr_CA&quot;, blank will be returned.
 155       *
 156       * @param entity
 157       * @param property
 158       * @param locale
 159       * @param requestedDefaultValue
 160       * @return
 161       */
<abbr title=" 162      String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue);"> 162      String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue)ðŸ”µ</abbr>
 163  
 164      /**
 165       * Find all the available translations for the given params.
 166       *
 167       * @param entityType
<abbr title=" 168       * @param stage param drives whether to look for entries at a template level or standard site level (multitenant concepts). Can be IGNORE. Any multitenant behavior is ignored in the absence of the multitenant module."> 168       * @param stage param drives whether to look for entries at a template level or standard site level (multitenaðŸ”µ</abbr>
 169       * @param entityIds the {@link Translation#getEntityId()} to restrict the results by
 170       * @return
 171       */
<abbr title=" 172      List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;String&gt; entityIds);"> 172      List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;StrinðŸ”µ</abbr>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +</span>
 174  }</pre></td>
                            <td><pre>   1  /*
   2   * #%L
   3   * BroadleafCommerce Common Libraries
   4   * %%
   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce
   6   * %%
   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0
   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)
   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case
  10   * the Broadleaf End User License Agreement (EULA), Version 1.1
  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)
  12   * shall apply.
  13   *
<abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr>
  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.
  16   * #L%
  17   */
  18  
  19  package org.broadleafcommerce.common.i18n.service;
  20  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  21 -import net.sf.ehcache.Cache;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  22 -</span>
  23  import org.broadleafcommerce.common.extension.ResultType;
  24  import org.broadleafcommerce.common.i18n.domain.TranslatedEntity;
  25  import org.broadleafcommerce.common.i18n.domain.Translation;
  26  
  27  import java.util.List;
  28  import java.util.Locale;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 +import net.sf.ehcache.Cache;</span>
  31  
  32  public interface TranslationService {
  33  
  34      /**
  35       * Persists the given translation
  36       *
  37       * @param translation
  38       * @return the persisted translation
  39       */
  40      public Translation save(Translation translation);
  41  
  42      /**
  43       * Creates a new translation object for the requested parameters, saves it, and returns the saved instance.
  44       *
<abbr title="  45       * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityId,">  45       * &lt;b&gt;Note: This method will overwrite a previously existing translation if it matches on entityType, entityIdðŸ”µ</abbr>
  46       * fieldName, and localeCode.&lt;/b&gt;
  47       *
  48       * @param entityType
  49       * @param entityId
  50       * @param fieldName
  51       * @param localeCode
  52       * @param translatedValue
  53       * @return the persisted translation
  54       */
  55      public Translation save(String entityType, String entityId, String fieldName, String localeCode,
  56              String translatedValue);
  57  
  58      /**
  59       * Updates the given translation id with the new locale code and translated value
  60       *
  61       * @param translationId
  62       * @param localeCode
  63       * @param translatedValue
  64       * @return the persisted translation
  65       */
  66      public Translation update(Long translationId, String localeCode, String translatedValue);
  67  
  68      /**
  69       * Deletes the given translations
  70       *
  71       * @param translationId
  72       */
  73      public void deleteTranslationById(Long translationId);
  74  
  75      /**
  76       * Finds all current translations for the specified field
  77       *
  78       * @param ceilingEntityClassname
  79       * @param entityId
  80       * @param property
  81       * @return the list of translations
  82       */
  83      public List&lt;Translation&gt; getTranslations(String ceilingEntityClassname, String entityId, String property);
  84  
  85      /**
  86       * Attempts to find the translation object for the given parameters
  87       *
  88       * @param entity
  89       * @param entityId
  90       * @param fieldName
  91       * @param localeCode
  92       * @return the persisted translation
  93       */
<abbr title="  94      public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCode);">  94      public Translation getTranslation(TranslatedEntity entity, String entityId, String fieldName, String localeCodðŸ”µ</abbr>
  95  
  96      /**
  97       * Returns the translated value of the property for the given entity. For example, if entity is an instance of
  98       * Product and property is equal to name, this method might return &quot;Hoppin&#x27; Hot Sauce&quot; if we are in an English
  99       * locale and &quot;Salsa de la Muerte Saltante&quot; if we are in a Spanish locale.
 100       *
<abbr title=" 101       * If a country is set on the locale (locale code en_GB for example), we will first look for a translation that matches"> 101       * If a country is set on the locale (locale code en_GB for example), we will first look for a translation thaðŸ”µ</abbr>
 102       * en_GB, and then look for a translation for en. If a translated value for the given locale is not available,
 103       * it will return null.
 104       *
 105       * @param entity
 106       * @param property
 107       * @param locale
 108       * @return the translated value of the property for the given entity
 109       */
 110      public String getTranslatedValue(Object entity, String property, Locale locale);
 111  
 112      /**
 113       * Gets the TranslatedEntity based on the passed className.  The TranslatedEntity may be an assignable.
 114       *
 115       * @param className
 116       * @return
 117       */
 118      public TranslatedEntity getAssignableEntityType(String className);
 119  
 120  
 121      /**
 122       * Remove a translation instance from the translation specific cache (different than level-2 hibernate cache)
 123       *
 124       * @param translation The translation instance to remove
 125       */
 126      void removeTranslationFromCache(Translation translation);
 127  
 128      /**
 129       * Find a translation instance by its primary key value.
 130       *
 131       * @param id the primary key value
 132       * @return
 133       */
 134      Translation findTranslationById(Long id);
 135  
 136      /**
 137       * Get the translation specific cache (different than the level-2 hibernate cache)
 138       *
 139       * @return the translation specific cache
 140       */
 141      Cache getCache();

 142  
 143      /**
 144       * Intended for use with the {@link DynamicTranslationProvider} to determine the default value when a
 145       * translation was not provided.
 146       *
<abbr title=" 147       * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLocale&quot;."> 147       * The default implementation of this method relies on a system property &quot;returnBlankTranslationForNotDefaultLðŸ”µ</abbr>
<abbr title=" 148       * If this is true, the system will return blank if the language of the defaultLocale does not match the language"> 148       * If this is true, the system will return blank if the language of the defaultLocale does not match the languðŸ”µ</abbr>
 149       * of the passed in locale.
 150       *
<abbr title=" 151       * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this method is"> 151       * For example, consider the &quot;longDescription&quot; property and the system default locale is &quot;en&quot;.   If this methoðŸ”µ</abbr>
<abbr title=" 152       * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with a value"> 152       * called for a locale of &quot;en_CA&quot;, the requestedDefaultValue will be returned.   If the method is called with ðŸ”µ</abbr>
 153       * of &quot;fr_CA&quot;, blank will be returned.
 154       *
 155       * @param entity
 156       * @param property
 157       * @param locale
 158       * @param requestedDefaultValue
 159       * @return
 160       */
<abbr title=" 161      String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue);"> 161      String getDefaultTranslationValue(Object entity, String property, Locale locale, String requestedDefaultValue)ðŸ”µ</abbr>
 162  
 163      /**
 164       * Find all the available translations for the given params.
 165       *
 166       * @param entityType
<abbr title=" 167       * @param stage param drives whether to look for entries at a template level or standard site level (multitenant concepts). Can be IGNORE. Any multitenant behavior is ignored in the absence of the multitenant module."> 167       * @param stage param drives whether to look for entries at a template level or standard site level (multitenaðŸ”µ</abbr>
 168       * @param entityIds the {@link Translation#getEntityId()} to restrict the results by
 169       * @return
 170       */
<abbr title=" 171      List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;String&gt; entityIds);"> 171      List&lt;Translation&gt; findAllTranslationEntries(TranslatedEntity translatedEntity, ResultType standard, List&lt;StrinðŸ”µ</abbr>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +</span>
 173  }</pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            