<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>527</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        abbr {
                          /* Here is the delay */
                          transition-delay:0s;
                        }
                    </style>
              </head>
              <body>
                <span style="height: 4vh">
                    527
                    <a href="526.html">prev</a>
                    <a href="528.html">next</a>
                    <a href="527_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    DTStack/flinkStreamSQL_f05e92b15d5e4c94442e53a9f83e2659c369aa5e_core/src/main/java/com/dtstack/flink/sql/side/AbstractSideTableInfo.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\DTStack\flinkStreamSQL show &quot;f05e92b15d5e4c94442e53a9f83e2659c369aa5e:core/src/main/java/com/dtstack/flink/sql/side/AbstractSideTableInfo.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\DTStack\flinkStreamSQL show &quot;f05e92b15d5e4c94442e53a9f83e2659c369aa5e^1:core/src/main/java/com/dtstack/flink/sql/side/AbstractSideTableInfo.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\DTStack\flinkStreamSQL show &quot;f05e92b15d5e4c94442e53a9f83e2659c369aa5e^2:core/src/main/java/com/dtstack/flink/sql/side/AbstractSideTableInfo.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\DTStack\flinkStreamSQL show &quot;14446f4dd844b1bb9da6c412e3556e135bafcba4:core/src/main/java/com/dtstack/flink/sql/side/AbstractSideTableInfo.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b]], subset: [[b], [b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre>   1 /*
   2  * Licensed to the Apache Software Foundation (ASF) under one
   3  * or more contributor license agreements.  See the NOTICE file
   4  * distributed with this work for additional information
   5  * regarding copyright ownership.  The ASF licenses this file
   6  * to you under the Apache License, Version 2.0 (the
   7  * &quot;License&quot;); you may not use this file except in compliance
   8  * with the License.  You may obtain a copy of the License at
   9  *
  10  *     http://www.apache.org/licenses/LICENSE-2.0
  11  *
  12  * Unless required by applicable law or agreed to in writing, software
  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15  * See the License for the specific language governing permissions and
  16  * limitations under the License.
  17  */
  18 
  19  
  20 
  21 package com.dtstack.flink.sql.side;
  22 
  23 import com.dtstack.flink.sql.table.AbstractTableInfo;
  24 import com.google.common.collect.Lists;
  25 import org.apache.flink.api.common.typeinfo.TypeInformation;
  26 import org.apache.flink.api.java.typeutils.RowTypeInfo;
  27 
  28 import java.io.Serializable;
  29 import java.util.List;
  30 import java.util.Objects;
  31 
  32 /**
  33  * Reason:
  34  * Date: 2018/7/25
  35  * Company: www.dtstack.com
  36  * @author xuchao
  37  */
  38 
  39 public abstract class AbstractSideTableInfo extends AbstractTableInfo implements Serializable {
  40 
  41     public static final String TARGET_SUFFIX = &quot;Side&quot;;
  42 
  43     public static final String CACHE_KEY = &quot;cache&quot;;
  44 
  45     public static final String CACHE_SIZE_KEY = &quot;cacheSize&quot;;
  46 
  47     public static final String CACHE_TTLMS_KEY = &quot;cacheTTLMs&quot;;
  48 
  49     public static final String PARTITIONED_JOIN_KEY = &quot;partitionedJoin&quot;;
  50 
  51     public static final String CACHE_MODE_KEY = &quot;cacheMode&quot;;
  52 
  53     public static final String ASYNC_CAP_KEY = &quot;asyncCapacity&quot;;
  54 
  55     public static final String ASYNC_TIMEOUT_KEY = &quot;asyncTimeout&quot;;
  56 
  57     public static final String ASYNC_TIMEOUT_NUM_KEY = &quot;asyncTimeoutNum&quot;;
  58 
  59 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  60     public static final String ASYNC_FAIL_MAX_NUM_KEY = &quot;asyncFailMaxNum&quot;;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61 </span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  62     private String cacheType = &quot;none&quot;;//None or LRU or ALL</span>
  63 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64     private String cacheType = &quot;none&quot;;//None or LRU or ALL</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66     private int cacheSize = 10000;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67 </span>
  68 =======
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69     public static final String ASYNC_REQ_POOL_KEY = &quot;asyncPoolSize&quot;;</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70 </span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71     private String cacheType = &quot;none&quot;;</span>
  72 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
  73 
  74     private int cacheSize = 10000;
  75 
  76     private long cacheTimeout = 60_000L;
  77 
  78     private int  asyncCapacity=100;
  79 
  80     private int  asyncTimeout=10000;
  81 
  82 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
  83 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84     private boolean partitionedJoin = false;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86     private String cacheMode=&quot;ordered&quot;;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88     private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90     public RowTypeInfo getRowTypeInfo(){</span>
  91 =======
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92     /**</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93      *  async operator req outside conn pool size, egg rdb conn pool size</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94      */</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95     private int asyncPoolSize = 0;</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96 </span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97     private int asyncTimeoutNumLimit = Integer.MAX_VALUE;</span>
<span style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98 </span>
  99 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
 100     private boolean partitionedJoin = false;
 101 
 102     private String cacheMode=&quot;ordered&quot;;
 103 
 104     private Long asyncFailMaxNum;
 105 
 106     private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();
 107 
 108     public RowTypeInfo getRowTypeInfo(){
 109         Class[] fieldClass = getFieldClasses();
 110         TypeInformation&lt;?&gt;[] types = new TypeInformation[fieldClass.length];
 111         String[] fieldNames = getFields();
 112         for(int i=0; i&lt;fieldClass.length; i++){
 113             types[i] = TypeInformation.of(fieldClass[i]);
 114         }
 115 
 116         return new RowTypeInfo(types, fieldNames);
 117     }
 118 
 119     public String getCacheType() {
 120         return cacheType;
 121     }
 122 
 123     public void setCacheType(String cacheType) {
 124         this.cacheType = cacheType;
 125     }
 126 
 127     public int getCacheSize() {
 128         return cacheSize;
 129     }
 130 
 131     public void setCacheSize(int cacheSize) {
 132         this.cacheSize = cacheSize;
 133     }
 134 
 135     public long getCacheTimeout() {
 136         return cacheTimeout;
 137     }
 138 
 139     public void setCacheTimeout(long cacheTimeout) {
 140         this.cacheTimeout = cacheTimeout;
 141     }
 142 
 143     public boolean isPartitionedJoin() {
 144         return partitionedJoin;
 145     }
 146 
 147     public void setPartitionedJoin(boolean partitionedJoin) {
 148         this.partitionedJoin = partitionedJoin;
 149     }
 150 
 151     public String getCacheMode() {
 152         return cacheMode;
 153     }
 154 
 155     public void setCacheMode(String cacheMode) {
 156         this.cacheMode = cacheMode;
 157     }
 158 
 159     public int getAsyncCapacity() {
 160         return asyncCapacity;
 161     }
 162 
 163     public void setAsyncCapacity(int asyncCapacity) {
 164         this.asyncCapacity = asyncCapacity;
 165     }
 166 
 167     public int getAsyncTimeout() {
 168         return asyncTimeout;
 169     }
 170 
 171     public void setAsyncTimeout(int asyncTimeout) {
 172         this.asyncTimeout = asyncTimeout;
 173     }
 174 
 175     public void setPredicateInfoes(List&lt;PredicateInfo&gt; predicateInfoes) {
 176         this.predicateInfoes = predicateInfoes;
 177     }
 178 
 179     public List&lt;PredicateInfo&gt; getPredicateInfoes() {
 180         return predicateInfoes;
 181     }
 182 
 183     public Long getAsyncFailMaxNum(Long defaultValue) {
 184         return Objects.isNull(asyncFailMaxNum) ? defaultValue : asyncFailMaxNum;
 185     }
 186 
 187     public void setAsyncFailMaxNum(Long asyncFailMaxNum) {
 188         this.asyncFailMaxNum = asyncFailMaxNum;
 189     }
 190 
 191     public int getAsyncPoolSize() {
 192         return asyncPoolSize;
 193     }
 194 
 195     public void setAsyncPoolSize(int asyncPoolSize) {
 196         this.asyncPoolSize = asyncPoolSize;
 197     }
 198 
 199     @Override
 200     public String toString() {
 201         return &quot;Cache Info{&quot; +
 202                 &quot;cacheType=&#x27;&quot; + cacheType + &#x27;\&#x27;&#x27; +
 203                 &quot;, cacheSize=&quot; + cacheSize +
 204                 &quot;, cacheTimeout=&quot; + cacheTimeout +
 205                 &quot;, asyncCapacity=&quot; + asyncCapacity +
 206                 &quot;, asyncTimeout=&quot; + asyncTimeout +
 207                 &quot;, asyncPoolSize=&quot; + asyncPoolSize +
 208                 &quot;, asyncTimeoutNumLimit=&quot; + asyncTimeoutNumLimit +
 209                 &quot;, partitionedJoin=&quot; + partitionedJoin +
 210                 &quot;, cacheMode=&#x27;&quot; + cacheMode + &#x27;\&#x27;&#x27; +
 211                 &#x27;}&#x27;;
 212     }
 213 }</pre></td>
                            <td><pre>   1 /*
   2  * Licensed to the Apache Software Foundation (ASF) under one
   3  * or more contributor license agreements.  See the NOTICE file
   4  * distributed with this work for additional information
   5  * regarding copyright ownership.  The ASF licenses this file
   6  * to you under the Apache License, Version 2.0 (the
   7  * &quot;License&quot;); you may not use this file except in compliance
   8  * with the License.  You may obtain a copy of the License at
   9  *
  10  *     http://www.apache.org/licenses/LICENSE-2.0
  11  *
  12  * Unless required by applicable law or agreed to in writing, software
  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15  * See the License for the specific language governing permissions and
  16  * limitations under the License.
  17  */
  18 
  19 
  20 
  21 package com.dtstack.flink.sql.side;
  22 
  23 import com.dtstack.flink.sql.table.AbstractTableInfo;
  24 import com.google.common.collect.Lists;
  25 import org.apache.flink.api.common.typeinfo.TypeInformation;
  26 import org.apache.flink.api.java.typeutils.RowTypeInfo;
  27 
  28 import java.io.Serializable;
  29 import java.util.List;
  30 import java.util.Objects;
  31 
  32 /**
  33  * Reason:
  34  * Date: 2018/7/25
  35  * Company: www.dtstack.com
  36  * @author xuchao
  37  */
  38 
  39 public abstract class AbstractSideTableInfo extends AbstractTableInfo implements Serializable {
  40 
  41     public static final String TARGET_SUFFIX = &quot;Side&quot;;
  42 
  43     public static final String CACHE_KEY = &quot;cache&quot;;
  44 
  45     public static final String CACHE_SIZE_KEY = &quot;cacheSize&quot;;
  46 
  47     public static final String CACHE_TTLMS_KEY = &quot;cacheTTLMs&quot;;
  48 
  49     public static final String PARTITIONED_JOIN_KEY = &quot;partitionedJoin&quot;;
  50 
  51     public static final String CACHE_MODE_KEY = &quot;cacheMode&quot;;
  52 
  53     public static final String ASYNC_CAP_KEY = &quot;asyncCapacity&quot;;
  54 
  55     public static final String ASYNC_TIMEOUT_KEY = &quot;asyncTimeout&quot;;
  56 
  57     public static final String ASYNC_TIMEOUT_NUM_KEY = &quot;asyncTimeoutNum&quot;;
  58 
  59     public static final String ASYNC_FAIL_MAX_NUM_KEY = &quot;asyncFailMaxNum&quot;;
  60 
  61     public static final String ASYNC_REQ_POOL_KEY = &quot;asyncPoolSize&quot;;
  62 
  63     private String cacheType = &quot;none&quot;;
  64 
  65     private int cacheSize = 10000;
  66 
  67     private long cacheTimeout = 60_000L;
  68 
  69     private int  asyncCapacity=100;
  70 
  71     private int  asyncTimeout=10000;
  72 
  73     /**
  74      *  async operator req outside conn pool size, egg rdb conn pool size
  75      */
  76     private int asyncPoolSize = 0;
  77 
  78     private boolean partitionedJoin = false;
  79 
  80     private String cacheMode=&quot;ordered&quot;;
  81 
  82     private Long asyncFailMaxNum;
  83 
  84     private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();
  85 
  86     public RowTypeInfo getRowTypeInfo(){
  87         Class[] fieldClass = getFieldClasses();
  88         TypeInformation&lt;?&gt;[] types = new TypeInformation[fieldClass.length];
  89         String[] fieldNames = getFields();
  90         for(int i=0; i&lt;fieldClass.length; i++){
  91             types[i] = TypeInformation.of(fieldClass[i]);
  92         }
  93 
  94         return new RowTypeInfo(types, fieldNames);
  95     }
  96 
  97     public String getCacheType() {
  98         return cacheType;
  99     }
 100 
 101     public void setCacheType(String cacheType) {
 102         this.cacheType = cacheType;
 103     }
 104 
 105     public int getCacheSize() {
 106         return cacheSize;
 107     }
 108 
 109     public void setCacheSize(int cacheSize) {
 110         this.cacheSize = cacheSize;
 111     }
 112 
 113     public long getCacheTimeout() {
 114         return cacheTimeout;
 115     }
 116 
 117     public void setCacheTimeout(long cacheTimeout) {
 118         this.cacheTimeout = cacheTimeout;
 119     }
 120 
 121     public boolean isPartitionedJoin() {
 122         return partitionedJoin;
 123     }
 124 
 125     public void setPartitionedJoin(boolean partitionedJoin) {
 126         this.partitionedJoin = partitionedJoin;
 127     }
 128 
 129     public String getCacheMode() {
 130         return cacheMode;
 131     }
 132 
 133     public void setCacheMode(String cacheMode) {
 134         this.cacheMode = cacheMode;
 135     }
 136 
 137     public int getAsyncCapacity() {
 138         return asyncCapacity;
 139     }
 140 
 141     public void setAsyncCapacity(int asyncCapacity) {
 142         this.asyncCapacity = asyncCapacity;
 143     }
 144 
 145     public int getAsyncTimeout() {
 146         return asyncTimeout;
 147     }
 148 
 149     public void setAsyncTimeout(int asyncTimeout) {
 150         this.asyncTimeout = asyncTimeout;
 151     }
 152 
 153     public void setPredicateInfoes(List&lt;PredicateInfo&gt; predicateInfoes) {
 154         this.predicateInfoes = predicateInfoes;
 155     }
 156 
 157     public List&lt;PredicateInfo&gt; getPredicateInfoes() {
 158         return predicateInfoes;
 159     }
 160 
 161     public Long getAsyncFailMaxNum(Long defaultValue) {
 162         return Objects.isNull(asyncFailMaxNum) ? defaultValue : asyncFailMaxNum;
 163     }
 164 
 165     public void setAsyncFailMaxNum(Long asyncFailMaxNum) {
 166         this.asyncFailMaxNum = asyncFailMaxNum;
 167     }
 168 
 169     public int getAsyncPoolSize() {
 170         return asyncPoolSize;
 171     }
 172 
 173     public void setAsyncPoolSize(int asyncPoolSize) {
 174         this.asyncPoolSize = asyncPoolSize;
 175     }
 176 
 177     @Override
 178     public String toString() {
 179         return &quot;Cache Info{&quot; +
 180                 &quot;cacheType=&#x27;&quot; + cacheType + &#x27;\&#x27;&#x27; +
 181                 &quot;, cacheSize=&quot; + cacheSize +
 182                 &quot;, cacheTimeout=&quot; + cacheTimeout +
 183                 &quot;, asyncCapacity=&quot; + asyncCapacity +
 184                 &quot;, asyncTimeout=&quot; + asyncTimeout +
 185                 &quot;, asyncPoolSize=&quot; + asyncPoolSize +
 186                 &quot;, asyncTimeoutNumLimit=&quot; + asyncTimeoutNumLimit +
 187                 &quot;, partitionedJoin=&quot; + partitionedJoin +
 188                 &quot;, cacheMode=&#x27;&quot; + cacheMode + &#x27;\&#x27;&#x27; +
 189                 &#x27;}&#x27;;
 190     }
 191 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                            <td><pre>   1 /*
   2  * Licensed to the Apache Software Foundation (ASF) under one
   3  * or more contributor license agreements.  See the NOTICE file
   4  * distributed with this work for additional information
   5  * regarding copyright ownership.  The ASF licenses this file
   6  * to you under the Apache License, Version 2.0 (the
   7  * &quot;License&quot;); you may not use this file except in compliance
   8  * with the License.  You may obtain a copy of the License at
   9  *
  10  *     http://www.apache.org/licenses/LICENSE-2.0
  11  *
  12  * Unless required by applicable law or agreed to in writing, software
  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15  * See the License for the specific language governing permissions and
  16  * limitations under the License.
  17  */
  18 package com.dtstack.flink.sql.side;
  19 
  20 import com.dtstack.flink.sql.table.AbstractTableInfo;
  21 import com.google.common.collect.Lists;
  22 import java.io.Serializable;
  23 import java.util.List;
  24 import java.util.Objects;
  25 import org.apache.flink.api.common.typeinfo.TypeInformation;
  26 import org.apache.flink.api.java.typeutils.RowTypeInfo;
  27 
  28 
  29 /**
  30  * Reason:
  31  * Date: 2018/7/25
  32  * Company: www.dtstack.com
  33  * @author xuchao
  34  */
  35 public abstract class AbstractSideTableInfo extends AbstractTableInfo implements Serializable {
  36     public static final String TARGET_SUFFIX = &quot;Side&quot;;
  37 
  38     public static final String CACHE_KEY = &quot;cache&quot;;
  39 
  40     public static final String CACHE_SIZE_KEY = &quot;cacheSize&quot;;
  41 
  42     public static final String CACHE_TTLMS_KEY = &quot;cacheTTLMs&quot;;
  43 
  44     public static final String PARTITIONED_JOIN_KEY = &quot;partitionedJoin&quot;;
  45 
  46     public static final String CACHE_MODE_KEY = &quot;cacheMode&quot;;
  47 
  48     public static final String ASYNC_CAP_KEY = &quot;asyncCapacity&quot;;
  49 
  50     public static final String ASYNC_TIMEOUT_KEY = &quot;asyncTimeout&quot;;
  51 
  52     public static final String ASYNC_TIMEOUT_NUM_KEY = &quot;asyncTimeoutNum&quot;;
  53 
  54     public static final String ASYNC_FAIL_MAX_NUM_KEY = &quot;asyncFailMaxNum&quot;;
  55 
  56     public static final String ASYNC_REQ_POOL_KEY = &quot;asyncPoolSize&quot;;
  57 
  58     private String cacheType = &quot;none&quot;;
  59 
  60     private int cacheSize = 10000;
  61 
  62     private long cacheTimeout = 60000L;
  63 
  64     private int  asyncCapacity=100;
  65 
  66     private int  asyncTimeout=10000;
  67 
  68     private boolean partitionedJoin = false;
  69 
  70     private String cacheMode=&quot;ordered&quot;;
  71 
  72     /**
  73      * async operator req outside conn pool size, egg rdb conn pool size
  74      */
  75     private int asyncPoolSize = 0;
  76 
  77     private Long asyncFailMaxNum;
  78 
  79     private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();
  80 
  81     public RowTypeInfo getRowTypeInfo(){
  82         Class[] fieldClass = getFieldClasses();
  83         TypeInformation&lt;?&gt;[] types = new TypeInformation[fieldClass.length];
  84         String[] fieldNames = getFields();
  85         for(int i=0; i&lt;fieldClass.length; i++){
  86             types[i] = TypeInformation.of(fieldClass[i]);
  87         }
  88 
  89         return new RowTypeInfo(types, fieldNames);
  90     }
  91 
  92     public String getCacheType() {
  93         return cacheType;
  94     }
  95 
  96     public void setCacheType(String cacheType) {
  97         this.cacheType = cacheType;
  98     }
  99 
 100     public int getCacheSize() {
 101         return cacheSize;
 102     }
 103 
 104     public void setCacheSize(int cacheSize) {
 105         this.cacheSize = cacheSize;
 106     }
 107 
 108     public long getCacheTimeout() {
 109         return cacheTimeout;
 110     }
 111 
 112     public void setCacheTimeout(long cacheTimeout) {
 113         this.cacheTimeout = cacheTimeout;
 114     }
 115 
 116     public boolean isPartitionedJoin() {
 117         return partitionedJoin;
 118     }
 119 
 120     public void setPartitionedJoin(boolean partitionedJoin) {
 121         this.partitionedJoin = partitionedJoin;
 122     }
 123 
 124     public String getCacheMode() {
 125         return cacheMode;
 126     }
 127 
 128     public void setCacheMode(String cacheMode) {
 129         this.cacheMode = cacheMode;
 130     }
 131 
 132     public int getAsyncCapacity() {
 133         return asyncCapacity;
 134     }
 135 
 136     public void setAsyncCapacity(int asyncCapacity) {
 137         this.asyncCapacity = asyncCapacity;
 138     }
 139 
 140     public int getAsyncTimeout() {
 141         return asyncTimeout;
 142     }
 143 
 144     public void setAsyncTimeout(int asyncTimeout) {
 145         this.asyncTimeout = asyncTimeout;
 146     }
 147 
 148     public void setPredicateInfoes(List&lt;PredicateInfo&gt; predicateInfoes) {
 149         this.predicateInfoes = predicateInfoes;
 150     }
 151 
 152     public List&lt;PredicateInfo&gt; getPredicateInfoes() {
 153         return predicateInfoes;
 154     }
 155 
 156     public Long getAsyncFailMaxNum(Long defaultValue) {
 157         return Objects.isNull(asyncFailMaxNum) ? defaultValue : asyncFailMaxNum;
 158     }
 159 
 160     public void setAsyncFailMaxNum(Long asyncFailMaxNum) {
 161         this.asyncFailMaxNum = asyncFailMaxNum;
 162     }
 163 
 164     public int getAsyncPoolSize() {
 165         return asyncPoolSize;
 166     }
 167 
 168     public void setAsyncPoolSize(int asyncPoolSize) {
 169         this.asyncPoolSize = asyncPoolSize;
 170     }
 171 
 172     @Override
 173     public String toString() {
 174         return &quot;Cache Info{&quot; +
 175                 &quot;cacheType=&#x27;&quot; + cacheType + &#x27;\&#x27;&#x27; +
 176                 &quot;, cacheSize=&quot; + cacheSize +
 177                 &quot;, cacheTimeout=&quot; + cacheTimeout +
 178                 &quot;, asyncCapacity=&quot; + asyncCapacity +
 179                 &quot;, asyncTimeout=&quot; + asyncTimeout +
 180                 &quot;, asyncPoolSize=&quot; + asyncPoolSize +
 181                 &quot;, asyncTimeoutNumLimit=&quot; + asyncTimeoutNumLimit +
 182                 &quot;, partitionedJoin=&quot; + partitionedJoin +
 183                 &quot;, cacheMode=&#x27;&quot; + cacheMode + &#x27;\&#x27;&#x27; +
 184                 &#x27;}&#x27;;
 185     }
 186 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre>   1  /*
   2   * Licensed to the Apache Software Foundation (ASF) under one
   3   * or more contributor license agreements.  See the NOTICE file
   4   * distributed with this work for additional information
   5   * regarding copyright ownership.  The ASF licenses this file
   6   * to you under the Apache License, Version 2.0 (the
   7   * &quot;License&quot;); you may not use this file except in compliance
   8   * with the License.  You may obtain a copy of the License at
   9   *
  10   *     http://www.apache.org/licenses/LICENSE-2.0
  11   *
  12   * Unless required by applicable law or agreed to in writing, software
  13   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  14   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15   * See the License for the specific language governing permissions and
  16   * limitations under the License.
  17   */
  18  
  19  
  20  
  21  package com.dtstack.flink.sql.side;
  22  
  23  import com.dtstack.flink.sql.table.AbstractTableInfo;
  24  import com.google.common.collect.Lists;
  25  import org.apache.flink.api.common.typeinfo.TypeInformation;
  26  import org.apache.flink.api.java.typeutils.RowTypeInfo;
  27  
  28  import java.io.Serializable;
  29  import java.util.List;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 +import java.util.Objects;</span>
  31  
  32  /**
  33   * Reason:
  34   * Date: 2018/7/25
  35   * Company: www.dtstack.com
  36   * @author xuchao
  37   */
  38  
  39  public abstract class AbstractSideTableInfo extends AbstractTableInfo implements Serializable {
  40  
  41      public static final String TARGET_SUFFIX = &quot;Side&quot;;
  42  
  43      public static final String CACHE_KEY = &quot;cache&quot;;
  44  
  45      public static final String CACHE_SIZE_KEY = &quot;cacheSize&quot;;
  46  
  47      public static final String CACHE_TTLMS_KEY = &quot;cacheTTLMs&quot;;
  48  
  49      public static final String PARTITIONED_JOIN_KEY = &quot;partitionedJoin&quot;;
  50  
  51      public static final String CACHE_MODE_KEY = &quot;cacheMode&quot;;
  52  
  53      public static final String ASYNC_CAP_KEY = &quot;asyncCapacity&quot;;
  54  
  55      public static final String ASYNC_TIMEOUT_KEY = &quot;asyncTimeout&quot;;
  56  
  57      public static final String ASYNC_TIMEOUT_NUM_KEY = &quot;asyncTimeoutNum&quot;;
  58  
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +    public static final String ASYNC_FAIL_MAX_NUM_KEY = &quot;asyncFailMaxNum&quot;;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +</span>
  61      private String cacheType = &quot;none&quot;;//None or LRU or ALL



  62  
  63      private int cacheSize = 10000;
  64  
  65      private long cacheTimeout = 60 * 1000;//

  66  
  67      private int  asyncCapacity=100;
  68  
  69      private int  asyncTimeout=10000;





  70  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  71 -    private int asyncTimeoutNumLimit = Integer.MAX_VALUE;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  72 -</span>
  73      private boolean partitionedJoin = false;
  74  
  75      private String cacheMode=&quot;ordered&quot;;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  76 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +    private Long asyncFailMaxNum;</span>
  78  
  79      private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();
  80  
  81      public RowTypeInfo getRowTypeInfo(){
  82          Class[] fieldClass = getFieldClasses();
  83          TypeInformation&lt;?&gt;[] types = new TypeInformation[fieldClass.length];
  84          String[] fieldNames = getFields();
  85          for(int i=0; i&lt;fieldClass.length; i++){
  86              types[i] = TypeInformation.of(fieldClass[i]);
  87          }
  88  
  89          return new RowTypeInfo(types, fieldNames);
  90      }
  91  
  92      public String getCacheType() {
  93          return cacheType;
  94      }
  95  
  96      public void setCacheType(String cacheType) {
  97          this.cacheType = cacheType;
  98      }
  99  
 100      public int getCacheSize() {
 101          return cacheSize;
 102      }
 103  
 104      public void setCacheSize(int cacheSize) {
 105          this.cacheSize = cacheSize;
 106      }
 107  
 108      public long getCacheTimeout() {
 109          return cacheTimeout;
 110      }
 111  
 112      public void setCacheTimeout(long cacheTimeout) {
 113          this.cacheTimeout = cacheTimeout;
 114      }
 115  
 116      public boolean isPartitionedJoin() {
 117          return partitionedJoin;
 118      }
 119  
 120      public void setPartitionedJoin(boolean partitionedJoin) {
 121          this.partitionedJoin = partitionedJoin;
 122      }
 123  
 124      public String getCacheMode() {
 125          return cacheMode;
 126      }
 127  
 128      public void setCacheMode(String cacheMode) {
 129          this.cacheMode = cacheMode;
 130      }
 131  
 132      public int getAsyncCapacity() {
 133          return asyncCapacity;
 134      }
 135  
 136      public void setAsyncCapacity(int asyncCapacity) {
 137          this.asyncCapacity = asyncCapacity;
 138      }
 139  
 140      public int getAsyncTimeout() {
 141          return asyncTimeout;
 142      }
 143  
 144      public void setAsyncTimeout(int asyncTimeout) {
 145          this.asyncTimeout = asyncTimeout;
 146      }
 147  
 148      public void setPredicateInfoes(List&lt;PredicateInfo&gt; predicateInfoes) {
 149          this.predicateInfoes = predicateInfoes;
 150      }
 151  
 152      public List&lt;PredicateInfo&gt; getPredicateInfoes() {
 153          return predicateInfoes;
 154      }
 155  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 156 -    public int getAsyncTimeoutNumLimit() {</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 157 -        return asyncTimeoutNumLimit;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +    public Long getAsyncFailMaxNum(Long defaultValue) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +        return Objects.isNull(asyncFailMaxNum) ? defaultValue : asyncFailMaxNum;</span>
 160      }
 161  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 162 -    public void setAsyncTimeoutNumLimit(int asyncTimeoutNumLimit) {</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 163 -        this.asyncTimeoutNumLimit = asyncTimeoutNumLimit;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +    public void setAsyncFailMaxNum(Long asyncFailMaxNum) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +        this.asyncFailMaxNum = asyncFailMaxNum;</span>
 166      }
 167  






















 168  }</pre></td>
                            <td><pre>   1  /*
   2   * Licensed to the Apache Software Foundation (ASF) under one
   3   * or more contributor license agreements.  See the NOTICE file
   4   * distributed with this work for additional information
   5   * regarding copyright ownership.  The ASF licenses this file
   6   * to you under the Apache License, Version 2.0 (the
   7   * &quot;License&quot;); you may not use this file except in compliance
   8   * with the License.  You may obtain a copy of the License at
   9   *
  10   *     http://www.apache.org/licenses/LICENSE-2.0
  11   *
  12   * Unless required by applicable law or agreed to in writing, software
  13   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
  14   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  15   * See the License for the specific language governing permissions and
  16   * limitations under the License.
  17   */
  18  
  19  
  20  
  21  package com.dtstack.flink.sql.side;
  22  
  23  import com.dtstack.flink.sql.table.AbstractTableInfo;
  24  import com.google.common.collect.Lists;
  25  import org.apache.flink.api.common.typeinfo.TypeInformation;
  26  import org.apache.flink.api.java.typeutils.RowTypeInfo;
  27  
  28  import java.io.Serializable;
  29  import java.util.List;

  30  
  31  /**
  32   * Reason:
  33   * Date: 2018/7/25
  34   * Company: www.dtstack.com
  35   * @author xuchao
  36   */
  37  
  38  public abstract class AbstractSideTableInfo extends AbstractTableInfo implements Serializable {
  39  
  40      public static final String TARGET_SUFFIX = &quot;Side&quot;;
  41  
  42      public static final String CACHE_KEY = &quot;cache&quot;;
  43  
  44      public static final String CACHE_SIZE_KEY = &quot;cacheSize&quot;;
  45  
  46      public static final String CACHE_TTLMS_KEY = &quot;cacheTTLMs&quot;;
  47  
  48      public static final String PARTITIONED_JOIN_KEY = &quot;partitionedJoin&quot;;
  49  
  50      public static final String CACHE_MODE_KEY = &quot;cacheMode&quot;;
  51  
  52      public static final String ASYNC_CAP_KEY = &quot;asyncCapacity&quot;;
  53  
  54      public static final String ASYNC_TIMEOUT_KEY = &quot;asyncTimeout&quot;;
  55  
  56      public static final String ASYNC_TIMEOUT_NUM_KEY = &quot;asyncTimeoutNum&quot;;
  57  


<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  58 -    private String cacheType = &quot;none&quot;;//None or LRU or ALL</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +    public static final String ASYNC_REQ_POOL_KEY = &quot;asyncPoolSize&quot;;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +    private String cacheType = &quot;none&quot;;</span>
  62  
  63      private int cacheSize = 10000;
  64  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  65 -    private long cacheTimeout = 60 * 1000;//</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +    private long cacheTimeout = 60_000L;</span>
  67  
  68      private int  asyncCapacity=100;
  69  
  70      private int  asyncTimeout=10000;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +    /**</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +     *  async operator req outside conn pool size, egg rdb conn pool size</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +     */</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +    private int asyncPoolSize = 0;</span>
  76  
  77      private int asyncTimeoutNumLimit = Integer.MAX_VALUE;
  78  
  79      private boolean partitionedJoin = false;
  80  
  81      private String cacheMode=&quot;ordered&quot;;


  82  
  83      private List&lt;PredicateInfo&gt;  predicateInfoes = Lists.newArrayList();
  84  
  85      public RowTypeInfo getRowTypeInfo(){
  86          Class[] fieldClass = getFieldClasses();
  87          TypeInformation&lt;?&gt;[] types = new TypeInformation[fieldClass.length];
  88          String[] fieldNames = getFields();
  89          for(int i=0; i&lt;fieldClass.length; i++){
  90              types[i] = TypeInformation.of(fieldClass[i]);
  91          }
  92  
  93          return new RowTypeInfo(types, fieldNames);
  94      }
  95  
  96      public String getCacheType() {
  97          return cacheType;
  98      }
  99  
 100      public void setCacheType(String cacheType) {
 101          this.cacheType = cacheType;
 102      }
 103  
 104      public int getCacheSize() {
 105          return cacheSize;
 106      }
 107  
 108      public void setCacheSize(int cacheSize) {
 109          this.cacheSize = cacheSize;
 110      }
 111  
 112      public long getCacheTimeout() {
 113          return cacheTimeout;
 114      }
 115  
 116      public void setCacheTimeout(long cacheTimeout) {
 117          this.cacheTimeout = cacheTimeout;
 118      }
 119  
 120      public boolean isPartitionedJoin() {
 121          return partitionedJoin;
 122      }
 123  
 124      public void setPartitionedJoin(boolean partitionedJoin) {
 125          this.partitionedJoin = partitionedJoin;
 126      }
 127  
 128      public String getCacheMode() {
 129          return cacheMode;
 130      }
 131  
 132      public void setCacheMode(String cacheMode) {
 133          this.cacheMode = cacheMode;
 134      }
 135  
 136      public int getAsyncCapacity() {
 137          return asyncCapacity;
 138      }
 139  
 140      public void setAsyncCapacity(int asyncCapacity) {
 141          this.asyncCapacity = asyncCapacity;
 142      }
 143  
 144      public int getAsyncTimeout() {
 145          return asyncTimeout;
 146      }
 147  
 148      public void setAsyncTimeout(int asyncTimeout) {
 149          this.asyncTimeout = asyncTimeout;
 150      }
 151  
 152      public void setPredicateInfoes(List&lt;PredicateInfo&gt; predicateInfoes) {
 153          this.predicateInfoes = predicateInfoes;
 154      }
 155  
 156      public List&lt;PredicateInfo&gt; getPredicateInfoes() {
 157          return predicateInfoes;
 158      }
 159  
 160      public int getAsyncTimeoutNumLimit() {
 161          return asyncTimeoutNumLimit;


 162      }
 163  
 164      public void setAsyncTimeoutNumLimit(int asyncTimeoutNumLimit) {
 165          this.asyncTimeoutNumLimit = asyncTimeoutNumLimit;


 166      }
 167  
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +    public int getAsyncPoolSize() {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +        return asyncPoolSize;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +    }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +    public void setAsyncPoolSize(int asyncPoolSize) {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +        this.asyncPoolSize = asyncPoolSize;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +    }</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +    @Override</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +    public String toString() {</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +        return &quot;Cache Info{&quot; +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +                &quot;cacheType=&#x27;&quot; + cacheType + &#x27;\&#x27;&#x27; +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +                &quot;, cacheSize=&quot; + cacheSize +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +                &quot;, cacheTimeout=&quot; + cacheTimeout +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +                &quot;, asyncCapacity=&quot; + asyncCapacity +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +                &quot;, asyncTimeout=&quot; + asyncTimeout +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +                &quot;, asyncPoolSize=&quot; + asyncPoolSize +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +                &quot;, asyncTimeoutNumLimit=&quot; + asyncTimeoutNumLimit +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +                &quot;, partitionedJoin=&quot; + partitionedJoin +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +                &quot;, cacheMode=&#x27;&quot; + cacheMode + &#x27;\&#x27;&#x27; +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +                &#x27;}&#x27;;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +    }</span>
 190  }</pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            