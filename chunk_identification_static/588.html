<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>588</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    588
                    <a href="587.html">prev</a>
                    <a href="589.html">next</a>
                    <a href="588_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    CyanogenMod/android_packages_apps_Trebuchet_9e5d50c6de67b17c01b486a66e3c25070b456ebc_src/com/android/launcher3/LauncherClings.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;9e5d50c6de67b17c01b486a66e3c25070b456ebc:src/com/android/launcher3/LauncherClings.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;9e5d50c6de67b17c01b486a66e3c25070b456ebc^1:src/com/android/launcher3/LauncherClings.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;9e5d50c6de67b17c01b486a66e3c25070b456ebc^2:src/com/android/launcher3/LauncherClings.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CyanogenMod\android_packages_apps_Trebuchet show &quot;a4d0ef3c84cb5a9951d7d967c2c99d54d573f927:src/com/android/launcher3/LauncherClings.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17 package com.android.launcher3;                                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20 import android.accounts.AccountManager;                                                                  </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="">  21 import android.animation.Animator;                                                                       </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="">  22 import android.animation.AnimatorListenerAdapter;                                                        </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25 import android.content.SharedPreferences;                                                                </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="">  26 import android.graphics.Rect;                                                                            </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28 import android.os.UserManager;                                                                           </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  29 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  30 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  31 import android.view.ViewGroup;                                                                           </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  32 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  33 import android.widget.TextView;                                                                          </span>
<span  style="">  34                                                                                                          </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="">  35 class LauncherClings {                                                                                   </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="">  36     private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;         </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  37     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="">  38     private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="">  39             &quot;cling_gel.migration_workspace.dismissed&quot;;                                                   </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  40     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="">  41     private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;               </span>
<span  style="">  42                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  43     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span class="-2075795743391657709" onmouseenter="enter('-2075795743391657709');" onmouseout="out('-2075795743391657709');" style="">  44     private static final boolean DISABLE_CUSTOM_CLINGS = true;                                           </span>
<span  style="">  45                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  46     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  47     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  48                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  49     private Launcher mLauncher;                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  50     private LayoutInflater mInflater;                                                                    </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="">  51     private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                     </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="">  52             = new HideFromAccessibilityHelper();                                                         </span>
<span  style="">  53                                                                                                          </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  54     /** Ctor */                                                                                          </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  55     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  56         mLauncher = launcher;                                                                            </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="">  57         mInflater = mLauncher.getLayoutInflater();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58     }                                                                                                    </span>
<span  style="">  59                                                                                                          </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="">  60     /** Initializes a cling */                                                                           </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="">  61     private Cling initCling(int clingId, int scrimId, boolean animate,                                   </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="">  62                             boolean dimNavBarVisibilty) {                                                </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="">  63         Cling cling = (Cling) mLauncher.findViewById(clingId);                                           </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="">  64         View scrim = null;                                                                               </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="">  65         if (scrimId &gt; 0) {                                                                               </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="">  66             scrim = mLauncher.findViewById(scrimId);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67         }                                                                                                </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="">  68         if (cling != null) {                                                                             </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="">  69             cling.init(mLauncher, scrim);                                                                </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="">  70             cling.show(animate, SHOW_CLING_DURATION);                                                    </span>
<span  style="">  71                                                                                                          </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="">  72             if (dimNavBarVisibilty) {                                                                    </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="">  73                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                              </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="">  74                         View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76         }                                                                                                </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="">  77         return cling;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78     }                                                                                                    </span>
<span  style="">  79                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style="">  80     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style="">  81     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style="">  82         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  83             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84         }                                                                                                </span>
<span  style="">  85                                                                                                          </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style="">  86         // disable clings when running in a test harness                                                 </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style="">  87         if(ActivityManager.isRunningInTestHarness()) return false;                                       </span>
<span  style="">  88                                                                                                          </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style="">  89         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style="">  90         final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(      </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style="">  91                 Launcher.ACCESSIBILITY_SERVICE);                                                         </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style="">  92         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  93             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94         }                                                                                                </span>
<span  style="">  95                                                                                                          </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style="">  96         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style="">  97         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style="">  98         boolean supportsLimitedUsers =                                                                   </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style="">  99                 android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;       </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 100         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 101         if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                              </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 102             UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);             </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 103             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 104             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 105                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 108         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109     }                                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style=""> 111     /** Returns whether the folder cling is visible. */                                                  </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style=""> 112     public boolean isFolderClingVisible() {                                                              </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 113         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 114         if (cling != null) {                                                                             </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style=""> 115             return cling.getVisibility() == View.VISIBLE;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 117         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118     }                                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style=""> 120     private boolean skipCustomClingIfNoAccounts() {                                                      </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 121         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style=""> 122         boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                      </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style=""> 123         if (customCling) {                                                                               </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style=""> 124             AccountManager am = AccountManager.get(mLauncher);                                           </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style=""> 125             if (am == null) return false;                                                                </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style=""> 126             Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                     </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style=""> 127             return accounts.length == 0;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 129         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130     }                                                                                                    </span>
<span  style=""> 131                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 132     /** Updates the first run cling custom content hint */                                               </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style=""> 133     private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,          </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style=""> 134                                                 boolean animate) {                                       </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style=""> 135         final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                 </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style=""> 136         if (ccHint != null) {                                                                            </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style=""> 137             if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                       </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style=""> 138                 ccHint.setText(ccHintStr);                                                               </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style=""> 139                 ccHint.setVisibility(View.VISIBLE);                                                      </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 140                 if (animate) {                                                                           </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 141                     ccHint.setAlpha(0f);                                                                 </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style=""> 142                     ccHint.animate().alpha(1f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 143                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 144                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 145                 } else {                                                                                 </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style=""> 146                     ccHint.setAlpha(1f);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 148             } else {                                                                                     </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 149                 if (animate) {                                                                           </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style=""> 150                     ccHint.animate().alpha(0f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 151                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style=""> 152                             .setListener(new AnimatorListenerAdapter() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153                                 @Override                                                                </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style=""> 154                                 public void onAnimationEnd(Animator animation) {                         </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 155                                     ccHint.setVisibility(View.GONE);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 157                             })                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 158                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 159                 } else {                                                                                 </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 160                     ccHint.setAlpha(0f);                                                                 </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 161                     ccHint.setVisibility(View.GONE);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165     }                                                                                                    </span>
<span  style=""> 166                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 167     /** Updates the first run cling custom content hint */                                               </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style=""> 168     public void updateCustomContentHintVisibility() {                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 169         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 170         String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                     </span>
<span  style=""> 171                                                                                                          </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style=""> 172         if (mLauncher.getWorkspace().hasCustomContent()) {                                               </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style=""> 173             // Show the custom content hint if ccHintStr is not empty                                    </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 174             if (cling != null) {                                                                         </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style=""> 175                 setCustomContentHintVisibility(cling, ccHintStr, true, true);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 177         } else {                                                                                         </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style=""> 178             // Hide the custom content hint                                                              </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 179             if (cling != null) {                                                                         </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style=""> 180                 setCustomContentHintVisibility(cling, ccHintStr, false, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183     }                                                                                                    </span>
<span  style=""> 184                                                                                                          </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style=""> 185     /** Updates the first run cling search bar hint. */                                                  </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style=""> 186     public void updateSearchBarHint(String hint) {                                                       </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 187         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style=""> 188         if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                 </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 189             TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                       </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style=""> 190             sbHint.setText(hint);                                                                        </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 191             sbHint.setVisibility(View.VISIBLE);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 195     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 196         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 197         return areClingsEnabled() &amp;&amp;                                                                     </span>
<span class="-4842522563655018789" onmouseenter="enter('-4842522563655018789');" onmouseout="out('-4842522563655018789');" style=""> 198             !sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-5922793814747869764" onmouseenter="enter('-5922793814747869764');" onmouseout="out('-5922793814747869764');" style=""> 199             !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-744149375899733227" onmouseenter="enter('-744149375899733227');" onmouseout="out('-744149375899733227');" style=""> 200             LauncherAppState.getLauncherProvider().wasNewDbCreated();                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201     }                                                                                                    </span>
<span  style=""> 202                                                                                                          </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 203     public void removeFirstRunAndMigrationClings() {                                                     </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 204         removeCling(R.id.first_run_cling);                                                               </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 205         removeCling(R.id.migration_cling);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 208     /**                                                                                                  </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 209      * Shows the first run cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 210      *                                                                                                   </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 211      * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher           </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 212      * package was preinstalled or there is no db to migrate from.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 213      */                                                                                                  </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 214     public void showFirstRunCling() {                                                                    </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 215         if (!skipCustomClingIfNoAccounts()) {                                                            </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 216             SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                  </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style=""> 217             // If we&#x27;re not using the default workspace layout, replace workspace cling                  </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style=""> 218             // with a custom workspace cling (usually specified in an overlay)                           </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style=""> 219             // For now, only do this on tablets                                                          </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style=""> 220             if (!DISABLE_CUSTOM_CLINGS) {                                                                </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style=""> 221                 if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;        </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style=""> 222                         mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {            </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style=""> 223                     // Use a custom cling                                                                </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style=""> 224                     View cling = mLauncher.findViewById(R.id.workspace_cling);                           </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style=""> 225                     ViewGroup clingParent = (ViewGroup) cling.getParent();                               </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style=""> 226                     int clingIndex = clingParent.indexOfChild(cling);                                    </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style=""> 227                     clingParent.removeViewAt(clingIndex);                                                </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style=""> 228                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style=""> 229                             clingParent, false);                                                         </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style=""> 230                     clingParent.addView(customCling, clingIndex);                                        </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style=""> 231                     customCling.setId(R.id.workspace_cling);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233             }                                                                                            </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 234             Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 235             if (cling != null) {                                                                         </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 236                 String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                            </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 237                 String ccHintStr = mLauncher.getFirstRunCustomContentHint();                             </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 238                 if (!sbHintStr.isEmpty()) {                                                              </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 239                     TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);               </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 240                     sbHint.setText(sbHintStr);                                                           </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 241                     sbHint.setVisibility(View.VISIBLE);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242                 }                                                                                        </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 243                 setCustomContentHintVisibility(cling, ccHintStr, true, false);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244             }                                                                                            </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 245             initCling(R.id.first_run_cling, 0, false, true);                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 246         } else {                                                                                         </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 247             removeFirstRunAndMigrationClings();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 251     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 252      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 253      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 254      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 255      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 256      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 257     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 258         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style=""> 259                                                                                                          </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 260         Cling c = initCling(R.id.migration_cling, 0, false, true);                                       </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 261         c.bringScrimToFront();                                                                           </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 262         c.bringToFront();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263     }                                                                                                    </span>
<span  style=""> 264                                                                                                          </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 265     public void showMigrationWorkspaceCling() {                                                          </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 266         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 267         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 268                 MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                       </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 269             Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                         </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 270             c.updateMigrationWorkspaceBubblePosition();                                                  </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 271             c.bringScrimToFront();                                                                       </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 272             c.bringToFront();                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 273         } else {                                                                                         </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 274             removeCling(R.id.migration_workspace_cling);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276     }                                                                                                    </span>
<span  style=""> 277                                                                                                          </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 278     public void showWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 279         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 280         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 281                 WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                 </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 282             Cling c = initCling(R.id.workspace_cling, 0, false, true);                                   </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 283             c.updateWorkspaceBubblePosition();                                                           </span>
<span  style=""> 284                                                                                                          </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 285             // Set the focused hotseat app if there is one                                               </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 286             c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                   </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 287                     mLauncher.getFirstRunFocusedHotseatAppRank(),                                        </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 288                     mLauncher.getFirstRunFocusedHotseatAppComponentName(),                               </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 289                     mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                 </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 290                     mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 291         } else {                                                                                         </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 292             removeCling(R.id.workspace_cling);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294     }                                                                                                    </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 295     public Cling showFoldersCling() {                                                                    </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 296         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 297         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 298         if (areClingsEnabled() &amp;&amp;                                                                        </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 299                 !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                            </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 300                 !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                            </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 301             Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                 </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 302                     true, true);                                                                         </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 303             Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 304             if (openFolder != null) {                                                                    </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 305                 Rect openFolderRect = new Rect();                                                        </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 306                 openFolder.getHitRect(openFolderRect);                                                   </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 307                 cling.setOpenFolderRect(openFolderRect);                                                 </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 308                 openFolder.bringToFront();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309             }                                                                                            </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 310             return cling;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 311         } else {                                                                                         </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 312             removeCling(R.id.folder_cling);                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 313             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315     }                                                                                                    </span>
<span  style=""> 316                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 317 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 318 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 319     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 320         SharedPreferences prefs = ctx.getSharedPreferences(                                              </span>
<span class="-619548112324701717" onmouseenter="enter('-619548112324701717');" onmouseout="out('-619548112324701717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 321                 LauncherAppState.getSharedPreferencesKey(),Context.MODE_PRIVATE);                        </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 322         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="-965897542102475641" onmouseenter="enter('-965897542102475641');" onmouseout="out('-965897542102475641');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 323         editor.putBoolean(LauncherClings.FIRST_RUN_CLING_DISMISSED_KEY, true);                           </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 324         editor.commit();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 325     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 326                                                                                                          </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 327     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 328     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 329         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 330         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 331             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 332             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 333                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 334                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 335                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 336                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 337             });                                                                                          </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 338 =======                                                                                                  </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 339     public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                             </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 340         SharedPreferences prefs = ctx.getSharedPreferences(                                              </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 341                 LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                       </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 342         SharedPreferences.Editor editor = prefs.edit();                                                  </span>
<span class="-965897542102475641" onmouseenter="enter('-965897542102475641');" onmouseout="out('-965897542102475641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 343         editor.putBoolean(LauncherClings.FIRST_RUN_CLING_DISMISSED_KEY, true);                           </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 344         editor.commit();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 345     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 346                                                                                                          </span>
<span class="5701624809389491027" onmouseenter="enter('5701624809389491027');" onmouseout="out('5701624809389491027');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 347     public void markFolderClingDismissed() {                                                             </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 348         SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                             </span>
<span class="-591470712171021157" onmouseenter="enter('-591470712171021157');" onmouseout="out('-591470712171021157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 349         editor.putBoolean(LauncherClings.FOLDER_CLING_DISMISSED_KEY, true);                              </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 350         editor.apply();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 351     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 352                                                                                                          </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 353 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 354     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 355     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 356         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 357         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 358             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 359             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 360                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 361                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 362                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 364             });                                                                                          </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 365             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367     }                                                                                                    </span>
<span  style=""> 368                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 369     /** Hides the specified Cling */                                                                     </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 370     private void dismissCling(final Cling cling, final Runnable postAnimationCb,                         </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 371                               final String flag, int duration, boolean restoreNavBarVisibilty) {         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 372         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 373         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 374         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 375             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 376                 public void run() {                                                                      </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 377                     cling.cleanup();                                                                     </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 378                     SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                 </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 379                     editor.putBoolean(flag, true);                                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 380                     editor.apply();                                                                      </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 381                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 382                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 384                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 385             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 386             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 387                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 388             } else {                                                                                     </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 389                 cling.hide(duration, cleanUpClingCb);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390             }                                                                                            </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 391             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span  style=""> 392                                                                                                          </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 393             if (restoreNavBarVisibilty) {                                                                </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 394                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                              </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 395                         ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398     }                                                                                                    </span>
<span  style=""> 399                                                                                                          </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 400     public void dismissFirstRunCling(View v) {                                                           </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 401         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 402         Runnable cb = new Runnable() {                                                                   </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 403             public void run() {                                                                          </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 404                 // Show the workspace cling next                                                         </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 405                 showWorkspaceCling();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 407         };                                                                                               </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 408         dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                           </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 409                 DISMISS_CLING_DURATION, false);                                                          </span>
<span  style=""> 410                                                                                                          </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 411         // Fade out the search bar for the workspace cling coming up                                     </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 412         mLauncher.getSearchBar().hideSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413     }                                                                                                    </span>
<span  style=""> 414                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 415     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 416         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 417         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 418             public void run() {                                                                          </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 419                 Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                      </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 420                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 421                     public void run() {                                                                  </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 422                         // Show the migration workspace cling next                                       </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 423                         showMigrationWorkspaceCling();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 425                 };                                                                                       </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 426                 dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                   </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 427                         DISMISS_CLING_DURATION, true);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 429         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 430         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 431     }                                                                                                    </span>
<span  style=""> 432                                                                                                          </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 433     private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                             </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 434         Runnable cb = null;                                                                              </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 435         if (v == null) {                                                                                 </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 436             cb = new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 437                 public void run() {                                                                      </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 438                     mLauncher.getWorkspace().enterOverviewMode();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 440             };                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441         }                                                                                                </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 442         dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                      </span>
<span  style=""> 443                                                                                                          </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 444         // Fade in the search bar                                                                        </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 445         mLauncher.getSearchBar().showSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 446     }                                                                                                    </span>
<span  style=""> 447                                                                                                          </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 448     public void dismissMigrationClingCopyApps(View v) {                                                  </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 449         // Copy the shortcuts from the old database                                                      </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 450         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 451         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 452         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 453                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 454                         | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                  </span>
<span  style=""> 455                                                                                                          </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 456         // Set the flag to skip the folder cling                                                         </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 457         String spKey = LauncherAppState.getSharedPreferencesKey();                                       </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 458         SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);              </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 459         SharedPreferences.Editor editor = sp.edit();                                                     </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 460         editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                             </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 461         editor.apply();                                                                                  </span>
<span  style=""> 462                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 463         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 464         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465     }                                                                                                    </span>
<span  style=""> 466                                                                                                          </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 467     public void dismissMigrationClingUseDefault(View v) {                                                </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 468         // Clear the workspace                                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 469         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 470         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 471         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 472                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                              </span>
<span  style=""> 473                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 474         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 475         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476     }                                                                                                    </span>
<span  style=""> 477                                                                                                          </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 478     public void dismissMigrationWorkspaceCling(View v) {                                                 </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 479         Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                    </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 480         dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481     }                                                                                                    </span>
<span  style=""> 482                                                                                                          </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 483     public void dismissWorkspaceCling(View v) {                                                          </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 484         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 485         dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 486     }                                                                                                    </span>
<span  style=""> 487                                                                                                          </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 488     public void dismissFolderCling(View v) {                                                             </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 489         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 490         dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 491                 DISMISS_CLING_DURATION, true);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17 package com.android.launcher3;                                                                           </span>
<span  style="">  18                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20 import android.accounts.AccountManager;                                                                  </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="">  21 import android.animation.Animator;                                                                       </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="">  22 import android.animation.AnimatorListenerAdapter;                                                        </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25 import android.content.SharedPreferences;                                                                </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="">  26 import android.graphics.Rect;                                                                            </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28 import android.os.UserManager;                                                                           </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  29 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  30 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  31 import android.view.ViewGroup;                                                                           </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  32 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  33 import android.widget.TextView;                                                                          </span>
<span  style="">  34                                                                                                          </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="">  35 class LauncherClings {                                                                                   </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="">  36     private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;         </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  37     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="">  38     private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="">  39             &quot;cling_gel.migration_workspace.dismissed&quot;;                                                   </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  40     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="">  41     private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;               </span>
<span  style="">  42                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  43     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span class="-2075795743391657709" onmouseenter="enter('-2075795743391657709');" onmouseout="out('-2075795743391657709');" style="">  44     private static final boolean DISABLE_CUSTOM_CLINGS = true;                                           </span>
<span  style="">  45                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  46     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  47     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  48                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  49     private Launcher mLauncher;                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  50     private LayoutInflater mInflater;                                                                    </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="">  51     private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                     </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="">  52             = new HideFromAccessibilityHelper();                                                         </span>
<span  style="">  53                                                                                                          </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  54     /** Ctor */                                                                                          </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  55     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  56         mLauncher = launcher;                                                                            </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="">  57         mInflater = mLauncher.getLayoutInflater();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58     }                                                                                                    </span>
<span  style="">  59                                                                                                          </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="">  60     /** Initializes a cling */                                                                           </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="">  61     private Cling initCling(int clingId, int scrimId, boolean animate,                                   </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="">  62                             boolean dimNavBarVisibilty) {                                                </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="">  63         Cling cling = (Cling) mLauncher.findViewById(clingId);                                           </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="">  64         View scrim = null;                                                                               </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="">  65         if (scrimId &gt; 0) {                                                                               </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="">  66             scrim = mLauncher.findViewById(scrimId);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67         }                                                                                                </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="">  68         if (cling != null) {                                                                             </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="">  69             cling.init(mLauncher, scrim);                                                                </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="">  70             cling.show(animate, SHOW_CLING_DURATION);                                                    </span>
<span  style="">  71                                                                                                          </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="">  72             if (dimNavBarVisibilty) {                                                                    </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="">  73                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                              </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="">  74                         View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76         }                                                                                                </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="">  77         return cling;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78     }                                                                                                    </span>
<span  style="">  79                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style="">  80     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style="">  81     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style="">  82         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  83             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84         }                                                                                                </span>
<span  style="">  85                                                                                                          </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style="">  86         // disable clings when running in a test harness                                                 </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style="">  87         if(ActivityManager.isRunningInTestHarness()) return false;                                       </span>
<span  style="">  88                                                                                                          </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style="">  89         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style="">  90         final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(      </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style="">  91                 Launcher.ACCESSIBILITY_SERVICE);                                                         </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style="">  92         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  93             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94         }                                                                                                </span>
<span  style="">  95                                                                                                          </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style="">  96         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style="">  97         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style="">  98         boolean supportsLimitedUsers =                                                                   </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style="">  99                 android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;       </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 100         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 101         if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                              </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 102             UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);             </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 103             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 104             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 105                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 108         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109     }                                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style=""> 111     /** Returns whether the folder cling is visible. */                                                  </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style=""> 112     public boolean isFolderClingVisible() {                                                              </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 113         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 114         if (cling != null) {                                                                             </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style=""> 115             return cling.getVisibility() == View.VISIBLE;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 117         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118     }                                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style=""> 120     private boolean skipCustomClingIfNoAccounts() {                                                      </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 121         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style=""> 122         boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                      </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style=""> 123         if (customCling) {                                                                               </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style=""> 124             AccountManager am = AccountManager.get(mLauncher);                                           </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style=""> 125             if (am == null) return false;                                                                </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style=""> 126             Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                     </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style=""> 127             return accounts.length == 0;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 129         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130     }                                                                                                    </span>
<span  style=""> 131                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 132     /** Updates the first run cling custom content hint */                                               </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style=""> 133     private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,          </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style=""> 134                                                 boolean animate) {                                       </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style=""> 135         final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                 </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style=""> 136         if (ccHint != null) {                                                                            </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style=""> 137             if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                       </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style=""> 138                 ccHint.setText(ccHintStr);                                                               </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style=""> 139                 ccHint.setVisibility(View.VISIBLE);                                                      </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 140                 if (animate) {                                                                           </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 141                     ccHint.setAlpha(0f);                                                                 </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style=""> 142                     ccHint.animate().alpha(1f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 143                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 144                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 145                 } else {                                                                                 </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style=""> 146                     ccHint.setAlpha(1f);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 148             } else {                                                                                     </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 149                 if (animate) {                                                                           </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style=""> 150                     ccHint.animate().alpha(0f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 151                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style=""> 152                             .setListener(new AnimatorListenerAdapter() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153                                 @Override                                                                </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style=""> 154                                 public void onAnimationEnd(Animator animation) {                         </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 155                                     ccHint.setVisibility(View.GONE);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 157                             })                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 158                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 159                 } else {                                                                                 </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 160                     ccHint.setAlpha(0f);                                                                 </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 161                     ccHint.setVisibility(View.GONE);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165     }                                                                                                    </span>
<span  style=""> 166                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 167     /** Updates the first run cling custom content hint */                                               </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style=""> 168     public void updateCustomContentHintVisibility() {                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 169         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 170         String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                     </span>
<span  style=""> 171                                                                                                          </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style=""> 172         if (mLauncher.getWorkspace().hasCustomContent()) {                                               </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style=""> 173             // Show the custom content hint if ccHintStr is not empty                                    </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 174             if (cling != null) {                                                                         </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style=""> 175                 setCustomContentHintVisibility(cling, ccHintStr, true, true);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 177         } else {                                                                                         </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style=""> 178             // Hide the custom content hint                                                              </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 179             if (cling != null) {                                                                         </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style=""> 180                 setCustomContentHintVisibility(cling, ccHintStr, false, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183     }                                                                                                    </span>
<span  style=""> 184                                                                                                          </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style=""> 185     /** Updates the first run cling search bar hint. */                                                  </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style=""> 186     public void updateSearchBarHint(String hint) {                                                       </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 187         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style=""> 188         if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                 </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 189             TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                       </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style=""> 190             sbHint.setText(hint);                                                                        </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 191             sbHint.setVisibility(View.VISIBLE);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 195     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 196         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 197         return areClingsEnabled() &amp;&amp;                                                                     </span>
<span class="-4842522563655018789" onmouseenter="enter('-4842522563655018789');" onmouseout="out('-4842522563655018789');" style=""> 198             !sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-5922793814747869764" onmouseenter="enter('-5922793814747869764');" onmouseout="out('-5922793814747869764');" style=""> 199             !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false) &amp;&amp;                             </span>
<span class="-744149375899733227" onmouseenter="enter('-744149375899733227');" onmouseout="out('-744149375899733227');" style=""> 200             LauncherAppState.getLauncherProvider().wasNewDbCreated();                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201     }                                                                                                    </span>
<span  style=""> 202                                                                                                          </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 203     public void removeFirstRunAndMigrationClings() {                                                     </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 204         removeCling(R.id.first_run_cling);                                                               </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 205         removeCling(R.id.migration_cling);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span  style=""> 207                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 208     /**                                                                                                  </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 209      * Shows the first run cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 210      *                                                                                                   </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 211      * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher           </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 212      * package was preinstalled or there is no db to migrate from.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 213      */                                                                                                  </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 214     public void showFirstRunCling() {                                                                    </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 215         if (!skipCustomClingIfNoAccounts()) {                                                            </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 216             SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                  </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style=""> 217             // If we&#x27;re not using the default workspace layout, replace workspace cling                  </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style=""> 218             // with a custom workspace cling (usually specified in an overlay)                           </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style=""> 219             // For now, only do this on tablets                                                          </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style=""> 220             if (!DISABLE_CUSTOM_CLINGS) {                                                                </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style=""> 221                 if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;        </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style=""> 222                         mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {            </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style=""> 223                     // Use a custom cling                                                                </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style=""> 224                     View cling = mLauncher.findViewById(R.id.workspace_cling);                           </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style=""> 225                     ViewGroup clingParent = (ViewGroup) cling.getParent();                               </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style=""> 226                     int clingIndex = clingParent.indexOfChild(cling);                                    </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style=""> 227                     clingParent.removeViewAt(clingIndex);                                                </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style=""> 228                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style=""> 229                             clingParent, false);                                                         </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style=""> 230                     clingParent.addView(customCling, clingIndex);                                        </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style=""> 231                     customCling.setId(R.id.workspace_cling);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 232                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233             }                                                                                            </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 234             Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 235             if (cling != null) {                                                                         </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 236                 String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                            </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 237                 String ccHintStr = mLauncher.getFirstRunCustomContentHint();                             </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 238                 if (!sbHintStr.isEmpty()) {                                                              </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 239                     TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);               </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 240                     sbHint.setText(sbHintStr);                                                           </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 241                     sbHint.setVisibility(View.VISIBLE);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242                 }                                                                                        </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 243                 setCustomContentHintVisibility(cling, ccHintStr, true, false);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244             }                                                                                            </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 245             initCling(R.id.first_run_cling, 0, false, true);                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 246         } else {                                                                                         </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 247             removeFirstRunAndMigrationClings();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 251     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 252      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 253      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 254      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 255      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 256      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 257     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 258         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style=""> 259                                                                                                          </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 260         Cling c = initCling(R.id.migration_cling, 0, false, true);                                       </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 261         c.bringScrimToFront();                                                                           </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 262         c.bringToFront();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263     }                                                                                                    </span>
<span  style=""> 264                                                                                                          </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 265     public void showMigrationWorkspaceCling() {                                                          </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 266         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 267         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 268                 MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                       </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 269             Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                         </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 270             c.updateMigrationWorkspaceBubblePosition();                                                  </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 271             c.bringScrimToFront();                                                                       </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 272             c.bringToFront();                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 273         } else {                                                                                         </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 274             removeCling(R.id.migration_workspace_cling);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276     }                                                                                                    </span>
<span  style=""> 277                                                                                                          </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 278     public void showWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 279         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 280         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 281                 WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                 </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 282             Cling c = initCling(R.id.workspace_cling, 0, false, true);                                   </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 283             c.updateWorkspaceBubblePosition();                                                           </span>
<span  style=""> 284                                                                                                          </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 285             // Set the focused hotseat app if there is one                                               </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 286             c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                   </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 287                     mLauncher.getFirstRunFocusedHotseatAppRank(),                                        </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 288                     mLauncher.getFirstRunFocusedHotseatAppComponentName(),                               </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 289                     mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                 </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 290                     mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 291         } else {                                                                                         </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 292             removeCling(R.id.workspace_cling);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294     }                                                                                                    </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 295     public Cling showFoldersCling() {                                                                    </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 296         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 297         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 298         if (areClingsEnabled() &amp;&amp;                                                                        </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 299                 !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                            </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 300                 !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                            </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 301             Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                 </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 302                     true, true);                                                                         </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 303             Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 304             if (openFolder != null) {                                                                    </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 305                 Rect openFolderRect = new Rect();                                                        </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 306                 openFolder.getHitRect(openFolderRect);                                                   </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 307                 cling.setOpenFolderRect(openFolderRect);                                                 </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 308                 openFolder.bringToFront();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309             }                                                                                            </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 310             return cling;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 311         } else {                                                                                         </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 312             removeCling(R.id.folder_cling);                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 313             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315     }                                                                                                    </span>
<span  style=""> 316                                                                                                          </span>
<span class="5701624809389491027" onmouseenter="enter('5701624809389491027');" onmouseout="out('5701624809389491027');" style=""> 317     public void markFolderClingDismissed() {                                                             </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 318         SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                             </span>
<span class="-591470712171021157" onmouseenter="enter('-591470712171021157');" onmouseout="out('-591470712171021157');" style=""> 319         editor.putBoolean(LauncherClings.FOLDER_CLING_DISMISSED_KEY, true);                              </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 320         editor.apply();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 323     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 324     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 325         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 326         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 327             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 328             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 329                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 330                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 331                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 333             });                                                                                          </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 334             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 338     /** Hides the specified Cling */                                                                     </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 339     private void dismissCling(final Cling cling, final Runnable postAnimationCb,                         </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 340                               final String flag, int duration, boolean restoreNavBarVisibilty) {         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 341         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 342         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 343         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 344             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 345                 public void run() {                                                                      </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 346                     cling.cleanup();                                                                     </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 347                     SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                 </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 348                     editor.putBoolean(flag, true);                                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 349                     editor.apply();                                                                      </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 350                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 351                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 354             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 355             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 356                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 357             } else {                                                                                     </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 358                 cling.hide(duration, cleanUpClingCb);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359             }                                                                                            </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 360             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span  style=""> 361                                                                                                          </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 362             if (restoreNavBarVisibilty) {                                                                </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 363                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                              </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 364                         ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367     }                                                                                                    </span>
<span  style=""> 368                                                                                                          </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 369     public void dismissFirstRunCling(View v) {                                                           </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 370         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 371         Runnable cb = new Runnable() {                                                                   </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 372             public void run() {                                                                          </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 373                 // Show the workspace cling next                                                         </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 374                 showWorkspaceCling();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 376         };                                                                                               </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 377         dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                           </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 378                 DISMISS_CLING_DURATION, false);                                                          </span>
<span  style=""> 379                                                                                                          </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 380         // Fade out the search bar for the workspace cling coming up                                     </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 381         mLauncher.getSearchBar().hideSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382     }                                                                                                    </span>
<span  style=""> 383                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 384     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 385         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 386         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 387             public void run() {                                                                          </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 388                 Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                      </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 389                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 390                     public void run() {                                                                  </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 391                         // Show the migration workspace cling next                                       </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 392                         showMigrationWorkspaceCling();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 394                 };                                                                                       </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 395                 dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                   </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 396                         DISMISS_CLING_DURATION, true);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 398         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 399         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400     }                                                                                                    </span>
<span  style=""> 401                                                                                                          </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 402     private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                             </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 403         Runnable cb = null;                                                                              </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 404         if (v == null) {                                                                                 </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 405             cb = new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 406                 public void run() {                                                                      </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 407                     mLauncher.getWorkspace().enterOverviewMode();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 409             };                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410         }                                                                                                </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 411         dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                      </span>
<span  style=""> 412                                                                                                          </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 413         // Fade in the search bar                                                                        </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 414         mLauncher.getSearchBar().showSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 415     }                                                                                                    </span>
<span  style=""> 416                                                                                                          </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 417     public void dismissMigrationClingCopyApps(View v) {                                                  </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 418         // Copy the shortcuts from the old database                                                      </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 419         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 420         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 421         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 422                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 423                         | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                  </span>
<span  style=""> 424                                                                                                          </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 425         // Set the flag to skip the folder cling                                                         </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 426         String spKey = LauncherAppState.getSharedPreferencesKey();                                       </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 427         SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);              </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 428         SharedPreferences.Editor editor = sp.edit();                                                     </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 429         editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                             </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 430         editor.apply();                                                                                  </span>
<span  style=""> 431                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 432         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 433         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434     }                                                                                                    </span>
<span  style=""> 435                                                                                                          </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 436     public void dismissMigrationClingUseDefault(View v) {                                                </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 437         // Clear the workspace                                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 438         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 439         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 440         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 441                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                              </span>
<span  style=""> 442                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 443         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 444         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445     }                                                                                                    </span>
<span  style=""> 446                                                                                                          </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 447     public void dismissMigrationWorkspaceCling(View v) {                                                 </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 448         Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                    </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 449         dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 450     }                                                                                                    </span>
<span  style=""> 451                                                                                                          </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 452     public void dismissWorkspaceCling(View v) {                                                          </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 453         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 454         dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 455     }                                                                                                    </span>
<span  style=""> 456                                                                                                          </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 457     public void dismissFolderCling(View v) {                                                             </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 458         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 459         dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 460                 DISMISS_CLING_DURATION, true);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 462 }                                                                                                        </span>





























</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2  * Copyright (C) 2008 The Android Open Source Project                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  16 package com.android.launcher3;                                                                           </span>
<span  style="">  17                                                                                                          </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  18 import android.accounts.Account;                                                                         </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  19 import android.accounts.AccountManager;                                                                  </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="">  20 import android.animation.Animator;                                                                       </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="">  21 import android.animation.AnimatorListenerAdapter;                                                        </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  22 import android.app.ActivityManager;                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  23 import android.content.Context;                                                                          </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  24 import android.content.SharedPreferences;                                                                </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="">  25 import android.graphics.Rect;                                                                            </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  26 import android.os.Bundle;                                                                                </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  27 import android.os.UserManager;                                                                           </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  28 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  30 import android.view.ViewGroup;                                                                           </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  31 import android.view.accessibility.AccessibilityManager;                                                  </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  32 import android.widget.TextView;                                                                          </span>
<span  style="">  33                                                                                                          </span>
<span  style="">  34                                                                                                          </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="">  35 class LauncherClings {                                                                                   </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="">  36     private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;         </span>
<span  style="">  37                                                                                                          </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  38     private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;         </span>
<span  style="">  39                                                                                                          </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="">  40     private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="">  41             &quot;cling_gel.migration_workspace.dismissed&quot;;                                                   </span>
<span  style="">  42                                                                                                          </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  43     private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;         </span>
<span  style="">  44                                                                                                          </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="">  45     private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;               </span>
<span  style="">  46                                                                                                          </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  47     private static final boolean DISABLE_CLINGS = false;                                                 </span>
<span  style="">  48                                                                                                          </span>
<span class="-2075795743391657709" onmouseenter="enter('-2075795743391657709');" onmouseout="out('-2075795743391657709');" style="">  49     private static final boolean DISABLE_CUSTOM_CLINGS = true;                                           </span>
<span  style="">  50                                                                                                          </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  51     private static final int SHOW_CLING_DURATION = 250;                                                  </span>
<span  style="">  52                                                                                                          </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  53     private static final int DISMISS_CLING_DURATION = 200;                                               </span>
<span  style="">  54                                                                                                          </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  55     private Launcher mLauncher;                                                                          </span>
<span  style="">  56                                                                                                          </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  57     private LayoutInflater mInflater;                                                                    </span>
<span  style="">  58                                                                                                          </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="">  59     private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                     </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="">  60             = new HideFromAccessibilityHelper();                                                         </span>
<span  style="">  61                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  62     /**                                                                                                  </span>
<span class="6383201501619105133" onmouseenter="enter('6383201501619105133');" onmouseout="out('6383201501619105133');" style="">  63      * Ctor                                                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  64      */                                                                                                  </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  65     public LauncherClings(Launcher launcher) {                                                           </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  66         mLauncher = launcher;                                                                            </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="">  67         mInflater = mLauncher.getLayoutInflater();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68     }                                                                                                    </span>
<span  style="">  69                                                                                                          </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="">  70     /** Initializes a cling */                                                                           </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="">  71     private Cling initCling(int clingId, int scrimId, boolean animate,                                   </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="">  72                             boolean dimNavBarVisibilty) {                                                </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="">  73         Cling cling = (Cling) mLauncher.findViewById(clingId);                                           </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="">  74         View scrim = null;                                                                               </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="">  75         if (scrimId &gt; 0) {                                                                               </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="">  76             scrim = mLauncher.findViewById(scrimId);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77         }                                                                                                </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="">  78         if (cling != null) {                                                                             </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="">  79             cling.init(mLauncher, scrim);                                                                </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="">  80             cling.show(animate, SHOW_CLING_DURATION);                                                    </span>
<span  style="">  81                                                                                                          </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="">  82             if (dimNavBarVisibilty) {                                                                    </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="">  83                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                              </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="">  84                         View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86         }                                                                                                </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="">  87         return cling;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88     }                                                                                                    </span>
<span  style="">  89                                                                                                          </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style="">  90     /** Returns whether the clings are enabled or should be shown */                                     </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style="">  91     private boolean areClingsEnabled() {                                                                 </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style="">  92         if (DISABLE_CLINGS) {                                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  93             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94         }                                                                                                </span>
<span  style="">  95                                                                                                          </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style="">  96         // disable clings when running in a test harness                                                 </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style="">  97         if(ActivityManager.isRunningInTestHarness()) return false;                                       </span>
<span  style="">  98                                                                                                          </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style="">  99         // Disable clings for accessibility when explore by touch is enabled                             </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style=""> 100         final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(      </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style=""> 101                 Launcher.ACCESSIBILITY_SERVICE);                                                         </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style=""> 102         if (a11yManager.isTouchExplorationEnabled()) {                                                   </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 103             return false;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104         }                                                                                                </span>
<span  style=""> 105                                                                                                          </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style=""> 106         // Restricted secondary users (child mode) will potentially have very few apps                   </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style=""> 107         // seeded when they start up for the first time. Clings won&#x27;t work well with that                </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style=""> 108         boolean supportsLimitedUsers =                                                                   </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style=""> 109                 android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;       </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 110         Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 111         if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                              </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 112             UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);             </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 113             Bundle restrictions = um.getUserRestrictions();                                              </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 114             if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                  </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 115                 return false;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117         }                                                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style=""> 121     /** Returns whether the folder cling is visible. */                                                  </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style=""> 122     public boolean isFolderClingVisible() {                                                              </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 123         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 124         if (cling != null) {                                                                             </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style=""> 125             return cling.getVisibility() == View.VISIBLE;                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 127         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style=""> 130     private boolean skipCustomClingIfNoAccounts() {                                                      </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 131         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style=""> 132         boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                      </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style=""> 133         if (customCling) {                                                                               </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style=""> 134             AccountManager am = AccountManager.get(mLauncher);                                           </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style=""> 135             if (am == null) return false;                                                                </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style=""> 136             Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                     </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style=""> 137             return accounts.length == 0;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 139         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140     }                                                                                                    </span>
<span  style=""> 141                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 142     /** Updates the first run cling custom content hint */                                               </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style=""> 143     private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,          </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style=""> 144                                                 boolean animate) {                                       </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style=""> 145         final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                 </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style=""> 146         if (ccHint != null) {                                                                            </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style=""> 147             if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                       </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style=""> 148                 ccHint.setText(ccHintStr);                                                               </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style=""> 149                 ccHint.setVisibility(View.VISIBLE);                                                      </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 150                 if (animate) {                                                                           </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 151                     ccHint.setAlpha(0f);                                                                 </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style=""> 152                     ccHint.animate().alpha(1f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 153                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 154                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 155                 } else {                                                                                 </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style=""> 156                     ccHint.setAlpha(1f);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157                 }                                                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 158             } else {                                                                                     </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 159                 if (animate) {                                                                           </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style=""> 160                     ccHint.animate().alpha(0f)                                                           </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 161                             .setDuration(SHOW_CLING_DURATION)                                            </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style=""> 162                             .setListener(new AnimatorListenerAdapter() {                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 163                                 @Override                                                                </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style=""> 164                                 public void onAnimationEnd(Animator animation) {                         </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 165                                     ccHint.setVisibility(View.GONE);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 166                                 }                                                                        </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 167                             })                                                                           </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 168                             .start();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 169                 } else {                                                                                 </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 170                     ccHint.setAlpha(0f);                                                                 </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 171                     ccHint.setVisibility(View.GONE);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 177     /** Updates the first run cling custom content hint */                                               </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style=""> 178     public void updateCustomContentHintVisibility() {                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 179         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 180         String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                     </span>
<span  style=""> 181                                                                                                          </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style=""> 182         if (mLauncher.getWorkspace().hasCustomContent()) {                                               </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style=""> 183             // Show the custom content hint if ccHintStr is not empty                                    </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 184             if (cling != null) {                                                                         </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style=""> 185                 setCustomContentHintVisibility(cling, ccHintStr, true, true);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 187         } else {                                                                                         </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style=""> 188             // Hide the custom content hint                                                              </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 189             if (cling != null) {                                                                         </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style=""> 190                 setCustomContentHintVisibility(cling, ccHintStr, false, true);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style=""> 195     /** Updates the first run cling search bar hint. */                                                  </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style=""> 196     public void updateSearchBarHint(String hint) {                                                       </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 197         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style=""> 198         if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                 </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 199             TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                       </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style=""> 200             sbHint.setText(hint);                                                                        </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 201             sbHint.setVisibility(View.VISIBLE);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203     }                                                                                                    </span>
<span  style=""> 204                                                                                                          </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 205     public boolean shouldShowFirstRunOrMigrationClings() {                                               </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 206         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-8829390849676575480" onmouseenter="enter('-8829390849676575480');" onmouseout="out('-8829390849676575480');" style=""><abbr title=" 207         return ((areClingsEnabled() &amp;&amp; (!sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false))) &amp;&amp; (!sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false))) &amp;&amp; LauncherAppState.getLauncherProvider().wasNewDbCreated();"> 207         return ((areClingsEnabled() &amp;&amp; (!sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false))) &amp;🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 210     public void removeFirstRunAndMigrationClings() {                                                     </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 211         removeCling(R.id.first_run_cling);                                                               </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 212         removeCling(R.id.migration_cling);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 215     /**                                                                                                  </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 216      * Shows the first run cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 217      *                                                                                                   </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 218      * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher           </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 219      * package was preinstalled or there is no db to migrate from.                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 220      */                                                                                                  </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 221     public void showFirstRunCling() {                                                                    </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 222         if (!skipCustomClingIfNoAccounts()) {                                                            </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 223             SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                  </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style=""> 224             // If we&#x27;re not using the default workspace layout, replace workspace cling                  </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style=""> 225             // with a custom workspace cling (usually specified in an overlay)                           </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style=""> 226             // For now, only do this on tablets                                                          </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style=""> 227             if (!DISABLE_CUSTOM_CLINGS) {                                                                </span>
<span class="-7693153368007584866" onmouseenter="enter('-7693153368007584866');" onmouseout="out('-7693153368007584866');" style=""><abbr title=" 228                 if ((sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0) &amp;&amp; mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {"> 228                 if ((sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0) &amp;&amp; mLaun🔵</abbr></span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style=""> 229                     // Use a custom cling                                                                </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style=""> 230                     View cling = mLauncher.findViewById(R.id.workspace_cling);                           </span>
<span class="7044390027712971962" onmouseenter="enter('7044390027712971962');" onmouseout="out('7044390027712971962');" style=""> 231                     ViewGroup clingParent = ((ViewGroup) (cling.getParent()));                           </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style=""> 232                     int clingIndex = clingParent.indexOfChild(cling);                                    </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style=""> 233                     clingParent.removeViewAt(clingIndex);                                                </span>
<span class="3509316094880654654" onmouseenter="enter('3509316094880654654');" onmouseout="out('3509316094880654654');" style=""><abbr title=" 234                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling, clingParent, false);"> 234                     View customCling = mInflater.inflate(R.layout.custom_workspace_cling, clingParent, fa🔵</abbr></span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style=""> 235                     clingParent.addView(customCling, clingIndex);                                        </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style=""> 236                     customCling.setId(R.id.workspace_cling);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238             }                                                                                            </span>
<span class="8206044733905258522" onmouseenter="enter('8206044733905258522');" onmouseout="out('8206044733905258522');" style=""> 239             Cling cling = ((Cling) (mLauncher.findViewById(R.id.first_run_cling)));                      </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 240             if (cling != null) {                                                                         </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 241                 String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                            </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 242                 String ccHintStr = mLauncher.getFirstRunCustomContentHint();                             </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 243                 if (!sbHintStr.isEmpty()) {                                                              </span>
<span class="6726477422261387029" onmouseenter="enter('6726477422261387029');" onmouseout="out('6726477422261387029');" style=""> 244                     TextView sbHint = ((TextView) (cling.findViewById(R.id.search_bar_hint)));           </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 245                     sbHint.setText(sbHintStr);                                                           </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 246                     sbHint.setVisibility(View.VISIBLE);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247                 }                                                                                        </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 248                 setCustomContentHintVisibility(cling, ccHintStr, true, false);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249             }                                                                                            </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 250             initCling(R.id.first_run_cling, 0, false, true);                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 251         } else {                                                                                         </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 252             removeFirstRunAndMigrationClings();                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 256     /**                                                                                                  </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 257      * Shows the migration cling.                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 258      *                                                                                                   </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 259      * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher            </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 260      * package was not preinstalled and there exists a db to migrate from.                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 261      */                                                                                                  </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 262     public void showMigrationCling() {                                                                   </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 263         mLauncher.hideWorkspaceSearchAndHotseat();                                                       </span>
<span  style=""> 264                                                                                                          </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 265         Cling c = initCling(R.id.migration_cling, 0, false, true);                                       </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 266         c.bringScrimToFront();                                                                           </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 267         c.bringToFront();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268     }                                                                                                    </span>
<span  style=""> 269                                                                                                          </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 270     public void showMigrationWorkspaceCling() {                                                          </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 271         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 272         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 273                 MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                       </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 274             Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                         </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 275             c.updateMigrationWorkspaceBubblePosition();                                                  </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 276             c.bringScrimToFront();                                                                       </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 277             c.bringToFront();                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 278         } else {                                                                                         </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 279             removeCling(R.id.migration_workspace_cling);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281     }                                                                                                    </span>
<span  style=""> 282                                                                                                          </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 283     public void showWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 284         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 285         if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 286                 WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                 </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 287             Cling c = initCling(R.id.workspace_cling, 0, false, true);                                   </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 288             c.updateWorkspaceBubblePosition();                                                           </span>
<span  style=""> 289                                                                                                          </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 290             // Set the focused hotseat app if there is one                                               </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 291             c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                   </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 292                     mLauncher.getFirstRunFocusedHotseatAppRank(),                                        </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 293                     mLauncher.getFirstRunFocusedHotseatAppComponentName(),                               </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 294                     mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                 </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 295                     mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 296         } else {                                                                                         </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 297             removeCling(R.id.workspace_cling);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span  style=""> 300                                                                                                          </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 301     public Cling showFoldersCling() {                                                                    </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 302         SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                      </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 303         // Enable the clings only if they have not been dismissed before                                 </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 304         if (areClingsEnabled() &amp;&amp;                                                                        </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 305                 !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                            </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 306                 !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                            </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 307             Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                 </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 308                     true, true);                                                                         </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 309             Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 310             if (openFolder != null) {                                                                    </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 311                 Rect openFolderRect = new Rect();                                                        </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 312                 openFolder.getHitRect(openFolderRect);                                                   </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 313                 cling.setOpenFolderRect(openFolderRect);                                                 </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 314                 openFolder.bringToFront();                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315             }                                                                                            </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 316             return cling;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317         } else {                                                                                         </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 318             removeCling(R.id.folder_cling);                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 319             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321     }                                                                                                    </span>
<span  style=""> 322                                                                                                          </span>
<span class="5701624809389491027" onmouseenter="enter('5701624809389491027');" onmouseout="out('5701624809389491027');" style=""> 323     public void markFolderClingDismissed() {                                                             </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 324         SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                             </span>
<span class="-591470712171021157" onmouseenter="enter('-591470712171021157');" onmouseout="out('-591470712171021157');" style=""> 325         editor.putBoolean(LauncherClings.FOLDER_CLING_DISMISSED_KEY, true);                              </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 326         editor.apply();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span  style=""> 328                                                                                                          </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 329     /** Removes the cling outright from the DragLayer */                                                 </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 330     private void removeCling(int id) {                                                                   </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 331         final View cling = mLauncher.findViewById(id);                                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 332         if (cling != null) {                                                                             </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 333             final ViewGroup parent = (ViewGroup) cling.getParent();                                      </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 334             parent.post(new Runnable() {                                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 335                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 336                 public void run() {                                                                      </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 337                     parent.removeView(cling);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 339             });                                                                                          </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 340             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342     }                                                                                                    </span>
<span  style=""> 343                                                                                                          </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 344     /** Hides the specified Cling */                                                                     </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 345     private void dismissCling(final Cling cling, final Runnable postAnimationCb,                         </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 346                               final String flag, int duration, boolean restoreNavBarVisibilty) {         </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 347         // To catch cases where siblings of top-level views are made invisible, just check whether       </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 348         // the cling is directly set to GONE before dismissing it.                                       </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 349         if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                       </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 350             final Runnable cleanUpClingCb = new Runnable() {                                             </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 351                 public void run() {                                                                      </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 352                     cling.cleanup();                                                                     </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 353                     SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                 </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 354                     editor.putBoolean(flag, true);                                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 355                     editor.apply();                                                                      </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 356                     if (postAnimationCb != null) {                                                       </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 357                         postAnimationCb.run();                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 360             };                                                                                           </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 361             if (duration &lt;= 0) {                                                                         </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 362                 cleanUpClingCb.run();                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 363             } else {                                                                                     </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 364                 cling.hide(duration, cleanUpClingCb);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365             }                                                                                            </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 366             mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());     </span>
<span  style=""> 367                                                                                                          </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 368             if (restoreNavBarVisibilty) {                                                                </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 369                 cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                              </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 370                         ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 375     public void dismissFirstRunCling(View v) {                                                           </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 376         Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                              </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 377         Runnable cb = new Runnable() {                                                                   </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 378             public void run() {                                                                          </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 379                 // Show the workspace cling next                                                         </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 380                 showWorkspaceCling();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 382         };                                                                                               </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 383         dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                           </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 384                 DISMISS_CLING_DURATION, false);                                                          </span>
<span  style=""> 385                                                                                                          </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 386         // Fade out the search bar for the workspace cling coming up                                     </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 387         mLauncher.getSearchBar().hideSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 388     }                                                                                                    </span>
<span  style=""> 389                                                                                                          </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 390     private void dismissMigrationCling() {                                                               </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 391         mLauncher.showWorkspaceSearchAndHotseat();                                                       </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 392         Runnable dismissCb = new Runnable() {                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 393             public void run() {                                                                          </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 394                 Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                      </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 395                 Runnable cb = new Runnable() {                                                           </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 396                     public void run() {                                                                  </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 397                         // Show the migration workspace cling next                                       </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 398                         showMigrationWorkspaceCling();                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 399                     }                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 400                 };                                                                                       </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 401                 dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                   </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 402                         DISMISS_CLING_DURATION, true);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 404         };                                                                                               </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 405         mLauncher.getWorkspace().post(dismissCb);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 406     }                                                                                                    </span>
<span  style=""> 407                                                                                                          </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 408     private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                             </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 409         Runnable cb = null;                                                                              </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 410         if (v == null) {                                                                                 </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 411             cb = new Runnable() {                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 412                 public void run() {                                                                      </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 413                     mLauncher.getWorkspace().enterOverviewMode();                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414                 }                                                                                        </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 415             };                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 416         }                                                                                                </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 417         dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                      </span>
<span  style=""> 418                                                                                                          </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 419         // Fade in the search bar                                                                        </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 420         mLauncher.getSearchBar().showSearchBar(true);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421     }                                                                                                    </span>
<span  style=""> 422                                                                                                          </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 423     public void dismissMigrationClingCopyApps(View v) {                                                  </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 424         // Copy the shortcuts from the old database                                                      </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 425         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 426         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 427         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 428                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 429                         | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                  </span>
<span  style=""> 430                                                                                                          </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 431         // Set the flag to skip the folder cling                                                         </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 432         String spKey = LauncherAppState.getSharedPreferencesKey();                                       </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 433         SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);              </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 434         SharedPreferences.Editor editor = sp.edit();                                                     </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 435         editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                             </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 436         editor.apply();                                                                                  </span>
<span  style=""> 437                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 438         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 439         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440     }                                                                                                    </span>
<span  style=""> 441                                                                                                          </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 442     public void dismissMigrationClingUseDefault(View v) {                                                </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 443         // Clear the workspace                                                                           </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 444         LauncherModel model = mLauncher.getModel();                                                      </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 445         model.resetLoadedState(false, true);                                                             </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 446         model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                         </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 447                 LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                              </span>
<span  style=""> 448                                                                                                          </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 449         // Disable the migration cling                                                                   </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 450         dismissMigrationCling();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451     }                                                                                                    </span>
<span  style=""> 452                                                                                                          </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 453     public void dismissMigrationWorkspaceCling(View v) {                                                 </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 454         Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                    </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 455         dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456     }                                                                                                    </span>
<span  style=""> 457                                                                                                          </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 458     public void dismissWorkspaceCling(View v) {                                                          </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 459         Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                              </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 460         dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 461     }                                                                                                    </span>
<span  style=""> 462                                                                                                          </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 463     public void dismissFolderCling(View v) {                                                             </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 464         Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                 </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 465         dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 466                 DISMISS_CLING_DURATION, true);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468 }                                                                                                        </span>























</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2   * Copyright (C) 2008 The Android Open Source Project                                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17  package com.android.launcher3;                                                                                    </span>
<span  style="">  18                                                                                                                    </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19  import android.accounts.Account;                                                                                  </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20  import android.accounts.AccountManager;                                                                           </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="">  21  import android.animation.Animator;                                                                                </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="">  22  import android.animation.AnimatorListenerAdapter;                                                                 </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23  import android.app.ActivityManager;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24  import android.content.Context;                                                                                   </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25  import android.content.SharedPreferences;                                                                         </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="">  26  import android.graphics.Rect;                                                                                     </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27  import android.os.Bundle;                                                                                         </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28  import android.os.UserManager;                                                                                    </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  29  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  30  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  31  import android.view.ViewGroup;                                                                                    </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  32  import android.view.accessibility.AccessibilityManager;                                                           </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  33  import android.widget.TextView;                                                                                   </span>
<span  style="">  34                                                                                                                    </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="">  35  class LauncherClings {                                                                                            </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="">  36      private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;                  </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  37      private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;                  </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="">  38      private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                         </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="">  39              &quot;cling_gel.migration_workspace.dismissed&quot;;                                                            </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  40      private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;                  </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="">  41      private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;                        </span>
<span  style="">  42                                                                                                                    </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  43      private static final boolean DISABLE_CLINGS = false;                                                          </span>
<span class="-2075795743391657709" onmouseenter="enter('-2075795743391657709');" onmouseout="out('-2075795743391657709');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 +    private static final boolean DISABLE_CUSTOM_CLINGS = true;                                                    </span>
<span  style="">  45                                                                                                                    </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  46      private static final int SHOW_CLING_DURATION = 250;                                                           </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  47      private static final int DISMISS_CLING_DURATION = 200;                                                        </span>
<span  style="">  48                                                                                                                    </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  49      private Launcher mLauncher;                                                                                   </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  50      private LayoutInflater mInflater;                                                                             </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="">  51      private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                              </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="">  52              = new HideFromAccessibilityHelper();                                                                  </span>
<span  style="">  53                                                                                                                    </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  54      /** Ctor */                                                                                                   </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  55      public LauncherClings(Launcher launcher) {                                                                    </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  56          mLauncher = launcher;                                                                                     </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="">  57          mInflater = mLauncher.getLayoutInflater();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58      }                                                                                                             </span>
<span  style="">  59                                                                                                                    </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="">  60      /** Initializes a cling */                                                                                    </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="">  61      private Cling initCling(int clingId, int scrimId, boolean animate,                                            </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="">  62                              boolean dimNavBarVisibilty) {                                                         </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="">  63          Cling cling = (Cling) mLauncher.findViewById(clingId);                                                    </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="">  64          View scrim = null;                                                                                        </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="">  65          if (scrimId &gt; 0) {                                                                                        </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="">  66              scrim = mLauncher.findViewById(scrimId);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  67          }                                                                                                         </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="">  68          if (cling != null) {                                                                                      </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="">  69              cling.init(mLauncher, scrim);                                                                         </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="">  70              cling.show(animate, SHOW_CLING_DURATION);                                                             </span>
<span  style="">  71                                                                                                                    </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="">  72              if (dimNavBarVisibilty) {                                                                             </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="">  73                  cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                                       </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="">  74                          View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76          }                                                                                                         </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="">  77          return cling;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  78      }                                                                                                             </span>
<span  style="">  79                                                                                                                    </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style="">  80      /** Returns whether the clings are enabled or should be shown */                                              </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style="">  81      private boolean areClingsEnabled() {                                                                          </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style="">  82          if (DISABLE_CLINGS) {                                                                                     </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  83              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84          }                                                                                                         </span>
<span  style="">  85                                                                                                                    </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style="">  86          // disable clings when running in a test harness                                                          </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style="">  87          if(ActivityManager.isRunningInTestHarness()) return false;                                                </span>
<span  style="">  88                                                                                                                    </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style="">  89          // Disable clings for accessibility when explore by touch is enabled                                      </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style="">  90          final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(               </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style="">  91                  Launcher.ACCESSIBILITY_SERVICE);                                                                  </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style="">  92          if (a11yManager.isTouchExplorationEnabled()) {                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  93              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  94          }                                                                                                         </span>
<span  style="">  95                                                                                                                    </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style="">  96          // Restricted secondary users (child mode) will potentially have very few apps                            </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style="">  97          // seeded when they start up for the first time. Clings won&#x27;t work well with that                         </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style="">  98          boolean supportsLimitedUsers =                                                                            </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style="">  99                  android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;                </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style=""> 100          Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                         </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 101          if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                                       </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 102              UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);                      </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 103              Bundle restrictions = um.getUserRestrictions();                                                       </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 104              if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 105                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107          }                                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 108          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109      }                                                                                                             </span>
<span  style=""> 110                                                                                                                    </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style=""> 111      /** Returns whether the folder cling is visible. */                                                           </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style=""> 112      public boolean isFolderClingVisible() {                                                                       </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 113          Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 114          if (cling != null) {                                                                                      </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style=""> 115              return cling.getVisibility() == View.VISIBLE;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 117          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118      }                                                                                                             </span>
<span  style=""> 119                                                                                                                    </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style=""> 120      private boolean skipCustomClingIfNoAccounts() {                                                               </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 121          Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style=""> 122          boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                               </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style=""> 123          if (customCling) {                                                                                        </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style=""> 124              AccountManager am = AccountManager.get(mLauncher);                                                    </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style=""> 125              if (am == null) return false;                                                                         </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style=""> 126              Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                              </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style=""> 127              return accounts.length == 0;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 129          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130      }                                                                                                             </span>
<span  style=""> 131                                                                                                                    </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 132      /** Updates the first run cling custom content hint */                                                        </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style=""> 133      private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,                   </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style=""> 134                                                  boolean animate) {                                                </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style=""> 135          final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                          </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style=""> 136          if (ccHint != null) {                                                                                     </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style=""> 137              if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                                </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style=""> 138                  ccHint.setText(ccHintStr);                                                                        </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style=""> 139                  ccHint.setVisibility(View.VISIBLE);                                                               </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 140                  if (animate) {                                                                                    </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 141                      ccHint.setAlpha(0f);                                                                          </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style=""> 142                      ccHint.animate().alpha(1f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 143                              .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 144                              .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 145                  } else {                                                                                          </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style=""> 146                      ccHint.setAlpha(1f);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147                  }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 148              } else {                                                                                              </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 149                  if (animate) {                                                                                    </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style=""> 150                      ccHint.animate().alpha(0f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 151                              .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style=""> 152                              .setListener(new AnimatorListenerAdapter() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153                                  @Override                                                                         </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style=""> 154                                  public void onAnimationEnd(Animator animation) {                                  </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 155                                      ccHint.setVisibility(View.GONE);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156                                  }                                                                                 </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 157                              })                                                                                    </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 158                              .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 159                  } else {                                                                                          </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 160                      ccHint.setAlpha(0f);                                                                          </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 161                      ccHint.setVisibility(View.GONE);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165      }                                                                                                             </span>
<span  style=""> 166                                                                                                                    </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 167      /** Updates the first run cling custom content hint */                                                        </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style=""> 168      public void updateCustomContentHintVisibility() {                                                             </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 169          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 170          String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                              </span>
<span  style=""> 171                                                                                                                    </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style=""> 172          if (mLauncher.getWorkspace().hasCustomContent()) {                                                        </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style=""> 173              // Show the custom content hint if ccHintStr is not empty                                             </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 174              if (cling != null) {                                                                                  </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style=""> 175                  setCustomContentHintVisibility(cling, ccHintStr, true, true);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 177          } else {                                                                                                  </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style=""> 178              // Hide the custom content hint                                                                       </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 179              if (cling != null) {                                                                                  </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style=""> 180                  setCustomContentHintVisibility(cling, ccHintStr, false, true);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183      }                                                                                                             </span>
<span  style=""> 184                                                                                                                    </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style=""> 185      /** Updates the first run cling search bar hint. */                                                           </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style=""> 186      public void updateSearchBarHint(String hint) {                                                                </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 187          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style=""> 188          if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                          </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 189              TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                                </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style=""> 190              sbHint.setText(hint);                                                                                 </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 191              sbHint.setVisibility(View.VISIBLE);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193      }                                                                                                             </span>
<span  style=""> 194                                                                                                                    </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 195      public boolean shouldShowFirstRunOrMigrationClings() {                                                        </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 196          SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 197          return areClingsEnabled() &amp;&amp;                                                                              </span>
<span class="-4842522563655018789" onmouseenter="enter('-4842522563655018789');" onmouseout="out('-4842522563655018789');" style=""> 198              !sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-8544301680236423151" onmouseenter="enter('-8544301680236423151');" onmouseout="out('-8544301680236423151');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -            !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false);                                        </span>
<span class="-5922793814747869764" onmouseenter="enter('-5922793814747869764');" onmouseout="out('-5922793814747869764');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +            !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-744149375899733227" onmouseenter="enter('-744149375899733227');" onmouseout="out('-744149375899733227');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +            LauncherAppState.getLauncherProvider().wasNewDbCreated();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202      }                                                                                                             </span>
<span  style=""> 203                                                                                                                    </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 204      public void removeFirstRunAndMigrationClings() {                                                              </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 205          removeCling(R.id.first_run_cling);                                                                        </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 206          removeCling(R.id.migration_cling);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207      }                                                                                                             </span>
<span  style=""> 208                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 209      /**                                                                                                           </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 210       * Shows the first run cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 211       *                                                                                                            </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 212       * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher                    </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 213       * package was preinstalled or there is no db to migrate from.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 214       */                                                                                                           </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 215      public void showFirstRunCling() {                                                                             </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 216          if (!skipCustomClingIfNoAccounts()) {                                                                     </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 217 +            SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                           </span>
<span class="-4083369916878923514" onmouseenter="enter('-4083369916878923514');" onmouseout="out('-4083369916878923514');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 218 +            // If we&#x27;re not using the default workspace layout, replace workspace cling                           </span>
<span class="-3429332699908170731" onmouseenter="enter('-3429332699908170731');" onmouseout="out('-3429332699908170731');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +            // with a custom workspace cling (usually specified in an overlay)                                    </span>
<span class="-348951919886124885" onmouseenter="enter('-348951919886124885');" onmouseout="out('-348951919886124885');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +            // For now, only do this on tablets                                                                   </span>
<span class="-5394644189204163525" onmouseenter="enter('-5394644189204163525');" onmouseout="out('-5394644189204163525');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +            if (!DISABLE_CUSTOM_CLINGS) {                                                                         </span>
<span class="156660452169084569" onmouseenter="enter('156660452169084569');" onmouseout="out('156660452169084569');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +                if (sharedPrefs.getInt(LauncherProvider.DEFAULT_WORKSPACE_RESOURCE_ID, 0) != 0 &amp;&amp;                 </span>
<span class="2813951541077607514" onmouseenter="enter('2813951541077607514');" onmouseout="out('2813951541077607514');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +                        mLauncher.getResources().getBoolean(R.bool.config_useCustomClings)) {                     </span>
<span class="-1966131443899903402" onmouseenter="enter('-1966131443899903402');" onmouseout="out('-1966131443899903402');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +                    // Use a custom cling                                                                         </span>
<span class="-4755558187006853717" onmouseenter="enter('-4755558187006853717');" onmouseout="out('-4755558187006853717');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +                    View cling = mLauncher.findViewById(R.id.workspace_cling);                                    </span>
<span class="4480519638670873320" onmouseenter="enter('4480519638670873320');" onmouseout="out('4480519638670873320');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +                    ViewGroup clingParent = (ViewGroup) cling.getParent();                                        </span>
<span class="-7359365132154387385" onmouseenter="enter('-7359365132154387385');" onmouseout="out('-7359365132154387385');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +                    int clingIndex = clingParent.indexOfChild(cling);                                             </span>
<span class="5198324649484068706" onmouseenter="enter('5198324649484068706');" onmouseout="out('5198324649484068706');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +                    clingParent.removeViewAt(clingIndex);                                                         </span>
<span class="6138631462351189999" onmouseenter="enter('6138631462351189999');" onmouseout="out('6138631462351189999');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +                    View customCling = mInflater.inflate(R.layout.custom_workspace_cling,                         </span>
<span class="2282821999478624641" onmouseenter="enter('2282821999478624641');" onmouseout="out('2282821999478624641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +                            clingParent, false);                                                                  </span>
<span class="-6359732752602191545" onmouseenter="enter('-6359732752602191545');" onmouseout="out('-6359732752602191545');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +                    clingParent.addView(customCling, clingIndex);                                                 </span>
<span class="-6428326510747425118" onmouseenter="enter('-6428326510747425118');" onmouseout="out('-6428326510747425118');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +                    customCling.setId(R.id.workspace_cling);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +            }                                                                                                     </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 235              Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 236              if (cling != null) {                                                                                  </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 237                  String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                                     </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 238                  String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                      </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 239                  if (!sbHintStr.isEmpty()) {                                                                       </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 240                      TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                        </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 241                      sbHint.setText(sbHintStr);                                                                    </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 242                      sbHint.setVisibility(View.VISIBLE);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243                  }                                                                                                 </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 244                  setCustomContentHintVisibility(cling, ccHintStr, true, false);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245              }                                                                                                     </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 246              initCling(R.id.first_run_cling, 0, false, true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 247          } else {                                                                                                  </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 248              removeFirstRunAndMigrationClings();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250      }                                                                                                             </span>
<span  style=""> 251                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 252      /**                                                                                                           </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 253       * Shows the migration cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 254       *                                                                                                            </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 255       * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher                     </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 256       * package was not preinstalled and there exists a db to migrate from.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 257       */                                                                                                           </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 258      public void showMigrationCling() {                                                                            </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 259          mLauncher.hideWorkspaceSearchAndHotseat();                                                                </span>
<span  style=""> 260                                                                                                                    </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 261          Cling c = initCling(R.id.migration_cling, 0, false, true);                                                </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 262          c.bringScrimToFront();                                                                                    </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 263          c.bringToFront();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264      }                                                                                                             </span>
<span  style=""> 265                                                                                                                    </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 266      public void showMigrationWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 267          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 268          if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 269                  MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 270              Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                                  </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 271              c.updateMigrationWorkspaceBubblePosition();                                                           </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 272              c.bringScrimToFront();                                                                                </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 273              c.bringToFront();                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 274          } else {                                                                                                  </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 275              removeCling(R.id.migration_workspace_cling);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277      }                                                                                                             </span>
<span  style=""> 278                                                                                                                    </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 279      public void showWorkspaceCling() {                                                                            </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 280          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 281          if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 282                  WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                          </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 283              Cling c = initCling(R.id.workspace_cling, 0, false, true);                                            </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 284              c.updateWorkspaceBubblePosition();                                                                    </span>
<span  style=""> 285                                                                                                                    </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 286              // Set the focused hotseat app if there is one                                                        </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 287              c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                            </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 288                      mLauncher.getFirstRunFocusedHotseatAppRank(),                                                 </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 289                      mLauncher.getFirstRunFocusedHotseatAppComponentName(),                                        </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 290                      mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                          </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 291                      mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 292          } else {                                                                                                  </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 293              removeCling(R.id.workspace_cling);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295      }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 296 -                                                                                                                  </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 297      public Cling showFoldersCling() {                                                                             </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 298          SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 299          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 300          if (areClingsEnabled() &amp;&amp;                                                                                 </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 301                  !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                                     </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 302                  !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                                     </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 303              Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                          </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 304                      true, true);                                                                                  </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 305              Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                         </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 306              if (openFolder != null) {                                                                             </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 307                  Rect openFolderRect = new Rect();                                                                 </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 308                  openFolder.getHitRect(openFolderRect);                                                            </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 309                  cling.setOpenFolderRect(openFolderRect);                                                          </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 310                  openFolder.bringToFront();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311              }                                                                                                     </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 312              return cling;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313          } else {                                                                                                  </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 314              removeCling(R.id.folder_cling);                                                                       </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 315              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 317 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 318 -                                                                                                                  </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 319 -    public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                                      </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -        SharedPreferences prefs = ctx.getSharedPreferences(                                                       </span>
<span class="-619548112324701717" onmouseenter="enter('-619548112324701717');" onmouseout="out('-619548112324701717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 321 -                LauncherAppState.getSharedPreferencesKey(),Context.MODE_PRIVATE);                                 </span>

<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 322 -        SharedPreferences.Editor editor = prefs.edit();                                                           </span>
<span class="-965897542102475641" onmouseenter="enter('-965897542102475641');" onmouseout="out('-965897542102475641');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 323 -        editor.putBoolean(LauncherClings.FIRST_RUN_CLING_DISMISSED_KEY, true);                                    </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 324 -        editor.commit();                                                                                          </span>






<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325      }                                                                                                             </span>
<span  style=""> 326                                                                                                                    </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 327      /** Removes the cling outright from the DragLayer */                                                          </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 328      private void removeCling(int id) {                                                                            </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 329          final View cling = mLauncher.findViewById(id);                                                            </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 330          if (cling != null) {                                                                                      </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 331              final ViewGroup parent = (ViewGroup) cling.getParent();                                               </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 332              parent.post(new Runnable() {                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 333                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 334                  public void run() {                                                                               </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 335                      parent.removeView(cling);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 337              });                                                                                                   </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 338              mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 342      /** Hides the specified Cling */                                                                              </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 343      private void dismissCling(final Cling cling, final Runnable postAnimationCb,                                  </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 344                                final String flag, int duration, boolean restoreNavBarVisibilty) {                  </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 345          // To catch cases where siblings of top-level views are made invisible, just check whether                </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 346          // the cling is directly set to GONE before dismissing it.                                                </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 347          if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                                </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 348              final Runnable cleanUpClingCb = new Runnable() {                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 349                  public void run() {                                                                               </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 350                      cling.cleanup();                                                                              </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 351                      SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                          </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 352                      editor.putBoolean(flag, true);                                                                </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 353                      editor.apply();                                                                               </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 354                      if (postAnimationCb != null) {                                                                </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 355                          postAnimationCb.run();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 358              };                                                                                                    </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 359              if (duration &lt;= 0) {                                                                                  </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 360                  cleanUpClingCb.run();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 361              } else {                                                                                              </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 362                  cling.hide(duration, cleanUpClingCb);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363              }                                                                                                     </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 364              mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span  style=""> 365                                                                                                                    </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 366              if (restoreNavBarVisibilty) {                                                                         </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 367                  cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                                       </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 368                          ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371      }                                                                                                             </span>
<span  style=""> 372                                                                                                                    </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 373      public void dismissFirstRunCling(View v) {                                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 374          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 375          Runnable cb = new Runnable() {                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 376              public void run() {                                                                                   </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 377                  // Show the workspace cling next                                                                  </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 378                  showWorkspaceCling();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 380          };                                                                                                        </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 381          dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                                    </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 382                  DISMISS_CLING_DURATION, false);                                                                   </span>
<span  style=""> 383                                                                                                                    </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 384          // Fade out the search bar for the workspace cling coming up                                              </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 385          mLauncher.getSearchBar().hideSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386      }                                                                                                             </span>
<span  style=""> 387                                                                                                                    </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 388      private void dismissMigrationCling() {                                                                        </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 389          mLauncher.showWorkspaceSearchAndHotseat();                                                                </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 390          Runnable dismissCb = new Runnable() {                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 391              public void run() {                                                                                   </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 392                  Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                               </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 393                  Runnable cb = new Runnable() {                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 394                      public void run() {                                                                           </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 395                          // Show the migration workspace cling next                                                </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 396                          showMigrationWorkspaceCling();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397                      }                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 398                  };                                                                                                </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 399                  dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 400                          DISMISS_CLING_DURATION, true);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 402          };                                                                                                        </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 403          mLauncher.getWorkspace().post(dismissCb);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404      }                                                                                                             </span>
<span  style=""> 405                                                                                                                    </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 406      private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                                      </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 407          Runnable cb = null;                                                                                       </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 408          if (v == null) {                                                                                          </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 409              cb = new Runnable() {                                                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 410                  public void run() {                                                                               </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 411                      mLauncher.getWorkspace().enterOverviewMode();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 413              };                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414          }                                                                                                         </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 415          dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                               </span>
<span  style=""> 416                                                                                                                    </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 417          // Fade in the search bar                                                                                 </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 418          mLauncher.getSearchBar().showSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419      }                                                                                                             </span>
<span  style=""> 420                                                                                                                    </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 421      public void dismissMigrationClingCopyApps(View v) {                                                           </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 422          // Copy the shortcuts from the old database                                                               </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 423          LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 424          model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 425          model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 426                  LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                         </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 427                          | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                           </span>
<span  style=""> 428                                                                                                                    </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 429          // Set the flag to skip the folder cling                                                                  </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 430          String spKey = LauncherAppState.getSharedPreferencesKey();                                                </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 431          SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);                       </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 432          SharedPreferences.Editor editor = sp.edit();                                                              </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 433          editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                                      </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 434          editor.apply();                                                                                           </span>
<span  style=""> 435                                                                                                                    </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 436          // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 437          dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438      }                                                                                                             </span>
<span  style=""> 439                                                                                                                    </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 440      public void dismissMigrationClingUseDefault(View v) {                                                         </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 441          // Clear the workspace                                                                                    </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 442          LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 443          model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 444          model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 445                  LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                                       </span>
<span  style=""> 446                                                                                                                    </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 447          // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 448          dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449      }                                                                                                             </span>
<span  style=""> 450                                                                                                                    </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 451      public void dismissMigrationWorkspaceCling(View v) {                                                          </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 452          Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                             </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 453          dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 454      }                                                                                                             </span>
<span  style=""> 455                                                                                                                    </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 456      public void dismissWorkspaceCling(View v) {                                                                   </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 457          Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 458          dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459      }                                                                                                             </span>
<span  style=""> 460                                                                                                                    </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 461      public void dismissFolderCling(View v) {                                                                      </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 462          Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 463          dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                                     </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 464                  DISMISS_CLING_DURATION, true);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 466  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="1710841298952644868" onmouseenter="enter('1710841298952644868');" onmouseout="out('1710841298952644868');" style="">   2   * Copyright (C) 2008 The Android Open Source Project                                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="5824586583419512860" onmouseenter="enter('5824586583419512860');" onmouseout="out('5824586583419512860');" style="">  17  package com.android.launcher3;                                                                                    </span>
<span  style="">  18                                                                                                                    </span>
<span class="-6495778408187958773" onmouseenter="enter('-6495778408187958773');" onmouseout="out('-6495778408187958773');" style="">  19  import android.accounts.Account;                                                                                  </span>
<span class="-4290724221799431726" onmouseenter="enter('-4290724221799431726');" onmouseout="out('-4290724221799431726');" style="">  20  import android.accounts.AccountManager;                                                                           </span>
<span class="-7391579724786615359" onmouseenter="enter('-7391579724786615359');" onmouseout="out('-7391579724786615359');" style="">  21  import android.animation.Animator;                                                                                </span>
<span class="-2791103566631450650" onmouseenter="enter('-2791103566631450650');" onmouseout="out('-2791103566631450650');" style="">  22  import android.animation.AnimatorListenerAdapter;                                                                 </span>
<span class="-867022162471464761" onmouseenter="enter('-867022162471464761');" onmouseout="out('-867022162471464761');" style="">  23  import android.app.ActivityManager;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  24  import android.content.Context;                                                                                   </span>
<span class="4122587240602557356" onmouseenter="enter('4122587240602557356');" onmouseout="out('4122587240602557356');" style="">  25  import android.content.SharedPreferences;                                                                         </span>
<span class="2207333516549486115" onmouseenter="enter('2207333516549486115');" onmouseout="out('2207333516549486115');" style="">  26  import android.graphics.Rect;                                                                                     </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  27  import android.os.Bundle;                                                                                         </span>
<span class="8468813798191439332" onmouseenter="enter('8468813798191439332');" onmouseout="out('8468813798191439332');" style="">  28  import android.os.UserManager;                                                                                    </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  29  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  30  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  31  import android.view.ViewGroup;                                                                                    </span>
<span class="6122616721289117070" onmouseenter="enter('6122616721289117070');" onmouseout="out('6122616721289117070');" style="">  32  import android.view.accessibility.AccessibilityManager;                                                           </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  33  import android.widget.TextView;                                                                                   </span>
<span  style="">  34                                                                                                                    </span>
<span class="-4230089802071878665" onmouseenter="enter('-4230089802071878665');" onmouseout="out('-4230089802071878665');" style="">  35  class LauncherClings {                                                                                            </span>
<span class="-4243898042014795711" onmouseenter="enter('-4243898042014795711');" onmouseout="out('-4243898042014795711');" style="">  36      private static final String FIRST_RUN_CLING_DISMISSED_KEY = &quot;cling_gel.first_run.dismissed&quot;;                  </span>
<span class="-3308414687198900813" onmouseenter="enter('-3308414687198900813');" onmouseout="out('-3308414687198900813');" style="">  37      private static final String MIGRATION_CLING_DISMISSED_KEY = &quot;cling_gel.migration.dismissed&quot;;                  </span>
<span class="3697341770517881526" onmouseenter="enter('3697341770517881526');" onmouseout="out('3697341770517881526');" style="">  38      private static final String MIGRATION_WORKSPACE_CLING_DISMISSED_KEY =                                         </span>
<span class="-4035874501819325394" onmouseenter="enter('-4035874501819325394');" onmouseout="out('-4035874501819325394');" style="">  39              &quot;cling_gel.migration_workspace.dismissed&quot;;                                                            </span>
<span class="31081463360309483" onmouseenter="enter('31081463360309483');" onmouseout="out('31081463360309483');" style="">  40      private static final String WORKSPACE_CLING_DISMISSED_KEY = &quot;cling_gel.workspace.dismissed&quot;;                  </span>
<span class="897553759992275294" onmouseenter="enter('897553759992275294');" onmouseout="out('897553759992275294');" style="">  41      private static final String FOLDER_CLING_DISMISSED_KEY = &quot;cling_gel.folder.dismissed&quot;;                        </span>
<span  style="">  42                                                                                                                    </span>
<span class="-6108196666915926272" onmouseenter="enter('-6108196666915926272');" onmouseout="out('-6108196666915926272');" style="">  43      private static final boolean DISABLE_CLINGS = false;                                                          </span>

<span  style="">  44                                                                                                                    </span>
<span class="3295282513488083953" onmouseenter="enter('3295282513488083953');" onmouseout="out('3295282513488083953');" style="">  45      private static final int SHOW_CLING_DURATION = 250;                                                           </span>
<span class="-390355554219055740" onmouseenter="enter('-390355554219055740');" onmouseout="out('-390355554219055740');" style="">  46      private static final int DISMISS_CLING_DURATION = 200;                                                        </span>
<span  style="">  47                                                                                                                    </span>
<span class="6529376592887942407" onmouseenter="enter('6529376592887942407');" onmouseout="out('6529376592887942407');" style="">  48      private Launcher mLauncher;                                                                                   </span>
<span class="-523445379060512737" onmouseenter="enter('-523445379060512737');" onmouseout="out('-523445379060512737');" style="">  49      private LayoutInflater mInflater;                                                                             </span>
<span class="-7961741172755511412" onmouseenter="enter('-7961741172755511412');" onmouseout="out('-7961741172755511412');" style="">  50      private HideFromAccessibilityHelper mHideFromAccessibilityHelper                                              </span>
<span class="8922603082812548116" onmouseenter="enter('8922603082812548116');" onmouseout="out('8922603082812548116');" style="">  51              = new HideFromAccessibilityHelper();                                                                  </span>
<span  style="">  52                                                                                                                    </span>
<span class="8862948734953438636" onmouseenter="enter('8862948734953438636');" onmouseout="out('8862948734953438636');" style="">  53      /** Ctor */                                                                                                   </span>
<span class="464138818269235881" onmouseenter="enter('464138818269235881');" onmouseout="out('464138818269235881');" style="">  54      public LauncherClings(Launcher launcher) {                                                                    </span>
<span class="2298492052814421644" onmouseenter="enter('2298492052814421644');" onmouseout="out('2298492052814421644');" style="">  55          mLauncher = launcher;                                                                                     </span>
<span class="-2917522078181641337" onmouseenter="enter('-2917522078181641337');" onmouseout="out('-2917522078181641337');" style="">  56          mInflater = mLauncher.getLayoutInflater();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  57      }                                                                                                             </span>
<span  style="">  58                                                                                                                    </span>
<span class="3933030995569352701" onmouseenter="enter('3933030995569352701');" onmouseout="out('3933030995569352701');" style="">  59      /** Initializes a cling */                                                                                    </span>
<span class="-7257921045488326324" onmouseenter="enter('-7257921045488326324');" onmouseout="out('-7257921045488326324');" style="">  60      private Cling initCling(int clingId, int scrimId, boolean animate,                                            </span>
<span class="1632870456878960528" onmouseenter="enter('1632870456878960528');" onmouseout="out('1632870456878960528');" style="">  61                              boolean dimNavBarVisibilty) {                                                         </span>
<span class="-4424411489884778174" onmouseenter="enter('-4424411489884778174');" onmouseout="out('-4424411489884778174');" style="">  62          Cling cling = (Cling) mLauncher.findViewById(clingId);                                                    </span>
<span class="-824783911317540095" onmouseenter="enter('-824783911317540095');" onmouseout="out('-824783911317540095');" style="">  63          View scrim = null;                                                                                        </span>
<span class="-4649658546674341452" onmouseenter="enter('-4649658546674341452');" onmouseout="out('-4649658546674341452');" style="">  64          if (scrimId &gt; 0) {                                                                                        </span>
<span class="7031714685832921388" onmouseenter="enter('7031714685832921388');" onmouseout="out('7031714685832921388');" style="">  65              scrim = mLauncher.findViewById(scrimId);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66          }                                                                                                         </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style="">  67          if (cling != null) {                                                                                      </span>
<span class="4173569672443983418" onmouseenter="enter('4173569672443983418');" onmouseout="out('4173569672443983418');" style="">  68              cling.init(mLauncher, scrim);                                                                         </span>
<span class="-8880519769545914309" onmouseenter="enter('-8880519769545914309');" onmouseout="out('-8880519769545914309');" style="">  69              cling.show(animate, SHOW_CLING_DURATION);                                                             </span>
<span  style="">  70                                                                                                                    </span>
<span class="-8584959720041347142" onmouseenter="enter('-8584959720041347142');" onmouseout="out('-8584959720041347142');" style="">  71              if (dimNavBarVisibilty) {                                                                             </span>
<span class="5653747513126521531" onmouseenter="enter('5653747513126521531');" onmouseout="out('5653747513126521531');" style="">  72                  cling.setSystemUiVisibility(cling.getSystemUiVisibility() |                                       </span>
<span class="-6947705641421720113" onmouseenter="enter('-6947705641421720113');" onmouseout="out('-6947705641421720113');" style="">  73                          View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75          }                                                                                                         </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style="">  76          return cling;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  77      }                                                                                                             </span>
<span  style="">  78                                                                                                                    </span>
<span class="5300682275263855423" onmouseenter="enter('5300682275263855423');" onmouseout="out('5300682275263855423');" style="">  79      /** Returns whether the clings are enabled or should be shown */                                              </span>
<span class="-2039120910355194703" onmouseenter="enter('-2039120910355194703');" onmouseout="out('-2039120910355194703');" style="">  80      private boolean areClingsEnabled() {                                                                          </span>
<span class="-5434652538751038602" onmouseenter="enter('-5434652538751038602');" onmouseout="out('-5434652538751038602');" style="">  81          if (DISABLE_CLINGS) {                                                                                     </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  82              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83          }                                                                                                         </span>
<span  style="">  84                                                                                                                    </span>
<span class="1655446136254934715" onmouseenter="enter('1655446136254934715');" onmouseout="out('1655446136254934715');" style="">  85          // disable clings when running in a test harness                                                          </span>
<span class="2175564756068584280" onmouseenter="enter('2175564756068584280');" onmouseout="out('2175564756068584280');" style="">  86          if(ActivityManager.isRunningInTestHarness()) return false;                                                </span>
<span  style="">  87                                                                                                                    </span>
<span class="-4940375973301570848" onmouseenter="enter('-4940375973301570848');" onmouseout="out('-4940375973301570848');" style="">  88          // Disable clings for accessibility when explore by touch is enabled                                      </span>
<span class="346135224168768784" onmouseenter="enter('346135224168768784');" onmouseout="out('346135224168768784');" style="">  89          final AccessibilityManager a11yManager = (AccessibilityManager) mLauncher.getSystemService(               </span>
<span class="-348490069720379555" onmouseenter="enter('-348490069720379555');" onmouseout="out('-348490069720379555');" style="">  90                  Launcher.ACCESSIBILITY_SERVICE);                                                                  </span>
<span class="3381885366020145772" onmouseenter="enter('3381885366020145772');" onmouseout="out('3381885366020145772');" style="">  91          if (a11yManager.isTouchExplorationEnabled()) {                                                            </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style="">  92              return false;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93          }                                                                                                         </span>
<span  style="">  94                                                                                                                    </span>
<span class="-6700702801227335087" onmouseenter="enter('-6700702801227335087');" onmouseout="out('-6700702801227335087');" style="">  95          // Restricted secondary users (child mode) will potentially have very few apps                            </span>
<span class="-125133678854732492" onmouseenter="enter('-125133678854732492');" onmouseout="out('-125133678854732492');" style="">  96          // seeded when they start up for the first time. Clings won&#x27;t work well with that                         </span>
<span class="-8932079794586286691" onmouseenter="enter('-8932079794586286691');" onmouseout="out('-8932079794586286691');" style="">  97          boolean supportsLimitedUsers =                                                                            </span>
<span class="8220864302559032878" onmouseenter="enter('8220864302559032878');" onmouseout="out('8220864302559032878');" style="">  98                  android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.JELLY_BEAN_MR2;                </span>
<span class="-2146248830001791305" onmouseenter="enter('-2146248830001791305');" onmouseout="out('-2146248830001791305');" style="">  99          Account[] accounts = AccountManager.get(mLauncher).getAccounts();                                         </span>
<span class="-6019800057392764720" onmouseenter="enter('-6019800057392764720');" onmouseout="out('-6019800057392764720');" style=""> 100          if (supportsLimitedUsers &amp;&amp; accounts.length == 0) {                                                       </span>
<span class="5978133552824222950" onmouseenter="enter('5978133552824222950');" onmouseout="out('5978133552824222950');" style=""> 101              UserManager um = (UserManager) mLauncher.getSystemService(Context.USER_SERVICE);                      </span>
<span class="-7758541088809299406" onmouseenter="enter('-7758541088809299406');" onmouseout="out('-7758541088809299406');" style=""> 102              Bundle restrictions = um.getUserRestrictions();                                                       </span>
<span class="8652689122212039279" onmouseenter="enter('8652689122212039279');" onmouseout="out('8652689122212039279');" style=""> 103              if (restrictions.getBoolean(UserManager.DISALLOW_MODIFY_ACCOUNTS, false)) {                           </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 104                  return false;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106          }                                                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 107          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108      }                                                                                                             </span>
<span  style=""> 109                                                                                                                    </span>
<span class="-6656871287104981339" onmouseenter="enter('-6656871287104981339');" onmouseout="out('-6656871287104981339');" style=""> 110      /** Returns whether the folder cling is visible. */                                                           </span>
<span class="2652077572462010410" onmouseenter="enter('2652077572462010410');" onmouseout="out('2652077572462010410');" style=""> 111      public boolean isFolderClingVisible() {                                                                       </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 112          Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 113          if (cling != null) {                                                                                      </span>
<span class="5354156543745985413" onmouseenter="enter('5354156543745985413');" onmouseout="out('5354156543745985413');" style=""> 114              return cling.getVisibility() == View.VISIBLE;                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 115          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 116          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117      }                                                                                                             </span>
<span  style=""> 118                                                                                                                    </span>
<span class="3261734471704407142" onmouseenter="enter('3261734471704407142');" onmouseout="out('3261734471704407142');" style=""> 119      private boolean skipCustomClingIfNoAccounts() {                                                               </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 120          Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="8131879796396513109" onmouseenter="enter('8131879796396513109');" onmouseout="out('8131879796396513109');" style=""> 121          boolean customCling = cling.getDrawIdentifier().equals(&quot;workspace_custom&quot;);                               </span>
<span class="-5088119995433972536" onmouseenter="enter('-5088119995433972536');" onmouseout="out('-5088119995433972536');" style=""> 122          if (customCling) {                                                                                        </span>
<span class="4107110348360829953" onmouseenter="enter('4107110348360829953');" onmouseout="out('4107110348360829953');" style=""> 123              AccountManager am = AccountManager.get(mLauncher);                                                    </span>
<span class="3719083100298396941" onmouseenter="enter('3719083100298396941');" onmouseout="out('3719083100298396941');" style=""> 124              if (am == null) return false;                                                                         </span>
<span class="8585034104970628706" onmouseenter="enter('8585034104970628706');" onmouseout="out('8585034104970628706');" style=""> 125              Account[] accounts = am.getAccountsByType(&quot;com.google&quot;);                                              </span>
<span class="888681830593290824" onmouseenter="enter('888681830593290824');" onmouseout="out('888681830593290824');" style=""> 126              return accounts.length == 0;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 128          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129      }                                                                                                             </span>
<span  style=""> 130                                                                                                                    </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 131      /** Updates the first run cling custom content hint */                                                        </span>
<span class="469116777513878906" onmouseenter="enter('469116777513878906');" onmouseout="out('469116777513878906');" style=""> 132      private void setCustomContentHintVisibility(Cling cling, String ccHintStr, boolean visible,                   </span>
<span class="2028612541949110954" onmouseenter="enter('2028612541949110954');" onmouseout="out('2028612541949110954');" style=""> 133                                                  boolean animate) {                                                </span>
<span class="-1461653222731043539" onmouseenter="enter('-1461653222731043539');" onmouseout="out('-1461653222731043539');" style=""> 134          final TextView ccHint = (TextView) cling.findViewById(R.id.custom_content_hint);                          </span>
<span class="-4247356510670510727" onmouseenter="enter('-4247356510670510727');" onmouseout="out('-4247356510670510727');" style=""> 135          if (ccHint != null) {                                                                                     </span>
<span class="1991709376262395818" onmouseenter="enter('1991709376262395818');" onmouseout="out('1991709376262395818');" style=""> 136              if (visible &amp;&amp; !ccHintStr.isEmpty()) {                                                                </span>
<span class="-7182387380533329815" onmouseenter="enter('-7182387380533329815');" onmouseout="out('-7182387380533329815');" style=""> 137                  ccHint.setText(ccHintStr);                                                                        </span>
<span class="-5435635288811662091" onmouseenter="enter('-5435635288811662091');" onmouseout="out('-5435635288811662091');" style=""> 138                  ccHint.setVisibility(View.VISIBLE);                                                               </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 139                  if (animate) {                                                                                    </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 140                      ccHint.setAlpha(0f);                                                                          </span>
<span class="-6388238533787919161" onmouseenter="enter('-6388238533787919161');" onmouseout="out('-6388238533787919161');" style=""> 141                      ccHint.animate().alpha(1f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 142                              .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 143                              .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 144                  } else {                                                                                          </span>
<span class="-2018909752855152566" onmouseenter="enter('-2018909752855152566');" onmouseout="out('-2018909752855152566');" style=""> 145                      ccHint.setAlpha(1f);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146                  }                                                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 147              } else {                                                                                              </span>
<span class="-3084718635131935106" onmouseenter="enter('-3084718635131935106');" onmouseout="out('-3084718635131935106');" style=""> 148                  if (animate) {                                                                                    </span>
<span class="2711014148179246558" onmouseenter="enter('2711014148179246558');" onmouseout="out('2711014148179246558');" style=""> 149                      ccHint.animate().alpha(0f)                                                                    </span>
<span class="-3898527784757838588" onmouseenter="enter('-3898527784757838588');" onmouseout="out('-3898527784757838588');" style=""> 150                              .setDuration(SHOW_CLING_DURATION)                                                     </span>
<span class="-5634838909649347730" onmouseenter="enter('-5634838909649347730');" onmouseout="out('-5634838909649347730');" style=""> 151                              .setListener(new AnimatorListenerAdapter() {                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 152                                  @Override                                                                         </span>
<span class="5980630386510553635" onmouseenter="enter('5980630386510553635');" onmouseout="out('5980630386510553635');" style=""> 153                                  public void onAnimationEnd(Animator animation) {                                  </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 154                                      ccHint.setVisibility(View.GONE);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155                                  }                                                                                 </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 156                              })                                                                                    </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 157                              .start();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 158                  } else {                                                                                          </span>
<span class="-3591541182732184310" onmouseenter="enter('-3591541182732184310');" onmouseout="out('-3591541182732184310');" style=""> 159                      ccHint.setAlpha(0f);                                                                          </span>
<span class="6344966575343209340" onmouseenter="enter('6344966575343209340');" onmouseout="out('6344966575343209340');" style=""> 160                      ccHint.setVisibility(View.GONE);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164      }                                                                                                             </span>
<span  style=""> 165                                                                                                                    </span>
<span class="-3794473407929643130" onmouseenter="enter('-3794473407929643130');" onmouseout="out('-3794473407929643130');" style=""> 166      /** Updates the first run cling custom content hint */                                                        </span>
<span class="2303502057269395595" onmouseenter="enter('2303502057269395595');" onmouseout="out('2303502057269395595');" style=""> 167      public void updateCustomContentHintVisibility() {                                                             </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 168          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 169          String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                              </span>
<span  style=""> 170                                                                                                                    </span>
<span class="-130945908610593926" onmouseenter="enter('-130945908610593926');" onmouseout="out('-130945908610593926');" style=""> 171          if (mLauncher.getWorkspace().hasCustomContent()) {                                                        </span>
<span class="8693055059126051888" onmouseenter="enter('8693055059126051888');" onmouseout="out('8693055059126051888');" style=""> 172              // Show the custom content hint if ccHintStr is not empty                                             </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 173              if (cling != null) {                                                                                  </span>
<span class="4884472514151625871" onmouseenter="enter('4884472514151625871');" onmouseout="out('4884472514151625871');" style=""> 174                  setCustomContentHintVisibility(cling, ccHintStr, true, true);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 176          } else {                                                                                                  </span>
<span class="-4603592551765299438" onmouseenter="enter('-4603592551765299438');" onmouseout="out('-4603592551765299438');" style=""> 177              // Hide the custom content hint                                                                       </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 178              if (cling != null) {                                                                                  </span>
<span class="1365008071757398698" onmouseenter="enter('1365008071757398698');" onmouseout="out('1365008071757398698');" style=""> 179                  setCustomContentHintVisibility(cling, ccHintStr, false, true);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182      }                                                                                                             </span>
<span  style=""> 183                                                                                                                    </span>
<span class="5908206752421631290" onmouseenter="enter('5908206752421631290');" onmouseout="out('5908206752421631290');" style=""> 184      /** Updates the first run cling search bar hint. */                                                           </span>
<span class="-1296492729170934578" onmouseenter="enter('-1296492729170934578');" onmouseout="out('-1296492729170934578');" style=""> 185      public void updateSearchBarHint(String hint) {                                                                </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 186          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-3508310323738241799" onmouseenter="enter('-3508310323738241799');" onmouseout="out('-3508310323738241799');" style=""> 187          if (cling != null &amp;&amp; cling.getVisibility() == View.VISIBLE &amp;&amp; !hint.isEmpty()) {                          </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 188              TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                                </span>
<span class="-6440531948499496275" onmouseenter="enter('-6440531948499496275');" onmouseout="out('-6440531948499496275');" style=""> 189              sbHint.setText(hint);                                                                                 </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 190              sbHint.setVisibility(View.VISIBLE);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192      }                                                                                                             </span>
<span  style=""> 193                                                                                                                    </span>
<span class="2090993199278182941" onmouseenter="enter('2090993199278182941');" onmouseout="out('2090993199278182941');" style=""> 194      public boolean shouldShowFirstRunOrMigrationClings() {                                                        </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 195          SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1985098656759743244" onmouseenter="enter('-1985098656759743244');" onmouseout="out('-1985098656759743244');" style=""> 196          return areClingsEnabled() &amp;&amp;                                                                              </span>
<span class="-4842522563655018789" onmouseenter="enter('-4842522563655018789');" onmouseout="out('-4842522563655018789');" style=""> 197              !sharedPrefs.getBoolean(FIRST_RUN_CLING_DISMISSED_KEY, false) &amp;&amp;                                      </span>
<span class="-8544301680236423151" onmouseenter="enter('-8544301680236423151');" onmouseout="out('-8544301680236423151');" style=""> 198              !sharedPrefs.getBoolean(MIGRATION_CLING_DISMISSED_KEY, false);                                        </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="9108295665674509918" onmouseenter="enter('9108295665674509918');" onmouseout="out('9108295665674509918');" style=""> 201      public void removeFirstRunAndMigrationClings() {                                                              </span>
<span class="3343842208514614579" onmouseenter="enter('3343842208514614579');" onmouseout="out('3343842208514614579');" style=""> 202          removeCling(R.id.first_run_cling);                                                                        </span>
<span class="3165797093123848357" onmouseenter="enter('3165797093123848357');" onmouseout="out('3165797093123848357');" style=""> 203          removeCling(R.id.migration_cling);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span  style=""> 205                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 206      /**                                                                                                           </span>
<span class="-3070180153485308038" onmouseenter="enter('-3070180153485308038');" onmouseout="out('-3070180153485308038');" style=""> 207       * Shows the first run cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 208       *                                                                                                            </span>
<span class="-5546084688033930282" onmouseenter="enter('-5546084688033930282');" onmouseout="out('-5546084688033930282');" style=""> 209       * This flow is mutually exclusive with showMigrationCling, and only runs if this Launcher                    </span>
<span class="-8132168389852196024" onmouseenter="enter('-8132168389852196024');" onmouseout="out('-8132168389852196024');" style=""> 210       * package was preinstalled or there is no db to migrate from.                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 211       */                                                                                                           </span>
<span class="-4654009632046221330" onmouseenter="enter('-4654009632046221330');" onmouseout="out('-4654009632046221330');" style=""> 212      public void showFirstRunCling() {                                                                             </span>
<span class="-4061998212175351605" onmouseenter="enter('-4061998212175351605');" onmouseout="out('-4061998212175351605');" style=""> 213          if (!skipCustomClingIfNoAccounts()) {                                                                     </span>


















<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 214              Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                   </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 215              if (cling != null) {                                                                                  </span>
<span class="3699627582633297724" onmouseenter="enter('3699627582633297724');" onmouseout="out('3699627582633297724');" style=""> 216                  String sbHintStr = mLauncher.getFirstRunClingSearchBarHint();                                     </span>
<span class="-7025462575367543946" onmouseenter="enter('-7025462575367543946');" onmouseout="out('-7025462575367543946');" style=""> 217                  String ccHintStr = mLauncher.getFirstRunCustomContentHint();                                      </span>
<span class="5035199868100193249" onmouseenter="enter('5035199868100193249');" onmouseout="out('5035199868100193249');" style=""> 218                  if (!sbHintStr.isEmpty()) {                                                                       </span>
<span class="-2074865962368725813" onmouseenter="enter('-2074865962368725813');" onmouseout="out('-2074865962368725813');" style=""> 219                      TextView sbHint = (TextView) cling.findViewById(R.id.search_bar_hint);                        </span>
<span class="-6203993405763462664" onmouseenter="enter('-6203993405763462664');" onmouseout="out('-6203993405763462664');" style=""> 220                      sbHint.setText(sbHintStr);                                                                    </span>
<span class="4486678709096823505" onmouseenter="enter('4486678709096823505');" onmouseout="out('4486678709096823505');" style=""> 221                      sbHint.setVisibility(View.VISIBLE);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222                  }                                                                                                 </span>
<span class="6080768738733675769" onmouseenter="enter('6080768738733675769');" onmouseout="out('6080768738733675769');" style=""> 223                  setCustomContentHintVisibility(cling, ccHintStr, true, false);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224              }                                                                                                     </span>
<span class="-8349762286066439193" onmouseenter="enter('-8349762286066439193');" onmouseout="out('-8349762286066439193');" style=""> 225              initCling(R.id.first_run_cling, 0, false, true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 226          } else {                                                                                                  </span>
<span class="4745527387329637053" onmouseenter="enter('4745527387329637053');" onmouseout="out('4745527387329637053');" style=""> 227              removeFirstRunAndMigrationClings();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span  style=""> 230                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 231      /**                                                                                                           </span>
<span class="3375945167653116952" onmouseenter="enter('3375945167653116952');" onmouseout="out('3375945167653116952');" style=""> 232       * Shows the migration cling.                                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 233       *                                                                                                            </span>
<span class="-6522255730916098732" onmouseenter="enter('-6522255730916098732');" onmouseout="out('-6522255730916098732');" style=""> 234       * This flow is mutually exclusive with showFirstRunCling, and only runs if this Launcher                     </span>
<span class="7513746652210379363" onmouseenter="enter('7513746652210379363');" onmouseout="out('7513746652210379363');" style=""> 235       * package was not preinstalled and there exists a db to migrate from.                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 236       */                                                                                                           </span>
<span class="4960932429843635294" onmouseenter="enter('4960932429843635294');" onmouseout="out('4960932429843635294');" style=""> 237      public void showMigrationCling() {                                                                            </span>
<span class="4658777531657148884" onmouseenter="enter('4658777531657148884');" onmouseout="out('4658777531657148884');" style=""> 238          mLauncher.hideWorkspaceSearchAndHotseat();                                                                </span>
<span  style=""> 239                                                                                                                    </span>
<span class="8584754610291833646" onmouseenter="enter('8584754610291833646');" onmouseout="out('8584754610291833646');" style=""> 240          Cling c = initCling(R.id.migration_cling, 0, false, true);                                                </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 241          c.bringScrimToFront();                                                                                    </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 242          c.bringToFront();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243      }                                                                                                             </span>
<span  style=""> 244                                                                                                                    </span>
<span class="557979055451603774" onmouseenter="enter('557979055451603774');" onmouseout="out('557979055451603774');" style=""> 245      public void showMigrationWorkspaceCling() {                                                                   </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 246          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 247          if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="-3216748033391432280" onmouseenter="enter('-3216748033391432280');" onmouseout="out('-3216748033391432280');" style=""> 248                  MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                </span>
<span class="-8348698851504650879" onmouseenter="enter('-8348698851504650879');" onmouseout="out('-8348698851504650879');" style=""> 249              Cling c = initCling(R.id.migration_workspace_cling, 0, false, true);                                  </span>
<span class="-274963520971059464" onmouseenter="enter('-274963520971059464');" onmouseout="out('-274963520971059464');" style=""> 250              c.updateMigrationWorkspaceBubblePosition();                                                           </span>
<span class="-3283915654595394877" onmouseenter="enter('-3283915654595394877');" onmouseout="out('-3283915654595394877');" style=""> 251              c.bringScrimToFront();                                                                                </span>
<span class="-4875263125663802237" onmouseenter="enter('-4875263125663802237');" onmouseout="out('-4875263125663802237');" style=""> 252              c.bringToFront();                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 253          } else {                                                                                                  </span>
<span class="5843710510811059608" onmouseenter="enter('5843710510811059608');" onmouseout="out('5843710510811059608');" style=""> 254              removeCling(R.id.migration_workspace_cling);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256      }                                                                                                             </span>
<span  style=""> 257                                                                                                                    </span>
<span class="2046012659744533759" onmouseenter="enter('2046012659744533759');" onmouseout="out('2046012659744533759');" style=""> 258      public void showWorkspaceCling() {                                                                            </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 259          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="467207521416430455" onmouseenter="enter('467207521416430455');" onmouseout="out('467207521416430455');" style=""> 260          if (areClingsEnabled() &amp;&amp; !mLauncher.getSharedPrefs().getBoolean(                                         </span>
<span class="3418506709078455548" onmouseenter="enter('3418506709078455548');" onmouseout="out('3418506709078455548');" style=""> 261                  WORKSPACE_CLING_DISMISSED_KEY, false)) {                                                          </span>
<span class="474199127668076652" onmouseenter="enter('474199127668076652');" onmouseout="out('474199127668076652');" style=""> 262              Cling c = initCling(R.id.workspace_cling, 0, false, true);                                            </span>
<span class="940992951145659693" onmouseenter="enter('940992951145659693');" onmouseout="out('940992951145659693');" style=""> 263              c.updateWorkspaceBubblePosition();                                                                    </span>
<span  style=""> 264                                                                                                                    </span>
<span class="1883841815091089278" onmouseenter="enter('1883841815091089278');" onmouseout="out('1883841815091089278');" style=""> 265              // Set the focused hotseat app if there is one                                                        </span>
<span class="-6041700201080910355" onmouseenter="enter('-6041700201080910355');" onmouseout="out('-6041700201080910355');" style=""> 266              c.setFocusedHotseatApp(mLauncher.getFirstRunFocusedHotseatAppDrawableId(),                            </span>
<span class="-2894308094031227187" onmouseenter="enter('-2894308094031227187');" onmouseout="out('-2894308094031227187');" style=""> 267                      mLauncher.getFirstRunFocusedHotseatAppRank(),                                                 </span>
<span class="-5924454838008274554" onmouseenter="enter('-5924454838008274554');" onmouseout="out('-5924454838008274554');" style=""> 268                      mLauncher.getFirstRunFocusedHotseatAppComponentName(),                                        </span>
<span class="1469487941099584076" onmouseenter="enter('1469487941099584076');" onmouseout="out('1469487941099584076');" style=""> 269                      mLauncher.getFirstRunFocusedHotseatAppBubbleTitle(),                                          </span>
<span class="5557154763095915358" onmouseenter="enter('5557154763095915358');" onmouseout="out('5557154763095915358');" style=""> 270                      mLauncher.getFirstRunFocusedHotseatAppBubbleDescription());                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 271          } else {                                                                                                  </span>
<span class="-2608043998771871155" onmouseenter="enter('-2608043998771871155');" onmouseout="out('-2608043998771871155');" style=""> 272              removeCling(R.id.workspace_cling);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274      }                                                                                                             </span>
<span  style=""> 275                                                                                                                    </span>
<span class="-5146078515997954255" onmouseenter="enter('-5146078515997954255');" onmouseout="out('-5146078515997954255');" style=""> 276      public Cling showFoldersCling() {                                                                             </span>
<span class="-8555421700813958979" onmouseenter="enter('-8555421700813958979');" onmouseout="out('-8555421700813958979');" style=""> 277          SharedPreferences sharedPrefs = mLauncher.getSharedPrefs();                                               </span>
<span class="-1132242698766205876" onmouseenter="enter('-1132242698766205876');" onmouseout="out('-1132242698766205876');" style=""> 278          // Enable the clings only if they have not been dismissed before                                          </span>
<span class="6481189281211958929" onmouseenter="enter('6481189281211958929');" onmouseout="out('6481189281211958929');" style=""> 279          if (areClingsEnabled() &amp;&amp;                                                                                 </span>
<span class="267789611296429491" onmouseenter="enter('267789611296429491');" onmouseout="out('267789611296429491');" style=""> 280                  !sharedPrefs.getBoolean(FOLDER_CLING_DISMISSED_KEY, false) &amp;&amp;                                     </span>
<span class="-2585777706390347086" onmouseenter="enter('-2585777706390347086');" onmouseout="out('-2585777706390347086');" style=""> 281                  !sharedPrefs.getBoolean(Launcher.USER_HAS_MIGRATED, false)) {                                     </span>
<span class="-7721463355581130228" onmouseenter="enter('-7721463355581130228');" onmouseout="out('-7721463355581130228');" style=""> 282              Cling cling = initCling(R.id.folder_cling, R.id.cling_scrim,                                          </span>
<span class="6699560076943015578" onmouseenter="enter('6699560076943015578');" onmouseout="out('6699560076943015578');" style=""> 283                      true, true);                                                                                  </span>
<span class="3720871286698104922" onmouseenter="enter('3720871286698104922');" onmouseout="out('3720871286698104922');" style=""> 284              Folder openFolder = mLauncher.getWorkspace().getOpenFolder();                                         </span>
<span class="4119430424367974195" onmouseenter="enter('4119430424367974195');" onmouseout="out('4119430424367974195');" style=""> 285              if (openFolder != null) {                                                                             </span>
<span class="-220538791759054428" onmouseenter="enter('-220538791759054428');" onmouseout="out('-220538791759054428');" style=""> 286                  Rect openFolderRect = new Rect();                                                                 </span>
<span class="-2473387595237942527" onmouseenter="enter('-2473387595237942527');" onmouseout="out('-2473387595237942527');" style=""> 287                  openFolder.getHitRect(openFolderRect);                                                            </span>
<span class="-7895365923701742823" onmouseenter="enter('-7895365923701742823');" onmouseout="out('-7895365923701742823');" style=""> 288                  cling.setOpenFolderRect(openFolderRect);                                                          </span>
<span class="3900474082750281660" onmouseenter="enter('3900474082750281660');" onmouseout="out('3900474082750281660');" style=""> 289                  openFolder.bringToFront();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290              }                                                                                                     </span>
<span class="583088119519890866" onmouseenter="enter('583088119519890866');" onmouseout="out('583088119519890866');" style=""> 291              return cling;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 292          } else {                                                                                                  </span>
<span class="3934063312089184552" onmouseenter="enter('3934063312089184552');" onmouseout="out('3934063312089184552');" style=""> 293              removeCling(R.id.folder_cling);                                                                       </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 294              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296      }                                                                                                             </span>
<span  style=""> 297                                                                                                                    </span>
<span class="-6875702121791271289" onmouseenter="enter('-6875702121791271289');" onmouseout="out('-6875702121791271289');" style=""> 298      public static void synchonouslyMarkFirstRunClingDismissed(Context ctx) {                                      </span>
<span class="-6618314772183440660" onmouseenter="enter('-6618314772183440660');" onmouseout="out('-6618314772183440660');" style=""> 299          SharedPreferences prefs = ctx.getSharedPreferences(                                                       </span>
<span class="-619548112324701717" onmouseenter="enter('-619548112324701717');" onmouseout="out('-619548112324701717');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 300 -                LauncherAppState.getSharedPreferencesKey(),Context.MODE_PRIVATE);                                 </span>
<span class="-3012020800644432647" onmouseenter="enter('-3012020800644432647');" onmouseout="out('-3012020800644432647');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 301 +                LauncherAppState.getSharedPreferencesKey(), Context.MODE_PRIVATE);                                </span>
<span class="-5940133505573131741" onmouseenter="enter('-5940133505573131741');" onmouseout="out('-5940133505573131741');" style=""> 302          SharedPreferences.Editor editor = prefs.edit();                                                           </span>
<span class="-965897542102475641" onmouseenter="enter('-965897542102475641');" onmouseout="out('-965897542102475641');" style=""> 303          editor.putBoolean(LauncherClings.FIRST_RUN_CLING_DISMISSED_KEY, true);                                    </span>
<span class="-1350952079334021013" onmouseenter="enter('-1350952079334021013');" onmouseout="out('-1350952079334021013');" style=""> 304          editor.commit();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +                                                                                                                  </span>
<span class="5701624809389491027" onmouseenter="enter('5701624809389491027');" onmouseout="out('5701624809389491027');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +    public void markFolderClingDismissed() {                                                                      </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 308 +        SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                                      </span>
<span class="-591470712171021157" onmouseenter="enter('-591470712171021157');" onmouseout="out('-591470712171021157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 309 +        editor.putBoolean(LauncherClings.FOLDER_CLING_DISMISSED_KEY, true);                                       </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 310 +        editor.apply();                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311      }                                                                                                             </span>
<span  style=""> 312                                                                                                                    </span>
<span class="-1737458854579763624" onmouseenter="enter('-1737458854579763624');" onmouseout="out('-1737458854579763624');" style=""> 313      /** Removes the cling outright from the DragLayer */                                                          </span>
<span class="716983870580878514" onmouseenter="enter('716983870580878514');" onmouseout="out('716983870580878514');" style=""> 314      private void removeCling(int id) {                                                                            </span>
<span class="9048571016628550169" onmouseenter="enter('9048571016628550169');" onmouseout="out('9048571016628550169');" style=""> 315          final View cling = mLauncher.findViewById(id);                                                            </span>
<span class="-4794614775446138031" onmouseenter="enter('-4794614775446138031');" onmouseout="out('-4794614775446138031');" style=""> 316          if (cling != null) {                                                                                      </span>
<span class="299607035472584512" onmouseenter="enter('299607035472584512');" onmouseout="out('299607035472584512');" style=""> 317              final ViewGroup parent = (ViewGroup) cling.getParent();                                               </span>
<span class="-4890474049567098236" onmouseenter="enter('-4890474049567098236');" onmouseout="out('-4890474049567098236');" style=""> 318              parent.post(new Runnable() {                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 319                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 320                  public void run() {                                                                               </span>
<span class="-7134961729428243446" onmouseenter="enter('-7134961729428243446');" onmouseout="out('-7134961729428243446');" style=""> 321                      parent.removeView(cling);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 323              });                                                                                                   </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 324              mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326      }                                                                                                             </span>
<span  style=""> 327                                                                                                                    </span>
<span class="-7460364812072667907" onmouseenter="enter('-7460364812072667907');" onmouseout="out('-7460364812072667907');" style=""> 328      /** Hides the specified Cling */                                                                              </span>
<span class="-8137829320300391939" onmouseenter="enter('-8137829320300391939');" onmouseout="out('-8137829320300391939');" style=""> 329      private void dismissCling(final Cling cling, final Runnable postAnimationCb,                                  </span>
<span class="-1475736086566032028" onmouseenter="enter('-1475736086566032028');" onmouseout="out('-1475736086566032028');" style=""> 330                                final String flag, int duration, boolean restoreNavBarVisibilty) {                  </span>
<span class="648232164650504360" onmouseenter="enter('648232164650504360');" onmouseout="out('648232164650504360');" style=""> 331          // To catch cases where siblings of top-level views are made invisible, just check whether                </span>
<span class="-650218576039908023" onmouseenter="enter('-650218576039908023');" onmouseout="out('-650218576039908023');" style=""> 332          // the cling is directly set to GONE before dismissing it.                                                </span>
<span class="8146796110994802041" onmouseenter="enter('8146796110994802041');" onmouseout="out('8146796110994802041');" style=""> 333          if (cling != null &amp;&amp; cling.getVisibility() != View.GONE) {                                                </span>
<span class="-109797802588895578" onmouseenter="enter('-109797802588895578');" onmouseout="out('-109797802588895578');" style=""> 334              final Runnable cleanUpClingCb = new Runnable() {                                                      </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 335                  public void run() {                                                                               </span>
<span class="-2496628067662150049" onmouseenter="enter('-2496628067662150049');" onmouseout="out('-2496628067662150049');" style=""> 336                      cling.cleanup();                                                                              </span>
<span class="8037168193713866497" onmouseenter="enter('8037168193713866497');" onmouseout="out('8037168193713866497');" style=""> 337                      SharedPreferences.Editor editor = mLauncher.getSharedPrefs().edit();                          </span>
<span class="-3434669255480928964" onmouseenter="enter('-3434669255480928964');" onmouseout="out('-3434669255480928964');" style=""> 338                      editor.putBoolean(flag, true);                                                                </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 339                      editor.apply();                                                                               </span>
<span class="-6993853693441064682" onmouseenter="enter('-6993853693441064682');" onmouseout="out('-6993853693441064682');" style=""> 340                      if (postAnimationCb != null) {                                                                </span>
<span class="-4019537298058352187" onmouseenter="enter('-4019537298058352187');" onmouseout="out('-4019537298058352187');" style=""> 341                          postAnimationCb.run();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 344              };                                                                                                    </span>
<span class="3525775363929351512" onmouseenter="enter('3525775363929351512');" onmouseout="out('3525775363929351512');" style=""> 345              if (duration &lt;= 0) {                                                                                  </span>
<span class="-6416567090789805776" onmouseenter="enter('-6416567090789805776');" onmouseout="out('-6416567090789805776');" style=""> 346                  cleanUpClingCb.run();                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 347              } else {                                                                                              </span>
<span class="-5342740154699813946" onmouseenter="enter('-5342740154699813946');" onmouseout="out('-5342740154699813946');" style=""> 348                  cling.hide(duration, cleanUpClingCb);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349              }                                                                                                     </span>
<span class="-1663732704098209850" onmouseenter="enter('-1663732704098209850');" onmouseout="out('-1663732704098209850');" style=""> 350              mHideFromAccessibilityHelper.restoreImportantForAccessibility(mLauncher.getDragLayer());              </span>
<span  style=""> 351                                                                                                                    </span>
<span class="5475675855741077152" onmouseenter="enter('5475675855741077152');" onmouseout="out('5475675855741077152');" style=""> 352              if (restoreNavBarVisibilty) {                                                                         </span>
<span class="8309157146997164156" onmouseenter="enter('8309157146997164156');" onmouseout="out('8309157146997164156');" style=""> 353                  cling.setSystemUiVisibility(cling.getSystemUiVisibility() &amp;                                       </span>
<span class="1688792698415610591" onmouseenter="enter('1688792698415610591');" onmouseout="out('1688792698415610591');" style=""> 354                          ~View.SYSTEM_UI_FLAG_LOW_PROFILE);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357      }                                                                                                             </span>
<span  style=""> 358                                                                                                                    </span>
<span class="-695583047030602713" onmouseenter="enter('-695583047030602713');" onmouseout="out('-695583047030602713');" style=""> 359      public void dismissFirstRunCling(View v) {                                                                    </span>
<span class="4951488737014563424" onmouseenter="enter('4951488737014563424');" onmouseout="out('4951488737014563424');" style=""> 360          Cling cling = (Cling) mLauncher.findViewById(R.id.first_run_cling);                                       </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 361          Runnable cb = new Runnable() {                                                                            </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 362              public void run() {                                                                                   </span>
<span class="7813079161038053286" onmouseenter="enter('7813079161038053286');" onmouseout="out('7813079161038053286');" style=""> 363                  // Show the workspace cling next                                                                  </span>
<span class="-5400929437994259757" onmouseenter="enter('-5400929437994259757');" onmouseout="out('-5400929437994259757');" style=""> 364                  showWorkspaceCling();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 365              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 366          };                                                                                                        </span>
<span class="5496820870209706242" onmouseenter="enter('5496820870209706242');" onmouseout="out('5496820870209706242');" style=""> 367          dismissCling(cling, cb, FIRST_RUN_CLING_DISMISSED_KEY,                                                    </span>
<span class="-7137523333070548880" onmouseenter="enter('-7137523333070548880');" onmouseout="out('-7137523333070548880');" style=""> 368                  DISMISS_CLING_DURATION, false);                                                                   </span>
<span  style=""> 369                                                                                                                    </span>
<span class="-7707142645665916406" onmouseenter="enter('-7707142645665916406');" onmouseout="out('-7707142645665916406');" style=""> 370          // Fade out the search bar for the workspace cling coming up                                              </span>
<span class="8696387620178163778" onmouseenter="enter('8696387620178163778');" onmouseout="out('8696387620178163778');" style=""> 371          mLauncher.getSearchBar().hideSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372      }                                                                                                             </span>
<span  style=""> 373                                                                                                                    </span>
<span class="8395476361835112985" onmouseenter="enter('8395476361835112985');" onmouseout="out('8395476361835112985');" style=""> 374      private void dismissMigrationCling() {                                                                        </span>
<span class="-9169753389274408863" onmouseenter="enter('-9169753389274408863');" onmouseout="out('-9169753389274408863');" style=""> 375          mLauncher.showWorkspaceSearchAndHotseat();                                                                </span>
<span class="2586613367673885172" onmouseenter="enter('2586613367673885172');" onmouseout="out('2586613367673885172');" style=""> 376          Runnable dismissCb = new Runnable() {                                                                     </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 377              public void run() {                                                                                   </span>
<span class="4858598442759368780" onmouseenter="enter('4858598442759368780');" onmouseout="out('4858598442759368780');" style=""> 378                  Cling cling = (Cling) mLauncher.findViewById(R.id.migration_cling);                               </span>
<span class="-4687848195359381636" onmouseenter="enter('-4687848195359381636');" onmouseout="out('-4687848195359381636');" style=""> 379                  Runnable cb = new Runnable() {                                                                    </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 380                      public void run() {                                                                           </span>
<span class="1574199406152877478" onmouseenter="enter('1574199406152877478');" onmouseout="out('1574199406152877478');" style=""> 381                          // Show the migration workspace cling next                                                </span>
<span class="-7493945359612774862" onmouseenter="enter('-7493945359612774862');" onmouseout="out('-7493945359612774862');" style=""> 382                          showMigrationWorkspaceCling();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383                      }                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 384                  };                                                                                                </span>
<span class="4707381091968536665" onmouseenter="enter('4707381091968536665');" onmouseout="out('4707381091968536665');" style=""> 385                  dismissCling(cling, cb, MIGRATION_CLING_DISMISSED_KEY,                                            </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 386                          DISMISS_CLING_DURATION, true);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 387              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 388          };                                                                                                        </span>
<span class="-2727573251564818721" onmouseenter="enter('-2727573251564818721');" onmouseout="out('-2727573251564818721');" style=""> 389          mLauncher.getWorkspace().post(dismissCb);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390      }                                                                                                             </span>
<span  style=""> 391                                                                                                                    </span>
<span class="-5658669225705650154" onmouseenter="enter('-5658669225705650154');" onmouseout="out('-5658669225705650154');" style=""> 392      private void dismissAnyWorkspaceCling(Cling cling, String key, View v) {                                      </span>
<span class="-1845196033119952984" onmouseenter="enter('-1845196033119952984');" onmouseout="out('-1845196033119952984');" style=""> 393          Runnable cb = null;                                                                                       </span>
<span class="7032534908135237921" onmouseenter="enter('7032534908135237921');" onmouseout="out('7032534908135237921');" style=""> 394          if (v == null) {                                                                                          </span>
<span class="-7069446798178252063" onmouseenter="enter('-7069446798178252063');" onmouseout="out('-7069446798178252063');" style=""> 395              cb = new Runnable() {                                                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 396                  public void run() {                                                                               </span>
<span class="8245388970555692045" onmouseenter="enter('8245388970555692045');" onmouseout="out('8245388970555692045');" style=""> 397                      mLauncher.getWorkspace().enterOverviewMode();                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 398                  }                                                                                                 </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 399              };                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400          }                                                                                                         </span>
<span class="748470254554974699" onmouseenter="enter('748470254554974699');" onmouseout="out('748470254554974699');" style=""> 401          dismissCling(cling, cb, key, DISMISS_CLING_DURATION, true);                                               </span>
<span  style=""> 402                                                                                                                    </span>
<span class="-4180026917381886090" onmouseenter="enter('-4180026917381886090');" onmouseout="out('-4180026917381886090');" style=""> 403          // Fade in the search bar                                                                                 </span>
<span class="5614818336749574196" onmouseenter="enter('5614818336749574196');" onmouseout="out('5614818336749574196');" style=""> 404          mLauncher.getSearchBar().showSearchBar(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405      }                                                                                                             </span>
<span  style=""> 406                                                                                                                    </span>
<span class="-4385352382964033933" onmouseenter="enter('-4385352382964033933');" onmouseout="out('-4385352382964033933');" style=""> 407      public void dismissMigrationClingCopyApps(View v) {                                                           </span>
<span class="8966529226007841677" onmouseenter="enter('8966529226007841677');" onmouseout="out('8966529226007841677');" style=""> 408          // Copy the shortcuts from the old database                                                               </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 409          LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 410          model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 411          model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="-4447053884557680508" onmouseenter="enter('-4447053884557680508');" onmouseout="out('-4447053884557680508');" style=""> 412                  LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE                                                         </span>
<span class="9212167523996469942" onmouseenter="enter('9212167523996469942');" onmouseout="out('9212167523996469942');" style=""> 413                          | LauncherModel.LOADER_FLAG_MIGRATE_SHORTCUTS);                                           </span>
<span  style=""> 414                                                                                                                    </span>
<span class="-607211962319491408" onmouseenter="enter('-607211962319491408');" onmouseout="out('-607211962319491408');" style=""> 415          // Set the flag to skip the folder cling                                                                  </span>
<span class="3234789264345159650" onmouseenter="enter('3234789264345159650');" onmouseout="out('3234789264345159650');" style=""> 416          String spKey = LauncherAppState.getSharedPreferencesKey();                                                </span>
<span class="6686411430254498711" onmouseenter="enter('6686411430254498711');" onmouseout="out('6686411430254498711');" style=""> 417          SharedPreferences sp = mLauncher.getSharedPreferences(spKey, Context.MODE_PRIVATE);                       </span>
<span class="2898240485600869061" onmouseenter="enter('2898240485600869061');" onmouseout="out('2898240485600869061');" style=""> 418          SharedPreferences.Editor editor = sp.edit();                                                              </span>
<span class="2538476135057512292" onmouseenter="enter('2538476135057512292');" onmouseout="out('2538476135057512292');" style=""> 419          editor.putBoolean(Launcher.USER_HAS_MIGRATED, true);                                                      </span>
<span class="-5305612453340718340" onmouseenter="enter('-5305612453340718340');" onmouseout="out('-5305612453340718340');" style=""> 420          editor.apply();                                                                                           </span>
<span  style=""> 421                                                                                                                    </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 422          // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 423          dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424      }                                                                                                             </span>
<span  style=""> 425                                                                                                                    </span>
<span class="-4526348513791062278" onmouseenter="enter('-4526348513791062278');" onmouseout="out('-4526348513791062278');" style=""> 426      public void dismissMigrationClingUseDefault(View v) {                                                         </span>
<span class="-1218431665816184908" onmouseenter="enter('-1218431665816184908');" onmouseout="out('-1218431665816184908');" style=""> 427          // Clear the workspace                                                                                    </span>
<span class="663702348772473930" onmouseenter="enter('663702348772473930');" onmouseout="out('663702348772473930');" style=""> 428          LauncherModel model = mLauncher.getModel();                                                               </span>
<span class="-1192745276807244366" onmouseenter="enter('-1192745276807244366');" onmouseout="out('-1192745276807244366');" style=""> 429          model.resetLoadedState(false, true);                                                                      </span>
<span class="-5954612859481990112" onmouseenter="enter('-5954612859481990112');" onmouseout="out('-5954612859481990112');" style=""> 430          model.startLoader(false, PagedView.INVALID_RESTORE_PAGE,                                                  </span>
<span class="5481905969472898388" onmouseenter="enter('5481905969472898388');" onmouseout="out('5481905969472898388');" style=""> 431                  LauncherModel.LOADER_FLAG_CLEAR_WORKSPACE);                                                       </span>
<span  style=""> 432                                                                                                                    </span>
<span class="1823977226719925732" onmouseenter="enter('1823977226719925732');" onmouseout="out('1823977226719925732');" style=""> 433          // Disable the migration cling                                                                            </span>
<span class="-5204729600655693436" onmouseenter="enter('-5204729600655693436');" onmouseout="out('-5204729600655693436');" style=""> 434          dismissMigrationCling();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 435      }                                                                                                             </span>
<span  style=""> 436                                                                                                                    </span>
<span class="-643289883016411774" onmouseenter="enter('-643289883016411774');" onmouseout="out('-643289883016411774');" style=""> 437      public void dismissMigrationWorkspaceCling(View v) {                                                          </span>
<span class="2898291003682337447" onmouseenter="enter('2898291003682337447');" onmouseout="out('2898291003682337447');" style=""> 438          Cling cling = (Cling) mLauncher.findViewById(R.id.migration_workspace_cling);                             </span>
<span class="-5797198891073898589" onmouseenter="enter('-5797198891073898589');" onmouseout="out('-5797198891073898589');" style=""> 439          dismissAnyWorkspaceCling(cling, MIGRATION_WORKSPACE_CLING_DISMISSED_KEY, v);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 440      }                                                                                                             </span>
<span  style=""> 441                                                                                                                    </span>
<span class="6017707680438687954" onmouseenter="enter('6017707680438687954');" onmouseout="out('6017707680438687954');" style=""> 442      public void dismissWorkspaceCling(View v) {                                                                   </span>
<span class="-7659146146623400658" onmouseenter="enter('-7659146146623400658');" onmouseout="out('-7659146146623400658');" style=""> 443          Cling cling = (Cling) mLauncher.findViewById(R.id.workspace_cling);                                       </span>
<span class="-8641930320914613921" onmouseenter="enter('-8641930320914613921');" onmouseout="out('-8641930320914613921');" style=""> 444          dismissAnyWorkspaceCling(cling, WORKSPACE_CLING_DISMISSED_KEY, v);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445      }                                                                                                             </span>
<span  style=""> 446                                                                                                                    </span>
<span class="-1535855665447372730" onmouseenter="enter('-1535855665447372730');" onmouseout="out('-1535855665447372730');" style=""> 447      public void dismissFolderCling(View v) {                                                                      </span>
<span class="-9150307046251694557" onmouseenter="enter('-9150307046251694557');" onmouseout="out('-9150307046251694557');" style=""> 448          Cling cling = (Cling) mLauncher.findViewById(R.id.folder_cling);                                          </span>
<span class="5170481231716134623" onmouseenter="enter('5170481231716134623');" onmouseout="out('5170481231716134623');" style=""> 449          dismissCling(cling, null, FOLDER_CLING_DISMISSED_KEY,                                                     </span>
<span class="-6230513616090554460" onmouseenter="enter('-6230513616090554460');" onmouseout="out('-6230513616090554460');" style=""> 450                  DISMISS_CLING_DURATION, true);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 451      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 452  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            