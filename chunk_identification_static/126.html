<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>126</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        abbr {
                          /* Here is the delay */
                          transition-delay:0s;
                        }
                    </style>
              </head>
              <body>
                <span style="height: 4vh">
                    126
                    <a href="125.html">prev</a>
                    <a href="127.html">next</a>
                    <a href="126_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    CarGuo/GSYVideoPlayer_d4d1bdf16a1634f70fffbb34594c8ee5d317b61f_app/src/main/java/com/example/gsyvideoplayer/GSYApplication.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CarGuo\GSYVideoPlayer show &quot;d4d1bdf16a1634f70fffbb34594c8ee5d317b61f:app/src/main/java/com/example/gsyvideoplayer/GSYApplication.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CarGuo\GSYVideoPlayer show &quot;d4d1bdf16a1634f70fffbb34594c8ee5d317b61f^1:app/src/main/java/com/example/gsyvideoplayer/GSYApplication.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CarGuo\GSYVideoPlayer show &quot;d4d1bdf16a1634f70fffbb34594c8ee5d317b61f^2:app/src/main/java/com/example/gsyvideoplayer/GSYApplication.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\CarGuo\GSYVideoPlayer show &quot;111bb508922fe092629031fd764786b96f53a796:app/src/main/java/com/example/gsyvideoplayer/GSYApplication.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b], [b]], subset: [[b], [b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre>   1 package com.example.gsyvideoplayer;
   2 
   3 import androidx.annotation.Nullable;
   4 import androidx.multidex.MultiDexApplication;
   5 
   6 import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;
   7 import com.google.android.exoplayer2.source.MediaSource;
   8 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">   9 import com.google.android.exoplayer2.source.hls.HlsMediaSource;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  10 import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  11 import com.google.android.exoplayer2.upstream.DataSource;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  12 import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;</span>
  13 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14 import tv.danmaku.ijk.media.exo2.ExoSourceManager;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 import tv.danmaku.ijk.media.exo2.IjkExo2MediaPlayer;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 import tv.danmaku.ijk.media.player.IMediaPlayer;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 import com.google.android.exoplayer2.DefaultLoadControl;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 import com.google.android.exoplayer2.source.MediaSource;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21 import com.google.android.exoplayer2.source.hls.HlsMediaSource;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22 import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24 import com.google.android.exoplayer2.upstream.HttpDataSource;</span>
  25 =======
  26 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
  27 import com.google.android.exoplayer2.upstream.HttpDataSource;
  28 import com.google.android.exoplayer2.upstream.TransferListener;
  29 
  30 import java.io.File;
  31 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32 import java.security.cert.CertificateException;</span>
<span style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  33 import java.util.Map;</span>
  34 ||||||| GitAnalyzerPlus_base
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36 import com.google.android.exoplayer2.DefaultLoadControl;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 import com.google.android.exoplayer2.source.MediaSource;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 import com.google.android.exoplayer2.source.hls.HlsMediaSource;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41 import com.google.android.exoplayer2.upstream.HttpDataSource;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42 import com.google.android.exoplayer2.upstream.TransferListener;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43 import com.shuyu.gsyvideoplayer.GSYVideoManager;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44 import com.shuyu.gsyvideoplayer.cache.ProxyCacheManager;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 import com.shuyu.gsyvideoplayer.model.GSYModel;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46 import com.shuyu.gsyvideoplayer.player.BasePlayerManager;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 import com.shuyu.gsyvideoplayer.player.IPlayerInitSuccessListener;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48 import com.shuyu.gsyvideoplayer.player.PlayerFactory;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 import com.shuyu.gsyvideoplayer.utils.Debuger;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50 import com.shuyu.gsyvideoplayer.utils.GSYVideoType;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51 import com.squareup.leakcanary.LeakCanary;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53 import java.io.File;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54 import java.security.cert.CertificateException;</span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55 </span>
<span style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56 import javax.net.ssl.HostnameVerifier;</span>
  57 =======
  58 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs
  59 
  60 import tv.danmaku.ijk.media.exo2.ExoMediaSourceInterceptListener;
  61 import tv.danmaku.ijk.media.exo2.ExoSourceManager;
  62 
  63 /**
  64  * Created by shuyu on 2016/11/11.
  65  */
  66 
  67 public class GSYApplication extends MultiDexApplication {
  68 
  69     @Override
  70     public void onCreate() {
  71         super.onCreate();
  72 
  73         //GSYVideoType.enableMediaCodec();
  74         //GSYVideoType.enableMediaCodecTexture();
  75 
  76         //PlayerFactory.setPlayManager(Exo2PlayerManager.class);//EXOæ¨¡å¼
  77         //ExoSourceManager.setSkipSSLChain(true);
  78 
  79 
  80         //PlayerFactory.setPlayManager(SystemPlayerManager.class);//ç³»ç»Ÿæ¨¡å¼
  81         //PlayerFactory.setPlayManager(IjkPlayerManager.class);//ijkæ¨¡å¼
  82 
  83         //CacheFactory.setCacheManager(ExoPlayerCacheManager.class);//exoç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒm3u8ï¼Œåªæ”¯æŒexo
  84         //CacheFactory.setCacheManager(ProxyCacheManager.class);//ä»£ç†ç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å¼ï¼Œä¸æ”¯æŒm3u8ç­‰
  85 
  86         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  87         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_FULL);
  88         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  89 
  90         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_CUSTOM);
  91         //GSYVideoType.setScreenScaleRatio(9.0f/16);
  92 
  93         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  94         //GSYVideoType.setRenderType(GSYVideoType.GLSURFACE);
  95 
  96         //IjkPlayerManager.setLogLevel(IjkMediaPlayer.IJK_LOG_SILENT);
  97 
  98         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  99 
 100         ExoSourceManager.setExoMediaSourceInterceptListener(new ExoMediaSourceInterceptListener() {
 101             @Override
<abbr title=" 102             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLooping, File cacheDir) {"> 102             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boğŸ”µ</abbr>
 103                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
 104                 return null;
 105             }
 106 
 107             /**
 108              * é€šè¿‡è‡ªå®šä¹‰çš„ HttpDataSource ï¼Œå¯ä»¥è®¾ç½®è‡ªç­¾è¯ä¹¦æˆ–è€…å¿½ç•¥è¯ä¹¦
 109              * demo é‡Œçš„ GSYExoHttpDataSourceFactory ä½¿ç”¨çš„æ˜¯å¿½ç•¥è¯ä¹¦
 110              * */
 111             @Override
<abbr title=" 112             public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis,"> 112             public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListenğŸ”µ</abbr>
<abbr title=" 113                                                                Map&lt;String, String&gt; mapHeadData, boolean allowCrossProtocolRedirects) {"> 113                                                                Map&lt;String, String&gt; mapHeadData, boolean ağŸ”µ</abbr>
 114                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
<abbr title=" 115                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listener,"> 115                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listenerğŸ”µ</abbr>
 116                         connectTimeoutMillis,
 117                         readTimeoutMillis, allowCrossProtocolRedirects);
 118                 factory.setDefaultRequestProperties(mapHeadData);
 119                 return factory;
 120             }
 121         });
 122 
 123         /*GSYVideoManager.instance().setPlayerInitSuccessListener(new IPlayerInitSuccessListener() {
 124             ///æ’­æ”¾å™¨åˆå§‹åŒ–æˆæœå›è°ƒ
 125             @Override
 126             public void onPlayerInitSuccess(IMediaPlayer player, GSYModel model) {
 127                 if (player instanceof IjkExo2MediaPlayer) {
 128                     ((IjkExo2MediaPlayer) player).setTrackSelector(new DefaultTrackSelector());
 129                     ((IjkExo2MediaPlayer) player).setLoadControl(new DefaultLoadControl());
 130                 }
 131             }
 132         });*/
 133 
 134         /*ProxyCacheManager.instance().setHostnameVerifier(new HostnameVerifier() {
 135             @Override
 136             public boolean verify(String hostname, SSLSession session) {
 137                 return true;
 138             }
 139         });
 140         final TrustManager[] trustAllCerts = new TrustManager[]{
 141                 new X509TrustManager() {
 142                     @Override
<abbr title=" 143                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 143                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
 144                     }
 145 
 146                     @Override
<abbr title=" 147                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 147                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
 148                     }
 149 
 150                     @Override
 151                     public java.security.cert.X509Certificate[] getAcceptedIssuers() {
 152                         return null;
 153                     }
 154                 }
 155         };
 156         ProxyCacheManager.instance().setTrustAllCerts(trustAllCerts);*/
 157 
 158 
 159     }
 160 
 161 
 162 }</pre></td>
                            <td><pre>   1 package com.example.gsyvideoplayer;
   2 
   3 import androidx.annotation.Nullable;
   4 import androidx.multidex.MultiDexApplication;
   5 
   6 import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;
   7 import com.google.android.exoplayer2.source.MediaSource;
   8 import com.google.android.exoplayer2.upstream.DataSource;
   9 import com.google.android.exoplayer2.upstream.HttpDataSource;
  10 import com.google.android.exoplayer2.upstream.TransferListener;
  11 
  12 import java.io.File;
  13 import java.util.Map;
  14 
  15 import tv.danmaku.ijk.media.exo2.ExoMediaSourceInterceptListener;
  16 import tv.danmaku.ijk.media.exo2.ExoSourceManager;
  17 
  18 /**
  19  * Created by shuyu on 2016/11/11.
  20  */
  21 
  22 public class GSYApplication extends MultiDexApplication {
  23 
  24     @Override
  25     public void onCreate() {
  26         super.onCreate();
  27 
  28         //GSYVideoType.enableMediaCodec();
  29         //GSYVideoType.enableMediaCodecTexture();
  30 
  31         //PlayerFactory.setPlayManager(Exo2PlayerManager.class);//EXOæ¨¡å¼
  32         //ExoSourceManager.setSkipSSLChain(true);
  33 
  34 
  35         //PlayerFactory.setPlayManager(SystemPlayerManager.class);//ç³»ç»Ÿæ¨¡å¼
  36         //PlayerFactory.setPlayManager(IjkPlayerManager.class);//ijkæ¨¡å¼
  37 
  38         //CacheFactory.setCacheManager(ExoPlayerCacheManager.class);//exoç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒm3u8ï¼Œåªæ”¯æŒexo
  39         //CacheFactory.setCacheManager(ProxyCacheManager.class);//ä»£ç†ç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å¼ï¼Œä¸æ”¯æŒm3u8ç­‰
  40 
  41         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  42         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_FULL);
  43         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  44 
  45         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_CUSTOM);
  46         //GSYVideoType.setScreenScaleRatio(9.0f/16);
  47 
  48         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  49         //GSYVideoType.setRenderType(GSYVideoType.GLSURFACE);
  50 
  51         //IjkPlayerManager.setLogLevel(IjkMediaPlayer.IJK_LOG_SILENT);
  52 
  53         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  54 
  55         ExoSourceManager.setExoMediaSourceInterceptListener(new ExoMediaSourceInterceptListener() {
  56             @Override
<abbr title="  57             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLooping, File cacheDir) {">  57             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boğŸ”µ</abbr>
  58                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
  59                 return null;
  60             }
  61 
  62             /**
  63              * é€šè¿‡è‡ªå®šä¹‰çš„ HttpDataSource ï¼Œå¯ä»¥è®¾ç½®è‡ªç­¾è¯ä¹¦æˆ–è€…å¿½ç•¥è¯ä¹¦
  64              * demo é‡Œçš„ GSYExoHttpDataSourceFactory ä½¿ç”¨çš„æ˜¯å¿½ç•¥è¯ä¹¦
  65              * */
  66             @Override
<abbr title="  67             public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis,">  67             public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListenğŸ”µ</abbr>
<abbr title="  68                                                                Map&lt;String, String&gt; mapHeadData, boolean allowCrossProtocolRedirects) {">  68                                                                Map&lt;String, String&gt; mapHeadData, boolean ağŸ”µ</abbr>
  69                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
<abbr title="  70                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listener,">  70                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listenerğŸ”µ</abbr>
  71                         connectTimeoutMillis,
  72                         readTimeoutMillis, allowCrossProtocolRedirects);
  73                 factory.setDefaultRequestProperties(mapHeadData);
  74                 return factory;
  75             }
  76         });
  77 
  78         /*GSYVideoManager.instance().setPlayerInitSuccessListener(new IPlayerInitSuccessListener() {
  79             ///æ’­æ”¾å™¨åˆå§‹åŒ–æˆæœå›è°ƒ
  80             @Override
  81             public void onPlayerInitSuccess(IMediaPlayer player, GSYModel model) {
  82                 if (player instanceof IjkExo2MediaPlayer) {
  83                     ((IjkExo2MediaPlayer) player).setTrackSelector(new DefaultTrackSelector());
  84                     ((IjkExo2MediaPlayer) player).setLoadControl(new DefaultLoadControl());
  85                 }
  86             }
  87         });*/
  88 
  89         /*ProxyCacheManager.instance().setHostnameVerifier(new HostnameVerifier() {
  90             @Override
  91             public boolean verify(String hostname, SSLSession session) {
  92                 return true;
  93             }
  94         });
  95         final TrustManager[] trustAllCerts = new TrustManager[]{
  96                 new X509TrustManager() {
  97                     @Override
<abbr title="  98                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {">  98                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
  99                     }
 100 
 101                     @Override
<abbr title=" 102                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 102                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
 103                     }
 104 
 105                     @Override
 106                     public java.security.cert.X509Certificate[] getAcceptedIssuers() {
 107                         return null;
 108                     }
 109                 }
 110         };
 111         ProxyCacheManager.instance().setTrustAllCerts(trustAllCerts);*/
 112 
 113 
 114     }
 115 
 116 
 117 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                            <td><pre>   1 package com.example.gsyvideoplayer;
   2 
   3 import androidx.annotation.Nullable;
   4 import androidx.multidex.MultiDexApplication;
   5 import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;
   6 import com.google.android.exoplayer2.source.MediaSource;
   7 import com.google.android.exoplayer2.upstream.DataSource;
   8 import com.google.android.exoplayer2.upstream.HttpDataSource;
   9 import com.google.android.exoplayer2.upstream.TransferListener;
  10 import java.io.File;
  11 import java.util.Map;
  12 import tv.danmaku.ijk.media.exo2.ExoMediaSourceInterceptListener;
  13 import tv.danmaku.ijk.media.exo2.ExoSourceManager;
  14 
  15 
  16 /**
  17  * Created by shuyu on 2016/11/11.
  18  */
  19 public class GSYApplication extends MultiDexApplication {
  20     @Override
  21     public void onCreate() {
  22         super.onCreate();
  23         //GSYVideoType.enableMediaCodec();
  24         //GSYVideoType.enableMediaCodecTexture();
  25         //PlayerFactory.setPlayManager(Exo2PlayerManager.class);//EXOæ¨¡å¼
  26         //ExoSourceManager.setSkipSSLChain(true);
  27         //PlayerFactory.setPlayManager(SystemPlayerManager.class);//ç³»ç»Ÿæ¨¡å¼
  28         //PlayerFactory.setPlayManager(IjkPlayerManager.class);//ijkæ¨¡å¼
  29         //CacheFactory.setCacheManager(ExoPlayerCacheManager.class);//exoç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒm3u8ï¼Œåªæ”¯æŒexo
  30         //CacheFactory.setCacheManager(ProxyCacheManager.class);//ä»£ç†ç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å¼ï¼Œä¸æ”¯æŒm3u8ç­‰
  31         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  32         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_FULL);
  33         //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  34         //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_CUSTOM);
  35         //GSYVideoType.setScreenScaleRatio(9.0f/16);
  36         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  37         //GSYVideoType.setRenderType(GSYVideoType.GLSURFACE);
  38         //IjkPlayerManager.setLogLevel(IjkMediaPlayer.IJK_LOG_SILENT);
  39         //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  40         ExoSourceManager.setExoMediaSourceInterceptListener(new ExoMediaSourceInterceptListener() {
  41             @Override
<abbr title="  42             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLooping, File cacheDir) {">  42             public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boğŸ”µ</abbr>
  43                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
  44                 return null;
  45             }
  46 
  47             /**
  48              * é€šè¿‡è‡ªå®šä¹‰çš„ HttpDataSource ï¼Œå¯ä»¥è®¾ç½®è‡ªç­¾è¯ä¹¦æˆ–è€…å¿½ç•¥è¯ä¹¦
  49              * demo é‡Œçš„ GSYExoHttpDataSourceFactory ä½¿ç”¨çš„æ˜¯å¿½ç•¥è¯ä¹¦
  50              * */
  51             @Override
  52             public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable
<abbr title="  53             TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis, Map&lt;String, String&gt; mapHeadData, boolean allowCrossProtocolRedirects) {">  53             TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis, Map&lt;String, StrinğŸ”µ</abbr>
  54                 //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
<abbr title="  55                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listener, connectTimeoutMillis, readTimeoutMillis, allowCrossProtocolRedirects);">  55                 GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listenerğŸ”µ</abbr>
  56                 factory.setDefaultRequestProperties(mapHeadData);
  57                 return factory;
  58             }
  59         });
  60         /*GSYVideoManager.instance().setPlayerInitSuccessListener(new IPlayerInitSuccessListener() {
  61             ///æ’­æ”¾å™¨åˆå§‹åŒ–æˆæœå›è°ƒ
  62             @Override
  63             public void onPlayerInitSuccess(IMediaPlayer player, GSYModel model) {
  64                 if (player instanceof IjkExo2MediaPlayer) {
  65                     ((IjkExo2MediaPlayer) player).setTrackSelector(new DefaultTrackSelector());
  66                     ((IjkExo2MediaPlayer) player).setLoadControl(new DefaultLoadControl());
  67                 }
  68             }
  69         });*/
  70         /*ProxyCacheManager.instance().setHostnameVerifier(new HostnameVerifier() {
  71             @Override
  72             public boolean verify(String hostname, SSLSession session) {
  73                 return true;
  74             }
  75         });
  76         final TrustManager[] trustAllCerts = new TrustManager[]{
  77                 new X509TrustManager() {
  78                     @Override
<abbr title="  79                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {">  79                     public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
  80                     }
  81 
  82                     @Override
<abbr title="  83                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {">  83                     public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String autğŸ”µ</abbr>
  84                     }
  85 
  86                     @Override
  87                     public java.security.cert.X509Certificate[] getAcceptedIssuers() {
  88                         return null;
  89                     }
  90                 }
  91         };
  92         ProxyCacheManager.instance().setTrustAllCerts(trustAllCerts);*/
  93     }
  94 }
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 </pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre>   1  package com.example.gsyvideoplayer;
   2  
   3  import androidx.annotation.Nullable;
   4  import androidx.multidex.MultiDexApplication;
   5  
   6  import tv.danmaku.ijk.media.exo2.Exo2PlayerManager;







   7  import tv.danmaku.ijk.media.exo2.ExoMediaSourceInterceptListener;
   8  import tv.danmaku.ijk.media.exo2.ExoSourceManager;
   9  import tv.danmaku.ijk.media.exo2.IjkExo2MediaPlayer;
  10  import tv.danmaku.ijk.media.player.IMediaPlayer;
  11  
  12  import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;
  13  import com.google.android.exoplayer2.DefaultLoadControl;
  14  import com.google.android.exoplayer2.source.MediaSource;
  15  import com.google.android.exoplayer2.source.hls.HlsMediaSource;
  16  import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 +import com.google.android.exoplayer2.upstream.DataSource;</span>
  18  import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;
  19  import com.google.android.exoplayer2.upstream.HttpDataSource;
  20  import com.google.android.exoplayer2.upstream.TransferListener;
  21  import com.shuyu.gsyvideoplayer.GSYVideoManager;
  22  import com.shuyu.gsyvideoplayer.cache.ProxyCacheManager;
  23  import com.shuyu.gsyvideoplayer.model.GSYModel;
  24  import com.shuyu.gsyvideoplayer.player.BasePlayerManager;
  25  import com.shuyu.gsyvideoplayer.player.IPlayerInitSuccessListener;
  26  import com.shuyu.gsyvideoplayer.player.PlayerFactory;
  27  import com.shuyu.gsyvideoplayer.utils.Debuger;
  28  import com.shuyu.gsyvideoplayer.utils.GSYVideoType;
  29  import com.squareup.leakcanary.LeakCanary;
  30  
  31  import java.io.File;
  32  import java.security.cert.CertificateException;
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 +import java.util.Map;</span>
  34  
  35  import javax.net.ssl.HostnameVerifier;
  36  import javax.net.ssl.SSLSession;
  37  import javax.net.ssl.TrustManager;
  38  import javax.net.ssl.X509TrustManager;
  39  
  40  import static com.google.android.exoplayer2.util.Util.inferContentType;
  41  
  42  /**
  43   * Created by shuyu on 2016/11/11.
  44   */
  45  
  46  public class GSYApplication extends MultiDexApplication {
  47  
  48      @Override
  49      public void onCreate() {
  50          super.onCreate();
  51          if (LeakCanary.isInAnalyzerProcess(this)) {
  52              // This process is dedicated to LeakCanary for heap analysis.
  53              // You should not init your app in this process.
  54              return;
  55          }
  56          //LeakCanary.install(this);
  57  
  58          //GSYVideoType.enableMediaCodec();
  59          //GSYVideoType.enableMediaCodecTexture();
  60  
  61          //PlayerFactory.setPlayManager(Exo2PlayerManager.class);//EXOæ¨¡å¼
  62          //ExoSourceManager.setSkipSSLChain(true);
  63  
  64  
  65          //PlayerFactory.setPlayManager(SystemPlayerManager.class);//ç³»ç»Ÿæ¨¡å¼
  66          //PlayerFactory.setPlayManager(IjkPlayerManager.class);//ijkæ¨¡å¼
  67  
  68          //CacheFactory.setCacheManager(ExoPlayerCacheManager.class);//exoç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒm3u8ï¼Œåªæ”¯æŒexo
  69          //CacheFactory.setCacheManager(ProxyCacheManager.class);//ä»£ç†ç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å¼ï¼Œä¸æ”¯æŒm3u8ç­‰
  70  
  71          //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  72          //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_FULL);
  73          //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  74  
  75          //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_CUSTOM);
  76          //GSYVideoType.setScreenScaleRatio(9.0f/16);
  77  
  78          //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  79          //GSYVideoType.setRenderType(GSYVideoType.GLSURFACE);
  80  
  81          //IjkPlayerManager.setLogLevel(IjkMediaPlayer.IJK_LOG_SILENT);
  82  
  83          //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  84  
  85          ExoSourceManager.setExoMediaSourceInterceptListener(new ExoMediaSourceInterceptListener() {
  86              @Override
<abbr title="  87              public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLooping, File cacheDir) {">  87              public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLğŸ”µ</abbr>
  88                  //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
  89                  return null;
  90              }
  91  
  92              /**
  93               * é€šè¿‡è‡ªå®šä¹‰çš„ HttpDataSource ï¼Œå¯ä»¥è®¾ç½®è‡ªç­¾è¯ä¹¦æˆ–è€…å¿½ç•¥è¯ä¹¦
  94               * demo é‡Œçš„ GSYExoHttpDataSourceFactory ä½¿ç”¨çš„æ˜¯å¿½ç•¥è¯ä¹¦
  95               * */
  96              @Override
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"><abbr title="  97 -            public HttpDataSource.BaseFactory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis, boolean allowCrossProtocolRedirects) {">  97 -            public HttpDataSource.BaseFactory getHttpDataSourceFactory(String userAgent, @Nullable TransferListeneğŸ”µ</abbr></span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  98 +            public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis,">  98 +            public DataSource.Factory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listenğŸ”µ</abbr></span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title="  99 +                                                               Map&lt;String, String&gt; mapHeadData, boolean allowCrossProtocolRedirects) {">  99 +                                                               Map&lt;String, String&gt; mapHeadData, boolean allowCrossğŸ”µ</abbr></span>
 100                  //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0"> 101 -                return new GSYExoHttpDataSourceFactory(userAgent, listener,</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +                GSYExoHttpDataSourceFactory factory = new GSYExoHttpDataSourceFactory(userAgent, listener,</span>
 103                          connectTimeoutMillis,
 104                          readTimeoutMillis, allowCrossProtocolRedirects);
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +                factory.setDefaultRequestProperties(mapHeadData);</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +                return factory;</span>
 107              }
 108          });
 109  
 110          /*GSYVideoManager.instance().setPlayerInitSuccessListener(new IPlayerInitSuccessListener() {
 111              ///æ’­æ”¾å™¨åˆå§‹åŒ–æˆæœå›è°ƒ
 112              @Override
 113              public void onPlayerInitSuccess(IMediaPlayer player, GSYModel model) {
 114                  if (player instanceof IjkExo2MediaPlayer) {
 115                      ((IjkExo2MediaPlayer) player).setTrackSelector(new DefaultTrackSelector());
 116                      ((IjkExo2MediaPlayer) player).setLoadControl(new DefaultLoadControl());
 117                  }
 118              }
 119          });*/
 120  
 121          /*ProxyCacheManager.instance().setHostnameVerifier(new HostnameVerifier() {
 122              @Override
 123              public boolean verify(String hostname, SSLSession session) {
 124                  return true;
 125              }
 126          });
 127          final TrustManager[] trustAllCerts = new TrustManager[]{
 128                  new X509TrustManager() {
 129                      @Override
<abbr title=" 130                      public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 130                      public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) thğŸ”µ</abbr>
 131                      }
 132  
 133                      @Override
<abbr title=" 134                      public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 134                      public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) thğŸ”µ</abbr>
 135                      }
 136  
 137                      @Override
 138                      public java.security.cert.X509Certificate[] getAcceptedIssuers() {
 139                          return null;
 140                      }
 141                  }
 142          };
 143          ProxyCacheManager.instance().setTrustAllCerts(trustAllCerts);*/
 144  
 145  
 146      }
 147  
 148  
 149  }</pre></td>
                            <td><pre>   1  package com.example.gsyvideoplayer;
   2  
   3  import androidx.annotation.Nullable;
   4  import androidx.multidex.MultiDexApplication;
   5  
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">   6 -import tv.danmaku.ijk.media.exo2.Exo2PlayerManager;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   7 +import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   8 +import com.google.android.exoplayer2.source.MediaSource;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   9 +import com.google.android.exoplayer2.upstream.HttpDataSource;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import com.google.android.exoplayer2.upstream.TransferListener;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 +</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 +import java.io.File;</span>
<span style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 +</span>
  14  import tv.danmaku.ijk.media.exo2.ExoMediaSourceInterceptListener;
  15  import tv.danmaku.ijk.media.exo2.ExoSourceManager;
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  16 -import tv.danmaku.ijk.media.exo2.IjkExo2MediaPlayer;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  17 -import tv.danmaku.ijk.media.player.IMediaPlayer;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  18 -</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  19 -import com.example.gsyvideoplayer.exosource.GSYExoHttpDataSourceFactory;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  20 -import com.google.android.exoplayer2.DefaultLoadControl;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  21 -import com.google.android.exoplayer2.source.MediaSource;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  22 -import com.google.android.exoplayer2.source.hls.HlsMediaSource;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  23 -import com.google.android.exoplayer2.trackselection.DefaultTrackSelector;</span>

<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  24 -import com.google.android.exoplayer2.upstream.DefaultBandwidthMeter;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  25 -import com.google.android.exoplayer2.upstream.HttpDataSource;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  26 -import com.google.android.exoplayer2.upstream.TransferListener;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  27 -import com.shuyu.gsyvideoplayer.GSYVideoManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  28 -import com.shuyu.gsyvideoplayer.cache.ProxyCacheManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  29 -import com.shuyu.gsyvideoplayer.model.GSYModel;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  30 -import com.shuyu.gsyvideoplayer.player.BasePlayerManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  31 -import com.shuyu.gsyvideoplayer.player.IPlayerInitSuccessListener;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  32 -import com.shuyu.gsyvideoplayer.player.PlayerFactory;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  33 -import com.shuyu.gsyvideoplayer.utils.Debuger;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  34 -import com.shuyu.gsyvideoplayer.utils.GSYVideoType;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  35 -import com.squareup.leakcanary.LeakCanary;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  36 -</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  37 -import java.io.File;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  38 -import java.security.cert.CertificateException;</span>

<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  39 -</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  40 -import javax.net.ssl.HostnameVerifier;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  41 -import javax.net.ssl.SSLSession;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  42 -import javax.net.ssl.TrustManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  43 -import javax.net.ssl.X509TrustManager;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  44 -</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  45 -import static com.google.android.exoplayer2.util.Util.inferContentType;</span>
  46  
  47  /**
  48   * Created by shuyu on 2016/11/11.
  49   */
  50  
  51  public class GSYApplication extends MultiDexApplication {
  52  
  53      @Override
  54      public void onCreate() {
  55          super.onCreate();
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  56 -        if (LeakCanary.isInAnalyzerProcess(this)) {</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  57 -            // This process is dedicated to LeakCanary for heap analysis.</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  58 -            // You should not init your app in this process.</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  59 -            return;</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  60 -        }</span>
<span style="background-color: rgba(255, 0, 0, 0.2);; margin: 0">  61 -        //LeakCanary.install(this);</span>
  62  
  63          //GSYVideoType.enableMediaCodec();
  64          //GSYVideoType.enableMediaCodecTexture();
  65  
  66          //PlayerFactory.setPlayManager(Exo2PlayerManager.class);//EXOæ¨¡å¼
  67          //ExoSourceManager.setSkipSSLChain(true);
  68  
  69  
  70          //PlayerFactory.setPlayManager(SystemPlayerManager.class);//ç³»ç»Ÿæ¨¡å¼
  71          //PlayerFactory.setPlayManager(IjkPlayerManager.class);//ijkæ¨¡å¼
  72  
  73          //CacheFactory.setCacheManager(ExoPlayerCacheManager.class);//exoç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒm3u8ï¼Œåªæ”¯æŒexo
  74          //CacheFactory.setCacheManager(ProxyCacheManager.class);//ä»£ç†ç¼“å­˜æ¨¡å¼ï¼Œæ”¯æŒæ‰€æœ‰æ¨¡å¼ï¼Œä¸æ”¯æŒm3u8ç­‰
  75  
  76          //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  77          //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_FULL);
  78          //GSYVideoType.setShowType(GSYVideoType.SCREEN_MATCH_FULL);
  79  
  80          //GSYVideoType.setShowType(GSYVideoType.SCREEN_TYPE_CUSTOM);
  81          //GSYVideoType.setScreenScaleRatio(9.0f/16);
  82  
  83          //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  84          //GSYVideoType.setRenderType(GSYVideoType.GLSURFACE);
  85  
  86          //IjkPlayerManager.setLogLevel(IjkMediaPlayer.IJK_LOG_SILENT);
  87  
  88          //GSYVideoType.setRenderType(GSYVideoType.SUFRACE);
  89  
  90          ExoSourceManager.setExoMediaSourceInterceptListener(new ExoMediaSourceInterceptListener() {
  91              @Override
<abbr title="  92              public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLooping, File cacheDir) {">  92              public MediaSource getMediaSource(String dataSource, boolean preview, boolean cacheEnable, boolean isLğŸ”µ</abbr>
  93                  //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
  94                  return null;
  95              }
  96  
  97              /**
  98               * é€šè¿‡è‡ªå®šä¹‰çš„ HttpDataSource ï¼Œå¯ä»¥è®¾ç½®è‡ªç­¾è¯ä¹¦æˆ–è€…å¿½ç•¥è¯ä¹¦
  99               * demo é‡Œçš„ GSYExoHttpDataSourceFactory ä½¿ç”¨çš„æ˜¯å¿½ç•¥è¯ä¹¦
 100               * */
 101              @Override
<abbr title=" 102              public HttpDataSource.BaseFactory getHttpDataSourceFactory(String userAgent, @Nullable TransferListener listener, int connectTimeoutMillis, int readTimeoutMillis, boolean allowCrossProtocolRedirects) {"> 102              public HttpDataSource.BaseFactory getHttpDataSourceFactory(String userAgent, @Nullable TransferListeneğŸ”µ</abbr>


 103                  //å¦‚æœè¿”å› nullï¼Œå°±ä½¿ç”¨é»˜è®¤çš„
 104                  return new GSYExoHttpDataSourceFactory(userAgent, listener,

 105                          connectTimeoutMillis,
 106                          readTimeoutMillis, allowCrossProtocolRedirects);


 107              }
 108          });
 109  
 110          /*GSYVideoManager.instance().setPlayerInitSuccessListener(new IPlayerInitSuccessListener() {
 111              ///æ’­æ”¾å™¨åˆå§‹åŒ–æˆæœå›è°ƒ
 112              @Override
 113              public void onPlayerInitSuccess(IMediaPlayer player, GSYModel model) {
 114                  if (player instanceof IjkExo2MediaPlayer) {
 115                      ((IjkExo2MediaPlayer) player).setTrackSelector(new DefaultTrackSelector());
 116                      ((IjkExo2MediaPlayer) player).setLoadControl(new DefaultLoadControl());
 117                  }
 118              }
 119          });*/
 120  
 121          /*ProxyCacheManager.instance().setHostnameVerifier(new HostnameVerifier() {
 122              @Override
 123              public boolean verify(String hostname, SSLSession session) {
 124                  return true;
 125              }
 126          });
 127          final TrustManager[] trustAllCerts = new TrustManager[]{
 128                  new X509TrustManager() {
 129                      @Override
<abbr title=" 130                      public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 130                      public void checkClientTrusted(java.security.cert.X509Certificate[] chain, String authType) thğŸ”µ</abbr>
 131                      }
 132  
 133                      @Override
<abbr title=" 134                      public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) throws CertificateException {"> 134                      public void checkServerTrusted(java.security.cert.X509Certificate[] chain, String authType) thğŸ”µ</abbr>
 135                      }
 136  
 137                      @Override
 138                      public java.security.cert.X509Certificate[] getAcceptedIssuers() {
 139                          return null;
 140                      }
 141                  }
 142          };
 143          ProxyCacheManager.instance().setTrustAllCerts(trustAllCerts);*/
 144  
 145  
 146      }
 147  
 148  
 149  }</pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            