<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>9</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    9
                    <a href="8.html">prev</a>
                    <a href="10.html">next</a>
                    <a href="9_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_651db90b99455d330ec1889f5728cc2d0742d9f9_app/src/main/java/com/arialyy/simple/core/download/HighestPriorityActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9:app/src/main/java/com/arialyy/simple/core/download/HighestPriorityActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9^1:app/src/main/java/com/arialyy/simple/core/download/HighestPriorityActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;651db90b99455d330ec1889f5728cc2d0742d9f9^2:app/src/main/java/com/arialyy/simple/core/download/HighestPriorityActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;fdb607e10faf4051fac8bac66cb5751ec828ae36:app/src/main/java/com/arialyy/simple/core/download/HighestPriorityActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  16 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  17                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  18 import android.os.Bundle;                                                                                </span>
<span class="-5861542142927414420" onmouseenter="enter('-5861542142927414420');" onmouseout="out('-5861542142927414420');" style="">  19 import android.os.Environment;                                                                           </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  20 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  21 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  23 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  24 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  25 import android.widget.Button;                                                                            </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  26 import android.widget.TextView;                                                                          </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  27 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  28 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  29 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  30 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32 import com.arialyy.aria.core.inf.AbsEntity;                                                              </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  33 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  34 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  35 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  36 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  37 import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                  </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  38 import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                    </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  39 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  40 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  41 import java.util.ArrayList;                                                                              </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  42 import java.util.HashSet;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  43 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  44 import java.util.Set;                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  45                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  46 /**                                                                                                      </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  47  * Created by lyy on 2017/6/2.                                                                           </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  48  * 最高优先级任务Demo                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  49  */                                                                                                      </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  50 public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {              </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  51   private HorizontalProgressBarWithNumber mPb;                                                           </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  52   private Button mStart;                                                                                 </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  53   private Button mStop;                                                                                  </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  54   private Button mCancel;                                                                                </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  55   private TextView mSize;                                                                                </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  56   private TextView mSpeed;                                                                               </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  57   private RecyclerView mList;                                                                            </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  58   private DownloadEntity mEntity;                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  59                                                                                                          </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  60   private String mTaskName = &quot;光明大陆&quot;;                                                                     </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  61   private static final String DOWNLOAD_URL =                                                             </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title="  62       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;">  62       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee🔵</abbr></span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  63   private DownloadAdapter mAdapter;                                                                      </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  64   private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                     </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  65   private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                         </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  66                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  67   @Override protected int setLayoutId() {                                                                </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  68     return R.layout.activity_highest_priority;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  69   }                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  70                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  71   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  72     super.init(savedInstanceState);                                                                      </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  73     mPb = findViewById(R.id.progressBar);                                                                </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  74     mStart = findViewById(R.id.start);                                                                   </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  75     mStop = findViewById(R.id.stop);                                                                     </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  76     mCancel = findViewById(R.id.cancel);                                                                 </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  77     mSize = findViewById(R.id.size);                                                                     </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  78     mSpeed = findViewById(R.id.speed);                                                                   </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  79     mList = findViewById(R.id.list);                                                                     </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  80                                                                                                          </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  81     setTitle(&quot;最高优先级任务&quot;);                                                                                 </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  82     getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                         </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  83     initWidget();                                                                                        </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  84     Aria.download(this).register();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  85   }                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  86                                                                                                          </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  87   private void initWidget() {                                                                            </span>
<span class="764699090060821804" onmouseenter="enter('764699090060821804');" onmouseout="out('764699090060821804');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  88     mEntity = Aria.download(this).getFirstDownloadEntity(DOWNLOAD_URL);                                  </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  89                                                                                                          </span>
<span class="-5413073826946610003" onmouseenter="enter('-5413073826946610003');" onmouseout="out('-5413073826946610003');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  90     if (mEntity != null) {                                                                               </span>
<span class="-6165886979714274225" onmouseenter="enter('-6165886979714274225');" onmouseout="out('-6165886979714274225');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  91       mPb.setProgress(mEntity.getPercent());                                                             </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  92       if (mEntity.getState() == IEntity.STATE_STOP) {                                                    </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  93         mStart.setText(&quot;恢复&quot;);                                                                            </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  94         mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                   </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  95         setBtState(true);                                                                                </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  96       } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                          </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  97         setBtState(false);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  98       }                                                                                                  </span>
<span class="6223120771175856573" onmouseenter="enter('6223120771175856573');" onmouseout="out('6223120771175856573');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  99       mSize.setText(mEntity.getConvertFileSize());                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 100     }                                                                                                    </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 101                                                                                                          </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 102     List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                       </span>
<span class="7442740250165882480" onmouseenter="enter('7442740250165882480');" onmouseout="out('7442740250165882480');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 103     if (temp != null &amp;&amp; !temp.isEmpty()) {                                                               </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 104       for (DownloadEntity entity : temp) {                                                               </span>
<span class="877741500181384717" onmouseenter="enter('877741500181384717');" onmouseout="out('877741500181384717');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 105         if (entity.getUrl().equals(DOWNLOAD_URL)) continue;                                              </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 106         mData.add(entity);                                                                               </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 107         mRecord.add(entity.getUrl());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 108       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 109     }                                                                                                    </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 110     mAdapter = new DownloadAdapter(this, mData);                                                         </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 111     mList.setLayoutManager(new LinearLayoutManager(this));                                               </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 112     mList.setAdapter(mAdapter);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 113   }                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 114                                                                                                          </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 115   @Override public boolean onCreateOptionsMenu(Menu menu) {                                              </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 116     getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                       </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 117     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 118   }                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 119                                                                                                          </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 120   @Override public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 121     switch (item.getItemId()) {                                                                          </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 122       case R.id.add_task:                                                                                </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 123         List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();                </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 124         for (DownloadEntity entity : temp) {                                                             </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 125           String url = entity.getUrl();                                                                  </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 126           if (mRecord.contains(url)) {                                                                   </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 127             continue;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 128           }                                                                                              </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 129           mAdapter.addDownloadEntity(entity);                                                            </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 130           mRecord.add(url);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 131         }                                                                                                </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 132         mAdapter.notifyDataSetChanged();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 133         break;                                                                                           </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 134       case R.id.help:                                                                                    </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 135         String title = &quot;最高优先级任务介绍&quot;;                                                                      </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 136         String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                    </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 137             + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                                </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 138             + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                          </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 139             + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                    </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 140             + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                      </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 141             + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                         </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 142             + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                            </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 143         showMsgDialog(title, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 144         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 145     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 146     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 147   }                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 148                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 149   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 150     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 151       case R.id.start:                                                                                   </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 152         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="5798120091045791214" onmouseenter="enter('5798120091045791214');" onmouseout="out('5798120091045791214');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 153           Aria.download(this)                                                                            </span>
<span class="-4539325471858993839" onmouseenter="enter('-4539325471858993839');" onmouseout="out('-4539325471858993839');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 154               .load(DOWNLOAD_URL)                                                                        </span>
<span class="7712262113667881388" onmouseenter="enter('7712262113667881388');" onmouseout="out('7712262113667881388');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 155               .setFilePath(Environment.getExternalStorageDirectory().getPath()                           </span>
<span class="2693711621094804102" onmouseenter="enter('2693711621094804102');" onmouseout="out('2693711621094804102');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 156                   + &quot;/Download/&quot;                                                                         </span>
<span class="8000711364152444579" onmouseenter="enter('8000711364152444579');" onmouseout="out('8000711364152444579');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 157                   + mTaskName                                                                            </span>
<span class="1152343447206233363" onmouseenter="enter('1152343447206233363');" onmouseout="out('1152343447206233363');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 158                   + &quot;.apk&quot;)                                                                              </span>
<span class="5259854283717524295" onmouseenter="enter('5259854283717524295');" onmouseout="out('5259854283717524295');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 159               .setHighestPriority();                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 160         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 161           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 162         }                                                                                                </span>
<span class="2731698115323774314" onmouseenter="enter('2731698115323774314');" onmouseout="out('2731698115323774314');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 163         ((TextView) view).setText(getString(R.string.stop));                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 164         break;                                                                                           </span>
<span class="6125680861341439874" onmouseenter="enter('6125680861341439874');" onmouseout="out('6125680861341439874');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 165       case R.id.stop:                                                                                    </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 166         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 167           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 168         }                                                                                                </span>
<span class="2173493085352115596" onmouseenter="enter('2173493085352115596');" onmouseout="out('2173493085352115596');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 169         ((TextView) view).setText(getString(R.string.resume));                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 170         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 171       case R.id.cancel:                                                                                  </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 172         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="5775750668439361411" onmouseenter="enter('5775750668439361411');" onmouseout="out('5775750668439361411');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 173           Aria.download(this).load(mEntity.getId()).cancel();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 174         }                                                                                                </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 175 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176 import com.arialyy.aria.core.download.DownloadTarget;                                                   </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 177 import com.arialyy.aria.core.download.DownloadTask;                                                     </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178 import com.arialyy.aria.core.inf.AbsEntity;                                                             </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179 import com.arialyy.aria.core.inf.IEntity;                                                               </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180 import com.arialyy.frame.util.show.L;                                                                   </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181 import com.arialyy.simple.R;                                                                            </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182 import com.arialyy.simple.base.BaseActivity;                                                            </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183 import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                   </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184 import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                 </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 185 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                       </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 186 import java.util.ArrayList;                                                                             </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 187 import java.util.HashSet;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 188 import java.util.List;                                                                                  </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 189 import java.util.Set;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 190                                                                                                         </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 191 /**                                                                                                     </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 192  * Created by lyy on 2017/6/2.                                                                          </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 193  * 最高优先级任务Demo                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 194  */                                                                                                     </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 195 public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {             </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 196   private HorizontalProgressBarWithNumber mPb;                                                          </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 197   private Button mStart;                                                                                </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 198   private Button mStop;                                                                                 </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 199   private Button mCancel;                                                                               </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 200   private TextView mSize;                                                                               </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 201   private TextView mSpeed;                                                                              </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 202   private RecyclerView mList;                                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 203                                                                                                         </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 204   private String mTaskName = &quot;光明大陆&quot;;                                                                    </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 205   private static final String DOWNLOAD_URL =                                                            </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 206       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;"> 206       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee🔵</abbr></span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 207   private DownloadAdapter mAdapter;                                                                     </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 208   private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                    </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 209   private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 210                                                                                                         </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211   @Override protected int setLayoutId() {                                                               </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212     return R.layout.activity_highest_priority;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 213   }                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 214                                                                                                         </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 215   @Override protected void init(Bundle savedInstanceState) {                                            </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 216     super.init(savedInstanceState);                                                                     </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 217     mPb = findViewById(R.id.progressBar);                                                               </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 218     mStart = findViewById(R.id.start);                                                                  </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 219     mStop = findViewById(R.id.stop);                                                                    </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 220     mCancel = findViewById(R.id.cancel);                                                                </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 221     mSize = findViewById(R.id.size);                                                                    </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 222     mSpeed = findViewById(R.id.speed);                                                                  </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 223     mList = findViewById(R.id.list);                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 224                                                                                                         </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 225     setTitle(&quot;最高优先级任务&quot;);                                                                                </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 226     getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                        </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 227     initWidget();                                                                                       </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 228     Aria.download(this).register();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 229   }                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 230                                                                                                         </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 231   private void initWidget() {                                                                           </span>
<span class="6725265944993501556" onmouseenter="enter('6725265944993501556');" onmouseout="out('6725265944993501556');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 232     DownloadTarget target = Aria.download(this).load(DOWNLOAD_URL);                                     </span>
<span class="-284222052235679117" onmouseenter="enter('-284222052235679117');" onmouseout="out('-284222052235679117');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 233     mPb.setProgress(target.getPercent());                                                               </span>
<span class="8030110688301684206" onmouseenter="enter('8030110688301684206');" onmouseout="out('8030110688301684206');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 234     if (target.getTaskState() == IEntity.STATE_STOP) {                                                  </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 235       mStart.setText(&quot;恢复&quot;);                                                                             </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 236       mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                    </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 237       setBtState(true);                                                                                 </span>
<span class="2497922833347024405" onmouseenter="enter('2497922833347024405');" onmouseout="out('2497922833347024405');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 238     } else if (target.isRunning()) {                                                                    </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 239       setBtState(false);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 240     }                                                                                                   </span>
<span class="-6328297632866427574" onmouseenter="enter('-6328297632866427574');" onmouseout="out('-6328297632866427574');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 241     mSize.setText(target.getConvertFileSize());                                                         </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 242     List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                      </span>
<span class="7442740250165882480" onmouseenter="enter('7442740250165882480');" onmouseout="out('7442740250165882480');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 243     if (temp != null &amp;&amp; !temp.isEmpty()) {                                                              </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 244       for (DownloadEntity entity : temp) {                                                              </span>
<span class="877741500181384717" onmouseenter="enter('877741500181384717');" onmouseout="out('877741500181384717');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 245         if (entity.getUrl().equals(DOWNLOAD_URL)) continue;                                             </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 246         mData.add(entity);                                                                              </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 247         mRecord.add(entity.getUrl());                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 248       }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 249     }                                                                                                   </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 250     mAdapter = new DownloadAdapter(this, mData);                                                        </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 251     mList.setLayoutManager(new LinearLayoutManager(this));                                              </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 252     mList.setAdapter(mAdapter);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 253   }                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 254                                                                                                         </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 255   @Override public boolean onCreateOptionsMenu(Menu menu) {                                             </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 256     getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                      </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 257     return super.onCreateOptionsMenu(menu);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 258   }                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 259                                                                                                         </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 260   @Override public boolean onMenuItemClick(MenuItem item) {                                             </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 261     switch (item.getItemId()) {                                                                         </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262       case R.id.add_task:                                                                               </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 263         List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();               </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 264         for (DownloadEntity entity : temp) {                                                            </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 265           String url = entity.getUrl();                                                                 </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 266           if (mRecord.contains(url)) {                                                                  </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 267             continue;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 268           }                                                                                             </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 269           mAdapter.addDownloadEntity(entity);                                                           </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 270           mRecord.add(url);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271         }                                                                                               </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272         mAdapter.notifyDataSetChanged();                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273         break;                                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274       case R.id.help:                                                                                   </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275         String title = &quot;最高优先级任务介绍&quot;;                                                                     </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276         String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                   </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277             + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                               </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278             + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                         </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279             + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                   </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280             + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                     </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281             + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                        </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282             + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                           </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283         showMsgDialog(title, msg);                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284         break;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285     }                                                                                                   </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286     return true;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287   }                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288                                                                                                         </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289   public void onClick(View view) {                                                                      </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290     switch (view.getId()) {                                                                             </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291       case R.id.start:                                                                                  </span>
<span class="1600010778100337300" onmouseenter="enter('1600010778100337300');" onmouseout="out('1600010778100337300');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292         String text = ((TextView) view).getText().toString();                                           </span>
<span class="-5613296270002533890" onmouseenter="enter('-5613296270002533890');" onmouseout="out('-5613296270002533890');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293         if (text.equals(&quot;重新开始？&quot;) || text.equals(&quot;开始&quot;)) {                                                </span>
<span class="5798120091045791214" onmouseenter="enter('5798120091045791214');" onmouseout="out('5798120091045791214');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294           Aria.download(this)                                                                           </span>
<span class="-4539325471858993839" onmouseenter="enter('-4539325471858993839');" onmouseout="out('-4539325471858993839');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295               .load(DOWNLOAD_URL)                                                                       </span>
<span class="7712262113667881388" onmouseenter="enter('7712262113667881388');" onmouseout="out('7712262113667881388');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296               .setFilePath(Environment.getExternalStorageDirectory().getPath()                          </span>
<span class="2693711621094804102" onmouseenter="enter('2693711621094804102');" onmouseout="out('2693711621094804102');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 297                   + &quot;/Download/&quot;                                                                        </span>
<span class="8000711364152444579" onmouseenter="enter('8000711364152444579');" onmouseout="out('8000711364152444579');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 298                   + mTaskName                                                                           </span>
<span class="1152343447206233363" onmouseenter="enter('1152343447206233363');" onmouseout="out('1152343447206233363');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 299                   + &quot;.apk&quot;)                                                                             </span>
<span class="5259854283717524295" onmouseenter="enter('5259854283717524295');" onmouseout="out('5259854283717524295');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 300               .setHighestPriority();                                                                    </span>
<span class="-4605537758098325114" onmouseenter="enter('-4605537758098325114');" onmouseout="out('-4605537758098325114');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 301         } else if (text.equals(&quot;恢复&quot;)) {                                                                 </span>
<span class="932643514337745094" onmouseenter="enter('932643514337745094');" onmouseout="out('932643514337745094');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 302           Aria.download(this).load(DOWNLOAD_URL).resume();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 303         }                                                                                               </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 304         break;                                                                                          </span>
<span class="6125680861341439874" onmouseenter="enter('6125680861341439874');" onmouseout="out('6125680861341439874');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 305       case R.id.stop:                                                                                   </span>
<span class="7423130628705638928" onmouseenter="enter('7423130628705638928');" onmouseout="out('7423130628705638928');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 306         Aria.download(this).load(DOWNLOAD_URL).pause();                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 307         break;                                                                                          </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 308       case R.id.cancel:                                                                                 </span>
<span class="1662935142171524938" onmouseenter="enter('1662935142171524938');" onmouseout="out('1662935142171524938');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 309         Aria.download(this).load(DOWNLOAD_URL).cancel();                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 310 =======                                                                                                  </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 311 import com.arialyy.aria.core.download.DownloadTarget;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 312 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 313 import com.arialyy.aria.core.inf.AbsEntity;                                                              </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 314 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 315 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 316 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 317 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 318 import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                    </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 319 import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 320 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321 import java.util.ArrayList;                                                                              </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322 import java.util.HashSet;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324 import java.util.Set;                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326 /**                                                                                                      </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327  * Created by lyy on 2017/6/2.                                                                           </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328  * 最高优先级任务Demo                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329  */                                                                                                      </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330 public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {              </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331   private HorizontalProgressBarWithNumber mPb;                                                           </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 332   private Button mStart;                                                                                 </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 333   private Button mStop;                                                                                  </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 334   private Button mCancel;                                                                                </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 335   private TextView mSize;                                                                                </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 336   private TextView mSpeed;                                                                               </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 337   private RecyclerView mList;                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 338                                                                                                          </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 339   private String mTaskName = &quot;光明大陆&quot;;                                                                     </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 340   private static final String DOWNLOAD_URL =                                                             </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 341       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;"> 341       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee🔵</abbr></span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 342   private DownloadAdapter mAdapter;                                                                      </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 343   private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                     </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 344   private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 345                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 346   @Override protected int setLayoutId() {                                                                </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 347     return R.layout.activity_highest_priority;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 348   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 349                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 350   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 351     super.init(savedInstanceState);                                                                      </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 352     mPb = findViewById(R.id.progressBar);                                                                </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 353     mStart = findViewById(R.id.start);                                                                   </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 354     mStop = findViewById(R.id.stop);                                                                     </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 355     mCancel = findViewById(R.id.cancel);                                                                 </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 356     mSize = findViewById(R.id.size);                                                                     </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 357     mSpeed = findViewById(R.id.speed);                                                                   </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 358     mList = findViewById(R.id.list);                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 359                                                                                                          </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 360     setTitle(&quot;最高优先级任务&quot;);                                                                                 </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 361     getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                         </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 362     initWidget();                                                                                        </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 363     Aria.download(this).register();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 364   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 365                                                                                                          </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 366   private void initWidget() {                                                                            </span>
<span class="6725265944993501556" onmouseenter="enter('6725265944993501556');" onmouseout="out('6725265944993501556');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 367     DownloadTarget target = Aria.download(this).load(DOWNLOAD_URL);                                      </span>
<span class="-284222052235679117" onmouseenter="enter('-284222052235679117');" onmouseout="out('-284222052235679117');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 368     mPb.setProgress(target.getPercent());                                                                </span>
<span class="8030110688301684206" onmouseenter="enter('8030110688301684206');" onmouseout="out('8030110688301684206');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 369     if (target.getTaskState() == IEntity.STATE_STOP) {                                                   </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 370       mStart.setText(&quot;恢复&quot;);                                                                              </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 371       mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                     </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 372       setBtState(true);                                                                                  </span>
<span class="2497922833347024405" onmouseenter="enter('2497922833347024405');" onmouseout="out('2497922833347024405');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 373     } else if (target.isRunning()) {                                                                     </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 374       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 375     }                                                                                                    </span>
<span class="-6328297632866427574" onmouseenter="enter('-6328297632866427574');" onmouseout="out('-6328297632866427574');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 376     mSize.setText(target.getConvertFileSize());                                                          </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 377     List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                       </span>
<span class="7442740250165882480" onmouseenter="enter('7442740250165882480');" onmouseout="out('7442740250165882480');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 378     if (temp != null &amp;&amp; !temp.isEmpty()) {                                                               </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 379       for (DownloadEntity entity : temp) {                                                               </span>
<span class="877741500181384717" onmouseenter="enter('877741500181384717');" onmouseout="out('877741500181384717');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 380         if (entity.getUrl().equals(DOWNLOAD_URL)) continue;                                              </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 381         mData.add(entity);                                                                               </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 382         mRecord.add(entity.getUrl());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 383       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 384     }                                                                                                    </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 385     mAdapter = new DownloadAdapter(this, mData);                                                         </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 386     mList.setLayoutManager(new LinearLayoutManager(this));                                               </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 387     mList.setAdapter(mAdapter);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 388   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 389                                                                                                          </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 390   @Override public boolean onCreateOptionsMenu(Menu menu) {                                              </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 391     getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                       </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 392     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 393   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 394                                                                                                          </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 395   @Override public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 396     switch (item.getItemId()) {                                                                          </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 397       case R.id.add_task:                                                                                </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 398         List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();                </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 399         for (DownloadEntity entity : temp) {                                                             </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 400           String url = entity.getUrl();                                                                  </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 401           if (mRecord.contains(url)) {                                                                   </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 402             continue;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 403           }                                                                                              </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 404           mAdapter.addDownloadEntity(entity);                                                            </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 405           mRecord.add(url);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 406         }                                                                                                </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 407         mAdapter.notifyDataSetChanged();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 408         break;                                                                                           </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 409       case R.id.help:                                                                                    </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 410         String title = &quot;最高优先级任务介绍&quot;;                                                                      </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 411         String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                    </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 412             + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                                </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 413             + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                          </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 414             + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                    </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 415             + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                      </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 416             + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                         </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 417             + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                            </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 418         showMsgDialog(title, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 419         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 420     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 421     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 422   }                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 423                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 424   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 425     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 426       case R.id.start:                                                                                   </span>
<span class="1600010778100337300" onmouseenter="enter('1600010778100337300');" onmouseout="out('1600010778100337300');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 427         String text = ((TextView) view).getText().toString();                                            </span>
<span class="-5613296270002533890" onmouseenter="enter('-5613296270002533890');" onmouseout="out('-5613296270002533890');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 428         if (text.equals(&quot;重新开始？&quot;) || text.equals(&quot;开始&quot;)) {                                                 </span>
<span class="5798120091045791214" onmouseenter="enter('5798120091045791214');" onmouseout="out('5798120091045791214');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 429           Aria.download(this)                                                                            </span>
<span class="-4539325471858993839" onmouseenter="enter('-4539325471858993839');" onmouseout="out('-4539325471858993839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 430               .load(DOWNLOAD_URL)                                                                        </span>
<span class="7712262113667881388" onmouseenter="enter('7712262113667881388');" onmouseout="out('7712262113667881388');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 431               .setFilePath(Environment.getExternalStorageDirectory().getPath()                           </span>
<span class="2693711621094804102" onmouseenter="enter('2693711621094804102');" onmouseout="out('2693711621094804102');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 432                   + &quot;/Download/&quot;                                                                         </span>
<span class="8000711364152444579" onmouseenter="enter('8000711364152444579');" onmouseout="out('8000711364152444579');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 433                   + mTaskName                                                                            </span>
<span class="1152343447206233363" onmouseenter="enter('1152343447206233363');" onmouseout="out('1152343447206233363');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 434                   + &quot;.apk&quot;)                                                                              </span>
<span class="5259854283717524295" onmouseenter="enter('5259854283717524295');" onmouseout="out('5259854283717524295');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 435               .setHighestPriority();                                                                     </span>
<span class="-4605537758098325114" onmouseenter="enter('-4605537758098325114');" onmouseout="out('-4605537758098325114');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 436         } else if (text.equals(&quot;恢复&quot;)) {                                                                  </span>
<span class="932643514337745094" onmouseenter="enter('932643514337745094');" onmouseout="out('932643514337745094');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 437           Aria.download(this).load(DOWNLOAD_URL).resume();                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 438         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 439         break;                                                                                           </span>
<span class="6125680861341439874" onmouseenter="enter('6125680861341439874');" onmouseout="out('6125680861341439874');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 440       case R.id.stop:                                                                                    </span>
<span class="7423130628705638928" onmouseenter="enter('7423130628705638928');" onmouseout="out('7423130628705638928');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 441         Aria.download(this).load(DOWNLOAD_URL).pause();                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 442         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 443       case R.id.cancel:                                                                                  </span>
<span class="1662935142171524938" onmouseenter="enter('1662935142171524938');" onmouseout="out('1662935142171524938');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 444         Aria.download(this).load(DOWNLOAD_URL).cancel();                                                 </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 445 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 446         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 447     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 448   }                                                                                                      </span>
<span  style=""> 449                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 450   /**                                                                                                    </span>
<span class="-232567021359938566" onmouseenter="enter('-232567021359938566');" onmouseout="out('-232567021359938566');" style=""> 451    * 设置start 和 stop 按钮状态                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 452    */                                                                                                    </span>
<span class="6960778604893328266" onmouseenter="enter('6960778604893328266');" onmouseout="out('6960778604893328266');" style=""> 453   private void setBtState(boolean state) {                                                               </span>
<span class="1933435450579403148" onmouseenter="enter('1933435450579403148');" onmouseout="out('1933435450579403148');" style=""> 454     mStart.setEnabled(state);                                                                            </span>
<span class="1687565418112245161" onmouseenter="enter('1687565418112245161');" onmouseout="out('1687565418112245161');" style=""> 455     mStop.setEnabled(!state);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 456   }                                                                                                      </span>
<span  style=""> 457                                                                                                          </span>
<span class="-2302332957082886113" onmouseenter="enter('-2302332957082886113');" onmouseout="out('-2302332957082886113');" style=""> 458   @Download.onPre public void onPre(DownloadTask task) {                                                 </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 459     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 460   }                                                                                                      </span>
<span  style=""> 461                                                                                                          </span>
<span class="7214401078099042432" onmouseenter="enter('7214401078099042432');" onmouseout="out('7214401078099042432');" style=""> 462   @Download.onTaskPre public void onTaskPre(DownloadTask task) {                                         </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 463     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="-5282457744106743581" onmouseenter="enter('-5282457744106743581');" onmouseout="out('-5282457744106743581');" style=""> 464       mSize.setText(task.getConvertFileSize());                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 465     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 466     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467   }                                                                                                      </span>
<span  style=""> 468                                                                                                          </span>
<span class="6957028410824312220" onmouseenter="enter('6957028410824312220');" onmouseout="out('6957028410824312220');" style=""> 469   @Download.onTaskStart public void onTaskStart(DownloadTask task) {                                     </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 470     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 471       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 472     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 473     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474   }                                                                                                      </span>
<span  style=""> 475                                                                                                          </span>
<span class="-9175878919196510200" onmouseenter="enter('-9175878919196510200');" onmouseout="out('-9175878919196510200');" style=""> 476   @Download.onTaskResume public void onTaskResume(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 477     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 478       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 479     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 480     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481   }                                                                                                      </span>
<span  style=""> 482                                                                                                          </span>
<span class="-3955022871360312250" onmouseenter="enter('-3955022871360312250');" onmouseout="out('-3955022871360312250');" style=""> 483   @Download.onTaskStop public void onTaskStop(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 484     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 485       setBtState(true);                                                                                  </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style=""> 486       mStart.setText(&quot;恢复&quot;);                                                                              </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style=""> 487       mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 489     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490   }                                                                                                      </span>
<span  style=""> 491                                                                                                          </span>
<span class="-2471709909407655410" onmouseenter="enter('-2471709909407655410');" onmouseout="out('-2471709909407655410');" style=""> 492   @Download.onTaskCancel public void onTaskCancel(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 493     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 494       setBtState(true);                                                                                  </span>
<span class="-1796112539256404668" onmouseenter="enter('-1796112539256404668');" onmouseout="out('-1796112539256404668');" style=""> 495       mStart.setText(&quot;开始&quot;);                                                                              </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style=""> 496       mPb.setProgress(0);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 498     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499   }                                                                                                      </span>
<span  style=""> 500                                                                                                          </span>
<span class="8259163625292348666" onmouseenter="enter('8259163625292348666');" onmouseout="out('8259163625292348666');" style=""> 501   @Download.onTaskFail public void onTaskFail(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 502     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 503       setBtState(true);                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 504     } else {                                                                                             </span>
<span class="1233131400103761775" onmouseenter="enter('1233131400103761775');" onmouseout="out('1233131400103761775');" style=""> 505       L.d(TAG, &quot;download fail【&quot; + task.getKey() + &quot;】&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 506     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 507   }                                                                                                      </span>
<span  style=""> 508                                                                                                          </span>
<span class="-7655597589640308692" onmouseenter="enter('-7655597589640308692');" onmouseout="out('-7655597589640308692');" style=""> 509   @Download.onTaskComplete public void onTaskComplete(DownloadTask task) {                               </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 510     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 511       setBtState(true);                                                                                  </span>
<span class="6793761595550658779" onmouseenter="enter('6793761595550658779');" onmouseout="out('6793761595550658779');" style=""> 512       mStart.setText(&quot;重新开始&quot;);                                                                            </span>
<span class="-8699236919163455367" onmouseenter="enter('-8699236919163455367');" onmouseout="out('-8699236919163455367');" style=""> 513       mStart.setTextColor(getResources().getColor(android.R.color.holo_green_light));                    </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style=""> 514       mPb.setProgress(100);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 516     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 517   }                                                                                                      </span>
<span  style=""> 518                                                                                                          </span>
<span class="-2965502560442504740" onmouseenter="enter('-2965502560442504740');" onmouseout="out('-2965502560442504740');" style=""> 519   @Download.onTaskRunning public void onTaskRunning(DownloadTask task) {                                 </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 520     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="2375940983359338798" onmouseenter="enter('2375940983359338798');" onmouseout="out('2375940983359338798');" style=""> 521       mPb.setProgress(task.getPercent());                                                                </span>
<span class="-947242369655037040" onmouseenter="enter('-947242369655037040');" onmouseout="out('-947242369655037040');" style=""> 522       mSpeed.setText(task.getConvertSpeed());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 523     }                                                                                                    </span>
<span class="4758429645155841320" onmouseenter="enter('4758429645155841320');" onmouseout="out('4758429645155841320');" style=""> 524     mAdapter.setProgress(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 525   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 526 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  16 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  17                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  18 import android.os.Bundle;                                                                                </span>
<span class="-5861542142927414420" onmouseenter="enter('-5861542142927414420');" onmouseout="out('-5861542142927414420');" style="">  19 import android.os.Environment;                                                                           </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  20 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  21 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  23 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  24 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  25 import android.widget.Button;                                                                            </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  26 import android.widget.TextView;                                                                          </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  27 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  28 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  29 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  30 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="">  31 import com.arialyy.aria.core.inf.AbsEntity;                                                              </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  32 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  33 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  34 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  35 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="">  36 import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                  </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="">  37 import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                    </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  38 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  39 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  40 import java.util.ArrayList;                                                                              </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  41 import java.util.HashSet;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  43 import java.util.Set;                                                                                    </span>
<span  style="">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  45 /**                                                                                                      </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="">  46  * Created by lyy on 2017/6/2.                                                                           </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="">  47  * 最高优先级任务Demo                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  48  */                                                                                                      </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="">  49 public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {              </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="">  50   private HorizontalProgressBarWithNumber mPb;                                                           </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="">  51   private Button mStart;                                                                                 </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="">  52   private Button mStop;                                                                                  </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="">  53   private Button mCancel;                                                                                </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="">  54   private TextView mSize;                                                                                </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="">  55   private TextView mSpeed;                                                                               </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="">  56   private RecyclerView mList;                                                                            </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="">  57   private DownloadEntity mEntity;                                                                        </span>
<span  style="">  58                                                                                                          </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="">  59   private String mTaskName = &quot;光明大陆&quot;;                                                                     </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="">  60   private static final String DOWNLOAD_URL =                                                             </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style=""><abbr title="  61       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;">  61       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee🔵</abbr></span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="">  62   private DownloadAdapter mAdapter;                                                                      </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="">  63   private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                     </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="">  64   private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                         </span>
<span  style="">  65                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  66   @Override protected int setLayoutId() {                                                                </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="">  67     return R.layout.activity_highest_priority;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  68   }                                                                                                      </span>
<span  style="">  69                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  70   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  71     super.init(savedInstanceState);                                                                      </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="">  72     mPb = findViewById(R.id.progressBar);                                                                </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="">  73     mStart = findViewById(R.id.start);                                                                   </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="">  74     mStop = findViewById(R.id.stop);                                                                     </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="">  75     mCancel = findViewById(R.id.cancel);                                                                 </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="">  76     mSize = findViewById(R.id.size);                                                                     </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="">  77     mSpeed = findViewById(R.id.speed);                                                                   </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="">  78     mList = findViewById(R.id.list);                                                                     </span>
<span  style="">  79                                                                                                          </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="">  80     setTitle(&quot;最高优先级任务&quot;);                                                                                 </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="">  81     getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                         </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="">  82     initWidget();                                                                                        </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  83     Aria.download(this).register();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84   }                                                                                                      </span>
<span  style="">  85                                                                                                          </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="">  86   private void initWidget() {                                                                            </span>
<span class="764699090060821804" onmouseenter="enter('764699090060821804');" onmouseout="out('764699090060821804');" style="">  87     mEntity = Aria.download(this).getFirstDownloadEntity(DOWNLOAD_URL);                                  </span>
<span  style="">  88                                                                                                          </span>
<span class="-5413073826946610003" onmouseenter="enter('-5413073826946610003');" onmouseout="out('-5413073826946610003');" style="">  89     if (mEntity != null) {                                                                               </span>
<span class="-6165886979714274225" onmouseenter="enter('-6165886979714274225');" onmouseout="out('-6165886979714274225');" style="">  90       mPb.setProgress(mEntity.getPercent());                                                             </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="">  91       if (mEntity.getState() == IEntity.STATE_STOP) {                                                    </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="">  92         mStart.setText(&quot;恢复&quot;);                                                                            </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="">  93         mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                   </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="">  94         setBtState(true);                                                                                </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="">  95       } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                          </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="">  96         setBtState(false);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97       }                                                                                                  </span>
<span class="6223120771175856573" onmouseenter="enter('6223120771175856573');" onmouseout="out('6223120771175856573');" style="">  98       mSize.setText(mEntity.getConvertFileSize());                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style=""> 101     List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                       </span>
<span class="7442740250165882480" onmouseenter="enter('7442740250165882480');" onmouseout="out('7442740250165882480');" style=""> 102     if (temp != null &amp;&amp; !temp.isEmpty()) {                                                               </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 103       for (DownloadEntity entity : temp) {                                                               </span>
<span class="877741500181384717" onmouseenter="enter('877741500181384717');" onmouseout="out('877741500181384717');" style=""> 104         if (entity.getUrl().equals(DOWNLOAD_URL)) continue;                                              </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style=""> 105         mData.add(entity);                                                                               </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style=""> 106         mRecord.add(entity.getUrl());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108     }                                                                                                    </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style=""> 109     mAdapter = new DownloadAdapter(this, mData);                                                         </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style=""> 110     mList.setLayoutManager(new LinearLayoutManager(this));                                               </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style=""> 111     mList.setAdapter(mAdapter);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112   }                                                                                                      </span>
<span  style=""> 113                                                                                                          </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style=""> 114   @Override public boolean onCreateOptionsMenu(Menu menu) {                                              </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style=""> 115     getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                       </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 116     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117   }                                                                                                      </span>
<span  style=""> 118                                                                                                          </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style=""> 119   @Override public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 120     switch (item.getItemId()) {                                                                          </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style=""> 121       case R.id.add_task:                                                                                </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style=""> 122         List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();                </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 123         for (DownloadEntity entity : temp) {                                                             </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style=""> 124           String url = entity.getUrl();                                                                  </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style=""> 125           if (mRecord.contains(url)) {                                                                   </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 126             continue;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127           }                                                                                              </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style=""> 128           mAdapter.addDownloadEntity(entity);                                                            </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style=""> 129           mRecord.add(url);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130         }                                                                                                </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style=""> 131         mAdapter.notifyDataSetChanged();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 132         break;                                                                                           </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 133       case R.id.help:                                                                                    </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style=""> 134         String title = &quot;最高优先级任务介绍&quot;;                                                                      </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style=""> 135         String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                    </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style=""> 136             + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                                </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style=""> 137             + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                          </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style=""> 138             + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                    </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style=""> 139             + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                      </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style=""> 140             + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                         </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style=""> 141             + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                            </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style=""> 142         showMsgDialog(title, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 143         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 145     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146   }                                                                                                      </span>
<span  style=""> 147                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 148   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 149     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 150       case R.id.start:                                                                                   </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 151         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="5798120091045791214" onmouseenter="enter('5798120091045791214');" onmouseout="out('5798120091045791214');" style=""> 152           Aria.download(this)                                                                            </span>
<span class="-4539325471858993839" onmouseenter="enter('-4539325471858993839');" onmouseout="out('-4539325471858993839');" style=""> 153               .load(DOWNLOAD_URL)                                                                        </span>
<span class="7712262113667881388" onmouseenter="enter('7712262113667881388');" onmouseout="out('7712262113667881388');" style=""> 154               .setFilePath(Environment.getExternalStorageDirectory().getPath()                           </span>
<span class="2693711621094804102" onmouseenter="enter('2693711621094804102');" onmouseout="out('2693711621094804102');" style=""> 155                   + &quot;/Download/&quot;                                                                         </span>
<span class="8000711364152444579" onmouseenter="enter('8000711364152444579');" onmouseout="out('8000711364152444579');" style=""> 156                   + mTaskName                                                                            </span>
<span class="1152343447206233363" onmouseenter="enter('1152343447206233363');" onmouseout="out('1152343447206233363');" style=""> 157                   + &quot;.apk&quot;)                                                                              </span>
<span class="5259854283717524295" onmouseenter="enter('5259854283717524295');" onmouseout="out('5259854283717524295');" style=""> 158               .setHighestPriority();                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 159         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style=""> 160           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161         }                                                                                                </span>
<span class="2731698115323774314" onmouseenter="enter('2731698115323774314');" onmouseout="out('2731698115323774314');" style=""> 162         ((TextView) view).setText(getString(R.string.stop));                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 163         break;                                                                                           </span>
<span class="6125680861341439874" onmouseenter="enter('6125680861341439874');" onmouseout="out('6125680861341439874');" style=""> 164       case R.id.stop:                                                                                    </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 165         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style=""> 166           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167         }                                                                                                </span>
<span class="2173493085352115596" onmouseenter="enter('2173493085352115596');" onmouseout="out('2173493085352115596');" style=""> 168         ((TextView) view).setText(getString(R.string.resume));                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 169         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 170       case R.id.cancel:                                                                                  </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 171         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="5775750668439361411" onmouseenter="enter('5775750668439361411');" onmouseout="out('5775750668439361411');" style=""> 172           Aria.download(this).load(mEntity.getId()).cancel();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 174         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176   }                                                                                                      </span>
<span  style=""> 177                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 178   /**                                                                                                    </span>
<span class="-232567021359938566" onmouseenter="enter('-232567021359938566');" onmouseout="out('-232567021359938566');" style=""> 179    * 设置start 和 stop 按钮状态                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 180    */                                                                                                    </span>
<span class="6960778604893328266" onmouseenter="enter('6960778604893328266');" onmouseout="out('6960778604893328266');" style=""> 181   private void setBtState(boolean state) {                                                               </span>
<span class="1933435450579403148" onmouseenter="enter('1933435450579403148');" onmouseout="out('1933435450579403148');" style=""> 182     mStart.setEnabled(state);                                                                            </span>
<span class="1687565418112245161" onmouseenter="enter('1687565418112245161');" onmouseout="out('1687565418112245161');" style=""> 183     mStop.setEnabled(!state);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184   }                                                                                                      </span>
<span  style=""> 185                                                                                                          </span>
<span class="-2302332957082886113" onmouseenter="enter('-2302332957082886113');" onmouseout="out('-2302332957082886113');" style=""> 186   @Download.onPre public void onPre(DownloadTask task) {                                                 </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 187     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188   }                                                                                                      </span>
<span  style=""> 189                                                                                                          </span>
<span class="7214401078099042432" onmouseenter="enter('7214401078099042432');" onmouseout="out('7214401078099042432');" style=""> 190   @Download.onTaskPre public void onTaskPre(DownloadTask task) {                                         </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 191     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="-5282457744106743581" onmouseenter="enter('-5282457744106743581');" onmouseout="out('-5282457744106743581');" style=""> 192       mSize.setText(task.getConvertFileSize());                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 194     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195   }                                                                                                      </span>
<span  style=""> 196                                                                                                          </span>
<span class="6957028410824312220" onmouseenter="enter('6957028410824312220');" onmouseout="out('6957028410824312220');" style=""> 197   @Download.onTaskStart public void onTaskStart(DownloadTask task) {                                     </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 198     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 199       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 201     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202   }                                                                                                      </span>
<span  style=""> 203                                                                                                          </span>
<span class="-9175878919196510200" onmouseenter="enter('-9175878919196510200');" onmouseout="out('-9175878919196510200');" style=""> 204   @Download.onTaskResume public void onTaskResume(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 205     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 206       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 208     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209   }                                                                                                      </span>
<span  style=""> 210                                                                                                          </span>
<span class="-3955022871360312250" onmouseenter="enter('-3955022871360312250');" onmouseout="out('-3955022871360312250');" style=""> 211   @Download.onTaskStop public void onTaskStop(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 212     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 213       setBtState(true);                                                                                  </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style=""> 214       mStart.setText(&quot;恢复&quot;);                                                                              </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style=""> 215       mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 217     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218   }                                                                                                      </span>
<span  style=""> 219                                                                                                          </span>
<span class="-2471709909407655410" onmouseenter="enter('-2471709909407655410');" onmouseout="out('-2471709909407655410');" style=""> 220   @Download.onTaskCancel public void onTaskCancel(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 221     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 222       setBtState(true);                                                                                  </span>
<span class="-1796112539256404668" onmouseenter="enter('-1796112539256404668');" onmouseout="out('-1796112539256404668');" style=""> 223       mStart.setText(&quot;开始&quot;);                                                                              </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style=""> 224       mPb.setProgress(0);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 226     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227   }                                                                                                      </span>
<span  style=""> 228                                                                                                          </span>
<span class="8259163625292348666" onmouseenter="enter('8259163625292348666');" onmouseout="out('8259163625292348666');" style=""> 229   @Download.onTaskFail public void onTaskFail(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 230     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 231       setBtState(true);                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 232     } else {                                                                                             </span>
<span class="1233131400103761775" onmouseenter="enter('1233131400103761775');" onmouseout="out('1233131400103761775');" style=""> 233       L.d(TAG, &quot;download fail【&quot; + task.getKey() + &quot;】&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235   }                                                                                                      </span>
<span  style=""> 236                                                                                                          </span>
<span class="-7655597589640308692" onmouseenter="enter('-7655597589640308692');" onmouseout="out('-7655597589640308692');" style=""> 237   @Download.onTaskComplete public void onTaskComplete(DownloadTask task) {                               </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 238     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 239       setBtState(true);                                                                                  </span>
<span class="6793761595550658779" onmouseenter="enter('6793761595550658779');" onmouseout="out('6793761595550658779');" style=""> 240       mStart.setText(&quot;重新开始&quot;);                                                                            </span>
<span class="-8699236919163455367" onmouseenter="enter('-8699236919163455367');" onmouseout="out('-8699236919163455367');" style=""> 241       mStart.setTextColor(getResources().getColor(android.R.color.holo_green_light));                    </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style=""> 242       mPb.setProgress(100);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 244     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245   }                                                                                                      </span>
<span  style=""> 246                                                                                                          </span>
<span class="-2965502560442504740" onmouseenter="enter('-2965502560442504740');" onmouseout="out('-2965502560442504740');" style=""> 247   @Download.onTaskRunning public void onTaskRunning(DownloadTask task) {                                 </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 248     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="2375940983359338798" onmouseenter="enter('2375940983359338798');" onmouseout="out('2375940983359338798');" style=""> 249       mPb.setProgress(task.getPercent());                                                                </span>
<span class="-947242369655037040" onmouseenter="enter('-947242369655037040');" onmouseout="out('-947242369655037040');" style=""> 250       mSpeed.setText(task.getConvertSpeed());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251     }                                                                                                    </span>
<span class="4758429645155841320" onmouseenter="enter('4758429645155841320');" onmouseout="out('4758429645155841320');" style=""> 252     mAdapter.setProgress(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254 }                                                                                                        </span>














































































































































































































































































</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  16 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  17                                                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  18 import android.os.Bundle;                                                                                </span>
<span class="-5861542142927414420" onmouseenter="enter('-5861542142927414420');" onmouseout="out('-5861542142927414420');" style="">  19 import android.os.Environment;                                                                           </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  20 import android.support.v7.widget.LinearLayoutManager;                                                    </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  21 import android.support.v7.widget.RecyclerView;                                                           </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  23 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  24 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  25 import android.widget.Button;                                                                            </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  26 import android.widget.TextView;                                                                          </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  27 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  28 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  29 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  30 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="">  31 import com.arialyy.aria.core.inf.AbsEntity;                                                              </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  32 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  33 import com.arialyy.frame.util.show.L;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  34 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  35 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="">  36 import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                  </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="">  37 import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                    </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  38 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  39 import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                        </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  40 import java.util.ArrayList;                                                                              </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  41 import java.util.HashSet;                                                                                </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  42 import java.util.List;                                                                                   </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  43 import java.util.Set;                                                                                    </span>
<span  style="">  44                                                                                                          </span>
<span  style="">  45                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  46 /**                                                                                                      </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="">  47  * Created by lyy on 2017/6/2.                                                                           </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="">  48  * 最高优先级任务Demo                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  49  */                                                                                                      </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="">  50 public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {              </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="">  51   private HorizontalProgressBarWithNumber mPb;                                                           </span>
<span  style="">  52                                                                                                          </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="">  53   private Button mStart;                                                                                 </span>
<span  style="">  54                                                                                                          </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="">  55   private Button mStop;                                                                                  </span>
<span  style="">  56                                                                                                          </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="">  57   private Button mCancel;                                                                                </span>
<span  style="">  58                                                                                                          </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="">  59   private TextView mSize;                                                                                </span>
<span  style="">  60                                                                                                          </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="">  61   private TextView mSpeed;                                                                               </span>
<span  style="">  62                                                                                                          </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="">  63   private RecyclerView mList;                                                                            </span>
<span  style="">  64                                                                                                          </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="">  65   private DownloadEntity mEntity;                                                                        </span>
<span  style="">  66                                                                                                          </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="">  67   private String mTaskName = &quot;光明大陆&quot;;                                                                     </span>
<span  style="">  68                                                                                                          </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="">  69   private static final String DOWNLOAD_URL =                                                             </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style=""><abbr title="  70       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;">  70       &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee🔵</abbr></span>
<span  style="">  71                                                                                                          </span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="">  72   private DownloadAdapter mAdapter;                                                                      </span>
<span  style="">  73                                                                                                          </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="">  74   private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                     </span>
<span  style="">  75                                                                                                          </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="">  76   private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                         </span>
<span  style="">  77                                                                                                          </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  78   @Override protected int setLayoutId() {                                                                </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="">  79     return R.layout.activity_highest_priority;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80   }                                                                                                      </span>
<span  style="">  81                                                                                                          </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  82   @Override protected void init(Bundle savedInstanceState) {                                             </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  83     super.init(savedInstanceState);                                                                      </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="">  84     mPb = findViewById(R.id.progressBar);                                                                </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="">  85     mStart = findViewById(R.id.start);                                                                   </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="">  86     mStop = findViewById(R.id.stop);                                                                     </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="">  87     mCancel = findViewById(R.id.cancel);                                                                 </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="">  88     mSize = findViewById(R.id.size);                                                                     </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="">  89     mSpeed = findViewById(R.id.speed);                                                                   </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="">  90     mList = findViewById(R.id.list);                                                                     </span>
<span  style="">  91                                                                                                          </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="">  92     setTitle(&quot;最高优先级任务&quot;);                                                                                 </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="">  93     getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                         </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="">  94     initWidget();                                                                                        </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  95     Aria.download(this).register();                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96   }                                                                                                      </span>
<span  style="">  97                                                                                                          </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="">  98   private void initWidget() {                                                                            </span>
<span class="764699090060821804" onmouseenter="enter('764699090060821804');" onmouseout="out('764699090060821804');" style="">  99     mEntity = Aria.download(this).getFirstDownloadEntity(DOWNLOAD_URL);                                  </span>
<span class="-5413073826946610003" onmouseenter="enter('-5413073826946610003');" onmouseout="out('-5413073826946610003');" style=""> 100     if (mEntity != null) {                                                                               </span>
<span class="-6165886979714274225" onmouseenter="enter('-6165886979714274225');" onmouseout="out('-6165886979714274225');" style=""> 101       mPb.setProgress(mEntity.getPercent());                                                             </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style=""> 102       if (mEntity.getState() == IEntity.STATE_STOP) {                                                    </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style=""> 103         mStart.setText(&quot;恢复&quot;);                                                                            </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style=""> 104         mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                   </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 105         setBtState(true);                                                                                </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style=""> 106       } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                          </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 107         setBtState(false);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108       }                                                                                                  </span>
<span class="6223120771175856573" onmouseenter="enter('6223120771175856573');" onmouseout="out('6223120771175856573');" style=""> 109       mSize.setText(mEntity.getConvertFileSize());                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style=""> 111     List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                       </span>
<span class="-5169561742433338755" onmouseenter="enter('-5169561742433338755');" onmouseout="out('-5169561742433338755');" style=""> 112     if ((temp != null) &amp;&amp; (!temp.isEmpty())) {                                                           </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 113       for (DownloadEntity entity : temp) {                                                               </span>
<span class="221847038780713665" onmouseenter="enter('221847038780713665');" onmouseout="out('221847038780713665');" style=""> 114         if (entity.getUrl().equals(DOWNLOAD_URL)) {                                                      </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 115           continue;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116         }                                                                                                </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style=""> 117         mData.add(entity);                                                                               </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style=""> 118         mRecord.add(entity.getUrl());                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120     }                                                                                                    </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style=""> 121     mAdapter = new DownloadAdapter(this, mData);                                                         </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style=""> 122     mList.setLayoutManager(new LinearLayoutManager(this));                                               </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style=""> 123     mList.setAdapter(mAdapter);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124   }                                                                                                      </span>
<span  style=""> 125                                                                                                          </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style=""> 126   @Override public boolean onCreateOptionsMenu(Menu menu) {                                              </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style=""> 127     getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                       </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 128     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129   }                                                                                                      </span>
<span  style=""> 130                                                                                                          </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style=""> 131   @Override public boolean onMenuItemClick(MenuItem item) {                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 132     switch (item.getItemId()) {                                                                          </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style=""> 133       case R.id.add_task:                                                                                </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style=""> 134         List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();                </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 135         for (DownloadEntity entity : temp) {                                                             </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style=""> 136           String url = entity.getUrl();                                                                  </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style=""> 137           if (mRecord.contains(url)) {                                                                   </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 138             continue;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139           }                                                                                              </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style=""> 140           mAdapter.addDownloadEntity(entity);                                                            </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style=""> 141           mRecord.add(url);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142         }                                                                                                </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style=""> 143         mAdapter.notifyDataSetChanged();                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 144         break;                                                                                           </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 145       case R.id.help:                                                                                    </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style=""> 146         String title = &quot;最高优先级任务介绍&quot;;                                                                      </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style=""> 147         String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                    </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style=""> 148             + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                                </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style=""> 149             + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                          </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style=""> 150             + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                    </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style=""> 151             + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                      </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style=""> 152             + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                         </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style=""> 153             + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                            </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style=""> 154         showMsgDialog(title, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 157     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158   }                                                                                                      </span>
<span  style=""> 159                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 160   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 161     switch (view.getId()) {                                                                              </span>
<span class="3923754866021956147" onmouseenter="enter('3923754866021956147');" onmouseout="out('3923754866021956147');" style=""> 162       case R.id.start :                                                                                  </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 163         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="-7533138477439575569" onmouseenter="enter('-7533138477439575569');" onmouseout="out('-7533138477439575569');" style=""><abbr title=" 164           Aria.download(this).load(DOWNLOAD_URL).setFilePath(((Environment.getExternalStorageDirectory().getPath() + &quot;/Download/&quot;) + mTaskName) + &quot;.apk&quot;).setHighestPriority();"> 164           Aria.download(this).load(DOWNLOAD_URL).setFilePath(((Environment.getExternalStorageDirectory().🔵</abbr></span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 165         } else {                                                                                         </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style=""> 166           Aria.download(this).load(mEntity.getId()).resume();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167         }                                                                                                </span>
<span class="-5726954869516727872" onmouseenter="enter('-5726954869516727872');" onmouseout="out('-5726954869516727872');" style=""> 168         ((TextView) (view)).setText(getString(R.string.stop));                                           </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 169         break;                                                                                           </span>
<span class="-2882217057494651964" onmouseenter="enter('-2882217057494651964');" onmouseout="out('-2882217057494651964');" style=""> 170       case R.id.stop :                                                                                   </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 171         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style=""> 172           Aria.download(this).load(mEntity.getId()).stop();                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173         }                                                                                                </span>
<span class="-2916119853445076417" onmouseenter="enter('-2916119853445076417');" onmouseout="out('-2916119853445076417');" style=""> 174         ((TextView) (view)).setText(getString(R.string.resume));                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 175         break;                                                                                           </span>
<span class="4772162423765687246" onmouseenter="enter('4772162423765687246');" onmouseout="out('4772162423765687246');" style=""> 176       case R.id.cancel :                                                                                 </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style=""> 177         if (AppUtil.chekEntityValid(mEntity)) {                                                          </span>
<span class="5775750668439361411" onmouseenter="enter('5775750668439361411');" onmouseout="out('5775750668439361411');" style=""> 178           Aria.download(this).load(mEntity.getId()).cancel();                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 180         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182   }                                                                                                      </span>
<span  style=""> 183                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 184   /**                                                                                                    </span>
<span class="-232567021359938566" onmouseenter="enter('-232567021359938566');" onmouseout="out('-232567021359938566');" style=""> 185    * 设置start 和 stop 按钮状态                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 186    */                                                                                                    </span>
<span class="6960778604893328266" onmouseenter="enter('6960778604893328266');" onmouseout="out('6960778604893328266');" style=""> 187   private void setBtState(boolean state) {                                                               </span>
<span class="1933435450579403148" onmouseenter="enter('1933435450579403148');" onmouseout="out('1933435450579403148');" style=""> 188     mStart.setEnabled(state);                                                                            </span>
<span class="1687565418112245161" onmouseenter="enter('1687565418112245161');" onmouseout="out('1687565418112245161');" style=""> 189     mStop.setEnabled(!state);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 190   }                                                                                                      </span>
<span  style=""> 191                                                                                                          </span>
<span class="-2302332957082886113" onmouseenter="enter('-2302332957082886113');" onmouseout="out('-2302332957082886113');" style=""> 192   @Download.onPre public void onPre(DownloadTask task) {                                                 </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 193     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194   }                                                                                                      </span>
<span  style=""> 195                                                                                                          </span>
<span class="7214401078099042432" onmouseenter="enter('7214401078099042432');" onmouseout="out('7214401078099042432');" style=""> 196   @Download.onTaskPre public void onTaskPre(DownloadTask task) {                                         </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 197     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="-5282457744106743581" onmouseenter="enter('-5282457744106743581');" onmouseout="out('-5282457744106743581');" style=""> 198       mSize.setText(task.getConvertFileSize());                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 200     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 201   }                                                                                                      </span>
<span  style=""> 202                                                                                                          </span>
<span class="6957028410824312220" onmouseenter="enter('6957028410824312220');" onmouseout="out('6957028410824312220');" style=""> 203   @Download.onTaskStart public void onTaskStart(DownloadTask task) {                                     </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 204     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 205       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 207     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208   }                                                                                                      </span>
<span  style=""> 209                                                                                                          </span>
<span class="-9175878919196510200" onmouseenter="enter('-9175878919196510200');" onmouseout="out('-9175878919196510200');" style=""> 210   @Download.onTaskResume public void onTaskResume(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 211     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 212       setBtState(false);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 214     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215   }                                                                                                      </span>
<span  style=""> 216                                                                                                          </span>
<span class="-3955022871360312250" onmouseenter="enter('-3955022871360312250');" onmouseout="out('-3955022871360312250');" style=""> 217   @Download.onTaskStop public void onTaskStop(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 218     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 219       setBtState(true);                                                                                  </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style=""> 220       mStart.setText(&quot;恢复&quot;);                                                                              </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style=""> 221       mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 223     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224   }                                                                                                      </span>
<span  style=""> 225                                                                                                          </span>
<span class="-2471709909407655410" onmouseenter="enter('-2471709909407655410');" onmouseout="out('-2471709909407655410');" style=""> 226   @Download.onTaskCancel public void onTaskCancel(DownloadTask task) {                                   </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 227     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 228       setBtState(true);                                                                                  </span>
<span class="-1796112539256404668" onmouseenter="enter('-1796112539256404668');" onmouseout="out('-1796112539256404668');" style=""> 229       mStart.setText(&quot;开始&quot;);                                                                              </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style=""> 230       mPb.setProgress(0);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 232     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 233   }                                                                                                      </span>
<span  style=""> 234                                                                                                          </span>
<span class="8259163625292348666" onmouseenter="enter('8259163625292348666');" onmouseout="out('8259163625292348666');" style=""> 235   @Download.onTaskFail public void onTaskFail(DownloadTask task) {                                       </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 236     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 237       setBtState(true);                                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 238     } else {                                                                                             </span>
<span class="1233131400103761775" onmouseenter="enter('1233131400103761775');" onmouseout="out('1233131400103761775');" style=""> 239       L.d(TAG, &quot;download fail【&quot; + task.getKey() + &quot;】&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241   }                                                                                                      </span>
<span  style=""> 242                                                                                                          </span>
<span class="-7655597589640308692" onmouseenter="enter('-7655597589640308692');" onmouseout="out('-7655597589640308692');" style=""> 243   @Download.onTaskComplete public void onTaskComplete(DownloadTask task) {                               </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 244     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 245       setBtState(true);                                                                                  </span>
<span class="6793761595550658779" onmouseenter="enter('6793761595550658779');" onmouseout="out('6793761595550658779');" style=""> 246       mStart.setText(&quot;重新开始&quot;);                                                                            </span>
<span class="-8699236919163455367" onmouseenter="enter('-8699236919163455367');" onmouseout="out('-8699236919163455367');" style=""> 247       mStart.setTextColor(getResources().getColor(android.R.color.holo_green_light));                    </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style=""> 248       mPb.setProgress(100);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 250     mAdapter.updateState(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251   }                                                                                                      </span>
<span  style=""> 252                                                                                                          </span>
<span class="-2965502560442504740" onmouseenter="enter('-2965502560442504740');" onmouseout="out('-2965502560442504740');" style=""> 253   @Download.onTaskRunning public void onTaskRunning(DownloadTask task) {                                 </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 254     if (task.getKey().equals(DOWNLOAD_URL)) {                                                            </span>
<span class="2375940983359338798" onmouseenter="enter('2375940983359338798');" onmouseout="out('2375940983359338798');" style=""> 255       mPb.setProgress(task.getPercent());                                                                </span>
<span class="-947242369655037040" onmouseenter="enter('-947242369655037040');" onmouseout="out('-947242369655037040');" style=""> 256       mSpeed.setText(task.getConvertSpeed());                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257     }                                                                                                    </span>
<span class="4758429645155841320" onmouseenter="enter('4758429645155841320');" onmouseout="out('4758429645155841320');" style=""> 258     mAdapter.setProgress(task.getDownloadEntity());                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260 }                                                                                                        </span>








































































































































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  16  package com.arialyy.simple.core.download;                                                                         </span>
<span  style="">  17                                                                                                                    </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  18  import android.os.Bundle;                                                                                         </span>
<span class="-5861542142927414420" onmouseenter="enter('-5861542142927414420');" onmouseout="out('-5861542142927414420');" style="">  19  import android.os.Environment;                                                                                    </span>
<span class="1496490506583014048" onmouseenter="enter('1496490506583014048');" onmouseout="out('1496490506583014048');" style="">  20  import android.support.v7.widget.LinearLayoutManager;                                                             </span>
<span class="-719109454948129410" onmouseenter="enter('-719109454948129410');" onmouseout="out('-719109454948129410');" style="">  21  import android.support.v7.widget.RecyclerView;                                                                    </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  22  import android.view.Menu;                                                                                         </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  23  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  24  import android.view.View;                                                                                         </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  25  import android.widget.Button;                                                                                     </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  26  import android.widget.TextView;                                                                                   </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  27  import com.arialyy.annotations.Download;                                                                          </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  28  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  29  import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -import com.arialyy.aria.core.download.DownloadTarget;                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  31  import com.arialyy.aria.core.download.DownloadTask;                                                               </span>
<span class="3322471595626447686" onmouseenter="enter('3322471595626447686');" onmouseout="out('3322471595626447686');" style="">  32  import com.arialyy.aria.core.inf.AbsEntity;                                                                       </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  33  import com.arialyy.aria.core.inf.IEntity;                                                                         </span>
<span class="5920031144409748677" onmouseenter="enter('5920031144409748677');" onmouseout="out('5920031144409748677');" style="">  34  import com.arialyy.frame.util.show.L;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  35  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  36  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 +import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                           </span>
<span class="2411644278968606726" onmouseenter="enter('2411644278968606726');" onmouseout="out('2411644278968606726');" style="">  38  import com.arialyy.simple.databinding.ActivityHighestPriorityBinding;                                             </span>
<span class="3183466898080686749" onmouseenter="enter('3183466898080686749');" onmouseout="out('3183466898080686749');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -import com.arialyy.simple.core.download.multi_download.DownloadAdapter;                                           </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +import com.arialyy.simple.util.AppUtil;                                                                           </span>
<span class="6646369608500491832" onmouseenter="enter('6646369608500491832');" onmouseout="out('6646369608500491832');" style="">  41  import com.arialyy.simple.widget.HorizontalProgressBarWithNumber;                                                 </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  42  import java.util.ArrayList;                                                                                       </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  43  import java.util.HashSet;                                                                                         </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  44  import java.util.List;                                                                                            </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  45  import java.util.Set;                                                                                             </span>
<span  style="">  46                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  47  /**                                                                                                               </span>
<span class="-3460485525830720685" onmouseenter="enter('-3460485525830720685');" onmouseout="out('-3460485525830720685');" style="">  48   * Created by lyy on 2017/6/2.                                                                                    </span>
<span class="5018693386287234522" onmouseenter="enter('5018693386287234522');" onmouseout="out('5018693386287234522');" style="">  49   * 最高优先级任务Demo                                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50   */                                                                                                               </span>
<span class="-7765313113912543721" onmouseenter="enter('-7765313113912543721');" onmouseout="out('-7765313113912543721');" style="">  51  public class HighestPriorityActivity extends BaseActivity&lt;ActivityHighestPriorityBinding&gt; {                       </span>
<span class="7520351152191072197" onmouseenter="enter('7520351152191072197');" onmouseout="out('7520351152191072197');" style="">  52    private HorizontalProgressBarWithNumber mPb;                                                                    </span>
<span class="2448160593193102984" onmouseenter="enter('2448160593193102984');" onmouseout="out('2448160593193102984');" style="">  53    private Button mStart;                                                                                          </span>
<span class="1125534705611226672" onmouseenter="enter('1125534705611226672');" onmouseout="out('1125534705611226672');" style="">  54    private Button mStop;                                                                                           </span>
<span class="3365502328160602733" onmouseenter="enter('3365502328160602733');" onmouseout="out('3365502328160602733');" style="">  55    private Button mCancel;                                                                                         </span>
<span class="1437202751668450802" onmouseenter="enter('1437202751668450802');" onmouseout="out('1437202751668450802');" style="">  56    private TextView mSize;                                                                                         </span>
<span class="-3050047325730706258" onmouseenter="enter('-3050047325730706258');" onmouseout="out('-3050047325730706258');" style="">  57    private TextView mSpeed;                                                                                        </span>
<span class="-6573463040298018209" onmouseenter="enter('-6573463040298018209');" onmouseout="out('-6573463040298018209');" style="">  58    private RecyclerView mList;                                                                                     </span>
<span class="-7151375780097547664" onmouseenter="enter('-7151375780097547664');" onmouseout="out('-7151375780097547664');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +  private DownloadEntity mEntity;                                                                                 </span>
<span  style="">  60                                                                                                                    </span>
<span class="-2813953023315315607" onmouseenter="enter('-2813953023315315607');" onmouseout="out('-2813953023315315607');" style="">  61    private String mTaskName = &quot;光明大陆&quot;;                                                                              </span>
<span class="1301741582301806971" onmouseenter="enter('1301741582301806971');" onmouseout="out('1301741582301806971');" style="">  62    private static final String DOWNLOAD_URL =                                                                      </span>
<span class="-8429205874425908169" onmouseenter="enter('-8429205874425908169');" onmouseout="out('-8429205874425908169');" style=""><abbr title="  63        &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b26a38707dac92b136add91191ac1219aadb4a3aa70bfa6d06d2d8db.apk&quot;;">  63        &quot;https://res5.d.cn/6f78ee3bcfdd033e64892a8553a95814cf5b4a62b12a76d9eb2a694905f0dc30fa5c7f728806a4ee0b3479e7b🔵</abbr></span>
<span class="-6619841769861533911" onmouseenter="enter('-6619841769861533911');" onmouseout="out('-6619841769861533911');" style="">  64    private DownloadAdapter mAdapter;                                                                               </span>
<span class="7353724347735646137" onmouseenter="enter('7353724347735646137');" onmouseout="out('7353724347735646137');" style="">  65    private List&lt;AbsEntity&gt; mData = new ArrayList&lt;&gt;();                                                              </span>
<span class="3880105522139289410" onmouseenter="enter('3880105522139289410');" onmouseout="out('3880105522139289410');" style="">  66    private Set&lt;String&gt; mRecord = new HashSet&lt;&gt;();                                                                  </span>
<span  style="">  67                                                                                                                    </span>
<span class="-8362119692478180824" onmouseenter="enter('-8362119692478180824');" onmouseout="out('-8362119692478180824');" style="">  68    @Override protected int setLayoutId() {                                                                         </span>
<span class="5971178528187670014" onmouseenter="enter('5971178528187670014');" onmouseout="out('5971178528187670014');" style="">  69      return R.layout.activity_highest_priority;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  70    }                                                                                                               </span>
<span  style="">  71                                                                                                                    </span>
<span class="7862583309653943361" onmouseenter="enter('7862583309653943361');" onmouseout="out('7862583309653943361');" style="">  72    @Override protected void init(Bundle savedInstanceState) {                                                      </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  73      super.init(savedInstanceState);                                                                               </span>
<span class="5345233567046957261" onmouseenter="enter('5345233567046957261');" onmouseout="out('5345233567046957261');" style="">  74      mPb = findViewById(R.id.progressBar);                                                                         </span>
<span class="5854176411892349768" onmouseenter="enter('5854176411892349768');" onmouseout="out('5854176411892349768');" style="">  75      mStart = findViewById(R.id.start);                                                                            </span>
<span class="-7708937004180902298" onmouseenter="enter('-7708937004180902298');" onmouseout="out('-7708937004180902298');" style="">  76      mStop = findViewById(R.id.stop);                                                                              </span>
<span class="-6745853767215589063" onmouseenter="enter('-6745853767215589063');" onmouseout="out('-6745853767215589063');" style="">  77      mCancel = findViewById(R.id.cancel);                                                                          </span>
<span class="5056897010990820606" onmouseenter="enter('5056897010990820606');" onmouseout="out('5056897010990820606');" style="">  78      mSize = findViewById(R.id.size);                                                                              </span>
<span class="-4051397315308948399" onmouseenter="enter('-4051397315308948399');" onmouseout="out('-4051397315308948399');" style="">  79      mSpeed = findViewById(R.id.speed);                                                                            </span>
<span class="-5877477465076272635" onmouseenter="enter('-5877477465076272635');" onmouseout="out('-5877477465076272635');" style="">  80      mList = findViewById(R.id.list);                                                                              </span>
<span  style="">  81                                                                                                                    </span>
<span class="1941093596645886938" onmouseenter="enter('1941093596645886938');" onmouseout="out('1941093596645886938');" style="">  82      setTitle(&quot;最高优先级任务&quot;);                                                                                          </span>
<span class="-1277826355985127888" onmouseenter="enter('-1277826355985127888');" onmouseout="out('-1277826355985127888');" style="">  83      getBinding().setTaskName(&quot;任务名：&quot; + mTaskName + &quot; （最高优先级任务）&quot;);                                                  </span>
<span class="-3589764758803124809" onmouseenter="enter('-3589764758803124809');" onmouseout="out('-3589764758803124809');" style="">  84      initWidget();                                                                                                 </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  85      Aria.download(this).register();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86    }                                                                                                               </span>
<span  style="">  87                                                                                                                    </span>
<span class="7955634993860844805" onmouseenter="enter('7955634993860844805');" onmouseout="out('7955634993860844805');" style="">  88    private void initWidget() {                                                                                     </span>
<span class="6725265944993501556" onmouseenter="enter('6725265944993501556');" onmouseout="out('6725265944993501556');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -    DownloadTarget target = Aria.download(this).load(DOWNLOAD_URL);                                               </span>
<span class="-284222052235679117" onmouseenter="enter('-284222052235679117');" onmouseout="out('-284222052235679117');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -    mPb.setProgress(target.getPercent());                                                                         </span>
<span class="8030110688301684206" onmouseenter="enter('8030110688301684206');" onmouseout="out('8030110688301684206');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -    if (target.getTaskState() == IEntity.STATE_STOP) {                                                            </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -      mStart.setText(&quot;恢复&quot;);                                                                                       </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -      mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                              </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -      setBtState(true);                                                                                           </span>
<span class="2497922833347024405" onmouseenter="enter('2497922833347024405');" onmouseout="out('2497922833347024405');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -    } else if (target.isRunning()) {                                                                              </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -      setBtState(false);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  97 -    }                                                                                                             </span>
<span class="-6328297632866427574" onmouseenter="enter('-6328297632866427574');" onmouseout="out('-6328297632866427574');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 -    mSize.setText(target.getConvertFileSize());                                                                   </span>
<span class="764699090060821804" onmouseenter="enter('764699090060821804');" onmouseout="out('764699090060821804');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +    mEntity = Aria.download(this).getFirstDownloadEntity(DOWNLOAD_URL);                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +                                                                                                                  </span>
<span class="-5413073826946610003" onmouseenter="enter('-5413073826946610003');" onmouseout="out('-5413073826946610003');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +    if (mEntity != null) {                                                                                        </span>
<span class="-6165886979714274225" onmouseenter="enter('-6165886979714274225');" onmouseout="out('-6165886979714274225');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +      mPb.setProgress(mEntity.getPercent());                                                                      </span>
<span class="4177041785429129295" onmouseenter="enter('4177041785429129295');" onmouseout="out('4177041785429129295');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +      if (mEntity.getState() == IEntity.STATE_STOP) {                                                             </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +        mStart.setText(&quot;恢复&quot;);                                                                                     </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +        mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                            </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +        setBtState(true);                                                                                         </span>
<span class="5571318355884171485" onmouseenter="enter('5571318355884171485');" onmouseout="out('5571318355884171485');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +      } else if (mEntity.getState() == IEntity.STATE_RUNNING) {                                                   </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +        setBtState(false);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +      }                                                                                                           </span>
<span class="6223120771175856573" onmouseenter="enter('6223120771175856573');" onmouseout="out('6223120771175856573');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +      mSize.setText(mEntity.getConvertFileSize());                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +                                                                                                                  </span>
<span class="-2363021786930916114" onmouseenter="enter('-2363021786930916114');" onmouseout="out('-2363021786930916114');" style=""> 113      List&lt;DownloadEntity&gt; temp = Aria.download(this).getTaskList();                                                </span>
<span class="7442740250165882480" onmouseenter="enter('7442740250165882480');" onmouseout="out('7442740250165882480');" style=""> 114      if (temp != null &amp;&amp; !temp.isEmpty()) {                                                                        </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 115        for (DownloadEntity entity : temp) {                                                                        </span>
<span class="877741500181384717" onmouseenter="enter('877741500181384717');" onmouseout="out('877741500181384717');" style=""> 116          if (entity.getUrl().equals(DOWNLOAD_URL)) continue;                                                       </span>
<span class="2812418356965402819" onmouseenter="enter('2812418356965402819');" onmouseout="out('2812418356965402819');" style=""> 117          mData.add(entity);                                                                                        </span>
<span class="-1041053370788815735" onmouseenter="enter('-1041053370788815735');" onmouseout="out('-1041053370788815735');" style=""> 118          mRecord.add(entity.getUrl());                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120      }                                                                                                             </span>
<span class="-6142785041915286603" onmouseenter="enter('-6142785041915286603');" onmouseout="out('-6142785041915286603');" style=""> 121      mAdapter = new DownloadAdapter(this, mData);                                                                  </span>
<span class="7484403157711524412" onmouseenter="enter('7484403157711524412');" onmouseout="out('7484403157711524412');" style=""> 122      mList.setLayoutManager(new LinearLayoutManager(this));                                                        </span>
<span class="1501065532581871947" onmouseenter="enter('1501065532581871947');" onmouseout="out('1501065532581871947');" style=""> 123      mList.setAdapter(mAdapter);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124    }                                                                                                               </span>
<span  style=""> 125                                                                                                                    </span>
<span class="-1372926914491615165" onmouseenter="enter('-1372926914491615165');" onmouseout="out('-1372926914491615165');" style=""> 126    @Override public boolean onCreateOptionsMenu(Menu menu) {                                                       </span>
<span class="-3001547574679519030" onmouseenter="enter('-3001547574679519030');" onmouseout="out('-3001547574679519030');" style=""> 127      getMenuInflater().inflate(R.menu.menu_highest_priority, menu);                                                </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 128      return super.onCreateOptionsMenu(menu);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129    }                                                                                                               </span>
<span  style=""> 130                                                                                                                    </span>
<span class="422287680283387784" onmouseenter="enter('422287680283387784');" onmouseout="out('422287680283387784');" style=""> 131    @Override public boolean onMenuItemClick(MenuItem item) {                                                       </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 132      switch (item.getItemId()) {                                                                                   </span>
<span class="8248940755005773928" onmouseenter="enter('8248940755005773928');" onmouseout="out('8248940755005773928');" style=""> 133        case R.id.add_task:                                                                                         </span>
<span class="4338795921328371337" onmouseenter="enter('4338795921328371337');" onmouseout="out('4338795921328371337');" style=""> 134          List&lt;DownloadEntity&gt; temp = getModule(DownloadModule.class).getHighestTestList();                         </span>
<span class="-8291289194416380054" onmouseenter="enter('-8291289194416380054');" onmouseout="out('-8291289194416380054');" style=""> 135          for (DownloadEntity entity : temp) {                                                                      </span>
<span class="-7455123479972589767" onmouseenter="enter('-7455123479972589767');" onmouseout="out('-7455123479972589767');" style=""> 136            String url = entity.getUrl();                                                                           </span>
<span class="-4326971225509127823" onmouseenter="enter('-4326971225509127823');" onmouseout="out('-4326971225509127823');" style=""> 137            if (mRecord.contains(url)) {                                                                            </span>
<span class="-6362435147834875541" onmouseenter="enter('-6362435147834875541');" onmouseout="out('-6362435147834875541');" style=""> 138              continue;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139            }                                                                                                       </span>
<span class="-3550431416198902100" onmouseenter="enter('-3550431416198902100');" onmouseout="out('-3550431416198902100');" style=""> 140            mAdapter.addDownloadEntity(entity);                                                                     </span>
<span class="-917970886839976371" onmouseenter="enter('-917970886839976371');" onmouseout="out('-917970886839976371');" style=""> 141            mRecord.add(url);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142          }                                                                                                         </span>
<span class="-7345669213677353917" onmouseenter="enter('-7345669213677353917');" onmouseout="out('-7345669213677353917');" style=""> 143          mAdapter.notifyDataSetChanged();                                                                          </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 144          break;                                                                                                    </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 145        case R.id.help:                                                                                             </span>
<span class="2374357486170026115" onmouseenter="enter('2374357486170026115');" onmouseout="out('2374357486170026115');" style=""> 146          String title = &quot;最高优先级任务介绍&quot;;                                                                               </span>
<span class="4013938676323299610" onmouseenter="enter('4013938676323299610');" onmouseout="out('4013938676323299610');" style=""> 147          String msg = &quot; 将任务设置为最高优先级任务，最高优先级任务有以下特点：\n&quot;                                                             </span>
<span class="-6901949778030613435" onmouseenter="enter('-6901949778030613435');" onmouseout="out('-6901949778030613435');" style=""> 148              + &quot; 1、在下载队列中，有且只有一个最高优先级任务\n&quot;                                                                         </span>
<span class="1966985201853828599" onmouseenter="enter('1966985201853828599');" onmouseout="out('1966985201853828599');" style=""> 149              + &quot; 2、最高优先级任务会一直存在，直到用户手动暂停或任务完成\n&quot;                                                                   </span>
<span class="1908439968662240797" onmouseenter="enter('1908439968662240797');" onmouseout="out('1908439968662240797');" style=""> 150              + &quot; 3、任务调度器不会暂停最高优先级任务\n&quot;                                                                             </span>
<span class="362215605275493175" onmouseenter="enter('362215605275493175');" onmouseout="out('362215605275493175');" style=""> 151              + &quot; 4、用户手动暂停或任务完成后，第二次重新执行该任务，该命令将失效\n&quot;                                                               </span>
<span class="4182224870547257629" onmouseenter="enter('4182224870547257629');" onmouseout="out('4182224870547257629');" style=""> 152              + &quot; 5、如果下载队列中已经满了，则会停止队尾的任务，当高优先级任务完成后，该队尾任务将自动执行\n&quot;                                                  </span>
<span class="-4329621405943950768" onmouseenter="enter('-4329621405943950768');" onmouseout="out('-4329621405943950768');" style=""> 153              + &quot; 6、把任务设置为最高优先级任务后，将自动执行任务，不需要重新调用start()启动任务&quot;;                                                     </span>
<span class="7649431532831393540" onmouseenter="enter('7649431532831393540');" onmouseout="out('7649431532831393540');" style=""> 154          showMsgDialog(title, msg);                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156      }                                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 157      return true;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158    }                                                                                                               </span>
<span  style=""> 159                                                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 160    public void onClick(View view) {                                                                                </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 161      switch (view.getId()) {                                                                                       </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 162        case R.id.start:                                                                                            </span>
<span class="1600010778100337300" onmouseenter="enter('1600010778100337300');" onmouseout="out('1600010778100337300');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -        String text = ((TextView) view).getText().toString();                                                     </span>
<span class="-5613296270002533890" onmouseenter="enter('-5613296270002533890');" onmouseout="out('-5613296270002533890');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 164 -        if (text.equals(&quot;重新开始？&quot;) || text.equals(&quot;开始&quot;)) {                                                          </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +        if (AppUtil.chekEntityValid(mEntity)) {                                                                   </span>
<span class="5798120091045791214" onmouseenter="enter('5798120091045791214');" onmouseout="out('5798120091045791214');" style=""> 166            Aria.download(this)                                                                                     </span>
<span class="-4539325471858993839" onmouseenter="enter('-4539325471858993839');" onmouseout="out('-4539325471858993839');" style=""> 167                .load(DOWNLOAD_URL)                                                                                 </span>
<span class="7712262113667881388" onmouseenter="enter('7712262113667881388');" onmouseout="out('7712262113667881388');" style=""> 168                .setFilePath(Environment.getExternalStorageDirectory().getPath()                                    </span>
<span class="2693711621094804102" onmouseenter="enter('2693711621094804102');" onmouseout="out('2693711621094804102');" style=""> 169                    + &quot;/Download/&quot;                                                                                  </span>
<span class="8000711364152444579" onmouseenter="enter('8000711364152444579');" onmouseout="out('8000711364152444579');" style=""> 170                    + mTaskName                                                                                     </span>
<span class="1152343447206233363" onmouseenter="enter('1152343447206233363');" onmouseout="out('1152343447206233363');" style=""> 171                    + &quot;.apk&quot;)                                                                                       </span>
<span class="5259854283717524295" onmouseenter="enter('5259854283717524295');" onmouseout="out('5259854283717524295');" style=""> 172                .setHighestPriority();                                                                              </span>
<span class="-4605537758098325114" onmouseenter="enter('-4605537758098325114');" onmouseout="out('-4605537758098325114');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 173 -        } else if (text.equals(&quot;恢复&quot;)) {                                                                           </span>
<span class="932643514337745094" onmouseenter="enter('932643514337745094');" onmouseout="out('932643514337745094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 174 -          Aria.download(this).load(DOWNLOAD_URL).resume();                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 175 -        }                                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +        } else {                                                                                                  </span>
<span class="6170561633663345416" onmouseenter="enter('6170561633663345416');" onmouseout="out('6170561633663345416');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +          Aria.download(this).load(mEntity.getId()).resume();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +        }                                                                                                         </span>
<span class="2731698115323774314" onmouseenter="enter('2731698115323774314');" onmouseout="out('2731698115323774314');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +        ((TextView) view).setText(getString(R.string.stop));                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 180          break;                                                                                                    </span>
<span class="6125680861341439874" onmouseenter="enter('6125680861341439874');" onmouseout="out('6125680861341439874');" style=""> 181        case R.id.stop:                                                                                             </span>
<span class="7423130628705638928" onmouseenter="enter('7423130628705638928');" onmouseout="out('7423130628705638928');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 182 -        Aria.download(this).load(DOWNLOAD_URL).pause();                                                           </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +        if (AppUtil.chekEntityValid(mEntity)) {                                                                   </span>
<span class="1638837544763339466" onmouseenter="enter('1638837544763339466');" onmouseout="out('1638837544763339466');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +          Aria.download(this).load(mEntity.getId()).stop();                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +        }                                                                                                         </span>
<span class="2173493085352115596" onmouseenter="enter('2173493085352115596');" onmouseout="out('2173493085352115596');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +        ((TextView) view).setText(getString(R.string.resume));                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 187          break;                                                                                                    </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 188        case R.id.cancel:                                                                                           </span>
<span class="1662935142171524938" onmouseenter="enter('1662935142171524938');" onmouseout="out('1662935142171524938');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 189 -        Aria.download(this).load(DOWNLOAD_URL).cancel();                                                          </span>
<span class="-4058058108716552391" onmouseenter="enter('-4058058108716552391');" onmouseout="out('-4058058108716552391');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +        if (AppUtil.chekEntityValid(mEntity)) {                                                                   </span>
<span class="5775750668439361411" onmouseenter="enter('5775750668439361411');" onmouseout="out('5775750668439361411');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +          Aria.download(this).load(mEntity.getId()).cancel();                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +        }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 193          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195    }                                                                                                               </span>
<span  style=""> 196                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 197    /**                                                                                                             </span>
<span class="-232567021359938566" onmouseenter="enter('-232567021359938566');" onmouseout="out('-232567021359938566');" style=""> 198     * 设置start 和 stop 按钮状态                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 199     */                                                                                                             </span>
<span class="6960778604893328266" onmouseenter="enter('6960778604893328266');" onmouseout="out('6960778604893328266');" style=""> 200    private void setBtState(boolean state) {                                                                        </span>
<span class="1933435450579403148" onmouseenter="enter('1933435450579403148');" onmouseout="out('1933435450579403148');" style=""> 201      mStart.setEnabled(state);                                                                                     </span>
<span class="1687565418112245161" onmouseenter="enter('1687565418112245161');" onmouseout="out('1687565418112245161');" style=""> 202      mStop.setEnabled(!state);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203    }                                                                                                               </span>
<span  style=""> 204                                                                                                                    </span>
<span class="-2302332957082886113" onmouseenter="enter('-2302332957082886113');" onmouseout="out('-2302332957082886113');" style=""> 205    @Download.onPre public void onPre(DownloadTask task) {                                                          </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 206      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207    }                                                                                                               </span>
<span  style=""> 208                                                                                                                    </span>
<span class="7214401078099042432" onmouseenter="enter('7214401078099042432');" onmouseout="out('7214401078099042432');" style=""> 209    @Download.onTaskPre public void onTaskPre(DownloadTask task) {                                                  </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 210      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="-5282457744106743581" onmouseenter="enter('-5282457744106743581');" onmouseout="out('-5282457744106743581');" style=""> 211        mSize.setText(task.getConvertFileSize());                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 213      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214    }                                                                                                               </span>
<span  style=""> 215                                                                                                                    </span>
<span class="6957028410824312220" onmouseenter="enter('6957028410824312220');" onmouseout="out('6957028410824312220');" style=""> 216    @Download.onTaskStart public void onTaskStart(DownloadTask task) {                                              </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 217      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 218        setBtState(false);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 220      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221    }                                                                                                               </span>
<span  style=""> 222                                                                                                                    </span>
<span class="-9175878919196510200" onmouseenter="enter('-9175878919196510200');" onmouseout="out('-9175878919196510200');" style=""> 223    @Download.onTaskResume public void onTaskResume(DownloadTask task) {                                            </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 224      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="4397795222629206024" onmouseenter="enter('4397795222629206024');" onmouseout="out('4397795222629206024');" style=""> 225        setBtState(false);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 227      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228    }                                                                                                               </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-3955022871360312250" onmouseenter="enter('-3955022871360312250');" onmouseout="out('-3955022871360312250');" style=""> 230    @Download.onTaskStop public void onTaskStop(DownloadTask task) {                                                </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 231      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 232        setBtState(true);                                                                                           </span>
<span class="-5100739796572328168" onmouseenter="enter('-5100739796572328168');" onmouseout="out('-5100739796572328168');" style=""> 233        mStart.setText(&quot;恢复&quot;);                                                                                       </span>
<span class="-4515939922114983618" onmouseenter="enter('-4515939922114983618');" onmouseout="out('-4515939922114983618');" style=""> 234        mStart.setTextColor(getResources().getColor(android.R.color.holo_blue_light));                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 236      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237    }                                                                                                               </span>
<span  style=""> 238                                                                                                                    </span>
<span class="-2471709909407655410" onmouseenter="enter('-2471709909407655410');" onmouseout="out('-2471709909407655410');" style=""> 239    @Download.onTaskCancel public void onTaskCancel(DownloadTask task) {                                            </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 240      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 241        setBtState(true);                                                                                           </span>
<span class="-1796112539256404668" onmouseenter="enter('-1796112539256404668');" onmouseout="out('-1796112539256404668');" style=""> 242        mStart.setText(&quot;开始&quot;);                                                                                       </span>
<span class="7317688095796441604" onmouseenter="enter('7317688095796441604');" onmouseout="out('7317688095796441604');" style=""> 243        mPb.setProgress(0);                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 245      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246    }                                                                                                               </span>
<span  style=""> 247                                                                                                                    </span>
<span class="8259163625292348666" onmouseenter="enter('8259163625292348666');" onmouseout="out('8259163625292348666');" style=""> 248    @Download.onTaskFail public void onTaskFail(DownloadTask task) {                                                </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 249      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 250        setBtState(true);                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 251      } else {                                                                                                      </span>
<span class="1233131400103761775" onmouseenter="enter('1233131400103761775');" onmouseout="out('1233131400103761775');" style=""> 252        L.d(TAG, &quot;download fail【&quot; + task.getKey() + &quot;】&quot;);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254    }                                                                                                               </span>
<span  style=""> 255                                                                                                                    </span>
<span class="-7655597589640308692" onmouseenter="enter('-7655597589640308692');" onmouseout="out('-7655597589640308692');" style=""> 256    @Download.onTaskComplete public void onTaskComplete(DownloadTask task) {                                        </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 257      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="797586813823534760" onmouseenter="enter('797586813823534760');" onmouseout="out('797586813823534760');" style=""> 258        setBtState(true);                                                                                           </span>
<span class="6793761595550658779" onmouseenter="enter('6793761595550658779');" onmouseout="out('6793761595550658779');" style=""> 259        mStart.setText(&quot;重新开始&quot;);                                                                                     </span>
<span class="-8699236919163455367" onmouseenter="enter('-8699236919163455367');" onmouseout="out('-8699236919163455367');" style=""> 260        mStart.setTextColor(getResources().getColor(android.R.color.holo_green_light));                             </span>
<span class="-5000579234404633789" onmouseenter="enter('-5000579234404633789');" onmouseout="out('-5000579234404633789');" style=""> 261        mPb.setProgress(100);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262      }                                                                                                             </span>
<span class="-8909012079505084552" onmouseenter="enter('-8909012079505084552');" onmouseout="out('-8909012079505084552');" style=""> 263      mAdapter.updateState(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264    }                                                                                                               </span>
<span  style=""> 265                                                                                                                    </span>
<span class="-2965502560442504740" onmouseenter="enter('-2965502560442504740');" onmouseout="out('-2965502560442504740');" style=""> 266    @Download.onTaskRunning public void onTaskRunning(DownloadTask task) {                                          </span>
<span class="-3307047143627872248" onmouseenter="enter('-3307047143627872248');" onmouseout="out('-3307047143627872248');" style=""> 267      if (task.getKey().equals(DOWNLOAD_URL)) {                                                                     </span>
<span class="2375940983359338798" onmouseenter="enter('2375940983359338798');" onmouseout="out('2375940983359338798');" style=""> 268        mPb.setProgress(task.getPercent());                                                                         </span>
<span class="-947242369655037040" onmouseenter="enter('-947242369655037040');" onmouseout="out('-947242369655037040');" style=""> 269        mSpeed.setText(task.getConvertSpeed());                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270      }                                                                                                             </span>
<span class="4758429645155841320" onmouseenter="enter('4758429645155841320');" onmouseout="out('4758429645155841320');" style=""> 271      mAdapter.setProgress(task.getDownloadEntity());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273  }                                                                                                                 </span></pre></td>
                            <td><pre></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            