<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>329</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    329
                    <a href="328.html">prev</a>
                    <a href="330.html">next</a>
                    <a href="329_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_6780311d33539eb86c4007a7d1993f6f1467a837_src/com/automattic/simplenote/NoteEditorFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6780311d33539eb86c4007a7d1993f6f1467a837:src/com/automattic/simplenote/NoteEditorFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6780311d33539eb86c4007a7d1993f6f1467a837^1:src/com/automattic/simplenote/NoteEditorFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6780311d33539eb86c4007a7d1993f6f1467a837^2:src/com/automattic/simplenote/NoteEditorFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;20279c862696f156d42fbdab7ae10281f312fb27:src/com/automattic/simplenote/NoteEditorFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bsj]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">   2 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 package com.automattic.simplenote;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6 import java.util.Arrays;                                                                                 </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8 import java.util.List;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11 import android.content.Context;                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13 import android.os.Handler;                                                                               </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14 import android.text.Editable;                                                                            </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 import android.text.SpannableString;                                                                     </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 import android.text.Spanned;                                                                             </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 import android.text.TextUtils;                                                                           </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 import android.util.Log;                                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22 import android.view.ViewGroup;                                                                           </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import android.view.inputmethod.InputMethodManager;                                                      </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24 import android.widget.ArrayAdapter;                                                                      </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 import android.widget.EditText;                                                                          </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import android.widget.MultiAutoCompleteTextView.Tokenizer;                                               </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 import android.widget.TextView;                                                                          </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28 import android.widget.ToggleButton;                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                    </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33 import com.simperium.client.Bucket;                                                                      </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import com.simperium.client.Bucket.ObjectCursor;                                                         </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36                                                                                                          </span>
<span class="-9115464408336284288" onmouseenter="enter('-9115464408336284288');" onmouseout="out('-9115464408336284288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 public class NoteEditorFragment extends Fragment implements TextWatcher {                                </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 	/**                                                                                                     </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 	 * The fragment argument representing the item ID that this fragment                                    </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 	 * represents.                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41 	 */                                                                                                     </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42 	public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                     </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43     private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 	/**                                                                                                     </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46 	 * The dummy content this fragment is presenting.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 	 */                                                                                                     </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48 	private Note mNote;                                                                                     </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 	private EditText mContentEditText;                                                                      </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50 	private TagsMultiAutoCompleteTextView mTagView;                                                         </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51     private ToggleButton mPinButton;                                                                     </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52     private boolean mShowNoteTitle;                                                                      </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53     private Handler mAutoSaveHandler;                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55 	/**                                                                                                     </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56 	 * Mandatory empty constructor for the fragment manager to instantiate the                              </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57 	 * fragment (e.g. upon screen orientation changes).                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58 	 */                                                                                                     </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59 	public NoteEditorFragment() {                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62 	@Override                                                                                               </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63 	public void onCreate(Bundle savedInstanceState) {                                                       </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64 		super.onCreate(savedInstanceState);                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65                                                                                                          </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66 		if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                               </span>
<span class="1964696622330960953" onmouseenter="enter('1964696622330960953');" onmouseout="out('1964696622330960953');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67 	        Simplenote application = (Simplenote)getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68 			Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                              </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69 			String key = getArguments().getString(ARG_ITEM_ID);                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70 			try {                                                                                                 </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     			mNote = notesBucket.get(key);                                                                     </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72 			} catch (BucketObjectMissingException e) {                                                            </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73 				// TODO: Handle a missing note                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76                                                                                                          </span>
<span class="7446596846056383300" onmouseenter="enter('7446596846056383300');" onmouseout="out('7446596846056383300');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77         if (!((NotesActivity)getActivity()).isTwoPane())                                                 </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78             mShowNoteTitle = true;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79                                                                                                          </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         mAutoSaveHandler = new Handler();                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84     @Override                                                                                            </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85 	public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {     </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86 		View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);                     </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87 		mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                              </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88         mContentEditText.addTextChangedListener(this);                                                   </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89         mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                 </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91                                                                                                          </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92 		refreshContent();                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93 		                                                                                                       </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94 		// Populate tag list                                                                                   </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95         Simplenote simplenote = (Simplenote)getActivity().getApplication();                              </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96         Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                              </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97         ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                         </span>
<span class="1552252687714259421" onmouseenter="enter('1552252687714259421');" onmouseout="out('1552252687714259421');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98 		String[] allTags = new String[tagsCursor.getCount()];                                                  </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99         while (tagsCursor.moveToNext()) {                                                                </span>
<span class="98867032606522789" onmouseenter="enter('98867032606522789');" onmouseout="out('98867032606522789');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100             allTags[tagsCursor.getPosition()] = tagsCursor.getObject().getName();                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101         }                                                                                                </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102         tagsCursor.close();                                                                              </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                           </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104                 android.R.layout.simple_dropdown_item_1line, allTags);                                   </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105         mTagView.setAdapter(adapter);                                                                    </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106         mTagView.setTokenizer(new SpaceTokenizer());                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107                                                                                                          </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108 		return rootView;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         super.onResume();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114                                                                                                          </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115         if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                             </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116             // Show soft keyboard                                                                        </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117             mContentEditText.requestFocus();                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118                                                                                                          </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 119             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 119             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(C🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120             if (inputMethodManager != null)                                                              </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121                 inputMethodManager.showSoftInput(mContentEditText, 0);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126     public void onPause() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127         saveAndSyncNote();                                                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128                                                                                                          </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129         // Hide soft keyboard                                                                            </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 130         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 130         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Conte🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131         if (inputMethodManager != null)                                                                  </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132             inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133                                                                                                          </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 134         if (mAutoSaveHandler != null)                                                                    </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 135             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136                                                                                                          </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137         super.onPause();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139                                                                                                          </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 140     public void setNote(Note note) {                                                                     </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 141         // If we have a note already (on a tablet in landscape), save the note.                          </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 142         if (mNote != null)                                                                               </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 143             saveAndSyncNote();                                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 144                                                                                                          </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 145         mNote = note;                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 146         refreshContent();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 147     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 148                                                                                                          </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 149     public void refreshContent() {                                                                       </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 150         if (mNote != null) {                                                                             </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 151             Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                   </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 152             // Restore the cursor position if possible.                                                  </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 153             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 153             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toStrin🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 154             mContentEditText.setText(mNote.getContent());                                                </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 155             if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())     </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 156                 mContentEditText.setSelection(cursorPosition);                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157                                                                                                          </span>
<span class="1107376181962017522" onmouseenter="enter('1107376181962017522');" onmouseout="out('1107376181962017522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 158             // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a StringBuilder here would be more efficient"> 158             // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, usi🔵</abbr></span>
<span class="1631288001636483433" onmouseenter="enter('1631288001636483433');" onmouseout="out('1631288001636483433');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159             String tagListString = &quot;&quot;;                                                                   </span>
<span class="6135366484367526281" onmouseenter="enter('6135366484367526281');" onmouseout="out('6135366484367526281');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160             for (String tag : mNote.getTags())                                                           </span>
<span class="5043453676218069547" onmouseenter="enter('5043453676218069547');" onmouseout="out('5043453676218069547');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161                 tagListString += tag + &quot; &quot;;                                                              </span>
<span class="-1442653945522831897" onmouseenter="enter('-1442653945522831897');" onmouseout="out('-1442653945522831897');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 162             mTagView.setText(tagListString);                                                             </span>
<span class="-6561750096189000709" onmouseenter="enter('-6561750096189000709');" onmouseout="out('-6561750096189000709');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 163             mTagView.setChips();                                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 164                                                                                                          </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 165             mPinButton.setChecked(mNote.isPinned());                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 166                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 167             setActionBarTitle();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 168         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 169     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 170                                                                                                          </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 171     private void setActionBarTitle() {                                                                   </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 172         if (mShowNoteTitle) {                                                                            </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 173             if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 174                 getActivity().getActionBar().setTitle(mNote.getTitle());                                 </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 175             else                                                                                         </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176                 getActivity().getActionBar().setTitle(R.string.new_note);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 177         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179                                                                                                          </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180     int newCursorLocation(String newText, String oldText, int cursorLocation) {                          </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181         // Ported from the iOS app :)                                                                    </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182         // Cases:                                                                                        </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183         // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184         // 1. Text was added after the cursor ==&gt; no change                                              </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 185         // 2. Text was added before the cursor ==&gt; location advances                                     </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 186         // 3. Text was removed after the cursor ==&gt; no change                                            </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 187         // 4. Text was removed before the cursor ==&gt; location retreats                                   </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 188         // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 189                                                                                                          </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 190         int newCursorLocation = cursorLocation;                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 191                                                                                                          </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 192         int deltaLength = newText.length() - oldText.length();                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 193                                                                                                          </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 194         // Case 0                                                                                        </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 195         if (newText.length() &lt; cursorLocation)                                                           </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 196             return newText.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 197                                                                                                          </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 198         boolean beforeCursorMatches = false;                                                             </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 199         boolean afterCursorMatches = false;                                                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 200                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 201         try {                                                                                            </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 202             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 202             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursor🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 203             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 203             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.subst🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 204         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 205             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 206         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 207                                                                                                          </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 208         // Cases 2 and 4                                                                                 </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 209         if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                  </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 210             newCursorLocation += deltaLength;                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211                                                                                                          </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212         // Cases 1, 3 and 5 have no change                                                               </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 213         return newCursorLocation;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 214     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 215                                                                                                          </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 216     private Runnable autoSaveRunnable = new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 217         @Override                                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 218         public void run() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 219             saveAndSyncNote();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 220         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 221     };                                                                                                   </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 222                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 223     @Override                                                                                            </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 224     public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 225         // Unused                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 226     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 227                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 228     @Override                                                                                            </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 229     public void afterTextChanged(Editable editable) {                                                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 230         // Unused                                                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 231                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 232     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 233                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 234     @Override                                                                                            </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 235     public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 236                                                                                                          </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 237         // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 238                                                                                                          </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 239         if (mAutoSaveHandler != null) {                                                                  </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 240             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 241             mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 242         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 243     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 244                                                                                                          </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 245     private void saveAndSyncNote() {                                                                     </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 246         if (mNote == null)                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 247             return;                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 248                                                                                                          </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 249         String content = mContentEditText.getText().toString();                                          </span>
<span class="2916640133955955873" onmouseenter="enter('2916640133955955873');" onmouseout="out('2916640133955955873');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 250         String tagString = mTagView.getText().toString().trim();                                         </span>
<span class="2181107853603321774" onmouseenter="enter('2181107853603321774');" onmouseout="out('2181107853603321774');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 251         List&lt;String&gt; tagList = Arrays.asList(tagString.split(&quot; &quot;));                                      </span>
<span class="-2397711628250943154" onmouseenter="enter('-2397711628250943154');" onmouseout="out('-2397711628250943154');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 252         ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(tagList);"> 252         ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(t🔵</abbr></span>
<span class="7841571574114651165" onmouseenter="enter('7841571574114651165');" onmouseout="out('7841571574114651165');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 253         if (mNote.hasChanges(content, tags, mPinButton.isChecked())) {                                   </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 254             mNote.setContent(content);                                                                   </span>
<span class="590298224525809647" onmouseenter="enter('590298224525809647');" onmouseout="out('590298224525809647');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 255             mNote.setTags(tags);                                                                         </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 256             mNote.setModificationDate(Calendar.getInstance());                                           </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 257             mNote.setPinned(mPinButton.isChecked());                                                     </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 258             mNote.save();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 259         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 260                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 261         setActionBarTitle();                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262                                                                                                          </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 263         Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 264     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 265                                                                                                          </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 266     // Use spaces in tag autocompletion list                                                             </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 267 	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 267 	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 268 	public class SpaceTokenizer implements Tokenizer {                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 269                                                                                                          </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 270 		public int findTokenStart(CharSequence text, int cursor) {                                             </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271 			int i = cursor;                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272 	                                                                                                        </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273 			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274 			    i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275 			}                                                                                                     </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276 			while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                         </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277 			    i++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279 	                                                                                                        </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280 			return i;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282                                                                                                          </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283 		public int findTokenEnd(CharSequence text, int cursor) {                                               </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284 			int i = cursor;                                                                                       </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285 			int len = text.length();                                                                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286 	                                                                                                        </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287 			while (i &lt; len) {                                                                                     </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288 			    if (text.charAt(i) == &#x27; &#x27;) {                                                                      </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289 			        return i;                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290 			    } else {                                                                                          </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291 			        i++;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292 			    }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294 	                                                                                                        </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295 			return len;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 297                                                                                                          </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 298 		public CharSequence terminateToken(CharSequence text) {                                                </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 299 			int i = text.length();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 300 	                                                                                                        </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 301 			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 302 			    i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 303 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 304 	                                                                                                        </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 305 			if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                             </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 306 			    return text;                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 307 			} else {                                                                                              </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 308 			    if (text instanceof Spanned) {                                                                    </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 309 			        SpannableString sp = new SpannableString(text + &quot; &quot;);                                         </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 310 			        TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                                     </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 311 			                Object.class, sp, 0);                                                                 </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 312 			        return sp;                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 313 			    } else {                                                                                          </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 314 			        return text + &quot; &quot;;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 315 			    }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 316 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 317 		}                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 318 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 319 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 320 =======                                                                                                  </span>
<span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321 package com.automattic.simplenote;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324 import java.util.Arrays;                                                                                 </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326 import java.util.List;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329 import android.content.Context;                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331 import android.os.Handler;                                                                               </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 332 import android.text.Editable;                                                                            </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 333 import android.text.SpannableString;                                                                     </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 334 import android.text.Spanned;                                                                             </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 335 import android.text.TextUtils;                                                                           </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 336 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 337 import android.util.Log;                                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 338 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 339 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 340 import android.view.ViewGroup;                                                                           </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 341 import android.view.inputmethod.InputMethodManager;                                                      </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 342 import android.widget.ArrayAdapter;                                                                      </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 343 import android.widget.EditText;                                                                          </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 344 import android.widget.LinearLayout;                                                                      </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 345 import android.widget.MultiAutoCompleteTextView.Tokenizer;                                               </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 346 import android.widget.ToggleButton;                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 347                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 348 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 349 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 350 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                    </span>
<span class="451633977271230846" onmouseenter="enter('451633977271230846');" onmouseout="out('451633977271230846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 351 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView.OnTagAddedListener;                 </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 352 import com.simperium.client.Bucket;                                                                      </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 353 import com.simperium.client.Bucket.ObjectCursor;                                                         </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 354 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 355                                                                                                          </span>
<span class="-3142892757748375832" onmouseenter="enter('-3142892757748375832');" onmouseout="out('-3142892757748375832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 356 public class NoteEditorFragment extends Fragment implements TextWatcher, OnTagAddedListener {            </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 357     /**                                                                                                  </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 358      * The fragment argument representing the item ID that this fragment                                 </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 359      * represents.                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 360      */                                                                                                  </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 361     public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                  </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 362     private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 363                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 364     /**                                                                                                  </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 365      * The dummy content this fragment is presenting.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 366      */                                                                                                  </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 367     private Note mNote;                                                                                  </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 368     private EditText mContentEditText;                                                                   </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 369     private TagsMultiAutoCompleteTextView mTagView;                                                      </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 370     private ToggleButton mPinButton;                                                                     </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 371     private boolean mShowNoteTitle;                                                                      </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 372     private Handler mAutoSaveHandler;                                                                    </span>
<span class="-1776320876088405367" onmouseenter="enter('-1776320876088405367');" onmouseout="out('-1776320876088405367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 373     private LinearLayout mPlaceholderView;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 374                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 375     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 376      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 377      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 378      */                                                                                                  </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 379     public NoteEditorFragment() {                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 380     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 381                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 382     @Override                                                                                            </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 383     public void onCreate(Bundle savedInstanceState) {                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 384         super.onCreate(savedInstanceState);                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 385                                                                                                          </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 386         if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                         </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 387             Simplenote application = (Simplenote) getActivity().getApplication();                        </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 388             Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                     </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 389             String key = getArguments().getString(ARG_ITEM_ID);                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 390             try {                                                                                        </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 391                 mNote = notesBucket.get(key);                                                            </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 392             } catch (BucketObjectMissingException e) {                                                   </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 393                 // TODO: Handle a missing note                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 394             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 395         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 396                                                                                                          </span>
<span class="-1496429319349342270" onmouseenter="enter('-1496429319349342270');" onmouseout="out('-1496429319349342270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 397         if (!((NotesActivity) getActivity()).isLargeScreenLandscape())                                   </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 398             mShowNoteTitle = true;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 399                                                                                                          </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 400         mAutoSaveHandler = new Handler();                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 401                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 402     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 403                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 404     @Override                                                                                            </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 405     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 406         View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);               </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 407         mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                        </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 408         mContentEditText.addTextChangedListener(this);                                                   </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 409         mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                 </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 410         mTagView.setTokenizer(new SpaceTokenizer());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 411                                                                                                          </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 412         mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                               </span>
<span class="-3806018576171196544" onmouseenter="enter('-3806018576171196544');" onmouseout="out('-3806018576171196544');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 413         mPlaceholderView = (LinearLayout) rootView.findViewById(R.id.placeholder);                       </span>
<span class="7851441548048737425" onmouseenter="enter('7851441548048737425');" onmouseout="out('7851441548048737425');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 414         if (!((NotesActivity) getActivity()).isLargeScreen())                                            </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 415             mPlaceholderView.setVisibility(View.GONE);                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 416                                                                                                          </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 417 		refreshContent();                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 418                                                                                                          </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 419 		return rootView;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 420 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 421                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 422     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 423     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 424         super.onResume();                                                                                </span>
<span class="2283760307260285965" onmouseenter="enter('2283760307260285965');" onmouseout="out('2283760307260285965');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 425         mTagView.setOnTagAddedListener(this);                                                            </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 426         if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                             </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 427             // Show soft keyboard                                                                        </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 428             mContentEditText.requestFocus();                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 429                                                                                                          </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 430             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 430             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(C🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 431             if (inputMethodManager != null)                                                              </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 432                 inputMethodManager.showSoftInput(mContentEditText, 0);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 433         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 434     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 435                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 436     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 437     public void onPause() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 438         saveAndSyncNote();                                                                               </span>
<span class="-5824468190651999684" onmouseenter="enter('-5824468190651999684');" onmouseout="out('-5824468190651999684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 439         mTagView.setOnTagAddedListener(null);                                                            </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 440         // Hide soft keyboard                                                                            </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 441         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 441         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Conte🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 442         if (inputMethodManager != null)                                                                  </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 443             inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 444                                                                                                          </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 445         if (mAutoSaveHandler != null)                                                                    </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 446             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 447                                                                                                          </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 448         super.onPause();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 449     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 450                                                                                                          </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 451     public void setNote(Note note) {                                                                     </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 452         mPlaceholderView.setVisibility(View.GONE);                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 453                                                                                                          </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 454         // If we have a note already (on a tablet in landscape), save the note.                          </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 455         if (mNote != null)                                                                               </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 456             saveAndSyncNote();                                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 457                                                                                                          </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 458         mNote = note;                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 459         refreshContent();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 460     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 461                                                                                                          </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 462     public void refreshContent() {                                                                       </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 463         if (mNote != null) {                                                                             </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 464             Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                   </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 465             // Restore the cursor position if possible.                                                  </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 466             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 466             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toStrin🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 467             mContentEditText.setText(mNote.getContent());                                                </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 468             if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())     </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 469                 mContentEditText.setSelection(cursorPosition);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 470                                                                                                          </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 471             mPinButton.setChecked(mNote.isPinned());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 472                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 473             setActionBarTitle();                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 474                                                                                                          </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 475             updateTagList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 476         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 477     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 478                                                                                                          </span>
<span class="-392171935892263585" onmouseenter="enter('-392171935892263585');" onmouseout="out('-392171935892263585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 479     public void updateTagList(){                                                                         </span>
<span class="-8748481830530330770" onmouseenter="enter('-8748481830530330770');" onmouseout="out('-8748481830530330770');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 480         // Populate this note&#x27;s tags in the tagView                                                      </span>
<span class="-3805230291902185366" onmouseenter="enter('-3805230291902185366');" onmouseout="out('-3805230291902185366');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 481         mTagView.setChips(mNote.getTagString());                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 482                                                                                                          </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 483 		// Populate tag list                                                                                   </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 484         Simplenote simplenote = (Simplenote)getActivity().getApplication();                              </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 485         Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                              </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 486         ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                         </span>
<span class="-4946105276032529342" onmouseenter="enter('-4946105276032529342');" onmouseout="out('-4946105276032529342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 487         List&lt;String&gt; allTags = new ArrayList&lt;String&gt;(tagsCursor.getCount());                             </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 488         while (tagsCursor.moveToNext()) {                                                                </span>
<span class="2897030399219905781" onmouseenter="enter('2897030399219905781');" onmouseout="out('2897030399219905781');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 489             Tag tag = tagsCursor.getObject();                                                            </span>
<span class="-1616319465907524543" onmouseenter="enter('-1616319465907524543');" onmouseout="out('-1616319465907524543');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 490             if (!mNote.hasTag(tag)) allTags.add(tag.getName());                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 491         }                                                                                                </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 492         tagsCursor.close();                                                                              </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 493         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                           </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 494                 android.R.layout.simple_dropdown_item_1line, allTags);                                   </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 495         mTagView.setAdapter(adapter);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 496     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 497                                                                                                          </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 498     private void setActionBarTitle() {                                                                   </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 499         if (mShowNoteTitle) {                                                                            </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 500             if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 501                 getActivity().getActionBar().setTitle(mNote.getTitle());                                 </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 502             else                                                                                         </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 503                 getActivity().getActionBar().setTitle(R.string.new_note);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 504         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 505     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 506                                                                                                          </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 507     int newCursorLocation(String newText, String oldText, int cursorLocation) {                          </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 508         // Ported from the iOS app :)                                                                    </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 509         // Cases:                                                                                        </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 510         // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 511         // 1. Text was added after the cursor ==&gt; no change                                              </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 512         // 2. Text was added before the cursor ==&gt; location advances                                     </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 513         // 3. Text was removed after the cursor ==&gt; no change                                            </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 514         // 4. Text was removed before the cursor ==&gt; location retreats                                   </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 515         // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 516                                                                                                          </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 517         int newCursorLocation = cursorLocation;                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 518                                                                                                          </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 519         int deltaLength = newText.length() - oldText.length();                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 520                                                                                                          </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 521         // Case 0                                                                                        </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 522         if (newText.length() &lt; cursorLocation)                                                           </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 523             return newText.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 524                                                                                                          </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 525         boolean beforeCursorMatches = false;                                                             </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 526         boolean afterCursorMatches = false;                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 527                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 528         try {                                                                                            </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 529             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 529             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursor🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 530             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 530             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.subst🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 531         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 532             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 533         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 534                                                                                                          </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 535         // Cases 2 and 4                                                                                 </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 536         if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                  </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 537             newCursorLocation += deltaLength;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 538                                                                                                          </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 539         // Cases 1, 3 and 5 have no change                                                               </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 540         return newCursorLocation;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 541     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 542                                                                                                          </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 543     private Runnable autoSaveRunnable = new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 544         @Override                                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 545         public void run() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 546             saveAndSyncNote();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 547         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 548     };                                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 549                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 550     @Override                                                                                            </span>
<span class="-9205568981681343406" onmouseenter="enter('-9205568981681343406');" onmouseout="out('-9205568981681343406');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 551     public void onTagsChanged(String tagString){                                                         </span>
<span class="1553130968631643861" onmouseenter="enter('1553130968631643861');" onmouseout="out('1553130968631643861');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 552         mNote.setTagString(tagString);                                                                   </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 553         mNote.setModificationDate(Calendar.getInstance());                                               </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 554         updateTagList();                                                                                 </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 555         mNote.save();                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 556                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 557     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 558                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 559     @Override                                                                                            </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 560     public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 561         // Unused                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 562     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 563                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 564     @Override                                                                                            </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 565     public void afterTextChanged(Editable editable) {                                                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 566         // Unused                                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 567                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 568     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 569                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 570     @Override                                                                                            </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 571     public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 572                                                                                                          </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 573         // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 574                                                                                                          </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 575         if (mAutoSaveHandler != null) {                                                                  </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 576             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 577             mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 578         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 579     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 580                                                                                                          </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 581     private void saveAndSyncNote() {                                                                     </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 582         if (mNote == null)                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 583             return;                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 584                                                                                                          </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 585         String content = mContentEditText.getText().toString();                                          </span>
<span class="1890126766200870421" onmouseenter="enter('1890126766200870421');" onmouseout="out('1890126766200870421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 586         if (mNote.hasChanges(content, mPinButton.isChecked())) {                                         </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 587             mNote.setContent(content);                                                                   </span>
<span class="8315132155135825050" onmouseenter="enter('8315132155135825050');" onmouseout="out('8315132155135825050');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 588             mNote.setTagString(mTagView.getText().toString());                                           </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 589             mNote.setModificationDate(Calendar.getInstance());                                           </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 590             mNote.setPinned(mPinButton.isChecked());                                                     </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 591             mNote.save();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 592         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 593                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 594         setActionBarTitle();                                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 595                                                                                                          </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 596         Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 597     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 598                                                                                                          </span>
<span class="-4564004023547017377" onmouseenter="enter('-4564004023547017377');" onmouseout="out('-4564004023547017377');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 599     public void setPlaceholderVisible(boolean isVisible) {                                               </span>
<span class="-6467031518050872536" onmouseenter="enter('-6467031518050872536');" onmouseout="out('-6467031518050872536');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 600         if (isVisible) {                                                                                 </span>
<span class="1687907534970456445" onmouseenter="enter('1687907534970456445');" onmouseout="out('1687907534970456445');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 601             mNote = null;                                                                                </span>
<span class="-3407359796970873837" onmouseenter="enter('-3407359796970873837');" onmouseout="out('-3407359796970873837');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 602             mContentEditText.setText(&quot;&quot;);                                                                </span>
<span class="-7997465605671669559" onmouseenter="enter('-7997465605671669559');" onmouseout="out('-7997465605671669559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 603             mTagView.setText(&quot;&quot;);                                                                        </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 604             if (mPlaceholderView != null)                                                                </span>
<span class="-5306578928333558235" onmouseenter="enter('-5306578928333558235');" onmouseout="out('-5306578928333558235');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 605                 mPlaceholderView.setVisibility(View.VISIBLE);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 606         } else {                                                                                         </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 607             if (mPlaceholderView != null)                                                                </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 608                 mPlaceholderView.setVisibility(View.GONE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 609         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 610     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 611                                                                                                          </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 612     // Use spaces in tag autocompletion list                                                             </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 613     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 613     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-t🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 614     public class SpaceTokenizer implements Tokenizer {                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 615                                                                                                          </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 616         public int findTokenStart(CharSequence text, int cursor) {                                       </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 617             int i = cursor;                                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 618                                                                                                          </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 619             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 620                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 621             }                                                                                            </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 622             while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 623                 i++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 624             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 625                                                                                                          </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 626             return i;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 627         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 628                                                                                                          </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 629         public int findTokenEnd(CharSequence text, int cursor) {                                         </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 630             int i = cursor;                                                                              </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 631             int len = text.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 632                                                                                                          </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 633             while (i &lt; len) {                                                                            </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 634                 if (text.charAt(i) == &#x27; &#x27;) {                                                             </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 635                     return i;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 636                 } else {                                                                                 </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 637                     i++;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 638                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 639             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 640                                                                                                          </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 641             return len;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 642         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 643                                                                                                          </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 644         public CharSequence terminateToken(CharSequence text) {                                          </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 645             int i = text.length();                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 646                                                                                                          </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 647             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 648                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 649             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 650                                                                                                          </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 651             if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                    </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 652                 return text;                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 653             } else {                                                                                     </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 654                 if (text instanceof Spanned) {                                                           </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 655                     SpannableString sp = new SpannableString(text + &quot; &quot;);                                </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 656                     TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                            </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 657                             Object.class, sp, 0);                                                        </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 658                     return sp;                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 659                 } else {                                                                                 </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 660                     return text + &quot; &quot;;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 661                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 662             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 663         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 664     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 665 }                                                                                                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 666 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span></pre></td>
                            <td><pre><span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   3 package com.automattic.simplenote;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   4                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   5 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   6 import java.util.Arrays;                                                                                 </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   7 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   8 import java.util.List;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">   9                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  10 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  11 import android.content.Context;                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  12 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  13 import android.os.Handler;                                                                               </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  14 import android.text.Editable;                                                                            </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  15 import android.text.SpannableString;                                                                     </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  16 import android.text.Spanned;                                                                             </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  17 import android.text.TextUtils;                                                                           </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  18 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  19 import android.util.Log;                                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  20 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  21 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  22 import android.view.ViewGroup;                                                                           </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  23 import android.view.inputmethod.InputMethodManager;                                                      </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  24 import android.widget.ArrayAdapter;                                                                      </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  25 import android.widget.EditText;                                                                          </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  26 import android.widget.MultiAutoCompleteTextView.Tokenizer;                                               </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  27 import android.widget.TextView;                                                                          </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  28 import android.widget.ToggleButton;                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  31 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  32 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                    </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  33 import com.simperium.client.Bucket;                                                                      </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  34 import com.simperium.client.Bucket.ObjectCursor;                                                         </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  35 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  36                                                                                                          </span>
<span class="-9115464408336284288" onmouseenter="enter('-9115464408336284288');" onmouseout="out('-9115464408336284288');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  37 public class NoteEditorFragment extends Fragment implements TextWatcher {                                </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  38 	/**                                                                                                     </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  39 	 * The fragment argument representing the item ID that this fragment                                    </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  40 	 * represents.                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  41 	 */                                                                                                     </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  42 	public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                     </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  43     private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  44                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  45 	/**                                                                                                     </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  46 	 * The dummy content this fragment is presenting.                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  47 	 */                                                                                                     </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  48 	private Note mNote;                                                                                     </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  49 	private EditText mContentEditText;                                                                      </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  50 	private TagsMultiAutoCompleteTextView mTagView;                                                         </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  51     private ToggleButton mPinButton;                                                                     </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52     private boolean mShowNoteTitle;                                                                      </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53     private Handler mAutoSaveHandler;                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  55 	/**                                                                                                     </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  56 	 * Mandatory empty constructor for the fragment manager to instantiate the                              </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  57 	 * fragment (e.g. upon screen orientation changes).                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  58 	 */                                                                                                     </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  59 	public NoteEditorFragment() {                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  60 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  61                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  62 	@Override                                                                                               </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  63 	public void onCreate(Bundle savedInstanceState) {                                                       </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  64 		super.onCreate(savedInstanceState);                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  65                                                                                                          </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  66 		if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                               </span>
<span class="1964696622330960953" onmouseenter="enter('1964696622330960953');" onmouseout="out('1964696622330960953');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  67 	        Simplenote application = (Simplenote)getActivity().getApplication();                            </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  68 			Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                              </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  69 			String key = getArguments().getString(ARG_ITEM_ID);                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  70 			try {                                                                                                 </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  71     			mNote = notesBucket.get(key);                                                                     </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  72 			} catch (BucketObjectMissingException e) {                                                            </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  73 				// TODO: Handle a missing note                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  74 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  75 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  76                                                                                                          </span>
<span class="7446596846056383300" onmouseenter="enter('7446596846056383300');" onmouseout="out('7446596846056383300');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77         if (!((NotesActivity)getActivity()).isTwoPane())                                                 </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78             mShowNoteTitle = true;                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79                                                                                                          </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80         mAutoSaveHandler = new Handler();                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84     @Override                                                                                            </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85 	public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {     </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86 		View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);                     </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87 		mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                              </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88         mContentEditText.addTextChangedListener(this);                                                   </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89         mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                 </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90         mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91                                                                                                          </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  92 		refreshContent();                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  93                                                                                                          </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  94 		// Populate tag list                                                                                   </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  95         Simplenote simplenote = (Simplenote)getActivity().getApplication();                              </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  96         Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                              </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  97         ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                         </span>
<span class="1552252687714259421" onmouseenter="enter('1552252687714259421');" onmouseout="out('1552252687714259421');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  98 		String[] allTags = new String[tagsCursor.getCount()];                                                  </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  99         while (tagsCursor.moveToNext()) {                                                                </span>
<span class="98867032606522789" onmouseenter="enter('98867032606522789');" onmouseout="out('98867032606522789');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 100             allTags[tagsCursor.getPosition()] = tagsCursor.getObject().getName();                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 101         }                                                                                                </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 102         tagsCursor.close();                                                                              </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 103         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                           </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 104                 android.R.layout.simple_dropdown_item_1line, allTags);                                   </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 105         mTagView.setAdapter(adapter);                                                                    </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 106         mTagView.setTokenizer(new SpaceTokenizer());                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 107                                                                                                          </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 108 		return rootView;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 109 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 110                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 111     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 112     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 113         super.onResume();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 114                                                                                                          </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 115         if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                             </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 116             // Show soft keyboard                                                                        </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 117             mContentEditText.requestFocus();                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 118                                                                                                          </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 119             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 119             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(C🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 120             if (inputMethodManager != null)                                                              </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 121                 inputMethodManager.showSoftInput(mContentEditText, 0);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 122         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 123     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 125     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 126     public void onPause() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 127         saveAndSyncNote();                                                                               </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 128                                                                                                          </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 129         // Hide soft keyboard                                                                            </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 130         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 130         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Conte🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 131         if (inputMethodManager != null)                                                                  </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 132             inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 133                                                                                                          </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 134         if (mAutoSaveHandler != null)                                                                    </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 135             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 136                                                                                                          </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 137         super.onPause();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 138     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 139                                                                                                          </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 140     public void setNote(Note note) {                                                                     </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 141         // If we have a note already (on a tablet in landscape), save the note.                          </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 142         if (mNote != null)                                                                               </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 143             saveAndSyncNote();                                                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 144                                                                                                          </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 145         mNote = note;                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 146         refreshContent();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 147     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 148                                                                                                          </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 149     public void refreshContent() {                                                                       </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 150         if (mNote != null) {                                                                             </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 151             Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                   </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 152             // Restore the cursor position if possible.                                                  </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 153             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 153             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toStrin🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 154             mContentEditText.setText(mNote.getContent());                                                </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 155             if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())     </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 156                 mContentEditText.setSelection(cursorPosition);                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 157                                                                                                          </span>
<span class="1107376181962017522" onmouseenter="enter('1107376181962017522');" onmouseout="out('1107376181962017522');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 158             // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a StringBuilder here would be more efficient"> 158             // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, usi🔵</abbr></span>
<span class="1631288001636483433" onmouseenter="enter('1631288001636483433');" onmouseout="out('1631288001636483433');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 159             String tagListString = &quot;&quot;;                                                                   </span>
<span class="6135366484367526281" onmouseenter="enter('6135366484367526281');" onmouseout="out('6135366484367526281');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 160             for (String tag : mNote.getTags())                                                           </span>
<span class="5043453676218069547" onmouseenter="enter('5043453676218069547');" onmouseout="out('5043453676218069547');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 161                 tagListString += tag + &quot; &quot;;                                                              </span>
<span class="-1442653945522831897" onmouseenter="enter('-1442653945522831897');" onmouseout="out('-1442653945522831897');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 162             mTagView.setText(tagListString);                                                             </span>
<span class="-6561750096189000709" onmouseenter="enter('-6561750096189000709');" onmouseout="out('-6561750096189000709');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 163             mTagView.setChips();                                                                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 164                                                                                                          </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 165             mPinButton.setChecked(mNote.isPinned());                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 166                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 167             setActionBarTitle();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 168         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 169     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 170                                                                                                          </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 171     private void setActionBarTitle() {                                                                   </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 172         if (mShowNoteTitle) {                                                                            </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 173             if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 174                 getActivity().getActionBar().setTitle(mNote.getTitle());                                 </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 175             else                                                                                         </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176                 getActivity().getActionBar().setTitle(R.string.new_note);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 177         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179                                                                                                          </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180     int newCursorLocation(String newText, String oldText, int cursorLocation) {                          </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181         // Ported from the iOS app :)                                                                    </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182         // Cases:                                                                                        </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 183         // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184         // 1. Text was added after the cursor ==&gt; no change                                              </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 185         // 2. Text was added before the cursor ==&gt; location advances                                     </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 186         // 3. Text was removed after the cursor ==&gt; no change                                            </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 187         // 4. Text was removed before the cursor ==&gt; location retreats                                   </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 188         // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                         </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 189                                                                                                          </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 190         int newCursorLocation = cursorLocation;                                                          </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 191                                                                                                          </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 192         int deltaLength = newText.length() - oldText.length();                                           </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 193                                                                                                          </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 194         // Case 0                                                                                        </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 195         if (newText.length() &lt; cursorLocation)                                                           </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 196             return newText.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 197                                                                                                          </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 198         boolean beforeCursorMatches = false;                                                             </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 199         boolean afterCursorMatches = false;                                                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 200                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 201         try {                                                                                            </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 202             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 202             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursor🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 203             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 203             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.subst🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 204         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 205             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 206         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 207                                                                                                          </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 208         // Cases 2 and 4                                                                                 </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 209         if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                  </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 210             newCursorLocation += deltaLength;                                                            </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 211                                                                                                          </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 212         // Cases 1, 3 and 5 have no change                                                               </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 213         return newCursorLocation;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 214     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 215                                                                                                          </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 216     private Runnable autoSaveRunnable = new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 217         @Override                                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 218         public void run() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 219             saveAndSyncNote();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 220         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 221     };                                                                                                   </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 222                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 223     @Override                                                                                            </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 224     public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 225         // Unused                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 226     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 227                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 228     @Override                                                                                            </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 229     public void afterTextChanged(Editable editable) {                                                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 230         // Unused                                                                                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 231                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 232     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 233                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 234     @Override                                                                                            </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 235     public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                        </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 236                                                                                                          </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 237         // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 238                                                                                                          </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 239         if (mAutoSaveHandler != null) {                                                                  </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 240             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 241             mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 242         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 243     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 244                                                                                                          </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 245     private void saveAndSyncNote() {                                                                     </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 246         if (mNote == null)                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 247             return;                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 248                                                                                                          </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 249         String content = mContentEditText.getText().toString();                                          </span>
<span class="2916640133955955873" onmouseenter="enter('2916640133955955873');" onmouseout="out('2916640133955955873');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 250         String tagString = mTagView.getText().toString().trim();                                         </span>
<span class="2181107853603321774" onmouseenter="enter('2181107853603321774');" onmouseout="out('2181107853603321774');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 251         List&lt;String&gt; tagList = Arrays.asList(tagString.split(&quot; &quot;));                                      </span>
<span class="-2397711628250943154" onmouseenter="enter('-2397711628250943154');" onmouseout="out('-2397711628250943154');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 252         ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(tagList);"> 252         ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(t🔵</abbr></span>
<span class="7841571574114651165" onmouseenter="enter('7841571574114651165');" onmouseout="out('7841571574114651165');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 253         if (mNote.hasChanges(content, tags, mPinButton.isChecked())) {                                   </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 254             mNote.setContent(content);                                                                   </span>
<span class="590298224525809647" onmouseenter="enter('590298224525809647');" onmouseout="out('590298224525809647');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 255             mNote.setTags(tags);                                                                         </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 256             mNote.setModificationDate(Calendar.getInstance());                                           </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 257             mNote.setPinned(mPinButton.isChecked());                                                     </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 258             mNote.save();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 259         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 260                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 261         setActionBarTitle();                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262                                                                                                          </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 263         Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 264     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 265                                                                                                          </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 266     // Use spaces in tag autocompletion list                                                             </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 267 	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 267 	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 268 	public class SpaceTokenizer implements Tokenizer {                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 269                                                                                                          </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 270 		public int findTokenStart(CharSequence text, int cursor) {                                             </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 271 			int i = cursor;                                                                                       </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 272                                                                                                          </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 273 			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 274 			    i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 275 			}                                                                                                     </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 276 			while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                         </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 277 			    i++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 278 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 279                                                                                                          </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 280 			return i;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 281 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 282                                                                                                          </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 283 		public int findTokenEnd(CharSequence text, int cursor) {                                               </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 284 			int i = cursor;                                                                                       </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 285 			int len = text.length();                                                                              </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 286                                                                                                          </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 287 			while (i &lt; len) {                                                                                     </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 288 			    if (text.charAt(i) == &#x27; &#x27;) {                                                                      </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 289 			        return i;                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 290 			    } else {                                                                                          </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 291 			        i++;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 292 			    }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 293 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 294                                                                                                          </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 295 			return len;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 296 		}                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 297                                                                                                          </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 298 		public CharSequence terminateToken(CharSequence text) {                                                </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 299 			int i = text.length();                                                                                </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 300                                                                                                          </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 301 			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 302 			    i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 303 			}                                                                                                     </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 304                                                                                                          </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 305 			if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                             </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 306 			    return text;                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 307 			} else {                                                                                              </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 308 			    if (text instanceof Spanned) {                                                                    </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 309 			        SpannableString sp = new SpannableString(text + &quot; &quot;);                                         </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 310 			        TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                                     </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 311 			                Object.class, sp, 0);                                                                 </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 312 			        return sp;                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 313 			    } else {                                                                                          </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 314 			        return text + &quot; &quot;;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 315 			    }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 316 			}                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 317 		}                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 318 	}                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 319 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 320 =======                                                                                                  </span>
<span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321 package com.automattic.simplenote;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324 import java.util.Arrays;                                                                                 </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326 import java.util.List;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329 import android.content.Context;                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331 import android.os.Handler;                                                                               </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 332 import android.text.Editable;                                                                            </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 333 import android.text.SpannableString;                                                                     </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 334 import android.text.Spanned;                                                                             </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 335 import android.text.TextUtils;                                                                           </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 336 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 337 import android.util.Log;                                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 338 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 339 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 340 import android.view.ViewGroup;                                                                           </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 341 import android.view.inputmethod.InputMethodManager;                                                      </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 342 import android.widget.ArrayAdapter;                                                                      </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 343 import android.widget.EditText;                                                                          </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 344 import android.widget.LinearLayout;                                                                      </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 345 import android.widget.MultiAutoCompleteTextView.Tokenizer;                                               </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 346 import android.widget.ToggleButton;                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 347                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 348 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 349 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 350 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                    </span>
<span class="451633977271230846" onmouseenter="enter('451633977271230846');" onmouseout="out('451633977271230846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 351 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView.OnTagAddedListener;                 </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 352 import com.simperium.client.Bucket;                                                                      </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 353 import com.simperium.client.Bucket.ObjectCursor;                                                         </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 354 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 355                                                                                                          </span>
<span class="-3142892757748375832" onmouseenter="enter('-3142892757748375832');" onmouseout="out('-3142892757748375832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 356 public class NoteEditorFragment extends Fragment implements TextWatcher, OnTagAddedListener {            </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 357     /**                                                                                                  </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 358      * The fragment argument representing the item ID that this fragment                                 </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 359      * represents.                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 360      */                                                                                                  </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 361     public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                  </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 362     private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 363                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 364     /**                                                                                                  </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 365      * The dummy content this fragment is presenting.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 366      */                                                                                                  </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 367     private Note mNote;                                                                                  </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 368     private EditText mContentEditText;                                                                   </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 369     private TagsMultiAutoCompleteTextView mTagView;                                                      </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 370     private ToggleButton mPinButton;                                                                     </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 371     private boolean mShowNoteTitle;                                                                      </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 372     private Handler mAutoSaveHandler;                                                                    </span>
<span class="-1776320876088405367" onmouseenter="enter('-1776320876088405367');" onmouseout="out('-1776320876088405367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 373     private LinearLayout mPlaceholderView;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 374                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 375     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 376      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 377      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 378      */                                                                                                  </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 379     public NoteEditorFragment() {                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 380     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 381                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 382     @Override                                                                                            </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 383     public void onCreate(Bundle savedInstanceState) {                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 384         super.onCreate(savedInstanceState);                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 385                                                                                                          </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 386         if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                         </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 387             Simplenote application = (Simplenote) getActivity().getApplication();                        </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 388             Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                     </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 389             String key = getArguments().getString(ARG_ITEM_ID);                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 390             try {                                                                                        </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 391                 mNote = notesBucket.get(key);                                                            </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 392             } catch (BucketObjectMissingException e) {                                                   </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 393                 // TODO: Handle a missing note                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 394             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 395         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 396                                                                                                          </span>
<span class="-1496429319349342270" onmouseenter="enter('-1496429319349342270');" onmouseout="out('-1496429319349342270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 397         if (!((NotesActivity) getActivity()).isLargeScreenLandscape())                                   </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 398             mShowNoteTitle = true;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 399                                                                                                          </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 400         mAutoSaveHandler = new Handler();                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 401                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 402     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 403                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 404     @Override                                                                                            </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 405     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 406         View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);               </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 407         mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                        </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 408         mContentEditText.addTextChangedListener(this);                                                   </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 409         mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                 </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 410         mTagView.setTokenizer(new SpaceTokenizer());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 411                                                                                                          </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 412         mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                               </span>
<span class="-3806018576171196544" onmouseenter="enter('-3806018576171196544');" onmouseout="out('-3806018576171196544');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 413         mPlaceholderView = (LinearLayout) rootView.findViewById(R.id.placeholder);                       </span>
<span class="7851441548048737425" onmouseenter="enter('7851441548048737425');" onmouseout="out('7851441548048737425');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 414         if (!((NotesActivity) getActivity()).isLargeScreen())                                            </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 415             mPlaceholderView.setVisibility(View.GONE);                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 416                                                                                                          </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 417 		refreshContent();                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 418                                                                                                          </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 419 		return rootView;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 420 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 421                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 422     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 423     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 424         super.onResume();                                                                                </span>
<span class="2283760307260285965" onmouseenter="enter('2283760307260285965');" onmouseout="out('2283760307260285965');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 425         mTagView.setOnTagAddedListener(this);                                                            </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 426         if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                             </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 427             // Show soft keyboard                                                                        </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 428             mContentEditText.requestFocus();                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 429                                                                                                          </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 430             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 430             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(C🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 431             if (inputMethodManager != null)                                                              </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 432                 inputMethodManager.showSoftInput(mContentEditText, 0);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 433         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 434     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 435                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 436     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 437     public void onPause() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 438         saveAndSyncNote();                                                                               </span>
<span class="-5824468190651999684" onmouseenter="enter('-5824468190651999684');" onmouseout="out('-5824468190651999684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 439         mTagView.setOnTagAddedListener(null);                                                            </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 440         // Hide soft keyboard                                                                            </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 441         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 441         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Conte🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 442         if (inputMethodManager != null)                                                                  </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 443             inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 444                                                                                                          </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 445         if (mAutoSaveHandler != null)                                                                    </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 446             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 447                                                                                                          </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 448         super.onPause();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 449     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 450                                                                                                          </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 451     public void setNote(Note note) {                                                                     </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 452         mPlaceholderView.setVisibility(View.GONE);                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 453                                                                                                          </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 454         // If we have a note already (on a tablet in landscape), save the note.                          </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 455         if (mNote != null)                                                                               </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 456             saveAndSyncNote();                                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 457                                                                                                          </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 458         mNote = note;                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 459         refreshContent();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 460     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 461                                                                                                          </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 462     public void refreshContent() {                                                                       </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 463         if (mNote != null) {                                                                             </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 464             Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                   </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 465             // Restore the cursor position if possible.                                                  </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 466             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 466             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toStrin🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 467             mContentEditText.setText(mNote.getContent());                                                </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 468             if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())     </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 469                 mContentEditText.setSelection(cursorPosition);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 470                                                                                                          </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 471             mPinButton.setChecked(mNote.isPinned());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 472                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 473             setActionBarTitle();                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 474                                                                                                          </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 475             updateTagList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 476         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 477     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 478                                                                                                          </span>
<span class="-392171935892263585" onmouseenter="enter('-392171935892263585');" onmouseout="out('-392171935892263585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 479     public void updateTagList(){                                                                         </span>
<span class="-8748481830530330770" onmouseenter="enter('-8748481830530330770');" onmouseout="out('-8748481830530330770');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 480         // Populate this note&#x27;s tags in the tagView                                                      </span>
<span class="-3805230291902185366" onmouseenter="enter('-3805230291902185366');" onmouseout="out('-3805230291902185366');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 481         mTagView.setChips(mNote.getTagString());                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 482                                                                                                          </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 483 		// Populate tag list                                                                                   </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 484         Simplenote simplenote = (Simplenote)getActivity().getApplication();                              </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 485         Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                              </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 486         ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                         </span>
<span class="-4946105276032529342" onmouseenter="enter('-4946105276032529342');" onmouseout="out('-4946105276032529342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 487         List&lt;String&gt; allTags = new ArrayList&lt;String&gt;(tagsCursor.getCount());                             </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 488         while (tagsCursor.moveToNext()) {                                                                </span>
<span class="2897030399219905781" onmouseenter="enter('2897030399219905781');" onmouseout="out('2897030399219905781');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 489             Tag tag = tagsCursor.getObject();                                                            </span>
<span class="-1616319465907524543" onmouseenter="enter('-1616319465907524543');" onmouseout="out('-1616319465907524543');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 490             if (!mNote.hasTag(tag)) allTags.add(tag.getName());                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 491         }                                                                                                </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 492         tagsCursor.close();                                                                              </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 493         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                           </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 494                 android.R.layout.simple_dropdown_item_1line, allTags);                                   </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 495         mTagView.setAdapter(adapter);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 496     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 497                                                                                                          </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 498     private void setActionBarTitle() {                                                                   </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 499         if (mShowNoteTitle) {                                                                            </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 500             if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 501                 getActivity().getActionBar().setTitle(mNote.getTitle());                                 </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 502             else                                                                                         </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 503                 getActivity().getActionBar().setTitle(R.string.new_note);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 504         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 505     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 506                                                                                                          </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 507     int newCursorLocation(String newText, String oldText, int cursorLocation) {                          </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 508         // Ported from the iOS app :)                                                                    </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 509         // Cases:                                                                                        </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 510         // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 511         // 1. Text was added after the cursor ==&gt; no change                                              </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 512         // 2. Text was added before the cursor ==&gt; location advances                                     </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 513         // 3. Text was removed after the cursor ==&gt; no change                                            </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 514         // 4. Text was removed before the cursor ==&gt; location retreats                                   </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 515         // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 516                                                                                                          </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 517         int newCursorLocation = cursorLocation;                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 518                                                                                                          </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 519         int deltaLength = newText.length() - oldText.length();                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 520                                                                                                          </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 521         // Case 0                                                                                        </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 522         if (newText.length() &lt; cursorLocation)                                                           </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 523             return newText.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 524                                                                                                          </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 525         boolean beforeCursorMatches = false;                                                             </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 526         boolean afterCursorMatches = false;                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 527                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 528         try {                                                                                            </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 529             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 529             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursor🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 530             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 530             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.subst🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 531         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 532             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 533         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 534                                                                                                          </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 535         // Cases 2 and 4                                                                                 </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 536         if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                  </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 537             newCursorLocation += deltaLength;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 538                                                                                                          </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 539         // Cases 1, 3 and 5 have no change                                                               </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 540         return newCursorLocation;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 541     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 542                                                                                                          </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 543     private Runnable autoSaveRunnable = new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 544         @Override                                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 545         public void run() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 546             saveAndSyncNote();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 547         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 548     };                                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 549                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 550     @Override                                                                                            </span>
<span class="-9205568981681343406" onmouseenter="enter('-9205568981681343406');" onmouseout="out('-9205568981681343406');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 551     public void onTagsChanged(String tagString){                                                         </span>
<span class="1553130968631643861" onmouseenter="enter('1553130968631643861');" onmouseout="out('1553130968631643861');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 552         mNote.setTagString(tagString);                                                                   </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 553         mNote.setModificationDate(Calendar.getInstance());                                               </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 554         updateTagList();                                                                                 </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 555         mNote.save();                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 556                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 557     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 558                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 559     @Override                                                                                            </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 560     public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 561         // Unused                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 562     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 563                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 564     @Override                                                                                            </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 565     public void afterTextChanged(Editable editable) {                                                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 566         // Unused                                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 567                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 568     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 569                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 570     @Override                                                                                            </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 571     public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 572                                                                                                          </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 573         // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 574                                                                                                          </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 575         if (mAutoSaveHandler != null) {                                                                  </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 576             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 577             mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 578         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 579     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 580                                                                                                          </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 581     private void saveAndSyncNote() {                                                                     </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 582         if (mNote == null)                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 583             return;                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 584                                                                                                          </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 585         String content = mContentEditText.getText().toString();                                          </span>
<span class="1890126766200870421" onmouseenter="enter('1890126766200870421');" onmouseout="out('1890126766200870421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 586         if (mNote.hasChanges(content, mPinButton.isChecked())) {                                         </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 587             mNote.setContent(content);                                                                   </span>
<span class="8315132155135825050" onmouseenter="enter('8315132155135825050');" onmouseout="out('8315132155135825050');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 588             mNote.setTagString(mTagView.getText().toString());                                           </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 589             mNote.setModificationDate(Calendar.getInstance());                                           </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 590             mNote.setPinned(mPinButton.isChecked());                                                     </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 591             mNote.save();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 592         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 593                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 594         setActionBarTitle();                                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 595                                                                                                          </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 596         Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 597     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 598                                                                                                          </span>
<span class="-4564004023547017377" onmouseenter="enter('-4564004023547017377');" onmouseout="out('-4564004023547017377');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 599     public void setPlaceholderVisible(boolean isVisible) {                                               </span>
<span class="-6467031518050872536" onmouseenter="enter('-6467031518050872536');" onmouseout="out('-6467031518050872536');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 600         if (isVisible) {                                                                                 </span>
<span class="1687907534970456445" onmouseenter="enter('1687907534970456445');" onmouseout="out('1687907534970456445');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 601             mNote = null;                                                                                </span>
<span class="-3407359796970873837" onmouseenter="enter('-3407359796970873837');" onmouseout="out('-3407359796970873837');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 602             mContentEditText.setText(&quot;&quot;);                                                                </span>
<span class="-7997465605671669559" onmouseenter="enter('-7997465605671669559');" onmouseout="out('-7997465605671669559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 603             mTagView.setText(&quot;&quot;);                                                                        </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 604             if (mPlaceholderView != null)                                                                </span>
<span class="-5306578928333558235" onmouseenter="enter('-5306578928333558235');" onmouseout="out('-5306578928333558235');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 605                 mPlaceholderView.setVisibility(View.VISIBLE);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 606         } else {                                                                                         </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 607             if (mPlaceholderView != null)                                                                </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 608                 mPlaceholderView.setVisibility(View.GONE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 609         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 610     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 611                                                                                                          </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 612     // Use spaces in tag autocompletion list                                                             </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 613     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 613     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-t🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 614     public class SpaceTokenizer implements Tokenizer {                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 615                                                                                                          </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 616         public int findTokenStart(CharSequence text, int cursor) {                                       </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 617             int i = cursor;                                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 618                                                                                                          </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 619             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 620                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 621             }                                                                                            </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 622             while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 623                 i++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 624             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 625                                                                                                          </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 626             return i;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 627         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 628                                                                                                          </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 629         public int findTokenEnd(CharSequence text, int cursor) {                                         </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 630             int i = cursor;                                                                              </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 631             int len = text.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 632                                                                                                          </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 633             while (i &lt; len) {                                                                            </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 634                 if (text.charAt(i) == &#x27; &#x27;) {                                                             </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 635                     return i;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 636                 } else {                                                                                 </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 637                     i++;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 638                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 639             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 640                                                                                                          </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 641             return len;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 642         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 643                                                                                                          </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 644         public CharSequence terminateToken(CharSequence text) {                                          </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 645             int i = text.length();                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 646                                                                                                          </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 647             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 648                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 649             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 650                                                                                                          </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 651             if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                    </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 652                 return text;                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 653             } else {                                                                                     </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 654                 if (text instanceof Spanned) {                                                           </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 655                     SpannableString sp = new SpannableString(text + &quot; &quot;);                                </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 656                     TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                            </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 657                             Object.class, sp, 0);                                                        </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 658                     return sp;                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 659                 } else {                                                                                 </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 660                     return text + &quot; &quot;;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 661                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 662             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 663         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 664     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 665 }                                                                                                        </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 666 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span></pre></td>
                            <td><pre><span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style="">   1 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">   2 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/">   3 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">   4 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   5                                                                                                          </span>
<span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   6 package com.automattic.simplenote;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   7                                                                                                          </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   8 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">   9 import java.util.Arrays;                                                                                 </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  10 import java.util.Calendar;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  11 import java.util.List;                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  12                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  13 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  14 import android.content.Context;                                                                          </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  15 import android.os.Bundle;                                                                                </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  16 import android.os.Handler;                                                                               </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  17 import android.text.Editable;                                                                            </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  18 import android.text.SpannableString;                                                                     </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  19 import android.text.Spanned;                                                                             </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  20 import android.text.TextUtils;                                                                           </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  21 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  22 import android.util.Log;                                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  23 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  24 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  25 import android.view.ViewGroup;                                                                           </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  26 import android.view.inputmethod.InputMethodManager;                                                      </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  27 import android.widget.ArrayAdapter;                                                                      </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  28 import android.widget.EditText;                                                                          </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  29 import android.widget.LinearLayout;                                                                      </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  30 import android.widget.MultiAutoCompleteTextView.Tokenizer;                                               </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  31 import android.widget.ToggleButton;                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  32                                                                                                          </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  33 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  34 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  35 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                    </span>
<span class="451633977271230846" onmouseenter="enter('451633977271230846');" onmouseout="out('451633977271230846');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  36 import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView.OnTagAddedListener;                 </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  37 import com.simperium.client.Bucket;                                                                      </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  38 import com.simperium.client.Bucket.ObjectCursor;                                                         </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  39 import com.simperium.client.BucketObjectMissingException;                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  40                                                                                                          </span>
<span class="-3142892757748375832" onmouseenter="enter('-3142892757748375832');" onmouseout="out('-3142892757748375832');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  41 public class NoteEditorFragment extends Fragment implements TextWatcher, OnTagAddedListener {            </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  42     /**                                                                                                  </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  43      * The fragment argument representing the item ID that this fragment                                 </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  44      * represents.                                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  45      */                                                                                                  </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  46     public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                  </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  47     private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  48                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  49     /**                                                                                                  </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  50      * The dummy content this fragment is presenting.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  51      */                                                                                                  </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  52     private Note mNote;                                                                                  </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  53     private EditText mContentEditText;                                                                   </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  54     private TagsMultiAutoCompleteTextView mTagView;                                                      </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  55     private ToggleButton mPinButton;                                                                     </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  56     private boolean mShowNoteTitle;                                                                      </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  57     private Handler mAutoSaveHandler;                                                                    </span>
<span class="-1776320876088405367" onmouseenter="enter('-1776320876088405367');" onmouseout="out('-1776320876088405367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  58     private LinearLayout mPlaceholderView;                                                               </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  59                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63      */                                                                                                  </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  64     public NoteEditorFragment() {                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  65     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  67     @Override                                                                                            </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68     public void onCreate(Bundle savedInstanceState) {                                                    </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69         super.onCreate(savedInstanceState);                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70                                                                                                          </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71         if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                         </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72             Simplenote application = (Simplenote) getActivity().getApplication();                        </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73             Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                     </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74             String key = getArguments().getString(ARG_ITEM_ID);                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75             try {                                                                                        </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76                 mNote = notesBucket.get(key);                                                            </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77             } catch (BucketObjectMissingException e) {                                                   </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78                 // TODO: Handle a missing note                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81                                                                                                          </span>
<span class="-1496429319349342270" onmouseenter="enter('-1496429319349342270');" onmouseout="out('-1496429319349342270');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82         if (!((NotesActivity) getActivity()).isLargeScreenLandscape())                                   </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83             mShowNoteTitle = true;                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84                                                                                                          </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85         mAutoSaveHandler = new Handler();                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  89     @Override                                                                                            </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  90     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  91         View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);               </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92         mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                        </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93         mContentEditText.addTextChangedListener(this);                                                   </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94         mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                 </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95         mTagView.setTokenizer(new SpaceTokenizer());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96                                                                                                          </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97         mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                               </span>
<span class="-3806018576171196544" onmouseenter="enter('-3806018576171196544');" onmouseout="out('-3806018576171196544');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98         mPlaceholderView = (LinearLayout) rootView.findViewById(R.id.placeholder);                       </span>
<span class="7851441548048737425" onmouseenter="enter('7851441548048737425');" onmouseout="out('7851441548048737425');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  99         if (!((NotesActivity) getActivity()).isLargeScreen())                                            </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 100             mPlaceholderView.setVisibility(View.GONE);                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 101                                                                                                          </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 102 		refreshContent();                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 103                                                                                                          </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 104 		return rootView;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 105 	}                                                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 106                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 107     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 108     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 109         super.onResume();                                                                                </span>
<span class="2283760307260285965" onmouseenter="enter('2283760307260285965');" onmouseout="out('2283760307260285965');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 110         mTagView.setOnTagAddedListener(this);                                                            </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 111         if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                             </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 112             // Show soft keyboard                                                                        </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 113             mContentEditText.requestFocus();                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 114                                                                                                          </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 115             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 115             InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(C🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 116             if (inputMethodManager != null)                                                              </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 117                 inputMethodManager.showSoftInput(mContentEditText, 0);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 118         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 119     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 120                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 121     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 122     public void onPause() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 123         saveAndSyncNote();                                                                               </span>
<span class="-5824468190651999684" onmouseenter="enter('-5824468190651999684');" onmouseout="out('-5824468190651999684');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 124         mTagView.setOnTagAddedListener(null);                                                            </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 125         // Hide soft keyboard                                                                            </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 126         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 126         InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Conte🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 127         if (inputMethodManager != null)                                                                  </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 128             inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 129                                                                                                          </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 130         if (mAutoSaveHandler != null)                                                                    </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 131             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 132                                                                                                          </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 133         super.onPause();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 134     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 135                                                                                                          </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 136     public void setNote(Note note) {                                                                     </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 137         mPlaceholderView.setVisibility(View.GONE);                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 138                                                                                                          </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 139         // If we have a note already (on a tablet in landscape), save the note.                          </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 140         if (mNote != null)                                                                               </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 141             saveAndSyncNote();                                                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 142                                                                                                          </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 143         mNote = note;                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 144         refreshContent();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 145     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 146                                                                                                          </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 147     public void refreshContent() {                                                                       </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 148         if (mNote != null) {                                                                             </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 149             Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                   </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 150             // Restore the cursor position if possible.                                                  </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 151             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 151             int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toStrin🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 152             mContentEditText.setText(mNote.getContent());                                                </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 153             if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())     </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 154                 mContentEditText.setSelection(cursorPosition);                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 155                                                                                                          </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 156             mPinButton.setChecked(mNote.isPinned());                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 157                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 158             setActionBarTitle();                                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 159                                                                                                          </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 160             updateTagList();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 161         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 162     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 163                                                                                                          </span>
<span class="-392171935892263585" onmouseenter="enter('-392171935892263585');" onmouseout="out('-392171935892263585');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 164     public void updateTagList(){                                                                         </span>
<span class="-8748481830530330770" onmouseenter="enter('-8748481830530330770');" onmouseout="out('-8748481830530330770');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 165         // Populate this note&#x27;s tags in the tagView                                                      </span>
<span class="-3805230291902185366" onmouseenter="enter('-3805230291902185366');" onmouseout="out('-3805230291902185366');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 166         mTagView.setChips(mNote.getTagString());                                                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 167                                                                                                          </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 168 		// Populate tag list                                                                                   </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 169         Simplenote simplenote = (Simplenote)getActivity().getApplication();                              </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 170         Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                              </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 171         ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                         </span>
<span class="-4946105276032529342" onmouseenter="enter('-4946105276032529342');" onmouseout="out('-4946105276032529342');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 172         List&lt;String&gt; allTags = new ArrayList&lt;String&gt;(tagsCursor.getCount());                             </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 173         while (tagsCursor.moveToNext()) {                                                                </span>
<span class="2897030399219905781" onmouseenter="enter('2897030399219905781');" onmouseout="out('2897030399219905781');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 174             Tag tag = tagsCursor.getObject();                                                            </span>
<span class="-1616319465907524543" onmouseenter="enter('-1616319465907524543');" onmouseout="out('-1616319465907524543');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 175             if (!mNote.hasTag(tag)) allTags.add(tag.getName());                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 176         }                                                                                                </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 177         tagsCursor.close();                                                                              </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 178         ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                           </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 179                 android.R.layout.simple_dropdown_item_1line, allTags);                                   </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 180         mTagView.setAdapter(adapter);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 181     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 182                                                                                                          </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 183     private void setActionBarTitle() {                                                                   </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 184         if (mShowNoteTitle) {                                                                            </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 185             if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 186                 getActivity().getActionBar().setTitle(mNote.getTitle());                                 </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 187             else                                                                                         </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 188                 getActivity().getActionBar().setTitle(R.string.new_note);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 189         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 190     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 191                                                                                                          </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 192     int newCursorLocation(String newText, String oldText, int cursorLocation) {                          </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193         // Ported from the iOS app :)                                                                    </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 194         // Cases:                                                                                        </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195         // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196         // 1. Text was added after the cursor ==&gt; no change                                              </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197         // 2. Text was added before the cursor ==&gt; location advances                                     </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198         // 3. Text was removed after the cursor ==&gt; no change                                            </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 199         // 4. Text was removed before the cursor ==&gt; location retreats                                   </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 200         // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                         </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201                                                                                                          </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202         int newCursorLocation = cursorLocation;                                                          </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203                                                                                                          </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204         int deltaLength = newText.length() - oldText.length();                                           </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205                                                                                                          </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206         // Case 0                                                                                        </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207         if (newText.length() &lt; cursorLocation)                                                           </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208             return newText.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209                                                                                                          </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210         boolean beforeCursorMatches = false;                                                             </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211         boolean afterCursorMatches = false;                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 212                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213         try {                                                                                            </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 214             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 214             beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursor🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 215             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 215             afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.subst🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216         } catch (Exception e) {                                                                          </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217             e.printStackTrace();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 218         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219                                                                                                          </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220         // Cases 2 and 4                                                                                 </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 221         if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                  </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222             newCursorLocation += deltaLength;                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223                                                                                                          </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 224         // Cases 1, 3 and 5 have no change                                                               </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225         return newCursorLocation;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227                                                                                                          </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228     private Runnable autoSaveRunnable = new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229         @Override                                                                                        </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230         public void run() {                                                                              </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231             saveAndSyncNote();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232         }                                                                                                </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233     };                                                                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235     @Override                                                                                            </span>
<span class="-9205568981681343406" onmouseenter="enter('-9205568981681343406');" onmouseout="out('-9205568981681343406');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236     public void onTagsChanged(String tagString){                                                         </span>
<span class="1553130968631643861" onmouseenter="enter('1553130968631643861');" onmouseout="out('1553130968631643861');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237         mNote.setTagString(tagString);                                                                   </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238         mNote.setModificationDate(Calendar.getInstance());                                               </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239         updateTagList();                                                                                 </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 240         mNote.save();                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 241                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 242     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 243                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 244     @Override                                                                                            </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 245     public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 246         // Unused                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 247     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 248                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 249     @Override                                                                                            </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 250     public void afterTextChanged(Editable editable) {                                                    </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 251         // Unused                                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 252                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 253     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 254                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 255     @Override                                                                                            </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 256     public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 257                                                                                                          </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 258         // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 259                                                                                                          </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 260         if (mAutoSaveHandler != null) {                                                                  </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 261             mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                          </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 262             mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 263         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265                                                                                                          </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 266     private void saveAndSyncNote() {                                                                     </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 267         if (mNote == null)                                                                               </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 268             return;                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 269                                                                                                          </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 270         String content = mContentEditText.getText().toString();                                          </span>
<span class="1890126766200870421" onmouseenter="enter('1890126766200870421');" onmouseout="out('1890126766200870421');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 271         if (mNote.hasChanges(content, mPinButton.isChecked())) {                                         </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 272             mNote.setContent(content);                                                                   </span>
<span class="8315132155135825050" onmouseenter="enter('8315132155135825050');" onmouseout="out('8315132155135825050');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 273             mNote.setTagString(mTagView.getText().toString());                                           </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 274             mNote.setModificationDate(Calendar.getInstance());                                           </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 275             mNote.setPinned(mPinButton.isChecked());                                                     </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 276             mNote.save();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 277         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 278                                                                                                          </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 279         setActionBarTitle();                                                                             </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 280                                                                                                          </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 281         Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 282     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 283                                                                                                          </span>
<span class="-4564004023547017377" onmouseenter="enter('-4564004023547017377');" onmouseout="out('-4564004023547017377');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 284     public void setPlaceholderVisible(boolean isVisible) {                                               </span>
<span class="-6467031518050872536" onmouseenter="enter('-6467031518050872536');" onmouseout="out('-6467031518050872536');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 285         if (isVisible) {                                                                                 </span>
<span class="1687907534970456445" onmouseenter="enter('1687907534970456445');" onmouseout="out('1687907534970456445');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 286             mNote = null;                                                                                </span>
<span class="-3407359796970873837" onmouseenter="enter('-3407359796970873837');" onmouseout="out('-3407359796970873837');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 287             mContentEditText.setText(&quot;&quot;);                                                                </span>
<span class="-7997465605671669559" onmouseenter="enter('-7997465605671669559');" onmouseout="out('-7997465605671669559');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 288             mTagView.setText(&quot;&quot;);                                                                        </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 289             if (mPlaceholderView != null)                                                                </span>
<span class="-5306578928333558235" onmouseenter="enter('-5306578928333558235');" onmouseout="out('-5306578928333558235');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 290                 mPlaceholderView.setVisibility(View.VISIBLE);                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 291         } else {                                                                                         </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 292             if (mPlaceholderView != null)                                                                </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 293                 mPlaceholderView.setVisibility(View.GONE);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 294         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 295     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 296                                                                                                          </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 297     // Use spaces in tag autocompletion list                                                             </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 298     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 298     // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-t🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 299     public class SpaceTokenizer implements Tokenizer {                                                   </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 300                                                                                                          </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 301         public int findTokenStart(CharSequence text, int cursor) {                                       </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 302             int i = cursor;                                                                              </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 303                                                                                                          </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 304             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 305                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 306             }                                                                                            </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 307             while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 308                 i++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 309             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 310                                                                                                          </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 311             return i;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 312         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 313                                                                                                          </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 314         public int findTokenEnd(CharSequence text, int cursor) {                                         </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 315             int i = cursor;                                                                              </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 316             int len = text.length();                                                                     </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 317                                                                                                          </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 318             while (i &lt; len) {                                                                            </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 319                 if (text.charAt(i) == &#x27; &#x27;) {                                                             </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 320                     return i;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 321                 } else {                                                                                 </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 322                     i++;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 323                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 324             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 325                                                                                                          </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 326             return len;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 327         }                                                                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 328                                                                                                          </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 329         public CharSequence terminateToken(CharSequence text) {                                          </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 330             int i = text.length();                                                                       </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 331                                                                                                          </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 332             while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                 </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 333                 i--;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 334             }                                                                                            </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 335                                                                                                          </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 336             if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                    </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 337                 return text;                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 338             } else {                                                                                     </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 339                 if (text instanceof Spanned) {                                                           </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 340                     SpannableString sp = new SpannableString(text + &quot; &quot;);                                </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 341                     TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                            </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 342                             Object.class, sp, 0);                                                        </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 343                     return sp;                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 344                 } else {                                                                                 </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 345                     return text + &quot; &quot;;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 346                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 347             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 348         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 349     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 350 }                                                                                                        </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 351 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>

























































































































































































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   1 -package com.automattic.simplenote;                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   2 -                                                                                                                  </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   3 -import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   4 -import java.util.Arrays;                                                                                          </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   5 -import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   6 -import java.util.List;                                                                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   7 -                                                                                                                  </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   8 -import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">   9 -import android.content.Context;                                                                                   </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 -import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  11 -import android.os.Handler;                                                                                        </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  12 -import android.text.Editable;                                                                                     </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  13 -import android.text.SpannableString;                                                                              </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  14 -import android.text.Spanned;                                                                                      </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  15 -import android.text.TextUtils;                                                                                    </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  16 -import android.text.TextWatcher;                                                                                  </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  17 -import android.util.Log;                                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  18 -import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  19 -import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  20 -import android.view.ViewGroup;                                                                                    </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  21 -import android.view.inputmethod.InputMethodManager;                                                               </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  22 -import android.widget.ArrayAdapter;                                                                               </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  23 -import android.widget.EditText;                                                                                   </span>

<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  24 -import android.widget.MultiAutoCompleteTextView.Tokenizer;                                                        </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import android.widget.TextView;                                                                                   </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  26 -import android.widget.ToggleButton;                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  27 -                                                                                                                  </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  29 -import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  30 -import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                             </span>

<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -import com.simperium.client.Bucket;                                                                               </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  32 -import com.simperium.client.Bucket.ObjectCursor;                                                                  </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -                                                                                                                  </span>
<span class="-9115464408336284288" onmouseenter="enter('-9115464408336284288');" onmouseout="out('-9115464408336284288');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  35 -public class NoteEditorFragment extends Fragment implements TextWatcher {                                         </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  36 -	/**                                                                                                              </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  37 -	 * The fragment argument representing the item ID that this fragment                                             </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -	 * represents.                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -	 */                                                                                                              </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -	public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                              </span>






<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -    private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  43 -	/**                                                                                                              </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  44 -	 * The dummy content this fragment is presenting.                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  45 -	 */                                                                                                              </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  46 -	private Note mNote;                                                                                              </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  47 -	private EditText mContentEditText;                                                                               </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  48 -	private TagsMultiAutoCompleteTextView mTagView;                                                                  </span>






<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  49 -    private ToggleButton mPinButton;                                                                              </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  50 -    private boolean mShowNoteTitle;                                                                               </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -    private Handler mAutoSaveHandler;                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -	/**                                                                                                              </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -	 * Mandatory empty constructor for the fragment manager to instantiate the                                       </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -	 * fragment (e.g. upon screen orientation changes).                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -	 */                                                                                                              </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  57 -	public NoteEditorFragment() {                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  58 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  59 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  60 -	@Override                                                                                                        </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  61 -	public void onCreate(Bundle savedInstanceState) {                                                                </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  62 -		super.onCreate(savedInstanceState);                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  63 -                                                                                                                  </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  64 -		if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                                        </span>
<span class="1964696622330960953" onmouseenter="enter('1964696622330960953');" onmouseout="out('1964696622330960953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  65 -	        Simplenote application = (Simplenote)getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -			Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                       </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -			String key = getArguments().getString(ARG_ITEM_ID);                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -			try {                                                                                                          </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -    			mNote = notesBucket.get(key);                                                                              </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -			} catch (BucketObjectMissingException e) {                                                                     </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -				// TODO: Handle a missing note                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -                                                                                                                  </span>
<span class="7446596846056383300" onmouseenter="enter('7446596846056383300');" onmouseout="out('7446596846056383300');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -        if (!((NotesActivity)getActivity()).isTwoPane())                                                          </span>

























<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -            mShowNoteTitle = true;                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                                                                                                                  </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -        mAutoSaveHandler = new Handler();                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -    @Override                                                                                                     </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -	public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {              </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -		View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);                              </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -		mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                                       </span>






<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -        mContentEditText.addTextChangedListener(this);                                                            </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -        mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                          </span>


<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -        mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                                        </span>



<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -                                                                                                                  </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  90 -		refreshContent();                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  91 -                                                                                                                  </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -		// Populate tag list                                                                                            </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  93 -        Simplenote simplenote = (Simplenote)getActivity().getApplication();                                       </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  94 -        Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                                       </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  95 -        ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                                  </span>
<span class="1552252687714259421" onmouseenter="enter('1552252687714259421');" onmouseout="out('1552252687714259421');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  96 -		String[] allTags = new String[tagsCursor.getCount()];                                                           </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  97 -        while (tagsCursor.moveToNext()) {                                                                         </span>
<span class="98867032606522789" onmouseenter="enter('98867032606522789');" onmouseout="out('98867032606522789');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  98 -            allTags[tagsCursor.getPosition()] = tagsCursor.getObject().getName();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  99 -        }                                                                                                         </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 100 -        tagsCursor.close();                                                                                       </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 101 -        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                                    </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 102 -                android.R.layout.simple_dropdown_item_1line, allTags);                                            </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 103 -        mTagView.setAdapter(adapter);                                                                             </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 104 -        mTagView.setTokenizer(new SpaceTokenizer());                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 105 -                                                                                                                  </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 106 -		return rootView;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 107 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 108 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 109 -    @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 110 -    public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 111 -        super.onResume();                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 112 -                                                                                                                  </span>

<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 113 -        if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                                      </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 114 -            // Show soft keyboard                                                                                 </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 115 -            mContentEditText.requestFocus();                                                                      </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 116 -                                                                                                                  </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 117 -            InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 117 -            InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.IN🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 118 -            if (inputMethodManager != null)                                                                       </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 119 -                inputMethodManager.showSoftInput(mContentEditText, 0);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 120 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 121 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -    @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -    public void onPause() {                                                                                       </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 125 -        saveAndSyncNote();                                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 126 -                                                                                                                  </span>

<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 127 -        // Hide soft keyboard                                                                                     </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 128 -        InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 128 -        InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 129 -        if (inputMethodManager != null)                                                                           </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 130 -            inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 131 -                                                                                                                  </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 132 -        if (mAutoSaveHandler != null)                                                                             </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 133 -            mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 134 -                                                                                                                  </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 135 -        super.onPause();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 136 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 137 -                                                                                                                  </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 138 -    public void setNote(Note note) {                                                                              </span>


<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 139 -        // If we have a note already (on a tablet in landscape), save the note.                                   </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 140 -        if (mNote != null)                                                                                        </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -            saveAndSyncNote();                                                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -                                                                                                                  </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -        mNote = note;                                                                                             </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -        refreshContent();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -                                                                                                                  </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -    public void refreshContent() {                                                                                </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -        if (mNote != null) {                                                                                      </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -            Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                            </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -            // Restore the cursor position if possible.                                                           </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 151 -            int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 151 -            int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mCon🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -            mContentEditText.setText(mNote.getContent());                                                         </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -            if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())              </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -                mContentEditText.setSelection(cursorPosition);                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -                                                                                                                  </span>
<span class="1107376181962017522" onmouseenter="enter('1107376181962017522');" onmouseout="out('1107376181962017522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 156 -            // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a StringBuilder here would be more efficient"> 156 -            // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a Stri🔵</abbr></span>
<span class="1631288001636483433" onmouseenter="enter('1631288001636483433');" onmouseout="out('1631288001636483433');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -            String tagListString = &quot;&quot;;                                                                            </span>
<span class="6135366484367526281" onmouseenter="enter('6135366484367526281');" onmouseout="out('6135366484367526281');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -            for (String tag : mNote.getTags())                                                                    </span>
<span class="5043453676218069547" onmouseenter="enter('5043453676218069547');" onmouseout="out('5043453676218069547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -                tagListString += tag + &quot; &quot;;                                                                       </span>
<span class="-1442653945522831897" onmouseenter="enter('-1442653945522831897');" onmouseout="out('-1442653945522831897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -            mTagView.setText(tagListString);                                                                      </span>
<span class="-6561750096189000709" onmouseenter="enter('-6561750096189000709');" onmouseout="out('-6561750096189000709');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 161 -            mTagView.setChips();                                                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -                                                                                                                  </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -            mPinButton.setChecked(mNote.isPinned());                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 164 -                                                                                                                  </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 165 -            setActionBarTitle();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 166 -        }                                                                                                         </span>






















<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 167 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 168 -                                                                                                                  </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 169 -    private void setActionBarTitle() {                                                                            </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 170 -        if (mShowNoteTitle) {                                                                                     </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 171 -            if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                         </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 172 -                getActivity().getActionBar().setTitle(mNote.getTitle());                                          </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 173 -            else                                                                                                  </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 174 -                getActivity().getActionBar().setTitle(R.string.new_note);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 175 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 176 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -                                                                                                                  </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 178 -    int newCursorLocation(String newText, String oldText, int cursorLocation) {                                   </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 179 -        // Ported from the iOS app :)                                                                             </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 180 -        // Cases:                                                                                                 </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 181 -        // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                         </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 182 -        // 1. Text was added after the cursor ==&gt; no change                                                       </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 183 -        // 2. Text was added before the cursor ==&gt; location advances                                              </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 184 -        // 3. Text was removed after the cursor ==&gt; no change                                                     </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 185 -        // 4. Text was removed before the cursor ==&gt; location retreats                                            </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 186 -        // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 187 -                                                                                                                  </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 188 -        int newCursorLocation = cursorLocation;                                                                   </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 189 -                                                                                                                  </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 190 -        int deltaLength = newText.length() - oldText.length();                                                    </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 191 -                                                                                                                  </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 192 -        // Case 0                                                                                                 </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 193 -        if (newText.length() &lt; cursorLocation)                                                                    </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 194 -            return newText.length();                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 195 -                                                                                                                  </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 196 -        boolean beforeCursorMatches = false;                                                                      </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 197 -        boolean afterCursorMatches = false;                                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 198 -                                                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 199 -        try {                                                                                                     </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 200 -            beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 200 -            beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation)🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 201 -            afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 201 -            afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(curs🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -        } catch (Exception e) {                                                                                   </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 203 -            e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 204 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 205 -                                                                                                                  </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 206 -        // Cases 2 and 4                                                                                          </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 207 -        if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                           </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 208 -            newCursorLocation += deltaLength;                                                                     </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 209 -                                                                                                                  </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 210 -        // Cases 1, 3 and 5 have no change                                                                        </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -        return newCursorLocation;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -                                                                                                                  </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 214 -    private Runnable autoSaveRunnable = new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 215 -        @Override                                                                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 216 -        public void run() {                                                                                       </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 217 -            saveAndSyncNote();                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 218 -        }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 219 -    };                                                                                                            </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 220 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 221 -    @Override                                                                                                     </span>









<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 222 -    public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                             </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 223 -        // Unused                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 224 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 226 -    @Override                                                                                                     </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 227 -    public void afterTextChanged(Editable editable) {                                                             </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 228 -        // Unused                                                                                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 229 -                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 230 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 231 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 232 -    @Override                                                                                                     </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 233 -    public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                                 </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 234 -                                                                                                                  </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 235 -        // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 236 -                                                                                                                  </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 237 -        if (mAutoSaveHandler != null) {                                                                           </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 238 -            mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                                   </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 239 -            mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 240 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 241 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 242 -                                                                                                                  </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 243 -    private void saveAndSyncNote() {                                                                              </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 244 -        if (mNote == null)                                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 245 -            return;                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 246 -                                                                                                                  </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 247 -        String content = mContentEditText.getText().toString();                                                   </span>
<span class="2916640133955955873" onmouseenter="enter('2916640133955955873');" onmouseout="out('2916640133955955873');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 248 -        String tagString = mTagView.getText().toString().trim();                                                  </span>
<span class="2181107853603321774" onmouseenter="enter('2181107853603321774');" onmouseout="out('2181107853603321774');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 249 -        List&lt;String&gt; tagList = Arrays.asList(tagString.split(&quot; &quot;));                                               </span>
<span class="-2397711628250943154" onmouseenter="enter('-2397711628250943154');" onmouseout="out('-2397711628250943154');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 250 -        ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(tagList); </span>
<span class="7841571574114651165" onmouseenter="enter('7841571574114651165');" onmouseout="out('7841571574114651165');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 251 -        if (mNote.hasChanges(content, tags, mPinButton.isChecked())) {                                            </span>

<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 252 -            mNote.setContent(content);                                                                            </span>
<span class="590298224525809647" onmouseenter="enter('590298224525809647');" onmouseout="out('590298224525809647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 253 -            mNote.setTags(tags);                                                                                  </span>

<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 254 -            mNote.setModificationDate(Calendar.getInstance());                                                    </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 255 -            mNote.setPinned(mPinButton.isChecked());                                                              </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 256 -            mNote.save();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 257 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 258 -                                                                                                                  </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 259 -        setActionBarTitle();                                                                                      </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 260 -                                                                                                                  </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 261 -        Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 262 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 263 -                                                                                                                  </span>













<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 264 -    // Use spaces in tag autocompletion list                                                                      </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 265 -	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 265 -	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiauto🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 266 -	public class SpaceTokenizer implements Tokenizer {                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 267 -                                                                                                                  </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 268 -		public int findTokenStart(CharSequence text, int cursor) {                                                      </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -			int i = cursor;                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 270 -                                                                                                                  </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 271 -			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                                   </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 272 -			    i--;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 273 -			}                                                                                                              </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 274 -			while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                                  </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 275 -			    i++;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 276 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 277 -                                                                                                                  </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 278 -			return i;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 279 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 280 -                                                                                                                  </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 281 -		public int findTokenEnd(CharSequence text, int cursor) {                                                        </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 282 -			int i = cursor;                                                                                                </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 283 -			int len = text.length();                                                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 284 -                                                                                                                  </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 285 -			while (i &lt; len) {                                                                                              </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 286 -			    if (text.charAt(i) == &#x27; &#x27;) {                                                                               </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 287 -			        return i;                                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 288 -			    } else {                                                                                                   </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 289 -			        i++;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 290 -			    }                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 291 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 292 -                                                                                                                  </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 293 -			return len;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 294 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 295 -                                                                                                                  </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 296 -		public CharSequence terminateToken(CharSequence text) {                                                         </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 297 -			int i = text.length();                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 298 -                                                                                                                  </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 299 -			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                                   </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 300 -			    i--;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 301 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 302 -                                                                                                                  </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 303 -			if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                                      </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 304 -			    return text;                                                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 305 -			} else {                                                                                                       </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 306 -			    if (text instanceof Spanned) {                                                                             </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 307 -			        SpannableString sp = new SpannableString(text + &quot; &quot;);                                                  </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 308 -			        TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                                              </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 309 -			                Object.class, sp, 0);                                                                          </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 310 -			        return sp;                                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 311 -			    } else {                                                                                                   </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 312 -			        return text + &quot; &quot;;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 313 -			    }                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 314 -			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 315 -		}                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 316 -	}                                                                                                                </span>




















































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 317 -}                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">   3  import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">   4  import java.util.Arrays;                                                                                          </span>
<span class="1562735530241225598" onmouseenter="enter('1562735530241225598');" onmouseout="out('1562735530241225598');" style="">   5  import java.util.Calendar;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">   6  import java.util.List;                                                                                            </span>
<span  style="">   7                                                                                                                    </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   8  import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   9  import android.content.Context;                                                                                   </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  10  import android.os.Bundle;                                                                                         </span>
<span class="-1086316590722027623" onmouseenter="enter('-1086316590722027623');" onmouseout="out('-1086316590722027623');" style="">  11  import android.os.Handler;                                                                                        </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">  12  import android.text.Editable;                                                                                     </span>
<span class="1789579566011512842" onmouseenter="enter('1789579566011512842');" onmouseout="out('1789579566011512842');" style="">  13  import android.text.SpannableString;                                                                              </span>
<span class="7731806713123176572" onmouseenter="enter('7731806713123176572');" onmouseout="out('7731806713123176572');" style="">  14  import android.text.Spanned;                                                                                      </span>
<span class="3727887607099278716" onmouseenter="enter('3727887607099278716');" onmouseout="out('3727887607099278716');" style="">  15  import android.text.TextUtils;                                                                                    </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">  16  import android.text.TextWatcher;                                                                                  </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  17  import android.util.Log;                                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  18  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  19  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  20  import android.view.ViewGroup;                                                                                    </span>
<span class="-3117363671899680167" onmouseenter="enter('-3117363671899680167');" onmouseout="out('-3117363671899680167');" style="">  21  import android.view.inputmethod.InputMethodManager;                                                               </span>
<span class="-6895507238242713504" onmouseenter="enter('-6895507238242713504');" onmouseout="out('-6895507238242713504');" style="">  22  import android.widget.ArrayAdapter;                                                                               </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  23  import android.widget.EditText;                                                                                   </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  24 +import android.widget.LinearLayout;                                                                               </span>
<span class="-2925966950149302455" onmouseenter="enter('-2925966950149302455');" onmouseout="out('-2925966950149302455');" style="">  25  import android.widget.MultiAutoCompleteTextView.Tokenizer;                                                        </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  26 -import android.widget.TextView;                                                                                   </span>
<span class="-1505700250942826116" onmouseenter="enter('-1505700250942826116');" onmouseout="out('-1505700250942826116');" style="">  27  import android.widget.ToggleButton;                                                                               </span>
<span  style="">  28                                                                                                                    </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  29  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  30  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-4652171765784917488" onmouseenter="enter('-4652171765784917488');" onmouseout="out('-4652171765784917488');" style="">  31  import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView;                                             </span>
<span class="451633977271230846" onmouseenter="enter('451633977271230846');" onmouseout="out('451633977271230846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 +import com.automattic.simplenote.utils.TagsMultiAutoCompleteTextView.OnTagAddedListener;                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  33  import com.simperium.client.Bucket;                                                                               </span>
<span class="-456213946600528316" onmouseenter="enter('-456213946600528316');" onmouseout="out('-456213946600528316');" style="">  34  import com.simperium.client.Bucket.ObjectCursor;                                                                  </span>
<span class="-8454203534157102839" onmouseenter="enter('-8454203534157102839');" onmouseout="out('-8454203534157102839');" style="">  35  import com.simperium.client.BucketObjectMissingException;                                                         </span>
<span  style="">  36                                                                                                                    </span>
<span class="-9115464408336284288" onmouseenter="enter('-9115464408336284288');" onmouseout="out('-9115464408336284288');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  37 -public class NoteEditorFragment extends Fragment implements TextWatcher {                                         </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  38 -	/**                                                                                                              </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  39 -	 * The fragment argument representing the item ID that this fragment                                             </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  40 -	 * represents.                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  41 -	 */                                                                                                              </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  42 -	public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                              </span>
<span class="-3142892757748375832" onmouseenter="enter('-3142892757748375832');" onmouseout="out('-3142892757748375832');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +public class NoteEditorFragment extends Fragment implements TextWatcher, OnTagAddedListener {                     </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 +    /**                                                                                                           </span>
<span class="4988825464126577465" onmouseenter="enter('4988825464126577465');" onmouseout="out('4988825464126577465');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +     * The fragment argument representing the item ID that this fragment                                          </span>
<span class="-1278558153631477282" onmouseenter="enter('-1278558153631477282');" onmouseout="out('-1278558153631477282');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +     * represents.                                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +     */                                                                                                           </span>
<span class="-4619625032881090052" onmouseenter="enter('-4619625032881090052');" onmouseout="out('-4619625032881090052');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +    public static final String ARG_ITEM_ID = &quot;item_id&quot;;                                                           </span>
<span class="8491452362607628076" onmouseenter="enter('8491452362607628076');" onmouseout="out('8491452362607628076');" style="">  49      private static final int AUTOSAVE_DELAY_MILLIS = 2000;                                                        </span>
<span  style="">  50                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  51 -	/**                                                                                                              </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  52 -	 * The dummy content this fragment is presenting.                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -	 */                                                                                                              </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  54 -	private Note mNote;                                                                                              </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  55 -	private EditText mContentEditText;                                                                               </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  56 -	private TagsMultiAutoCompleteTextView mTagView;                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +    /**                                                                                                           </span>
<span class="-8271228602383039314" onmouseenter="enter('-8271228602383039314');" onmouseout="out('-8271228602383039314');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +     * The dummy content this fragment is presenting.                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +     */                                                                                                           </span>
<span class="-6846870049312317979" onmouseenter="enter('-6846870049312317979');" onmouseout="out('-6846870049312317979');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +    private Note mNote;                                                                                           </span>
<span class="7660008197059021576" onmouseenter="enter('7660008197059021576');" onmouseout="out('7660008197059021576');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +    private EditText mContentEditText;                                                                            </span>
<span class="-6964345898478101017" onmouseenter="enter('-6964345898478101017');" onmouseout="out('-6964345898478101017');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +    private TagsMultiAutoCompleteTextView mTagView;                                                               </span>
<span class="2959047860003936172" onmouseenter="enter('2959047860003936172');" onmouseout="out('2959047860003936172');" style="">  63      private ToggleButton mPinButton;                                                                              </span>
<span class="5538665953767928170" onmouseenter="enter('5538665953767928170');" onmouseout="out('5538665953767928170');" style="">  64      private boolean mShowNoteTitle;                                                                               </span>
<span class="6494121288462075344" onmouseenter="enter('6494121288462075344');" onmouseout="out('6494121288462075344');" style="">  65      private Handler mAutoSaveHandler;                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  67 -	/**                                                                                                              </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  68 -	 * Mandatory empty constructor for the fragment manager to instantiate the                                       </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  69 -	 * fragment (e.g. upon screen orientation changes).                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  70 -	 */                                                                                                              </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  71 -	public NoteEditorFragment() {                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  73 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -	@Override                                                                                                        </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -	public void onCreate(Bundle savedInstanceState) {                                                                </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -		super.onCreate(savedInstanceState);                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                                                                                                                  </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -		if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                                        </span>
<span class="1964696622330960953" onmouseenter="enter('1964696622330960953');" onmouseout="out('1964696622330960953');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -	        Simplenote application = (Simplenote)getActivity().getApplication();                                     </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -			Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                                       </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -			String key = getArguments().getString(ARG_ITEM_ID);                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -			try {                                                                                                          </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -    			mNote = notesBucket.get(key);                                                                              </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  84 -			} catch (BucketObjectMissingException e) {                                                                     </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -				// TODO: Handle a missing note                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  86 -			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  87 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  88 -                                                                                                                  </span>
<span class="7446596846056383300" onmouseenter="enter('7446596846056383300');" onmouseout="out('7446596846056383300');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  89 -        if (!((NotesActivity)getActivity()).isTwoPane())                                                          </span>
<span class="-1776320876088405367" onmouseenter="enter('-1776320876088405367');" onmouseout="out('-1776320876088405367');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +    private LinearLayout mPlaceholderView;                                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +    /**                                                                                                           </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +     * Mandatory empty constructor for the fragment manager to instantiate the                                    </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +     * fragment (e.g. upon screen orientation changes).                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +     */                                                                                                           </span>
<span class="2055429757813344166" onmouseenter="enter('2055429757813344166');" onmouseout="out('2055429757813344166');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +    public NoteEditorFragment() {                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +    @Override                                                                                                     </span>
<span class="2351026872416697132" onmouseenter="enter('2351026872416697132');" onmouseout="out('2351026872416697132');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +    public void onCreate(Bundle savedInstanceState) {                                                             </span>
<span class="8760898167212384157" onmouseenter="enter('8760898167212384157');" onmouseout="out('8760898167212384157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +        super.onCreate(savedInstanceState);                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +                                                                                                                  </span>
<span class="-7982135264033903740" onmouseenter="enter('-7982135264033903740');" onmouseout="out('-7982135264033903740');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +        if (getArguments() != null &amp;&amp; getArguments().containsKey(ARG_ITEM_ID)) {                                  </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +            Simplenote application = (Simplenote) getActivity().getApplication();                                 </span>
<span class="3820701427545927889" onmouseenter="enter('3820701427545927889');" onmouseout="out('3820701427545927889');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +            Bucket&lt;Note&gt; notesBucket = application.getNotesBucket();                                              </span>
<span class="979392156944395522" onmouseenter="enter('979392156944395522');" onmouseout="out('979392156944395522');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +            String key = getArguments().getString(ARG_ITEM_ID);                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +            try {                                                                                                 </span>
<span class="3874633517627342512" onmouseenter="enter('3874633517627342512');" onmouseout="out('3874633517627342512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +                mNote = notesBucket.get(key);                                                                     </span>
<span class="-1560847995217927266" onmouseenter="enter('-1560847995217927266');" onmouseout="out('-1560847995217927266');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +            } catch (BucketObjectMissingException e) {                                                            </span>
<span class="9016552103124647674" onmouseenter="enter('9016552103124647674');" onmouseout="out('9016552103124647674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +                // TODO: Handle a missing note                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +                                                                                                                  </span>
<span class="-1496429319349342270" onmouseenter="enter('-1496429319349342270');" onmouseout="out('-1496429319349342270');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +        if (!((NotesActivity) getActivity()).isLargeScreenLandscape())                                            </span>
<span class="6330052706173637194" onmouseenter="enter('6330052706173637194');" onmouseout="out('6330052706173637194');" style=""> 115              mShowNoteTitle = true;                                                                                </span>
<span  style=""> 116                                                                                                                    </span>
<span class="-7557436274459739944" onmouseenter="enter('-7557436274459739944');" onmouseout="out('-7557436274459739944');" style=""> 117          mAutoSaveHandler = new Handler();                                                                         </span>
<span  style=""> 118                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 119 -	}                                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 120 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 121 -    @Override                                                                                                     </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 122 -	public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {              </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 123 -		View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);                              </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 124 -		mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +    @Override                                                                                                     </span>
<span class="-7355940524539913821" onmouseenter="enter('-7355940524539913821');" onmouseout="out('-7355940524539913821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {           </span>
<span class="6339769591252564933" onmouseenter="enter('6339769591252564933');" onmouseout="out('6339769591252564933');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +        View rootView = inflater.inflate(R.layout.fragment_note_editor, container, false);                        </span>
<span class="-2723434410959845299" onmouseenter="enter('-2723434410959845299');" onmouseout="out('-2723434410959845299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +        mContentEditText = ((EditText) rootView.findViewById(R.id.note_content));                                 </span>
<span class="8154880790715077967" onmouseenter="enter('8154880790715077967');" onmouseout="out('8154880790715077967');" style=""> 131          mContentEditText.addTextChangedListener(this);                                                            </span>
<span class="-5685601943521108416" onmouseenter="enter('-5685601943521108416');" onmouseout="out('-5685601943521108416');" style=""> 132          mTagView = (TagsMultiAutoCompleteTextView) rootView.findViewById(R.id.tag_view);                          </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +        mTagView.setTokenizer(new SpaceTokenizer());                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +                                                                                                                  </span>
<span class="8838498328861850169" onmouseenter="enter('8838498328861850169');" onmouseout="out('8838498328861850169');" style=""> 135          mPinButton = (ToggleButton) rootView.findViewById(R.id.pinButton);                                        </span>
<span class="-3806018576171196544" onmouseenter="enter('-3806018576171196544');" onmouseout="out('-3806018576171196544');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +        mPlaceholderView = (LinearLayout) rootView.findViewById(R.id.placeholder);                                </span>
<span class="7851441548048737425" onmouseenter="enter('7851441548048737425');" onmouseout="out('7851441548048737425');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +        if (!((NotesActivity) getActivity()).isLargeScreen())                                                     </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +            mPlaceholderView.setVisibility(View.GONE);                                                            </span>
<span  style=""> 139                                                                                                                    </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style=""> 140  		refreshContent();                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 141 -                                                                                                                  </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 142 -		// Populate tag list                                                                                            </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 143 -        Simplenote simplenote = (Simplenote)getActivity().getApplication();                                       </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -        Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                                       </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -        ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                                  </span>
<span class="1552252687714259421" onmouseenter="enter('1552252687714259421');" onmouseout="out('1552252687714259421');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 146 -		String[] allTags = new String[tagsCursor.getCount()];                                                           </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 147 -        while (tagsCursor.moveToNext()) {                                                                         </span>
<span class="98867032606522789" onmouseenter="enter('98867032606522789');" onmouseout="out('98867032606522789');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -            allTags[tagsCursor.getPosition()] = tagsCursor.getObject().getName();                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -        }                                                                                                         </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 150 -        tagsCursor.close();                                                                                       </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                                    </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -                android.R.layout.simple_dropdown_item_1line, allTags);                                            </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -        mTagView.setAdapter(adapter);                                                                             </span>
<span class="-1710279282572635872" onmouseenter="enter('-1710279282572635872');" onmouseout="out('-1710279282572635872');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -        mTagView.setTokenizer(new SpaceTokenizer());                                                              </span>
<span  style=""> 155                                                                                                                    </span>
<span class="4654908577906893139" onmouseenter="enter('4654908577906893139');" onmouseout="out('4654908577906893139');" style=""> 156  		return rootView;                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157  	}                                                                                                                </span>
<span  style=""> 158                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 159      @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style=""> 160      public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style=""> 161          super.onResume();                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 162 -                                                                                                                  </span>
<span class="2283760307260285965" onmouseenter="enter('2283760307260285965');" onmouseout="out('2283760307260285965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +        mTagView.setOnTagAddedListener(this);                                                                     </span>
<span class="1726616917938037339" onmouseenter="enter('1726616917938037339');" onmouseout="out('1726616917938037339');" style=""> 164          if (mNote != null &amp;&amp; mNote.getContent().isEmpty()) {                                                      </span>
<span class="-7639034409774462373" onmouseenter="enter('-7639034409774462373');" onmouseout="out('-7639034409774462373');" style=""> 165              // Show soft keyboard                                                                                 </span>
<span class="-5568483982770704985" onmouseenter="enter('-5568483982770704985');" onmouseout="out('-5568483982770704985');" style=""> 166              mContentEditText.requestFocus();                                                                      </span>
<span  style=""> 167                                                                                                                    </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style=""><abbr title=" 168              InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 168              InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.IN🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style=""> 169              if (inputMethodManager != null)                                                                       </span>
<span class="7954226653587797662" onmouseenter="enter('7954226653587797662');" onmouseout="out('7954226653587797662');" style=""> 170                  inputMethodManager.showSoftInput(mContentEditText, 0);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172      }                                                                                                             </span>
<span  style=""> 173                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 174      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 175      public void onPause() {                                                                                       </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style=""> 176          saveAndSyncNote();                                                                                        </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 177 -                                                                                                                  </span>
<span class="-5824468190651999684" onmouseenter="enter('-5824468190651999684');" onmouseout="out('-5824468190651999684');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +        mTagView.setOnTagAddedListener(null);                                                                     </span>
<span class="-3300027613175222784" onmouseenter="enter('-3300027613175222784');" onmouseout="out('-3300027613175222784');" style=""> 179          // Hide soft keyboard                                                                                     </span>
<span class="6943331498658216188" onmouseenter="enter('6943331498658216188');" onmouseout="out('6943331498658216188');" style=""><abbr title=" 180          InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_METHOD_SERVICE);"> 180          InputMethodManager inputMethodManager = (InputMethodManager) getActivity().getSystemService(Context.INPUT_🔵</abbr></span>
<span class="-1476760297763804327" onmouseenter="enter('-1476760297763804327');" onmouseout="out('-1476760297763804327');" style=""> 181          if (inputMethodManager != null)                                                                           </span>
<span class="159022051514418479" onmouseenter="enter('159022051514418479');" onmouseout="out('159022051514418479');" style=""> 182              inputMethodManager.hideSoftInputFromWindow(mContentEditText.getWindowToken(), 0);                     </span>
<span  style=""> 183                                                                                                                    </span>
<span class="-3646372507164546123" onmouseenter="enter('-3646372507164546123');" onmouseout="out('-3646372507164546123');" style=""> 184          if (mAutoSaveHandler != null)                                                                             </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style=""> 185              mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                                   </span>
<span  style=""> 186                                                                                                                    </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 187          super.onPause();                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188      }                                                                                                             </span>
<span  style=""> 189                                                                                                                    </span>
<span class="4430442902999503166" onmouseenter="enter('4430442902999503166');" onmouseout="out('4430442902999503166');" style=""> 190      public void setNote(Note note) {                                                                              </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +        mPlaceholderView.setVisibility(View.GONE);                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +                                                                                                                  </span>
<span class="-4019470309104916899" onmouseenter="enter('-4019470309104916899');" onmouseout="out('-4019470309104916899');" style=""> 193          // If we have a note already (on a tablet in landscape), save the note.                                   </span>
<span class="2495964344956633624" onmouseenter="enter('2495964344956633624');" onmouseout="out('2495964344956633624');" style=""> 194          if (mNote != null)                                                                                        </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style=""> 195              saveAndSyncNote();                                                                                    </span>
<span  style=""> 196                                                                                                                    </span>
<span class="2737653741393130317" onmouseenter="enter('2737653741393130317');" onmouseout="out('2737653741393130317');" style=""> 197          mNote = note;                                                                                             </span>
<span class="-2204133412295988056" onmouseenter="enter('-2204133412295988056');" onmouseout="out('-2204133412295988056');" style=""> 198          refreshContent();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="-7751114160425248793" onmouseenter="enter('-7751114160425248793');" onmouseout="out('-7751114160425248793');" style=""> 201      public void refreshContent() {                                                                                </span>
<span class="1654833331703303198" onmouseenter="enter('1654833331703303198');" onmouseout="out('1654833331703303198');" style=""> 202          if (mNote != null) {                                                                                      </span>
<span class="4947294885354614328" onmouseenter="enter('4947294885354614328');" onmouseout="out('4947294885354614328');" style=""> 203              Log.v(&quot;Simplenote&quot;, &quot;refreshing content&quot;);                                                            </span>
<span class="9083634457699551889" onmouseenter="enter('9083634457699551889');" onmouseout="out('9083634457699551889');" style=""> 204              // Restore the cursor position if possible.                                                           </span>
<span class="9084290441742351375" onmouseenter="enter('9084290441742351375');" onmouseout="out('9084290441742351375');" style=""><abbr title=" 205              int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mContentEditText.getSelectionEnd());"> 205              int cursorPosition = newCursorLocation(mNote.getContent(), mContentEditText.getText().toString(), mCon🔵</abbr></span>
<span class="4148799213240179760" onmouseenter="enter('4148799213240179760');" onmouseout="out('4148799213240179760');" style=""> 206              mContentEditText.setText(mNote.getContent());                                                         </span>
<span class="3532088266594850343" onmouseenter="enter('3532088266594850343');" onmouseout="out('3532088266594850343');" style=""> 207              if (mContentEditText.hasFocus() &amp;&amp; cursorPosition != mContentEditText.getSelectionEnd())              </span>
<span class="2096054726124109686" onmouseenter="enter('2096054726124109686');" onmouseout="out('2096054726124109686');" style=""> 208                  mContentEditText.setSelection(cursorPosition);                                                    </span>
<span  style=""> 209                                                                                                                    </span>
<span class="1107376181962017522" onmouseenter="enter('1107376181962017522');" onmouseout="out('1107376181962017522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 210 -            // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a StringBuilder here would be more efficient"> 210 -            // Populate this note&#x27;s tags in the tagView - TODO: nbradbury - for a large list of tags, using a Stri🔵</abbr></span>
<span class="1631288001636483433" onmouseenter="enter('1631288001636483433');" onmouseout="out('1631288001636483433');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 211 -            String tagListString = &quot;&quot;;                                                                            </span>
<span class="6135366484367526281" onmouseenter="enter('6135366484367526281');" onmouseout="out('6135366484367526281');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 212 -            for (String tag : mNote.getTags())                                                                    </span>
<span class="5043453676218069547" onmouseenter="enter('5043453676218069547');" onmouseout="out('5043453676218069547');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -                tagListString += tag + &quot; &quot;;                                                                       </span>
<span class="-1442653945522831897" onmouseenter="enter('-1442653945522831897');" onmouseout="out('-1442653945522831897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 214 -            mTagView.setText(tagListString);                                                                      </span>
<span class="-6561750096189000709" onmouseenter="enter('-6561750096189000709');" onmouseout="out('-6561750096189000709');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 215 -            mTagView.setChips();                                                                                  </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 216 -                                                                                                                  </span>
<span class="8723833736514346639" onmouseenter="enter('8723833736514346639');" onmouseout="out('8723833736514346639');" style=""> 217              mPinButton.setChecked(mNote.isPinned());                                                              </span>
<span  style=""> 218                                                                                                                    </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style=""> 219              setActionBarTitle();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 220 -        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +                                                                                                                  </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +            updateTagList();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +                                                                                                                  </span>
<span class="-392171935892263585" onmouseenter="enter('-392171935892263585');" onmouseout="out('-392171935892263585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +    public void updateTagList(){                                                                                  </span>
<span class="-8748481830530330770" onmouseenter="enter('-8748481830530330770');" onmouseout="out('-8748481830530330770');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +        // Populate this note&#x27;s tags in the tagView                                                               </span>
<span class="-3805230291902185366" onmouseenter="enter('-3805230291902185366');" onmouseout="out('-3805230291902185366');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +        mTagView.setChips(mNote.getTagString());                                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +                                                                                                                  </span>
<span class="3072130898554257503" onmouseenter="enter('3072130898554257503');" onmouseout="out('3072130898554257503');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +		// Populate tag list                                                                                            </span>
<span class="6775797650935037694" onmouseenter="enter('6775797650935037694');" onmouseout="out('6775797650935037694');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +        Simplenote simplenote = (Simplenote)getActivity().getApplication();                                       </span>
<span class="-5110266504124495650" onmouseenter="enter('-5110266504124495650');" onmouseout="out('-5110266504124495650');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +        Bucket&lt;Tag&gt; tagBucket = simplenote.getTagsBucket();                                                       </span>
<span class="3220669408279005501" onmouseenter="enter('3220669408279005501');" onmouseout="out('3220669408279005501');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +        ObjectCursor&lt;Tag&gt; tagsCursor = tagBucket.query().orderByKey().execute();                                  </span>
<span class="-4946105276032529342" onmouseenter="enter('-4946105276032529342');" onmouseout="out('-4946105276032529342');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +        List&lt;String&gt; allTags = new ArrayList&lt;String&gt;(tagsCursor.getCount());                                      </span>
<span class="-190198607880682418" onmouseenter="enter('-190198607880682418');" onmouseout="out('-190198607880682418');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +        while (tagsCursor.moveToNext()) {                                                                         </span>
<span class="2897030399219905781" onmouseenter="enter('2897030399219905781');" onmouseout="out('2897030399219905781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +            Tag tag = tagsCursor.getObject();                                                                     </span>
<span class="-1616319465907524543" onmouseenter="enter('-1616319465907524543');" onmouseout="out('-1616319465907524543');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +            if (!mNote.hasTag(tag)) allTags.add(tag.getName());                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +        }                                                                                                         </span>
<span class="-8368882456679951895" onmouseenter="enter('-8368882456679951895');" onmouseout="out('-8368882456679951895');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +        tagsCursor.close();                                                                                       </span>
<span class="-1758625986899767119" onmouseenter="enter('-1758625986899767119');" onmouseout="out('-1758625986899767119');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getActivity(),                                    </span>
<span class="-1415237600620366499" onmouseenter="enter('-1415237600620366499');" onmouseout="out('-1415237600620366499');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                android.R.layout.simple_dropdown_item_1line, allTags);                                            </span>
<span class="870780890030142241" onmouseenter="enter('870780890030142241');" onmouseout="out('870780890030142241');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +        mTagView.setAdapter(adapter);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243      }                                                                                                             </span>
<span  style=""> 244                                                                                                                    </span>
<span class="-6501448993933584559" onmouseenter="enter('-6501448993933584559');" onmouseout="out('-6501448993933584559');" style=""> 245      private void setActionBarTitle() {                                                                            </span>
<span class="-7433084837374238880" onmouseenter="enter('-7433084837374238880');" onmouseout="out('-7433084837374238880');" style=""> 246          if (mShowNoteTitle) {                                                                                     </span>
<span class="-8960038423765749168" onmouseenter="enter('-8960038423765749168');" onmouseout="out('-8960038423765749168');" style=""> 247              if (mNote.getTitle() != null &amp;&amp; !mNote.getTitle().equals(&quot;&quot;))                                         </span>
<span class="-4982906393597799649" onmouseenter="enter('-4982906393597799649');" onmouseout="out('-4982906393597799649');" style=""> 248                  getActivity().getActionBar().setTitle(mNote.getTitle());                                          </span>
<span class="-7436048164614400339" onmouseenter="enter('-7436048164614400339');" onmouseout="out('-7436048164614400339');" style=""> 249              else                                                                                                  </span>
<span class="-4269522014550866660" onmouseenter="enter('-4269522014550866660');" onmouseout="out('-4269522014550866660');" style=""> 250                  getActivity().getActionBar().setTitle(R.string.new_note);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252      }                                                                                                             </span>
<span  style=""> 253                                                                                                                    </span>
<span class="-3598917219400102100" onmouseenter="enter('-3598917219400102100');" onmouseout="out('-3598917219400102100');" style=""> 254      int newCursorLocation(String newText, String oldText, int cursorLocation) {                                   </span>
<span class="9215253731107462720" onmouseenter="enter('9215253731107462720');" onmouseout="out('9215253731107462720');" style=""> 255          // Ported from the iOS app :)                                                                             </span>
<span class="746416875920517525" onmouseenter="enter('746416875920517525');" onmouseout="out('746416875920517525');" style=""> 256          // Cases:                                                                                                 </span>
<span class="5532692154938930485" onmouseenter="enter('5532692154938930485');" onmouseout="out('5532692154938930485');" style=""> 257          // 0. All text after cursor (and possibly more) was removed ==&gt; put cursor at end                         </span>
<span class="7679522442911259243" onmouseenter="enter('7679522442911259243');" onmouseout="out('7679522442911259243');" style=""> 258          // 1. Text was added after the cursor ==&gt; no change                                                       </span>
<span class="-7894032746042607578" onmouseenter="enter('-7894032746042607578');" onmouseout="out('-7894032746042607578');" style=""> 259          // 2. Text was added before the cursor ==&gt; location advances                                              </span>
<span class="-2716138352653500367" onmouseenter="enter('-2716138352653500367');" onmouseout="out('-2716138352653500367');" style=""> 260          // 3. Text was removed after the cursor ==&gt; no change                                                     </span>
<span class="-5135222146548415418" onmouseenter="enter('-5135222146548415418');" onmouseout="out('-5135222146548415418');" style=""> 261          // 4. Text was removed before the cursor ==&gt; location retreats                                            </span>
<span class="-7558810491072030947" onmouseenter="enter('-7558810491072030947');" onmouseout="out('-7558810491072030947');" style=""> 262          // 5. Text was added/removed on both sides of the cursor ==&gt; not handled                                  </span>
<span  style=""> 263                                                                                                                    </span>
<span class="2494517364842646163" onmouseenter="enter('2494517364842646163');" onmouseout="out('2494517364842646163');" style=""> 264          int newCursorLocation = cursorLocation;                                                                   </span>
<span  style=""> 265                                                                                                                    </span>
<span class="5908042661332565473" onmouseenter="enter('5908042661332565473');" onmouseout="out('5908042661332565473');" style=""> 266          int deltaLength = newText.length() - oldText.length();                                                    </span>
<span  style=""> 267                                                                                                                    </span>
<span class="-6285488792309831531" onmouseenter="enter('-6285488792309831531');" onmouseout="out('-6285488792309831531');" style=""> 268          // Case 0                                                                                                 </span>
<span class="-3414403190560247865" onmouseenter="enter('-3414403190560247865');" onmouseout="out('-3414403190560247865');" style=""> 269          if (newText.length() &lt; cursorLocation)                                                                    </span>
<span class="-8431314608568195365" onmouseenter="enter('-8431314608568195365');" onmouseout="out('-8431314608568195365');" style=""> 270              return newText.length();                                                                              </span>
<span  style=""> 271                                                                                                                    </span>
<span class="-8591384106259708496" onmouseenter="enter('-8591384106259708496');" onmouseout="out('-8591384106259708496');" style=""> 272          boolean beforeCursorMatches = false;                                                                      </span>
<span class="-2836779116340504068" onmouseenter="enter('-2836779116340504068');" onmouseout="out('-2836779116340504068');" style=""> 273          boolean afterCursorMatches = false;                                                                       </span>
<span  style=""> 274                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 275          try {                                                                                                     </span>
<span class="535177221055952012" onmouseenter="enter('535177221055952012');" onmouseout="out('535177221055952012');" style=""><abbr title=" 276              beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation));"> 276              beforeCursorMatches = oldText.substring(0, cursorLocation).equals(newText.substring(0, cursorLocation)🔵</abbr></span>
<span class="-6954326744185480821" onmouseenter="enter('-6954326744185480821');" onmouseout="out('-6954326744185480821');" style=""><abbr title=" 277              afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(cursorLocation + deltaLength, newText.length()));"> 277              afterCursorMatches = oldText.substring(cursorLocation, oldText.length()).equals(newText.substring(curs🔵</abbr></span>
<span class="2627011698774241688" onmouseenter="enter('2627011698774241688');" onmouseout="out('2627011698774241688');" style=""> 278          } catch (Exception e) {                                                                                   </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 279              e.printStackTrace();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280          }                                                                                                         </span>
<span  style=""> 281                                                                                                                    </span>
<span class="-8188204612528872149" onmouseenter="enter('-8188204612528872149');" onmouseout="out('-8188204612528872149');" style=""> 282          // Cases 2 and 4                                                                                          </span>
<span class="6616414540674367624" onmouseenter="enter('6616414540674367624');" onmouseout="out('6616414540674367624');" style=""> 283          if (!beforeCursorMatches &amp;&amp; afterCursorMatches)                                                           </span>
<span class="-4510977125628343614" onmouseenter="enter('-4510977125628343614');" onmouseout="out('-4510977125628343614');" style=""> 284              newCursorLocation += deltaLength;                                                                     </span>
<span  style=""> 285                                                                                                                    </span>
<span class="6867115481875645839" onmouseenter="enter('6867115481875645839');" onmouseout="out('6867115481875645839');" style=""> 286          // Cases 1, 3 and 5 have no change                                                                        </span>
<span class="-7784410696724573059" onmouseenter="enter('-7784410696724573059');" onmouseout="out('-7784410696724573059');" style=""> 287          return newCursorLocation;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288      }                                                                                                             </span>
<span  style=""> 289                                                                                                                    </span>
<span class="-2625400308964710513" onmouseenter="enter('-2625400308964710513');" onmouseout="out('-2625400308964710513');" style=""> 290      private Runnable autoSaveRunnable = new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 291          @Override                                                                                                 </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 292          public void run() {                                                                                       </span>
<span class="-2186856349666885424" onmouseenter="enter('-2186856349666885424');" onmouseout="out('-2186856349666885424');" style=""> 293              saveAndSyncNote();                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294          }                                                                                                         </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 295      };                                                                                                            </span>
<span  style=""> 296                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 297      @Override                                                                                                     </span>
<span class="-9205568981681343406" onmouseenter="enter('-9205568981681343406');" onmouseout="out('-9205568981681343406');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +    public void onTagsChanged(String tagString){                                                                  </span>
<span class="1553130968631643861" onmouseenter="enter('1553130968631643861');" onmouseout="out('1553130968631643861');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 299 +        mNote.setTagString(tagString);                                                                            </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 300 +        mNote.setModificationDate(Calendar.getInstance());                                                        </span>
<span class="3745953297761259324" onmouseenter="enter('3745953297761259324');" onmouseout="out('3745953297761259324');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 301 +        updateTagList();                                                                                          </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 302 +        mNote.save();                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 303 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 304 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +    @Override                                                                                                     </span>
<span class="-5110897291356760413" onmouseenter="enter('-5110897291356760413');" onmouseout="out('-5110897291356760413');" style=""> 307      public void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {                             </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style=""> 308          // Unused                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309      }                                                                                                             </span>
<span  style=""> 310                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 311      @Override                                                                                                     </span>
<span class="-3169498224421089624" onmouseenter="enter('-3169498224421089624');" onmouseout="out('-3169498224421089624');" style=""> 312      public void afterTextChanged(Editable editable) {                                                             </span>
<span class="7490540504293754116" onmouseenter="enter('7490540504293754116');" onmouseout="out('7490540504293754116');" style=""> 313          // Unused                                                                                                 </span>
<span  style=""> 314                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315      }                                                                                                             </span>
<span  style=""> 316                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 317      @Override                                                                                                     </span>
<span class="7273375812891434069" onmouseenter="enter('7273375812891434069');" onmouseout="out('7273375812891434069');" style=""> 318      public void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {                                 </span>
<span  style=""> 319                                                                                                                    </span>
<span class="2036741165452809133" onmouseenter="enter('2036741165452809133');" onmouseout="out('2036741165452809133');" style=""> 320          // When text changes, start timer that will fire after AUTOSAVE_DELAY_MILLIS passes                       </span>
<span  style=""> 321                                                                                                                    </span>
<span class="-2149096896161266035" onmouseenter="enter('-2149096896161266035');" onmouseout="out('-2149096896161266035');" style=""> 322          if (mAutoSaveHandler != null) {                                                                           </span>
<span class="-1759186837358271276" onmouseenter="enter('-1759186837358271276');" onmouseout="out('-1759186837358271276');" style=""> 323              mAutoSaveHandler.removeCallbacks(autoSaveRunnable);                                                   </span>
<span class="3293488199898729012" onmouseenter="enter('3293488199898729012');" onmouseout="out('3293488199898729012');" style=""> 324              mAutoSaveHandler.postDelayed(autoSaveRunnable, AUTOSAVE_DELAY_MILLIS);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326      }                                                                                                             </span>
<span  style=""> 327                                                                                                                    </span>
<span class="-6933317077070028336" onmouseenter="enter('-6933317077070028336');" onmouseout="out('-6933317077070028336');" style=""> 328      private void saveAndSyncNote() {                                                                              </span>
<span class="8223376420483055518" onmouseenter="enter('8223376420483055518');" onmouseout="out('8223376420483055518');" style=""> 329          if (mNote == null)                                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 330              return;                                                                                               </span>
<span  style=""> 331                                                                                                                    </span>
<span class="7501654987306227365" onmouseenter="enter('7501654987306227365');" onmouseout="out('7501654987306227365');" style=""> 332          String content = mContentEditText.getText().toString();                                                   </span>
<span class="2916640133955955873" onmouseenter="enter('2916640133955955873');" onmouseout="out('2916640133955955873');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 333 -        String tagString = mTagView.getText().toString().trim();                                                  </span>
<span class="2181107853603321774" onmouseenter="enter('2181107853603321774');" onmouseout="out('2181107853603321774');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 334 -        List&lt;String&gt; tagList = Arrays.asList(tagString.split(&quot; &quot;));                                               </span>
<span class="-2397711628250943154" onmouseenter="enter('-2397711628250943154');" onmouseout="out('-2397711628250943154');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -        ArrayList&lt;String&gt; tags = tagString.equals(&quot;&quot;) ? new ArrayList&lt;String&gt;() : new ArrayList&lt;String&gt;(tagList); </span>
<span class="7841571574114651165" onmouseenter="enter('7841571574114651165');" onmouseout="out('7841571574114651165');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 336 -        if (mNote.hasChanges(content, tags, mPinButton.isChecked())) {                                            </span>
<span class="1890126766200870421" onmouseenter="enter('1890126766200870421');" onmouseout="out('1890126766200870421');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 337 +        if (mNote.hasChanges(content, mPinButton.isChecked())) {                                                  </span>
<span class="843504871988910810" onmouseenter="enter('843504871988910810');" onmouseout="out('843504871988910810');" style=""> 338              mNote.setContent(content);                                                                            </span>
<span class="590298224525809647" onmouseenter="enter('590298224525809647');" onmouseout="out('590298224525809647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 339 -            mNote.setTags(tags);                                                                                  </span>
<span class="8315132155135825050" onmouseenter="enter('8315132155135825050');" onmouseout="out('8315132155135825050');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 340 +            mNote.setTagString(mTagView.getText().toString());                                                    </span>
<span class="-3343075472306200704" onmouseenter="enter('-3343075472306200704');" onmouseout="out('-3343075472306200704');" style=""> 341              mNote.setModificationDate(Calendar.getInstance());                                                    </span>
<span class="-8280425794504398339" onmouseenter="enter('-8280425794504398339');" onmouseout="out('-8280425794504398339');" style=""> 342              mNote.setPinned(mPinButton.isChecked());                                                              </span>
<span class="-7698918877261210749" onmouseenter="enter('-7698918877261210749');" onmouseout="out('-7698918877261210749');" style=""> 343              mNote.save();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344          }                                                                                                         </span>
<span  style=""> 345                                                                                                                    </span>
<span class="-8849300132412343023" onmouseenter="enter('-8849300132412343023');" onmouseout="out('-8849300132412343023');" style=""> 346          setActionBarTitle();                                                                                      </span>
<span  style=""> 347                                                                                                                    </span>
<span class="-5951013917039188923" onmouseenter="enter('-5951013917039188923');" onmouseout="out('-5951013917039188923');" style=""> 348          Log.v(&quot;Simplenote&quot;, &quot;autosaving note&quot;);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349      }                                                                                                             </span>
<span  style=""> 350                                                                                                                    </span>
<span class="-4564004023547017377" onmouseenter="enter('-4564004023547017377');" onmouseout="out('-4564004023547017377');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 351 +    public void setPlaceholderVisible(boolean isVisible) {                                                        </span>
<span class="-6467031518050872536" onmouseenter="enter('-6467031518050872536');" onmouseout="out('-6467031518050872536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 352 +        if (isVisible) {                                                                                          </span>
<span class="1687907534970456445" onmouseenter="enter('1687907534970456445');" onmouseout="out('1687907534970456445');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 353 +            mNote = null;                                                                                         </span>
<span class="-3407359796970873837" onmouseenter="enter('-3407359796970873837');" onmouseout="out('-3407359796970873837');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 354 +            mContentEditText.setText(&quot;&quot;);                                                                         </span>
<span class="-7997465605671669559" onmouseenter="enter('-7997465605671669559');" onmouseout="out('-7997465605671669559');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 355 +            mTagView.setText(&quot;&quot;);                                                                                 </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 356 +            if (mPlaceholderView != null)                                                                         </span>
<span class="-5306578928333558235" onmouseenter="enter('-5306578928333558235');" onmouseout="out('-5306578928333558235');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 357 +                mPlaceholderView.setVisibility(View.VISIBLE);                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 358 +        } else {                                                                                                  </span>
<span class="8595752396614116138" onmouseenter="enter('8595752396614116138');" onmouseout="out('8595752396614116138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 359 +            if (mPlaceholderView != null)                                                                         </span>
<span class="-2690182352330934584" onmouseenter="enter('-2690182352330934584');" onmouseout="out('-2690182352330934584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 360 +                mPlaceholderView.setVisibility(View.GONE);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 361 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 362 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 363 +                                                                                                                  </span>
<span class="-7756397172362790897" onmouseenter="enter('-7756397172362790897');" onmouseout="out('-7756397172362790897');" style=""> 364      // Use spaces in tag autocompletion list                                                                      </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 365 -	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 365 -	// From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiauto🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 366 -	public class SpaceTokenizer implements Tokenizer {                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 367 -                                                                                                                  </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 368 -		public int findTokenStart(CharSequence text, int cursor) {                                                      </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 369 -			int i = cursor;                                                                                                </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 370 -                                                                                                                  </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 371 -			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                                   </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 372 -			    i--;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 373 -			}                                                                                                              </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 374 -			while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                                  </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 375 -			    i++;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 376 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -                                                                                                                  </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -			return i;                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -                                                                                                                  </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -		public int findTokenEnd(CharSequence text, int cursor) {                                                        </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -			int i = cursor;                                                                                                </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -			int len = text.length();                                                                                       </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -                                                                                                                  </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -			while (i &lt; len) {                                                                                              </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -			    if (text.charAt(i) == &#x27; &#x27;) {                                                                               </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -			        return i;                                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -			    } else {                                                                                                   </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 389 -			        i++;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 390 -			    }                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 391 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 392 -                                                                                                                  </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 393 -			return len;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 394 -		}                                                                                                               </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 395 -                                                                                                                  </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 396 -		public CharSequence terminateToken(CharSequence text) {                                                         </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 397 -			int i = text.length();                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 398 -                                                                                                                  </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 399 -			while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                                   </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 400 -			    i--;                                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 401 -			}                                                                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 402 -                                                                                                                  </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 403 -			if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                                      </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 404 -			    return text;                                                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 405 -			} else {                                                                                                       </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 406 -			    if (text instanceof Spanned) {                                                                             </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 407 -			        SpannableString sp = new SpannableString(text + &quot; &quot;);                                                  </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 408 -			        TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                                              </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 409 -			                Object.class, sp, 0);                                                                          </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 410 -			        return sp;                                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 411 -			    } else {                                                                                                   </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 412 -			        return text + &quot; &quot;;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 413 -			    }                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 414 -			}                                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 415 -		}                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 416 -	}                                                                                                                </span>
<span class="-1372507320752332134" onmouseenter="enter('-1372507320752332134');" onmouseout="out('-1372507320752332134');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 417 +    // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multiautocompletetextview"> 417 +    // From http://stackoverflow.com/questions/3482981/how-to-replace-the-comma-with-a-space-when-i-use-the-multia🔵</abbr></span>
<span class="-6991911761052014336" onmouseenter="enter('-6991911761052014336');" onmouseout="out('-6991911761052014336');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 418 +    public class SpaceTokenizer implements Tokenizer {                                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 419 +                                                                                                                  </span>
<span class="-4609073757456865647" onmouseenter="enter('-4609073757456865647');" onmouseout="out('-4609073757456865647');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +        public int findTokenStart(CharSequence text, int cursor) {                                                </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +            int i = cursor;                                                                                       </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 422 +                                                                                                                  </span>
<span class="885050749614268129" onmouseenter="enter('885050749614268129');" onmouseout="out('885050749614268129');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 423 +            while (i &gt; 0 &amp;&amp; text.charAt(i - 1) != &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 424 +                i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 425 +            }                                                                                                     </span>
<span class="9056743128114431706" onmouseenter="enter('9056743128114431706');" onmouseout="out('9056743128114431706');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +            while (i &lt; cursor &amp;&amp; text.charAt(i) == &#x27; &#x27;) {                                                         </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 427 +                i++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 428 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 429 +                                                                                                                  </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 430 +            return i;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 431 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 432 +                                                                                                                  </span>
<span class="2525628184999821389" onmouseenter="enter('2525628184999821389');" onmouseout="out('2525628184999821389');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +        public int findTokenEnd(CharSequence text, int cursor) {                                                  </span>
<span class="670749351451869648" onmouseenter="enter('670749351451869648');" onmouseout="out('670749351451869648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 434 +            int i = cursor;                                                                                       </span>
<span class="6152179610427336026" onmouseenter="enter('6152179610427336026');" onmouseout="out('6152179610427336026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 435 +            int len = text.length();                                                                              </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 436 +                                                                                                                  </span>
<span class="1137414435201525157" onmouseenter="enter('1137414435201525157');" onmouseout="out('1137414435201525157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 437 +            while (i &lt; len) {                                                                                     </span>
<span class="-6385241646050375066" onmouseenter="enter('-6385241646050375066');" onmouseout="out('-6385241646050375066');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 438 +                if (text.charAt(i) == &#x27; &#x27;) {                                                                      </span>
<span class="6075150841634286147" onmouseenter="enter('6075150841634286147');" onmouseout="out('6075150841634286147');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 439 +                    return i;                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 440 +                } else {                                                                                          </span>
<span class="-4968746635634186778" onmouseenter="enter('-4968746635634186778');" onmouseout="out('-4968746635634186778');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 441 +                    i++;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 442 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 443 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 444 +                                                                                                                  </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 445 +            return len;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 446 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 447 +                                                                                                                  </span>
<span class="3892553806520641045" onmouseenter="enter('3892553806520641045');" onmouseout="out('3892553806520641045');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 448 +        public CharSequence terminateToken(CharSequence text) {                                                   </span>
<span class="-814017234959701024" onmouseenter="enter('-814017234959701024');" onmouseout="out('-814017234959701024');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 449 +            int i = text.length();                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 450 +                                                                                                                  </span>
<span class="-2645617250828763966" onmouseenter="enter('-2645617250828763966');" onmouseout="out('-2645617250828763966');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 451 +            while (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                          </span>
<span class="-964312961439394859" onmouseenter="enter('-964312961439394859');" onmouseout="out('-964312961439394859');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 452 +                i--;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 453 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 454 +                                                                                                                  </span>
<span class="-6208188263403401654" onmouseenter="enter('-6208188263403401654');" onmouseout="out('-6208188263403401654');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 455 +            if (i &gt; 0 &amp;&amp; text.charAt(i - 1) == &#x27; &#x27;) {                                                             </span>
<span class="8811749182711908372" onmouseenter="enter('8811749182711908372');" onmouseout="out('8811749182711908372');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 456 +                return text;                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 457 +            } else {                                                                                              </span>
<span class="-8407561526953236331" onmouseenter="enter('-8407561526953236331');" onmouseout="out('-8407561526953236331');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 458 +                if (text instanceof Spanned) {                                                                    </span>
<span class="1043151637988151558" onmouseenter="enter('1043151637988151558');" onmouseout="out('1043151637988151558');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 459 +                    SpannableString sp = new SpannableString(text + &quot; &quot;);                                         </span>
<span class="4069757121373026619" onmouseenter="enter('4069757121373026619');" onmouseout="out('4069757121373026619');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 460 +                    TextUtils.copySpansFrom((Spanned) text, 0, text.length(),                                     </span>
<span class="-4923471023181178896" onmouseenter="enter('-4923471023181178896');" onmouseout="out('-4923471023181178896');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 461 +                            Object.class, sp, 0);                                                                 </span>
<span class="-2938558251040814641" onmouseenter="enter('-2938558251040814641');" onmouseout="out('-2938558251040814641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 462 +                    return sp;                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 463 +                } else {                                                                                          </span>
<span class="8966119926299404710" onmouseenter="enter('8966119926299404710');" onmouseout="out('8966119926299404710');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 464 +                    return text + &quot; &quot;;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 465 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 466 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 467 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 468 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 469  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            