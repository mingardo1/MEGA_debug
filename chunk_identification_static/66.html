<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>66</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    66
                    <a href="65.html">prev</a>
                    <a href="67.html">next</a>
                    <a href="66_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_99d857f3383c60ae4ae008f74e7d2b32afe9c26a_Aria/src/main/java/com/arialyy/aria/util/BufferedRandomAccessFile.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a:Aria/src/main/java/com/arialyy/aria/util/BufferedRandomAccessFile.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a^1:Aria/src/main/java/com/arialyy/aria/util/BufferedRandomAccessFile.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;99d857f3383c60ae4ae008f74e7d2b32afe9c26a^2:Aria/src/main/java/com/arialyy/aria/util/BufferedRandomAccessFile.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;41154d47fb8664ddca206122d28b50a6a3b8e9a6:Aria/src/main/java/com/arialyy/aria/util/BufferedRandomAccessFile.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj]], subset: [[bj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">   1 /**                                                                                                      </span>
<span class="3101153502889412828" onmouseenter="enter('3101153502889412828');" onmouseout="out('3101153502889412828');" style="">   2  * Licensed to the Apache Software Foundation (ASF) under one                                            </span>
<span class="-6690800139350779170" onmouseenter="enter('-6690800139350779170');" onmouseout="out('-6690800139350779170');" style="">   3  * or more contributor license agreements.  See the NOTICE file                                          </span>
<span class="4408648408749222780" onmouseenter="enter('4408648408749222780');" onmouseout="out('4408648408749222780');" style="">   4  * distributed with this work for additional information                                                 </span>
<span class="7440871955664702931" onmouseenter="enter('7440871955664702931');" onmouseout="out('7440871955664702931');" style="">   5  * regarding copyright ownership.  The ASF licenses this file                                            </span>
<span class="-7748987699953482767" onmouseenter="enter('-7748987699953482767');" onmouseout="out('-7748987699953482767');" style="">   6  * to you under the Apache License, Version 2.0 (the                                                     </span>
<span class="-7532787339260984706" onmouseenter="enter('-7532787339260984706');" onmouseout="out('-7532787339260984706');" style="">   7  * &quot;License&quot;); you may not use this file except in compliance                                            </span>
<span class="6072654417402056570" onmouseenter="enter('6072654417402056570');" onmouseout="out('6072654417402056570');" style="">   8  * with the License.  You may obtain a copy of the License at                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="3430964305904514764" onmouseenter="enter('3430964305904514764');" onmouseout="out('3430964305904514764');" style="">  10  * http://www.apache.org/licenses/LICENSE-2.0                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  11  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  12  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  15  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  16  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span  style="">  18                                                                                                          </span>
<span class="8051609116594511973" onmouseenter="enter('8051609116594511973');" onmouseout="out('8051609116594511973');" style="">  19 package com.arialyy.aria.util;                                                                           </span>
<span  style="">  20                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  21 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6779715416064674619" onmouseenter="enter('6779715416064674619');" onmouseout="out('6779715416064674619');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  22 import java.io.*;                                                                                        </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  23 import java.util.Arrays;                                                                                 </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  24                                                                                                          </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  25 //import org.apache.log4j.Logger;                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  26                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  27 /**                                                                                                      </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  28  * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                     </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  29  * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                              </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  30  * operations do not require a disk access.                                                              </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31  * &lt;P&gt;                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32  *                                                                                                       </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  33  * Note: The operations on this class are unmonitored. Also, the correct                                 </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  34  * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                 </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  35  * overridden here relies on the implementation of those methods in the                                  </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  36  * superclass.                                                                                           </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  37  * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  38  */                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  39                                                                                                          </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  40 public final class BufferedRandomAccessFile extends RandomAccessFile {                                   </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  41   //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);              </span>
<span class="-6783048553715517801" onmouseenter="enter('-6783048553715517801');" onmouseout="out('-6783048553715517801');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  42   static final        int  LogBuffSz_ = 16; // 64K buffer                                                </span>
<span class="5558743893732606496" onmouseenter="enter('5558743893732606496');" onmouseout="out('5558743893732606496');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  43   public static final int  BuffSz_    = (1 &lt;&lt; LogBuffSz_);                                               </span>
<span class="2854827449597428262" onmouseenter="enter('2854827449597428262');" onmouseout="out('2854827449597428262');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  44   static final        long BuffMask_  = ~(((long) BuffSz_) - 1L);                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  45                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  46   /*                                                                                                     </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  47    * This implementation is based on the buffer implementation in Modula-3&#x27;s                             </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  48    * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  49    */                                                                                                    </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  50   private boolean dirty_; // true iff unflushed bytes exist                                              </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  51   private boolean closed_; // true iff the file is closed                                                </span>
<span class="4805523489612774745" onmouseenter="enter('4805523489612774745');" onmouseout="out('4805523489612774745');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  52   private long    curr_; // current position in file                                                     </span>
<span class="8379661563346680544" onmouseenter="enter('8379661563346680544');" onmouseout="out('8379661563346680544');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  53   private long    lo_, hi_; // bounds on characters in &quot;buff&quot;                                            </span>
<span class="4530843330504174223" onmouseenter="enter('4530843330504174223');" onmouseout="out('4530843330504174223');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  54   private byte[]  buff_; // local buffer                                                                 </span>
<span class="-4032746716063405874" onmouseenter="enter('-4032746716063405874');" onmouseout="out('-4032746716063405874');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  55   private long    maxHi_; // this.lo + this.buff.length                                                  </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  56   private boolean hitEOF_; // buffer contains last file block?                                           </span>
<span class="-4955483419006461889" onmouseenter="enter('-4955483419006461889');" onmouseout="out('-4955483419006461889');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  57   private long    diskPos_; // disk position                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  58 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  59 =======                                                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60 import java.io.File;                                                                                     </span>
<span class="-75475733228177869" onmouseenter="enter('-75475733228177869');" onmouseout="out('-75475733228177869');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61 import java.io.FileNotFoundException;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62 import java.io.IOException;                                                                              </span>
<span class="-3877933607611446246" onmouseenter="enter('-3877933607611446246');" onmouseout="out('-3877933607611446246');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63 import java.io.RandomAccessFile;                                                                         </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  64 import java.util.Arrays;                                                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  65                                                                                                          </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66 //import org.apache.log4j.Logger;                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  67                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68 /**                                                                                                      </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69  * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                     </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70  * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                              </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71  * operations do not require a disk access.                                                              </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72  * &lt;P&gt;                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73  *                                                                                                       </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74  * Note: The operations on this class are unmonitored. Also, the correct                                 </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75  * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                 </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76  * overridden here relies on the implementation of those methods in the                                  </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77  * superclass.                                                                                           </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78  * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79  */                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80                                                                                                          </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81 public final class BufferedRandomAccessFile extends RandomAccessFile {                                   </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82   //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);              </span>
<span class="4817946539310203452" onmouseenter="enter('4817946539310203452');" onmouseout="out('4817946539310203452');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83   static final int LogBuffSz_ = 16; // 64K buffer                                                        </span>
<span class="7970026977970362353" onmouseenter="enter('7970026977970362353');" onmouseout="out('7970026977970362353');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84   public static final int BuffSz_ = (1 &lt;&lt; LogBuffSz_);                                                   </span>
<span class="1408327314418367095" onmouseenter="enter('1408327314418367095');" onmouseout="out('1408327314418367095');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85   static final long BuffMask_ = ~(((long) BuffSz_) - 1L);                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87   /*                                                                                                     </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  88    * This implementation is based on the buffer implementation in Modula-3&#x27;s                             </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  89    * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  90    */                                                                                                    </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  91   private boolean dirty_; // true iff unflushed bytes exist                                              </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92   private boolean closed_; // true iff the file is closed                                                </span>
<span class="8548792791394327213" onmouseenter="enter('8548792791394327213');" onmouseout="out('8548792791394327213');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93   private long curr_; // current position in file                                                        </span>
<span class="2810035121052255641" onmouseenter="enter('2810035121052255641');" onmouseout="out('2810035121052255641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94   private long lo_, hi_; // bounds on characters in &quot;buff&quot;                                               </span>
<span class="-5565336812166914708" onmouseenter="enter('-5565336812166914708');" onmouseout="out('-5565336812166914708');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95   private byte[] buff_; // local buffer                                                                  </span>
<span class="-6790252224051494414" onmouseenter="enter('-6790252224051494414');" onmouseout="out('-6790252224051494414');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96   private long maxHi_; // this.lo + this.buff.length                                                     </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97   private boolean hitEOF_; // buffer contains last file block?                                           </span>
<span class="3794371971058784568" onmouseenter="enter('3794371971058784568');" onmouseout="out('3794371971058784568');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98   private long diskPos_; // disk position                                                                </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  99 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style=""> 100                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 101     /*                                                                                                   </span>
<span class="-3936581569571034100" onmouseenter="enter('-3936581569571034100');" onmouseout="out('-3936581569571034100');" style=""> 102      * To describe the above fields, we introduce the following abstractions for                         </span>
<span class="2069724281899459821" onmouseenter="enter('2069724281899459821');" onmouseout="out('2069724281899459821');" style=""> 103      * the file &quot;f&quot;:                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 104      *                                                                                                   </span>
<span class="3942109514579599807" onmouseenter="enter('3942109514579599807');" onmouseout="out('3942109514579599807');" style=""> 105      * len(f) the length of the file curr(f) the current position in the file                            </span>
<span class="8423531652573548138" onmouseenter="enter('8423531652573548138');" onmouseout="out('8423531652573548138');" style=""> 106      * c(f) the abstract contents of the file disk(f) the contents of f&#x27;s                                </span>
<span class="9171631245335973257" onmouseenter="enter('9171631245335973257');" onmouseout="out('9171631245335973257');" style=""> 107      * backing disk file closed(f) true iff the file is closed                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 108      *                                                                                                   </span>
<span class="6062939284417426381" onmouseenter="enter('6062939284417426381');" onmouseout="out('6062939284417426381');" style=""> 109      * &quot;curr(f)&quot; is an index in the closed interval [0, len(f)]. &quot;c(f)&quot; is a                             </span>
<span class="4916274110970917743" onmouseenter="enter('4916274110970917743');" onmouseout="out('4916274110970917743');" style=""> 110      * character sequence of length &quot;len(f)&quot;. &quot;c(f)&quot; and &quot;disk(f)&quot; may differ if                         </span>
<span class="5077953901668360228" onmouseenter="enter('5077953901668360228');" onmouseout="out('5077953901668360228');" style=""> 111      * &quot;c(f)&quot; contains unflushed writes not reflected in &quot;disk(f)&quot;. The flush                            </span>
<span class="-1571440391623047981" onmouseenter="enter('-1571440391623047981');" onmouseout="out('-1571440391623047981');" style=""> 112      * operation has the effect of making &quot;disk(f)&quot; identical to &quot;c(f)&quot;.                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 113      *                                                                                                   </span>
<span class="8144322784694474632" onmouseenter="enter('8144322784694474632');" onmouseout="out('8144322784694474632');" style=""> 114      * A file is said to be *valid* if the following conditions hold:                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 115      *                                                                                                   </span>
<span class="-1269630856537664309" onmouseenter="enter('-1269630856537664309');" onmouseout="out('-1269630856537664309');" style=""> 116      * V1. The &quot;closed&quot; and &quot;curr&quot; fields are correct:                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 117      *                                                                                                   </span>
<span class="979308808712187879" onmouseenter="enter('979308808712187879');" onmouseout="out('979308808712187879');" style=""> 118      * f.closed == closed(f) f.curr == curr(f)                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 119      *                                                                                                   </span>
<span class="-7772189654780820624" onmouseenter="enter('-7772189654780820624');" onmouseout="out('-7772189654780820624');" style=""> 120      * V2. The current position is either contained in the buffer, or just past                          </span>
<span class="2460586612831536921" onmouseenter="enter('2460586612831536921');" onmouseout="out('2460586612831536921');" style=""> 121      * the buffer:                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 122      *                                                                                                   </span>
<span class="-8875259016663419075" onmouseenter="enter('-8875259016663419075');" onmouseout="out('-8875259016663419075');" style=""> 123      * f.lo &lt;= f.curr &lt;= f.hi                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 124      *                                                                                                   </span>
<span class="-3007662814937088374" onmouseenter="enter('-3007662814937088374');" onmouseout="out('-3007662814937088374');" style=""> 125      * V3. Any (possibly) unflushed characters are stored in &quot;f.buff&quot;:                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 126      *                                                                                                   </span>
<span class="7662399701900948560" onmouseenter="enter('7662399701900948560');" onmouseout="out('7662399701900948560');" style=""> 127      * (forall i in [f.lo, f.curr): c(f)[i] == f.buff[i - f.lo])                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 128      *                                                                                                   </span>
<span class="-9067184832210593745" onmouseenter="enter('-9067184832210593745');" onmouseout="out('-9067184832210593745');" style=""> 129      * V4. For all characters not covered by V3, c(f) and disk(f) agree:                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 130      *                                                                                                   </span>
<span class="717831558004067077" onmouseenter="enter('717831558004067077');" onmouseout="out('717831558004067077');" style=""> 131      * (forall i in [f.lo, len(f)): i not in [f.lo, f.curr) =&gt; c(f)[i] ==                                </span>
<span class="4044229358116504451" onmouseenter="enter('4044229358116504451');" onmouseout="out('4044229358116504451');" style=""> 132      * disk(f)[i])                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 133      *                                                                                                   </span>
<span class="-1759754488380141707" onmouseenter="enter('-1759754488380141707');" onmouseout="out('-1759754488380141707');" style=""> 134      * V5. &quot;f.dirty&quot; is true iff the buffer contains bytes that should be                                </span>
<span class="-4738933140714611160" onmouseenter="enter('-4738933140714611160');" onmouseout="out('-4738933140714611160');" style=""> 135      * flushed to the file; by V3 and V4, only part of the buffer can be dirty.                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 136      *                                                                                                   </span>
<span class="-946393002272791033" onmouseenter="enter('-946393002272791033');" onmouseout="out('-946393002272791033');" style=""> 137      * f.dirty == (exists i in [f.lo, f.curr): c(f)[i] != f.buff[i - f.lo])                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 138      *                                                                                                   </span>
<span class="8799384245655111676" onmouseenter="enter('8799384245655111676');" onmouseout="out('8799384245655111676');" style=""> 139      * V6. this.maxHi == this.lo + this.buff.length                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 140      *                                                                                                   </span>
<span class="-8807197809286194757" onmouseenter="enter('-8807197809286194757');" onmouseout="out('-8807197809286194757');" style=""> 141      * Note that &quot;f.buff&quot; can be &quot;null&quot; in a valid file, since the range of                              </span>
<span class="8380169438616845165" onmouseenter="enter('8380169438616845165');" onmouseout="out('8380169438616845165');" style=""> 142      * characters in V3 is empty when &quot;f.lo == f.curr&quot;.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 143      *                                                                                                   </span>
<span class="4472737642333127229" onmouseenter="enter('4472737642333127229');" onmouseout="out('4472737642333127229');" style=""> 144      * A file is said to be *ready* if the buffer contains the current position,                         </span>
<span class="530075668565703765" onmouseenter="enter('530075668565703765');" onmouseout="out('530075668565703765');" style=""> 145      * i.e., when:                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 146      *                                                                                                   </span>
<span class="3467179512391623708" onmouseenter="enter('3467179512391623708');" onmouseout="out('3467179512391623708');" style=""> 147      * R1. !f.closed &amp;&amp; f.buff != null &amp;&amp; f.lo &lt;= f.curr &amp;&amp; f.curr &lt; f.hi                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 148      *                                                                                                   </span>
<span class="-108247808767139067" onmouseenter="enter('-108247808767139067');" onmouseout="out('-108247808767139067');" style=""> 149      * When a file is ready, reading or writing a single byte can be performed                           </span>
<span class="-3499206885168790049" onmouseenter="enter('-3499206885168790049');" onmouseout="out('-3499206885168790049');" style=""> 150      * by reading or writing the in-memory buffer without performing a disk                              </span>
<span class="-3072305517631744386" onmouseenter="enter('-3072305517631744386');" onmouseout="out('-3072305517631744386');" style=""> 151      * operation.                                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152      */                                                                                                  </span>
<span  style=""> 153                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 154   /**                                                                                                    </span>
<span class="1351546277608868832" onmouseenter="enter('1351546277608868832');" onmouseout="out('1351546277608868832');" style=""> 155    * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on &lt;code&gt;file&lt;/code&gt;                               </span>
<span class="453887555747532364" onmouseenter="enter('453887555747532364');" onmouseout="out('453887555747532364');" style=""> 156    * in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for reading only, or                                 </span>
<span class="-3680215098577845464" onmouseenter="enter('-3680215098577845464');" onmouseout="out('-3680215098577845464');" style=""> 157    * &quot;rw&quot; for reading and writing.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 158    */                                                                                                    </span>
<span class="-8434990783057983301" onmouseenter="enter('-8434990783057983301');" onmouseout="out('-8434990783057983301');" style=""> 159   public BufferedRandomAccessFile(File file, String mode) throws IOException {                           </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 160     super(file, mode);                                                                                   </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 161     this.init(0);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162   }                                                                                                      </span>
<span  style=""> 163                                                                                                          </span>
<span class="-453136098354647832" onmouseenter="enter('-453136098354647832');" onmouseout="out('-453136098354647832');" style=""> 164   public BufferedRandomAccessFile(File file, String mode, int size) throws IOException {                 </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 165     super(file, mode);                                                                                   </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 166     this.init(size);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167   }                                                                                                      </span>
<span  style=""> 168                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 169   /**                                                                                                    </span>
<span class="-3480587780124661536" onmouseenter="enter('-3480587780124661536');" onmouseout="out('-3480587780124661536');" style=""> 170    * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on the file named                                  </span>
<span class="-7030046076474638613" onmouseenter="enter('-7030046076474638613');" onmouseout="out('-7030046076474638613');" style=""> 171    * &lt;code&gt;name&lt;/code&gt; in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for                                </span>
<span class="1088989998774722620" onmouseenter="enter('1088989998774722620');" onmouseout="out('1088989998774722620');" style=""> 172    * reading only, or &quot;rw&quot; for reading and writing.                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 173    */                                                                                                    </span>
<span class="-8823965408485600512" onmouseenter="enter('-8823965408485600512');" onmouseout="out('-8823965408485600512');" style=""> 174   public BufferedRandomAccessFile(String name, String mode) throws IOException {                         </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 175     super(name, mode);                                                                                   </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 176     this.init(0);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177   }                                                                                                      </span>
<span  style=""> 178                                                                                                          </span>
<span class="5657307843603113479" onmouseenter="enter('5657307843603113479');" onmouseout="out('5657307843603113479');" style=""> 179   public BufferedRandomAccessFile(String name, String mode, int size) throws FileNotFoundException {     </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 180     super(name, mode);                                                                                   </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 181     this.init(size);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182   }                                                                                                      </span>
<span  style=""> 183                                                                                                          </span>
<span class="5551924884735922585" onmouseenter="enter('5551924884735922585');" onmouseout="out('5551924884735922585');" style=""> 184   private void init(int size) {                                                                          </span>
<span class="-2850666888898584218" onmouseenter="enter('-2850666888898584218');" onmouseout="out('-2850666888898584218');" style=""> 185     this.dirty_ = this.closed_ = false;                                                                  </span>
<span class="2840697314215077210" onmouseenter="enter('2840697314215077210');" onmouseout="out('2840697314215077210');" style=""> 186     this.lo_ = this.curr_ = this.hi_ = 0;                                                                </span>
<span class="989376670792595176" onmouseenter="enter('989376670792595176');" onmouseout="out('989376670792595176');" style=""> 187     this.buff_ = (size &gt; BuffSz_) ? new byte[size] : new byte[BuffSz_];                                  </span>
<span class="-6551025993424877277" onmouseenter="enter('-6551025993424877277');" onmouseout="out('-6551025993424877277');" style=""> 188     this.maxHi_ = (long) BuffSz_;                                                                        </span>
<span class="5218815061722857854" onmouseenter="enter('5218815061722857854');" onmouseout="out('5218815061722857854');" style=""> 189     this.hitEOF_ = false;                                                                                </span>
<span class="-5785819969814094934" onmouseenter="enter('-5785819969814094934');" onmouseout="out('-5785819969814094934');" style=""> 190     this.diskPos_ = 0L;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191   }                                                                                                      </span>
<span  style=""> 192                                                                                                          </span>
<span class="3075770629113308700" onmouseenter="enter('3075770629113308700');" onmouseout="out('3075770629113308700');" style=""> 193   public void close() throws IOException {                                                               </span>
<span class="-2142124785498338157" onmouseenter="enter('-2142124785498338157');" onmouseout="out('-2142124785498338157');" style=""> 194     this.flush();                                                                                        </span>
<span class="-6340371251695134552" onmouseenter="enter('-6340371251695134552');" onmouseout="out('-6340371251695134552');" style=""> 195     this.closed_ = true;                                                                                 </span>
<span class="-2219391834669832598" onmouseenter="enter('-2219391834669832598');" onmouseout="out('-2219391834669832598');" style=""> 196     super.close();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197   }                                                                                                      </span>
<span  style=""> 198                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 199   /**                                                                                                    </span>
<span class="6399380210193036787" onmouseenter="enter('6399380210193036787');" onmouseout="out('6399380210193036787');" style=""> 200    * Flush any bytes in the file&#x27;s buffer that have not yet been written to                              </span>
<span class="847851214623451697" onmouseenter="enter('847851214623451697');" onmouseout="out('847851214623451697');" style=""> 201    * disk. If the file was created read-only, this method is a no-op.                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 202    */                                                                                                    </span>
<span class="3516006397829896858" onmouseenter="enter('3516006397829896858');" onmouseout="out('3516006397829896858');" style=""> 203   public void flush() throws IOException {                                                               </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 204     this.flushBuffer();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205   }                                                                                                      </span>
<span  style=""> 206                                                                                                          </span>
<span class="587201756057337699" onmouseenter="enter('587201756057337699');" onmouseout="out('587201756057337699');" style=""> 207   /* Flush any dirty bytes in the buffer to disk. */                                                     </span>
<span class="8758894563108089599" onmouseenter="enter('8758894563108089599');" onmouseout="out('8758894563108089599');" style=""> 208   private void flushBuffer() throws IOException {                                                        </span>
<span class="4301885684552359519" onmouseenter="enter('4301885684552359519');" onmouseout="out('4301885684552359519');" style=""> 209     if (this.dirty_) {                                                                                   </span>
<span class="736124185545095616" onmouseenter="enter('736124185545095616');" onmouseout="out('736124185545095616');" style=""> 210       if (this.diskPos_ != this.lo_) super.seek(this.lo_);                                               </span>
<span class="-5281562837227929409" onmouseenter="enter('-5281562837227929409');" onmouseout="out('-5281562837227929409');" style=""> 211       int len = (int) (this.curr_ - this.lo_);                                                           </span>
<span class="6765610743081262114" onmouseenter="enter('6765610743081262114');" onmouseout="out('6765610743081262114');" style=""> 212       super.write(this.buff_, 0, len);                                                                   </span>
<span class="4683992282209736577" onmouseenter="enter('4683992282209736577');" onmouseout="out('4683992282209736577');" style=""> 213       this.diskPos_ = this.curr_;                                                                        </span>
<span class="3238476683105780913" onmouseenter="enter('3238476683105780913');" onmouseout="out('3238476683105780913');" style=""> 214       this.dirty_ = false;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216   }                                                                                                      </span>
<span  style=""> 217                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 218   /*                                                                                                     </span>
<span class="-2021782647515546277" onmouseenter="enter('-2021782647515546277');" onmouseout="out('-2021782647515546277');" style=""> 219    * Read at most &quot;this.buff.length&quot; bytes into &quot;this.buff&quot;, returning the                               </span>
<span class="-4515480482852552412" onmouseenter="enter('-4515480482852552412');" onmouseout="out('-4515480482852552412');" style=""> 220    * number of bytes read. If the return result is less than                                             </span>
<span class="-7486505761455918547" onmouseenter="enter('-7486505761455918547');" onmouseout="out('-7486505761455918547');" style=""> 221    * &quot;this.buff.length&quot;, then EOF was read.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 222    */                                                                                                    </span>
<span class="9102680032405651536" onmouseenter="enter('9102680032405651536');" onmouseout="out('9102680032405651536');" style=""> 223   private int fillBuffer() throws IOException {                                                          </span>
<span class="-6925568187558983072" onmouseenter="enter('-6925568187558983072');" onmouseout="out('-6925568187558983072');" style=""> 224     int cnt = 0;                                                                                         </span>
<span class="1211647843866851781" onmouseenter="enter('1211647843866851781');" onmouseout="out('1211647843866851781');" style=""> 225     int rem = this.buff_.length;                                                                         </span>
<span class="4558901091400485838" onmouseenter="enter('4558901091400485838');" onmouseout="out('4558901091400485838');" style=""> 226     while (rem &gt; 0) {                                                                                    </span>
<span class="8150290817251668846" onmouseenter="enter('8150290817251668846');" onmouseout="out('8150290817251668846');" style=""> 227       int n = super.read(this.buff_, cnt, rem);                                                          </span>
<span class="3286194446926829446" onmouseenter="enter('3286194446926829446');" onmouseout="out('3286194446926829446');" style=""> 228       if (n &lt; 0) break;                                                                                  </span>
<span class="-2189520819463946014" onmouseenter="enter('-2189520819463946014');" onmouseout="out('-2189520819463946014');" style=""> 229       cnt += n;                                                                                          </span>
<span class="435047948805898023" onmouseenter="enter('435047948805898023');" onmouseout="out('435047948805898023');" style=""> 230       rem -= n;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231     }                                                                                                    </span>
<span class="-2592275401294750026" onmouseenter="enter('-2592275401294750026');" onmouseout="out('-2592275401294750026');" style=""> 232     if ((cnt &lt; 0) &amp;&amp; (this.hitEOF_ = (cnt &lt; this.buff_.length))) {                                       </span>
<span class="6009473334823966987" onmouseenter="enter('6009473334823966987');" onmouseout="out('6009473334823966987');" style=""> 233       // make sure buffer that wasn&#x27;t read is initialized with -1                                        </span>
<span class="3302036294169840097" onmouseenter="enter('3302036294169840097');" onmouseout="out('3302036294169840097');" style=""> 234       Arrays.fill(this.buff_, cnt, this.buff_.length, (byte) 0xff);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span class="4142463760419510235" onmouseenter="enter('4142463760419510235');" onmouseout="out('4142463760419510235');" style=""> 236     this.diskPos_ += cnt;                                                                                </span>
<span class="1201366805596982616" onmouseenter="enter('1201366805596982616');" onmouseout="out('1201366805596982616');" style=""> 237     return cnt;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238   }                                                                                                      </span>
<span  style=""> 239                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 240   /*                                                                                                     </span>
<span class="-6173403972520006794" onmouseenter="enter('-6173403972520006794');" onmouseout="out('-6173403972520006794');" style=""> 241    * This method positions &lt;code&gt;this.curr&lt;/code&gt; at position &lt;code&gt;pos&lt;/code&gt;.                          </span>
<span class="-209648681527588585" onmouseenter="enter('-209648681527588585');" onmouseout="out('-209648681527588585');" style=""> 242    * If &lt;code&gt;pos&lt;/code&gt; does not fall in the current buffer, it flushes the                             </span>
<span class="-3523323071525754796" onmouseenter="enter('-3523323071525754796');" onmouseout="out('-3523323071525754796');" style=""> 243    * current buffer and loads the correct one.&lt;p&gt;                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 244    *                                                                                                     </span>
<span class="-4975564389020336965" onmouseenter="enter('-4975564389020336965');" onmouseout="out('-4975564389020336965');" style=""> 245    * On exit from this routine &lt;code&gt;this.curr == this.hi&lt;/code&gt; iff &lt;code&gt;pos&lt;/code&gt;                    </span>
<span class="3609328464105633747" onmouseenter="enter('3609328464105633747');" onmouseout="out('3609328464105633747');" style=""> 246    * is at or past the end-of-file, which can only happen if the file was                                </span>
<span class="-8683284462584625720" onmouseenter="enter('-8683284462584625720');" onmouseout="out('-8683284462584625720');" style=""> 247    * opened in read-only mode.                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 248    */                                                                                                    </span>
<span class="1045469846730437003" onmouseenter="enter('1045469846730437003');" onmouseout="out('1045469846730437003');" style=""> 249   public void seek(long pos) throws IOException {                                                        </span>
<span class="1233461237264754204" onmouseenter="enter('1233461237264754204');" onmouseout="out('1233461237264754204');" style=""> 250     if (pos &gt;= this.hi_ || pos &lt; this.lo_) {                                                             </span>
<span class="-8526000519492201168" onmouseenter="enter('-8526000519492201168');" onmouseout="out('-8526000519492201168');" style=""> 251       // seeking outside of current buffer -- flush and read                                             </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 252       this.flushBuffer();                                                                                </span>
<span class="-1955428514344839188" onmouseenter="enter('-1955428514344839188');" onmouseout="out('-1955428514344839188');" style=""> 253       this.lo_ = pos &amp; BuffMask_; // start at BuffSz boundary                                            </span>
<span class="-3108337400407772088" onmouseenter="enter('-3108337400407772088');" onmouseout="out('-3108337400407772088');" style=""> 254       this.maxHi_ = this.lo_ + (long) this.buff_.length;                                                 </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style=""> 255       if (this.diskPos_ != this.lo_) {                                                                   </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style=""> 256         super.seek(this.lo_);                                                                            </span>
<span class="-434856769074322394" onmouseenter="enter('-434856769074322394');" onmouseout="out('-434856769074322394');" style=""> 257         this.diskPos_ = this.lo_;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258       }                                                                                                  </span>
<span class="5958235403126495881" onmouseenter="enter('5958235403126495881');" onmouseout="out('5958235403126495881');" style=""> 259       int n = this.fillBuffer();                                                                         </span>
<span class="6020729273271733469" onmouseenter="enter('6020729273271733469');" onmouseout="out('6020729273271733469');" style=""> 260       this.hi_ = this.lo_ + (long) n;                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 261     } else {                                                                                             </span>
<span class="-2068750461792604158" onmouseenter="enter('-2068750461792604158');" onmouseout="out('-2068750461792604158');" style=""> 262       // seeking inside current buffer -- no read required                                               </span>
<span class="-8767416704062471642" onmouseenter="enter('-8767416704062471642');" onmouseout="out('-8767416704062471642');" style=""> 263       if (pos &lt; this.curr_) {                                                                            </span>
<span class="3571291767884108983" onmouseenter="enter('3571291767884108983');" onmouseout="out('3571291767884108983');" style=""> 264         // if seeking backwards, we must flush to maintain V4                                            </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 265         this.flushBuffer();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span class="8509908448470847884" onmouseenter="enter('8509908448470847884');" onmouseout="out('8509908448470847884');" style=""> 268     this.curr_ = pos;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269   }                                                                                                      </span>
<span  style=""> 270                                                                                                          </span>
<span class="-7084230487165991749" onmouseenter="enter('-7084230487165991749');" onmouseout="out('-7084230487165991749');" style=""> 271   public long getFilePointer() {                                                                         </span>
<span class="-6051440881378549831" onmouseenter="enter('-6051440881378549831');" onmouseout="out('-6051440881378549831');" style=""> 272     return this.curr_;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273   }                                                                                                      </span>
<span  style=""> 274                                                                                                          </span>
<span class="-6941883707135103006" onmouseenter="enter('-6941883707135103006');" onmouseout="out('-6941883707135103006');" style=""> 275   public long length() throws IOException {                                                              </span>
<span class="-8729952525790322599" onmouseenter="enter('-8729952525790322599');" onmouseout="out('-8729952525790322599');" style=""> 276     return Math.max(this.curr_, super.length());                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277   }                                                                                                      </span>
<span  style=""> 278                                                                                                          </span>
<span class="-9012256586706032903" onmouseenter="enter('-9012256586706032903');" onmouseout="out('-9012256586706032903');" style=""> 279   public int read() throws IOException {                                                                 </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 280     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 281       // test for EOF                                                                                    </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 282       // if (this.hi &lt; this.maxHi) return -1;                                                            </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style=""> 283       if (this.hitEOF_) return -1;                                                                       </span>
<span  style=""> 284                                                                                                          </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 285       // slow path -- read another buffer                                                                </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 286       this.seek(this.curr_);                                                                             </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style=""> 287       if (this.curr_ == this.hi_) return -1;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288     }                                                                                                    </span>
<span class="4419650221760970549" onmouseenter="enter('4419650221760970549');" onmouseout="out('4419650221760970549');" style=""> 289     byte res = this.buff_[(int) (this.curr_ - this.lo_)];                                                </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 290     this.curr_++;                                                                                        </span>
<span class="-627440987035300608" onmouseenter="enter('-627440987035300608');" onmouseout="out('-627440987035300608');" style=""> 291     return ((int) res) &amp; 0xFF; // convert byte -&gt; int                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292   }                                                                                                      </span>
<span  style=""> 293                                                                                                          </span>
<span class="-3083187423260978934" onmouseenter="enter('-3083187423260978934');" onmouseout="out('-3083187423260978934');" style=""> 294   public int read(byte[] b) throws IOException {                                                         </span>
<span class="3890104000838200797" onmouseenter="enter('3890104000838200797');" onmouseout="out('3890104000838200797');" style=""> 295     return this.read(b, 0, b.length);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296   }                                                                                                      </span>
<span  style=""> 297                                                                                                          </span>
<span class="-6549446275079329744" onmouseenter="enter('-6549446275079329744');" onmouseout="out('-6549446275079329744');" style=""> 298   public int read(byte[] b, int off, int len) throws IOException {                                       </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 299     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 300       // test for EOF                                                                                    </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 301       // if (this.hi &lt; this.maxHi) return -1;                                                            </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style=""> 302       if (this.hitEOF_) return -1;                                                                       </span>
<span  style=""> 303                                                                                                          </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 304       // slow path -- read another buffer                                                                </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 305       this.seek(this.curr_);                                                                             </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style=""> 306       if (this.curr_ == this.hi_) return -1;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style=""> 308     len = Math.min(len, (int) (this.hi_ - this.curr_));                                                  </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style=""> 309     int buffOff = (int) (this.curr_ - this.lo_);                                                         </span>
<span class="-4938401244321112082" onmouseenter="enter('-4938401244321112082');" onmouseout="out('-4938401244321112082');" style=""> 310     System.arraycopy(this.buff_, buffOff, b, off, len);                                                  </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 311     this.curr_ += len;                                                                                   </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 312     return len;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313   }                                                                                                      </span>
<span  style=""> 314                                                                                                          </span>
<span class="3099678744335489259" onmouseenter="enter('3099678744335489259');" onmouseout="out('3099678744335489259');" style=""> 315   public void write(int b) throws IOException {                                                          </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 316     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style=""> 317       if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                      </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 318         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 319         this.hi_++;                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 320       } else {                                                                                           </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 321         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 322         this.seek(this.curr_);                                                                           </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 323         if (this.curr_ == this.hi_) {                                                                    </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 324           // appending to EOF -- bump &quot;hi&quot;                                                               </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 325           this.hi_++;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328     }                                                                                                    </span>
<span class="3241130681458379004" onmouseenter="enter('3241130681458379004');" onmouseout="out('3241130681458379004');" style=""> 329     this.buff_[(int) (this.curr_ - this.lo_)] = (byte) b;                                                </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 330     this.curr_++;                                                                                        </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 331     this.dirty_ = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332   }                                                                                                      </span>
<span  style=""> 333                                                                                                          </span>
<span class="-5890548955324027663" onmouseenter="enter('-5890548955324027663');" onmouseout="out('-5890548955324027663');" style=""> 334   public void write(byte[] b) throws IOException {                                                       </span>
<span class="2476786234223299971" onmouseenter="enter('2476786234223299971');" onmouseout="out('2476786234223299971');" style=""> 335     this.write(b, 0, b.length);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336   }                                                                                                      </span>
<span  style=""> 337                                                                                                          </span>
<span class="5333634921828566172" onmouseenter="enter('5333634921828566172');" onmouseout="out('5333634921828566172');" style=""> 338   public void write(byte[] b, int off, int len) throws IOException {                                     </span>
<span class="8659956805677425638" onmouseenter="enter('8659956805677425638');" onmouseout="out('8659956805677425638');" style=""> 339     while (len &gt; 0) {                                                                                    </span>
<span class="4253461387035776156" onmouseenter="enter('4253461387035776156');" onmouseout="out('4253461387035776156');" style=""> 340       int n = this.writeAtMost(b, off, len);                                                             </span>
<span class="5133194115572522886" onmouseenter="enter('5133194115572522886');" onmouseout="out('5133194115572522886');" style=""> 341       off += n;                                                                                          </span>
<span class="-6861508777646263488" onmouseenter="enter('-6861508777646263488');" onmouseout="out('-6861508777646263488');" style=""> 342       len -= n;                                                                                          </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 343       this.dirty_ = true;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345   }                                                                                                      </span>
<span  style=""> 346                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 347   /*                                                                                                     </span>
<span class="-3823945200468182935" onmouseenter="enter('-3823945200468182935');" onmouseout="out('-3823945200468182935');" style=""> 348    * Write at most &quot;len&quot; bytes to &quot;b&quot; starting at position &quot;off&quot;, and return                             </span>
<span class="5705453366365250461" onmouseenter="enter('5705453366365250461');" onmouseout="out('5705453366365250461');" style=""> 349    * the number of bytes written.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 350    */                                                                                                    </span>
<span class="4775960870479698671" onmouseenter="enter('4775960870479698671');" onmouseout="out('4775960870479698671');" style=""> 351   private int writeAtMost(byte[] b, int off, int len) throws IOException {                               </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 352     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style=""> 353       if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                      </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 354         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 355         this.hi_ = this.maxHi_;                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 356       } else {                                                                                           </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 357         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 358         this.seek(this.curr_);                                                                           </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 359         if (this.curr_ == this.hi_) {                                                                    </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 360           // appending to EOF -- bump &quot;hi&quot;                                                               </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 361           this.hi_ = this.maxHi_;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364     }                                                                                                    </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style=""> 365     len = Math.min(len, (int) (this.hi_ - this.curr_));                                                  </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style=""> 366     int buffOff = (int) (this.curr_ - this.lo_);                                                         </span>
<span class="7275583130401168337" onmouseenter="enter('7275583130401168337');" onmouseout="out('7275583130401168337');" style=""> 367     System.arraycopy(b, off, this.buff_, buffOff, len);                                                  </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 368     this.curr_ += len;                                                                                   </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 369     return len;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371 }                                                                                                        </span></pre></td>
                            <td><pre><span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">   1 /**                                                                                                      </span>
<span class="3101153502889412828" onmouseenter="enter('3101153502889412828');" onmouseout="out('3101153502889412828');" style="">   2  * Licensed to the Apache Software Foundation (ASF) under one                                            </span>
<span class="-6690800139350779170" onmouseenter="enter('-6690800139350779170');" onmouseout="out('-6690800139350779170');" style="">   3  * or more contributor license agreements.  See the NOTICE file                                          </span>
<span class="4408648408749222780" onmouseenter="enter('4408648408749222780');" onmouseout="out('4408648408749222780');" style="">   4  * distributed with this work for additional information                                                 </span>
<span class="7440871955664702931" onmouseenter="enter('7440871955664702931');" onmouseout="out('7440871955664702931');" style="">   5  * regarding copyright ownership.  The ASF licenses this file                                            </span>
<span class="-7748987699953482767" onmouseenter="enter('-7748987699953482767');" onmouseout="out('-7748987699953482767');" style="">   6  * to you under the Apache License, Version 2.0 (the                                                     </span>
<span class="-7532787339260984706" onmouseenter="enter('-7532787339260984706');" onmouseout="out('-7532787339260984706');" style="">   7  * &quot;License&quot;); you may not use this file except in compliance                                            </span>
<span class="6072654417402056570" onmouseenter="enter('6072654417402056570');" onmouseout="out('6072654417402056570');" style="">   8  * with the License.  You may obtain a copy of the License at                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="3430964305904514764" onmouseenter="enter('3430964305904514764');" onmouseout="out('3430964305904514764');" style="">  10  * http://www.apache.org/licenses/LICENSE-2.0                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  11  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  12  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  15  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  16  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span  style="">  18                                                                                                          </span>
<span class="8051609116594511973" onmouseenter="enter('8051609116594511973');" onmouseout="out('8051609116594511973');" style="">  19 package com.arialyy.aria.util;                                                                           </span>
<span  style="">  20                                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">  21 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="6779715416064674619" onmouseenter="enter('6779715416064674619');" onmouseout="out('6779715416064674619');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  22 import java.io.*;                                                                                        </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  23 import java.util.Arrays;                                                                                 </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  24                                                                                                          </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  25 //import org.apache.log4j.Logger;                                                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  26                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  27 /**                                                                                                      </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  28  * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                     </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  29  * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                              </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  30  * operations do not require a disk access.                                                              </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  31  * &lt;P&gt;                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  32  *                                                                                                       </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  33  * Note: The operations on this class are unmonitored. Also, the correct                                 </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  34  * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                 </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  35  * overridden here relies on the implementation of those methods in the                                  </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  36  * superclass.                                                                                           </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  37  * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  38  */                                                                                                      </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  39                                                                                                          </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  40 public final class BufferedRandomAccessFile extends RandomAccessFile {                                   </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  41   //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);              </span>
<span class="-6783048553715517801" onmouseenter="enter('-6783048553715517801');" onmouseout="out('-6783048553715517801');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  42   static final        int  LogBuffSz_ = 16; // 64K buffer                                                </span>
<span class="5558743893732606496" onmouseenter="enter('5558743893732606496');" onmouseout="out('5558743893732606496');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  43   public static final int  BuffSz_    = (1 &lt;&lt; LogBuffSz_);                                               </span>
<span class="2854827449597428262" onmouseenter="enter('2854827449597428262');" onmouseout="out('2854827449597428262');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  44   static final        long BuffMask_  = ~(((long) BuffSz_) - 1L);                                        </span>
<span  style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  45                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  46   /*                                                                                                     </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  47    * This implementation is based on the buffer implementation in Modula-3&#x27;s                             </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  48    * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  49    */                                                                                                    </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  50   private boolean dirty_; // true iff unflushed bytes exist                                              </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  51   private boolean closed_; // true iff the file is closed                                                </span>
<span class="4805523489612774745" onmouseenter="enter('4805523489612774745');" onmouseout="out('4805523489612774745');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  52   private long    curr_; // current position in file                                                     </span>
<span class="8379661563346680544" onmouseenter="enter('8379661563346680544');" onmouseout="out('8379661563346680544');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  53   private long    lo_, hi_; // bounds on characters in &quot;buff&quot;                                            </span>
<span class="4530843330504174223" onmouseenter="enter('4530843330504174223');" onmouseout="out('4530843330504174223');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  54   private byte[]  buff_; // local buffer                                                                 </span>
<span class="-4032746716063405874" onmouseenter="enter('-4032746716063405874');" onmouseout="out('-4032746716063405874');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  55   private long    maxHi_; // this.lo + this.buff.length                                                  </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  56   private boolean hitEOF_; // buffer contains last file block?                                           </span>
<span class="-4955483419006461889" onmouseenter="enter('-4955483419006461889');" onmouseout="out('-4955483419006461889');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  57   private long    diskPos_; // disk position                                                             </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  58 ||||||| BASE                                                                                             </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  59 =======                                                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  60 import java.io.File;                                                                                     </span>
<span class="-75475733228177869" onmouseenter="enter('-75475733228177869');" onmouseout="out('-75475733228177869');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  61 import java.io.FileNotFoundException;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  62 import java.io.IOException;                                                                              </span>
<span class="-3877933607611446246" onmouseenter="enter('-3877933607611446246');" onmouseout="out('-3877933607611446246');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  63 import java.io.RandomAccessFile;                                                                         </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  64 import java.util.Arrays;                                                                                 </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  65                                                                                                          </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  66 //import org.apache.log4j.Logger;                                                                        </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  67                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  68 /**                                                                                                      </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  69  * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                     </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  70  * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                              </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  71  * operations do not require a disk access.                                                              </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  72  * &lt;P&gt;                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  73  *                                                                                                       </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  74  * Note: The operations on this class are unmonitored. Also, the correct                                 </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  75  * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                 </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  76  * overridden here relies on the implementation of those methods in the                                  </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  77  * superclass.                                                                                           </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  78  * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  79  */                                                                                                      </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  80                                                                                                          </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  81 public final class BufferedRandomAccessFile extends RandomAccessFile {                                   </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  82   //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);              </span>
<span class="4817946539310203452" onmouseenter="enter('4817946539310203452');" onmouseout="out('4817946539310203452');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  83   static final int LogBuffSz_ = 16; // 64K buffer                                                        </span>
<span class="7970026977970362353" onmouseenter="enter('7970026977970362353');" onmouseout="out('7970026977970362353');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  84   public static final int BuffSz_ = (1 &lt;&lt; LogBuffSz_);                                                   </span>
<span class="1408327314418367095" onmouseenter="enter('1408327314418367095');" onmouseout="out('1408327314418367095');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  85   static final long BuffMask_ = ~(((long) BuffSz_) - 1L);                                                </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  86                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  87   /*                                                                                                     </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  88    * This implementation is based on the buffer implementation in Modula-3&#x27;s                             </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  89    * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  90    */                                                                                                    </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  91   private boolean dirty_; // true iff unflushed bytes exist                                              </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92   private boolean closed_; // true iff the file is closed                                                </span>
<span class="8548792791394327213" onmouseenter="enter('8548792791394327213');" onmouseout="out('8548792791394327213');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93   private long curr_; // current position in file                                                        </span>
<span class="2810035121052255641" onmouseenter="enter('2810035121052255641');" onmouseout="out('2810035121052255641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94   private long lo_, hi_; // bounds on characters in &quot;buff&quot;                                               </span>
<span class="-5565336812166914708" onmouseenter="enter('-5565336812166914708');" onmouseout="out('-5565336812166914708');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  95   private byte[] buff_; // local buffer                                                                  </span>
<span class="-6790252224051494414" onmouseenter="enter('-6790252224051494414');" onmouseout="out('-6790252224051494414');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  96   private long maxHi_; // this.lo + this.buff.length                                                     </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  97   private boolean hitEOF_; // buffer contains last file block?                                           </span>
<span class="3794371971058784568" onmouseenter="enter('3794371971058784568');" onmouseout="out('3794371971058784568');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  98   private long diskPos_; // disk position                                                                </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style="">  99 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span  style=""> 100                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 101     /*                                                                                                   </span>
<span class="-3936581569571034100" onmouseenter="enter('-3936581569571034100');" onmouseout="out('-3936581569571034100');" style=""> 102      * To describe the above fields, we introduce the following abstractions for                         </span>
<span class="2069724281899459821" onmouseenter="enter('2069724281899459821');" onmouseout="out('2069724281899459821');" style=""> 103      * the file &quot;f&quot;:                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 104      *                                                                                                   </span>
<span class="3942109514579599807" onmouseenter="enter('3942109514579599807');" onmouseout="out('3942109514579599807');" style=""> 105      * len(f) the length of the file curr(f) the current position in the file                            </span>
<span class="8423531652573548138" onmouseenter="enter('8423531652573548138');" onmouseout="out('8423531652573548138');" style=""> 106      * c(f) the abstract contents of the file disk(f) the contents of f&#x27;s                                </span>
<span class="9171631245335973257" onmouseenter="enter('9171631245335973257');" onmouseout="out('9171631245335973257');" style=""> 107      * backing disk file closed(f) true iff the file is closed                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 108      *                                                                                                   </span>
<span class="6062939284417426381" onmouseenter="enter('6062939284417426381');" onmouseout="out('6062939284417426381');" style=""> 109      * &quot;curr(f)&quot; is an index in the closed interval [0, len(f)]. &quot;c(f)&quot; is a                             </span>
<span class="4916274110970917743" onmouseenter="enter('4916274110970917743');" onmouseout="out('4916274110970917743');" style=""> 110      * character sequence of length &quot;len(f)&quot;. &quot;c(f)&quot; and &quot;disk(f)&quot; may differ if                         </span>
<span class="5077953901668360228" onmouseenter="enter('5077953901668360228');" onmouseout="out('5077953901668360228');" style=""> 111      * &quot;c(f)&quot; contains unflushed writes not reflected in &quot;disk(f)&quot;. The flush                            </span>
<span class="-1571440391623047981" onmouseenter="enter('-1571440391623047981');" onmouseout="out('-1571440391623047981');" style=""> 112      * operation has the effect of making &quot;disk(f)&quot; identical to &quot;c(f)&quot;.                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 113      *                                                                                                   </span>
<span class="8144322784694474632" onmouseenter="enter('8144322784694474632');" onmouseout="out('8144322784694474632');" style=""> 114      * A file is said to be *valid* if the following conditions hold:                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 115      *                                                                                                   </span>
<span class="-1269630856537664309" onmouseenter="enter('-1269630856537664309');" onmouseout="out('-1269630856537664309');" style=""> 116      * V1. The &quot;closed&quot; and &quot;curr&quot; fields are correct:                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 117      *                                                                                                   </span>
<span class="979308808712187879" onmouseenter="enter('979308808712187879');" onmouseout="out('979308808712187879');" style=""> 118      * f.closed == closed(f) f.curr == curr(f)                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 119      *                                                                                                   </span>
<span class="-7772189654780820624" onmouseenter="enter('-7772189654780820624');" onmouseout="out('-7772189654780820624');" style=""> 120      * V2. The current position is either contained in the buffer, or just past                          </span>
<span class="2460586612831536921" onmouseenter="enter('2460586612831536921');" onmouseout="out('2460586612831536921');" style=""> 121      * the buffer:                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 122      *                                                                                                   </span>
<span class="-8875259016663419075" onmouseenter="enter('-8875259016663419075');" onmouseout="out('-8875259016663419075');" style=""> 123      * f.lo &lt;= f.curr &lt;= f.hi                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 124      *                                                                                                   </span>
<span class="-3007662814937088374" onmouseenter="enter('-3007662814937088374');" onmouseout="out('-3007662814937088374');" style=""> 125      * V3. Any (possibly) unflushed characters are stored in &quot;f.buff&quot;:                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 126      *                                                                                                   </span>
<span class="7662399701900948560" onmouseenter="enter('7662399701900948560');" onmouseout="out('7662399701900948560');" style=""> 127      * (forall i in [f.lo, f.curr): c(f)[i] == f.buff[i - f.lo])                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 128      *                                                                                                   </span>
<span class="-9067184832210593745" onmouseenter="enter('-9067184832210593745');" onmouseout="out('-9067184832210593745');" style=""> 129      * V4. For all characters not covered by V3, c(f) and disk(f) agree:                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 130      *                                                                                                   </span>
<span class="717831558004067077" onmouseenter="enter('717831558004067077');" onmouseout="out('717831558004067077');" style=""> 131      * (forall i in [f.lo, len(f)): i not in [f.lo, f.curr) =&gt; c(f)[i] ==                                </span>
<span class="4044229358116504451" onmouseenter="enter('4044229358116504451');" onmouseout="out('4044229358116504451');" style=""> 132      * disk(f)[i])                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 133      *                                                                                                   </span>
<span class="-1759754488380141707" onmouseenter="enter('-1759754488380141707');" onmouseout="out('-1759754488380141707');" style=""> 134      * V5. &quot;f.dirty&quot; is true iff the buffer contains bytes that should be                                </span>
<span class="-4738933140714611160" onmouseenter="enter('-4738933140714611160');" onmouseout="out('-4738933140714611160');" style=""> 135      * flushed to the file; by V3 and V4, only part of the buffer can be dirty.                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 136      *                                                                                                   </span>
<span class="-946393002272791033" onmouseenter="enter('-946393002272791033');" onmouseout="out('-946393002272791033');" style=""> 137      * f.dirty == (exists i in [f.lo, f.curr): c(f)[i] != f.buff[i - f.lo])                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 138      *                                                                                                   </span>
<span class="8799384245655111676" onmouseenter="enter('8799384245655111676');" onmouseout="out('8799384245655111676');" style=""> 139      * V6. this.maxHi == this.lo + this.buff.length                                                      </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 140      *                                                                                                   </span>
<span class="-8807197809286194757" onmouseenter="enter('-8807197809286194757');" onmouseout="out('-8807197809286194757');" style=""> 141      * Note that &quot;f.buff&quot; can be &quot;null&quot; in a valid file, since the range of                              </span>
<span class="8380169438616845165" onmouseenter="enter('8380169438616845165');" onmouseout="out('8380169438616845165');" style=""> 142      * characters in V3 is empty when &quot;f.lo == f.curr&quot;.                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 143      *                                                                                                   </span>
<span class="4472737642333127229" onmouseenter="enter('4472737642333127229');" onmouseout="out('4472737642333127229');" style=""> 144      * A file is said to be *ready* if the buffer contains the current position,                         </span>
<span class="530075668565703765" onmouseenter="enter('530075668565703765');" onmouseout="out('530075668565703765');" style=""> 145      * i.e., when:                                                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 146      *                                                                                                   </span>
<span class="3467179512391623708" onmouseenter="enter('3467179512391623708');" onmouseout="out('3467179512391623708');" style=""> 147      * R1. !f.closed &amp;&amp; f.buff != null &amp;&amp; f.lo &lt;= f.curr &amp;&amp; f.curr &lt; f.hi                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 148      *                                                                                                   </span>
<span class="-108247808767139067" onmouseenter="enter('-108247808767139067');" onmouseout="out('-108247808767139067');" style=""> 149      * When a file is ready, reading or writing a single byte can be performed                           </span>
<span class="-3499206885168790049" onmouseenter="enter('-3499206885168790049');" onmouseout="out('-3499206885168790049');" style=""> 150      * by reading or writing the in-memory buffer without performing a disk                              </span>
<span class="-3072305517631744386" onmouseenter="enter('-3072305517631744386');" onmouseout="out('-3072305517631744386');" style=""> 151      * operation.                                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 152      */                                                                                                  </span>
<span  style=""> 153                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 154   /**                                                                                                    </span>
<span class="1351546277608868832" onmouseenter="enter('1351546277608868832');" onmouseout="out('1351546277608868832');" style=""> 155    * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on &lt;code&gt;file&lt;/code&gt;                               </span>
<span class="453887555747532364" onmouseenter="enter('453887555747532364');" onmouseout="out('453887555747532364');" style=""> 156    * in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for reading only, or                                 </span>
<span class="-3680215098577845464" onmouseenter="enter('-3680215098577845464');" onmouseout="out('-3680215098577845464');" style=""> 157    * &quot;rw&quot; for reading and writing.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 158    */                                                                                                    </span>
<span class="-8434990783057983301" onmouseenter="enter('-8434990783057983301');" onmouseout="out('-8434990783057983301');" style=""> 159   public BufferedRandomAccessFile(File file, String mode) throws IOException {                           </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 160     super(file, mode);                                                                                   </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 161     this.init(0);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162   }                                                                                                      </span>
<span  style=""> 163                                                                                                          </span>
<span class="-453136098354647832" onmouseenter="enter('-453136098354647832');" onmouseout="out('-453136098354647832');" style=""> 164   public BufferedRandomAccessFile(File file, String mode, int size) throws IOException {                 </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 165     super(file, mode);                                                                                   </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 166     this.init(size);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167   }                                                                                                      </span>
<span  style=""> 168                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 169   /**                                                                                                    </span>
<span class="-3480587780124661536" onmouseenter="enter('-3480587780124661536');" onmouseout="out('-3480587780124661536');" style=""> 170    * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on the file named                                  </span>
<span class="-7030046076474638613" onmouseenter="enter('-7030046076474638613');" onmouseout="out('-7030046076474638613');" style=""> 171    * &lt;code&gt;name&lt;/code&gt; in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for                                </span>
<span class="1088989998774722620" onmouseenter="enter('1088989998774722620');" onmouseout="out('1088989998774722620');" style=""> 172    * reading only, or &quot;rw&quot; for reading and writing.                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 173    */                                                                                                    </span>
<span class="-8823965408485600512" onmouseenter="enter('-8823965408485600512');" onmouseout="out('-8823965408485600512');" style=""> 174   public BufferedRandomAccessFile(String name, String mode) throws IOException {                         </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 175     super(name, mode);                                                                                   </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 176     this.init(0);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177   }                                                                                                      </span>
<span  style=""> 178                                                                                                          </span>
<span class="5657307843603113479" onmouseenter="enter('5657307843603113479');" onmouseout="out('5657307843603113479');" style=""> 179   public BufferedRandomAccessFile(String name, String mode, int size) throws FileNotFoundException {     </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 180     super(name, mode);                                                                                   </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 181     this.init(size);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182   }                                                                                                      </span>
<span  style=""> 183                                                                                                          </span>
<span class="5551924884735922585" onmouseenter="enter('5551924884735922585');" onmouseout="out('5551924884735922585');" style=""> 184   private void init(int size) {                                                                          </span>
<span class="-2850666888898584218" onmouseenter="enter('-2850666888898584218');" onmouseout="out('-2850666888898584218');" style=""> 185     this.dirty_ = this.closed_ = false;                                                                  </span>
<span class="2840697314215077210" onmouseenter="enter('2840697314215077210');" onmouseout="out('2840697314215077210');" style=""> 186     this.lo_ = this.curr_ = this.hi_ = 0;                                                                </span>
<span class="989376670792595176" onmouseenter="enter('989376670792595176');" onmouseout="out('989376670792595176');" style=""> 187     this.buff_ = (size &gt; BuffSz_) ? new byte[size] : new byte[BuffSz_];                                  </span>
<span class="-6551025993424877277" onmouseenter="enter('-6551025993424877277');" onmouseout="out('-6551025993424877277');" style=""> 188     this.maxHi_ = (long) BuffSz_;                                                                        </span>
<span class="5218815061722857854" onmouseenter="enter('5218815061722857854');" onmouseout="out('5218815061722857854');" style=""> 189     this.hitEOF_ = false;                                                                                </span>
<span class="-5785819969814094934" onmouseenter="enter('-5785819969814094934');" onmouseout="out('-5785819969814094934');" style=""> 190     this.diskPos_ = 0L;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191   }                                                                                                      </span>
<span  style=""> 192                                                                                                          </span>
<span class="3075770629113308700" onmouseenter="enter('3075770629113308700');" onmouseout="out('3075770629113308700');" style=""> 193   public void close() throws IOException {                                                               </span>
<span class="-2142124785498338157" onmouseenter="enter('-2142124785498338157');" onmouseout="out('-2142124785498338157');" style=""> 194     this.flush();                                                                                        </span>
<span class="-6340371251695134552" onmouseenter="enter('-6340371251695134552');" onmouseout="out('-6340371251695134552');" style=""> 195     this.closed_ = true;                                                                                 </span>
<span class="-2219391834669832598" onmouseenter="enter('-2219391834669832598');" onmouseout="out('-2219391834669832598');" style=""> 196     super.close();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197   }                                                                                                      </span>
<span  style=""> 198                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 199   /**                                                                                                    </span>
<span class="6399380210193036787" onmouseenter="enter('6399380210193036787');" onmouseout="out('6399380210193036787');" style=""> 200    * Flush any bytes in the file&#x27;s buffer that have not yet been written to                              </span>
<span class="847851214623451697" onmouseenter="enter('847851214623451697');" onmouseout="out('847851214623451697');" style=""> 201    * disk. If the file was created read-only, this method is a no-op.                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 202    */                                                                                                    </span>
<span class="3516006397829896858" onmouseenter="enter('3516006397829896858');" onmouseout="out('3516006397829896858');" style=""> 203   public void flush() throws IOException {                                                               </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 204     this.flushBuffer();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205   }                                                                                                      </span>
<span  style=""> 206                                                                                                          </span>
<span class="587201756057337699" onmouseenter="enter('587201756057337699');" onmouseout="out('587201756057337699');" style=""> 207   /* Flush any dirty bytes in the buffer to disk. */                                                     </span>
<span class="8758894563108089599" onmouseenter="enter('8758894563108089599');" onmouseout="out('8758894563108089599');" style=""> 208   private void flushBuffer() throws IOException {                                                        </span>
<span class="4301885684552359519" onmouseenter="enter('4301885684552359519');" onmouseout="out('4301885684552359519');" style=""> 209     if (this.dirty_) {                                                                                   </span>
<span class="736124185545095616" onmouseenter="enter('736124185545095616');" onmouseout="out('736124185545095616');" style=""> 210       if (this.diskPos_ != this.lo_) super.seek(this.lo_);                                               </span>
<span class="-5281562837227929409" onmouseenter="enter('-5281562837227929409');" onmouseout="out('-5281562837227929409');" style=""> 211       int len = (int) (this.curr_ - this.lo_);                                                           </span>
<span class="6765610743081262114" onmouseenter="enter('6765610743081262114');" onmouseout="out('6765610743081262114');" style=""> 212       super.write(this.buff_, 0, len);                                                                   </span>
<span class="4683992282209736577" onmouseenter="enter('4683992282209736577');" onmouseout="out('4683992282209736577');" style=""> 213       this.diskPos_ = this.curr_;                                                                        </span>
<span class="3238476683105780913" onmouseenter="enter('3238476683105780913');" onmouseout="out('3238476683105780913');" style=""> 214       this.dirty_ = false;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216   }                                                                                                      </span>
<span  style=""> 217                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 218   /*                                                                                                     </span>
<span class="-2021782647515546277" onmouseenter="enter('-2021782647515546277');" onmouseout="out('-2021782647515546277');" style=""> 219    * Read at most &quot;this.buff.length&quot; bytes into &quot;this.buff&quot;, returning the                               </span>
<span class="-4515480482852552412" onmouseenter="enter('-4515480482852552412');" onmouseout="out('-4515480482852552412');" style=""> 220    * number of bytes read. If the return result is less than                                             </span>
<span class="-7486505761455918547" onmouseenter="enter('-7486505761455918547');" onmouseout="out('-7486505761455918547');" style=""> 221    * &quot;this.buff.length&quot;, then EOF was read.                                                              </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 222    */                                                                                                    </span>
<span class="9102680032405651536" onmouseenter="enter('9102680032405651536');" onmouseout="out('9102680032405651536');" style=""> 223   private int fillBuffer() throws IOException {                                                          </span>
<span class="-6925568187558983072" onmouseenter="enter('-6925568187558983072');" onmouseout="out('-6925568187558983072');" style=""> 224     int cnt = 0;                                                                                         </span>
<span class="1211647843866851781" onmouseenter="enter('1211647843866851781');" onmouseout="out('1211647843866851781');" style=""> 225     int rem = this.buff_.length;                                                                         </span>
<span class="4558901091400485838" onmouseenter="enter('4558901091400485838');" onmouseout="out('4558901091400485838');" style=""> 226     while (rem &gt; 0) {                                                                                    </span>
<span class="8150290817251668846" onmouseenter="enter('8150290817251668846');" onmouseout="out('8150290817251668846');" style=""> 227       int n = super.read(this.buff_, cnt, rem);                                                          </span>
<span class="3286194446926829446" onmouseenter="enter('3286194446926829446');" onmouseout="out('3286194446926829446');" style=""> 228       if (n &lt; 0) break;                                                                                  </span>
<span class="-2189520819463946014" onmouseenter="enter('-2189520819463946014');" onmouseout="out('-2189520819463946014');" style=""> 229       cnt += n;                                                                                          </span>
<span class="435047948805898023" onmouseenter="enter('435047948805898023');" onmouseout="out('435047948805898023');" style=""> 230       rem -= n;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 231     }                                                                                                    </span>
<span class="-2592275401294750026" onmouseenter="enter('-2592275401294750026');" onmouseout="out('-2592275401294750026');" style=""> 232     if ((cnt &lt; 0) &amp;&amp; (this.hitEOF_ = (cnt &lt; this.buff_.length))) {                                       </span>
<span class="6009473334823966987" onmouseenter="enter('6009473334823966987');" onmouseout="out('6009473334823966987');" style=""> 233       // make sure buffer that wasn&#x27;t read is initialized with -1                                        </span>
<span class="3302036294169840097" onmouseenter="enter('3302036294169840097');" onmouseout="out('3302036294169840097');" style=""> 234       Arrays.fill(this.buff_, cnt, this.buff_.length, (byte) 0xff);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 235     }                                                                                                    </span>
<span class="4142463760419510235" onmouseenter="enter('4142463760419510235');" onmouseout="out('4142463760419510235');" style=""> 236     this.diskPos_ += cnt;                                                                                </span>
<span class="1201366805596982616" onmouseenter="enter('1201366805596982616');" onmouseout="out('1201366805596982616');" style=""> 237     return cnt;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238   }                                                                                                      </span>
<span  style=""> 239                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 240   /*                                                                                                     </span>
<span class="-6173403972520006794" onmouseenter="enter('-6173403972520006794');" onmouseout="out('-6173403972520006794');" style=""> 241    * This method positions &lt;code&gt;this.curr&lt;/code&gt; at position &lt;code&gt;pos&lt;/code&gt;.                          </span>
<span class="-209648681527588585" onmouseenter="enter('-209648681527588585');" onmouseout="out('-209648681527588585');" style=""> 242    * If &lt;code&gt;pos&lt;/code&gt; does not fall in the current buffer, it flushes the                             </span>
<span class="-3523323071525754796" onmouseenter="enter('-3523323071525754796');" onmouseout="out('-3523323071525754796');" style=""> 243    * current buffer and loads the correct one.&lt;p&gt;                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 244    *                                                                                                     </span>
<span class="-4975564389020336965" onmouseenter="enter('-4975564389020336965');" onmouseout="out('-4975564389020336965');" style=""> 245    * On exit from this routine &lt;code&gt;this.curr == this.hi&lt;/code&gt; iff &lt;code&gt;pos&lt;/code&gt;                    </span>
<span class="3609328464105633747" onmouseenter="enter('3609328464105633747');" onmouseout="out('3609328464105633747');" style=""> 246    * is at or past the end-of-file, which can only happen if the file was                                </span>
<span class="-8683284462584625720" onmouseenter="enter('-8683284462584625720');" onmouseout="out('-8683284462584625720');" style=""> 247    * opened in read-only mode.                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 248    */                                                                                                    </span>
<span class="1045469846730437003" onmouseenter="enter('1045469846730437003');" onmouseout="out('1045469846730437003');" style=""> 249   public void seek(long pos) throws IOException {                                                        </span>
<span class="1233461237264754204" onmouseenter="enter('1233461237264754204');" onmouseout="out('1233461237264754204');" style=""> 250     if (pos &gt;= this.hi_ || pos &lt; this.lo_) {                                                             </span>
<span class="-8526000519492201168" onmouseenter="enter('-8526000519492201168');" onmouseout="out('-8526000519492201168');" style=""> 251       // seeking outside of current buffer -- flush and read                                             </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 252       this.flushBuffer();                                                                                </span>
<span class="-1955428514344839188" onmouseenter="enter('-1955428514344839188');" onmouseout="out('-1955428514344839188');" style=""> 253       this.lo_ = pos &amp; BuffMask_; // start at BuffSz boundary                                            </span>
<span class="-3108337400407772088" onmouseenter="enter('-3108337400407772088');" onmouseout="out('-3108337400407772088');" style=""> 254       this.maxHi_ = this.lo_ + (long) this.buff_.length;                                                 </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style=""> 255       if (this.diskPos_ != this.lo_) {                                                                   </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style=""> 256         super.seek(this.lo_);                                                                            </span>
<span class="-434856769074322394" onmouseenter="enter('-434856769074322394');" onmouseout="out('-434856769074322394');" style=""> 257         this.diskPos_ = this.lo_;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258       }                                                                                                  </span>
<span class="5958235403126495881" onmouseenter="enter('5958235403126495881');" onmouseout="out('5958235403126495881');" style=""> 259       int n = this.fillBuffer();                                                                         </span>
<span class="6020729273271733469" onmouseenter="enter('6020729273271733469');" onmouseout="out('6020729273271733469');" style=""> 260       this.hi_ = this.lo_ + (long) n;                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 261     } else {                                                                                             </span>
<span class="-2068750461792604158" onmouseenter="enter('-2068750461792604158');" onmouseout="out('-2068750461792604158');" style=""> 262       // seeking inside current buffer -- no read required                                               </span>
<span class="-8767416704062471642" onmouseenter="enter('-8767416704062471642');" onmouseout="out('-8767416704062471642');" style=""> 263       if (pos &lt; this.curr_) {                                                                            </span>
<span class="3571291767884108983" onmouseenter="enter('3571291767884108983');" onmouseout="out('3571291767884108983');" style=""> 264         // if seeking backwards, we must flush to maintain V4                                            </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 265         this.flushBuffer();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267     }                                                                                                    </span>
<span class="8509908448470847884" onmouseenter="enter('8509908448470847884');" onmouseout="out('8509908448470847884');" style=""> 268     this.curr_ = pos;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269   }                                                                                                      </span>
<span  style=""> 270                                                                                                          </span>
<span class="-7084230487165991749" onmouseenter="enter('-7084230487165991749');" onmouseout="out('-7084230487165991749');" style=""> 271   public long getFilePointer() {                                                                         </span>
<span class="-6051440881378549831" onmouseenter="enter('-6051440881378549831');" onmouseout="out('-6051440881378549831');" style=""> 272     return this.curr_;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273   }                                                                                                      </span>
<span  style=""> 274                                                                                                          </span>
<span class="-6941883707135103006" onmouseenter="enter('-6941883707135103006');" onmouseout="out('-6941883707135103006');" style=""> 275   public long length() throws IOException {                                                              </span>
<span class="-8729952525790322599" onmouseenter="enter('-8729952525790322599');" onmouseout="out('-8729952525790322599');" style=""> 276     return Math.max(this.curr_, super.length());                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 277   }                                                                                                      </span>
<span  style=""> 278                                                                                                          </span>
<span class="-9012256586706032903" onmouseenter="enter('-9012256586706032903');" onmouseout="out('-9012256586706032903');" style=""> 279   public int read() throws IOException {                                                                 </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 280     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 281       // test for EOF                                                                                    </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 282       // if (this.hi &lt; this.maxHi) return -1;                                                            </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style=""> 283       if (this.hitEOF_) return -1;                                                                       </span>
<span  style=""> 284                                                                                                          </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 285       // slow path -- read another buffer                                                                </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 286       this.seek(this.curr_);                                                                             </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style=""> 287       if (this.curr_ == this.hi_) return -1;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288     }                                                                                                    </span>
<span class="4419650221760970549" onmouseenter="enter('4419650221760970549');" onmouseout="out('4419650221760970549');" style=""> 289     byte res = this.buff_[(int) (this.curr_ - this.lo_)];                                                </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 290     this.curr_++;                                                                                        </span>
<span class="-627440987035300608" onmouseenter="enter('-627440987035300608');" onmouseout="out('-627440987035300608');" style=""> 291     return ((int) res) &amp; 0xFF; // convert byte -&gt; int                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292   }                                                                                                      </span>
<span  style=""> 293                                                                                                          </span>
<span class="-3083187423260978934" onmouseenter="enter('-3083187423260978934');" onmouseout="out('-3083187423260978934');" style=""> 294   public int read(byte[] b) throws IOException {                                                         </span>
<span class="3890104000838200797" onmouseenter="enter('3890104000838200797');" onmouseout="out('3890104000838200797');" style=""> 295     return this.read(b, 0, b.length);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296   }                                                                                                      </span>
<span  style=""> 297                                                                                                          </span>
<span class="-6549446275079329744" onmouseenter="enter('-6549446275079329744');" onmouseout="out('-6549446275079329744');" style=""> 298   public int read(byte[] b, int off, int len) throws IOException {                                       </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 299     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 300       // test for EOF                                                                                    </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 301       // if (this.hi &lt; this.maxHi) return -1;                                                            </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style=""> 302       if (this.hitEOF_) return -1;                                                                       </span>
<span  style=""> 303                                                                                                          </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 304       // slow path -- read another buffer                                                                </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 305       this.seek(this.curr_);                                                                             </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style=""> 306       if (this.curr_ == this.hi_) return -1;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307     }                                                                                                    </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style=""> 308     len = Math.min(len, (int) (this.hi_ - this.curr_));                                                  </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style=""> 309     int buffOff = (int) (this.curr_ - this.lo_);                                                         </span>
<span class="-4938401244321112082" onmouseenter="enter('-4938401244321112082');" onmouseout="out('-4938401244321112082');" style=""> 310     System.arraycopy(this.buff_, buffOff, b, off, len);                                                  </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 311     this.curr_ += len;                                                                                   </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 312     return len;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313   }                                                                                                      </span>
<span  style=""> 314                                                                                                          </span>
<span class="3099678744335489259" onmouseenter="enter('3099678744335489259');" onmouseout="out('3099678744335489259');" style=""> 315   public void write(int b) throws IOException {                                                          </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 316     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style=""> 317       if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                      </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 318         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 319         this.hi_++;                                                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 320       } else {                                                                                           </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 321         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 322         this.seek(this.curr_);                                                                           </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 323         if (this.curr_ == this.hi_) {                                                                    </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 324           // appending to EOF -- bump &quot;hi&quot;                                                               </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 325           this.hi_++;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328     }                                                                                                    </span>
<span class="3241130681458379004" onmouseenter="enter('3241130681458379004');" onmouseout="out('3241130681458379004');" style=""> 329     this.buff_[(int) (this.curr_ - this.lo_)] = (byte) b;                                                </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 330     this.curr_++;                                                                                        </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 331     this.dirty_ = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332   }                                                                                                      </span>
<span  style=""> 333                                                                                                          </span>
<span class="-5890548955324027663" onmouseenter="enter('-5890548955324027663');" onmouseout="out('-5890548955324027663');" style=""> 334   public void write(byte[] b) throws IOException {                                                       </span>
<span class="2476786234223299971" onmouseenter="enter('2476786234223299971');" onmouseout="out('2476786234223299971');" style=""> 335     this.write(b, 0, b.length);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336   }                                                                                                      </span>
<span  style=""> 337                                                                                                          </span>
<span class="5333634921828566172" onmouseenter="enter('5333634921828566172');" onmouseout="out('5333634921828566172');" style=""> 338   public void write(byte[] b, int off, int len) throws IOException {                                     </span>
<span class="8659956805677425638" onmouseenter="enter('8659956805677425638');" onmouseout="out('8659956805677425638');" style=""> 339     while (len &gt; 0) {                                                                                    </span>
<span class="4253461387035776156" onmouseenter="enter('4253461387035776156');" onmouseout="out('4253461387035776156');" style=""> 340       int n = this.writeAtMost(b, off, len);                                                             </span>
<span class="5133194115572522886" onmouseenter="enter('5133194115572522886');" onmouseout="out('5133194115572522886');" style=""> 341       off += n;                                                                                          </span>
<span class="-6861508777646263488" onmouseenter="enter('-6861508777646263488');" onmouseout="out('-6861508777646263488');" style=""> 342       len -= n;                                                                                          </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 343       this.dirty_ = true;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345   }                                                                                                      </span>
<span  style=""> 346                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 347   /*                                                                                                     </span>
<span class="-3823945200468182935" onmouseenter="enter('-3823945200468182935');" onmouseout="out('-3823945200468182935');" style=""> 348    * Write at most &quot;len&quot; bytes to &quot;b&quot; starting at position &quot;off&quot;, and return                             </span>
<span class="5705453366365250461" onmouseenter="enter('5705453366365250461');" onmouseout="out('5705453366365250461');" style=""> 349    * the number of bytes written.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 350    */                                                                                                    </span>
<span class="4775960870479698671" onmouseenter="enter('4775960870479698671');" onmouseout="out('4775960870479698671');" style=""> 351   private int writeAtMost(byte[] b, int off, int len) throws IOException {                               </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 352     if (this.curr_ &gt;= this.hi_) {                                                                        </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style=""> 353       if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                      </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 354         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 355         this.hi_ = this.maxHi_;                                                                          </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 356       } else {                                                                                           </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 357         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 358         this.seek(this.curr_);                                                                           </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 359         if (this.curr_ == this.hi_) {                                                                    </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 360           // appending to EOF -- bump &quot;hi&quot;                                                               </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 361           this.hi_ = this.maxHi_;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 362         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 364     }                                                                                                    </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style=""> 365     len = Math.min(len, (int) (this.hi_ - this.curr_));                                                  </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style=""> 366     int buffOff = (int) (this.curr_ - this.lo_);                                                         </span>
<span class="7275583130401168337" onmouseenter="enter('7275583130401168337');" onmouseout="out('7275583130401168337');" style=""> 367     System.arraycopy(b, off, this.buff_, buffOff, len);                                                  </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 368     this.curr_ += len;                                                                                   </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 369     return len;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371 }                                                                                                        </span></pre></td>
                            <td><pre><span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">   1 /**                                                                                                      </span>
<span class="3101153502889412828" onmouseenter="enter('3101153502889412828');" onmouseout="out('3101153502889412828');" style="">   2  * Licensed to the Apache Software Foundation (ASF) under one                                            </span>
<span class="-6690800139350779170" onmouseenter="enter('-6690800139350779170');" onmouseout="out('-6690800139350779170');" style="">   3  * or more contributor license agreements.  See the NOTICE file                                          </span>
<span class="4408648408749222780" onmouseenter="enter('4408648408749222780');" onmouseout="out('4408648408749222780');" style="">   4  * distributed with this work for additional information                                                 </span>
<span class="7440871955664702931" onmouseenter="enter('7440871955664702931');" onmouseout="out('7440871955664702931');" style="">   5  * regarding copyright ownership.  The ASF licenses this file                                            </span>
<span class="-7748987699953482767" onmouseenter="enter('-7748987699953482767');" onmouseout="out('-7748987699953482767');" style="">   6  * to you under the Apache License, Version 2.0 (the                                                     </span>
<span class="-7532787339260984706" onmouseenter="enter('-7532787339260984706');" onmouseout="out('-7532787339260984706');" style="">   7  * &quot;License&quot;); you may not use this file except in compliance                                            </span>
<span class="6072654417402056570" onmouseenter="enter('6072654417402056570');" onmouseout="out('6072654417402056570');" style="">   8  * with the License.  You may obtain a copy of the License at                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="3430964305904514764" onmouseenter="enter('3430964305904514764');" onmouseout="out('3430964305904514764');" style="">  10  * http://www.apache.org/licenses/LICENSE-2.0                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  11  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  12  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  13  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  14  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  15  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  16  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="8051609116594511973" onmouseenter="enter('8051609116594511973');" onmouseout="out('8051609116594511973');" style="">  18 package com.arialyy.aria.util;                                                                           </span>
<span  style="">  19                                                                                                          </span>
<span class="6779715416064674619" onmouseenter="enter('6779715416064674619');" onmouseout="out('6779715416064674619');" style="">  20 import java.io.*;                                                                                        </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  21 import java.io.File;                                                                                     </span>
<span class="-75475733228177869" onmouseenter="enter('-75475733228177869');" onmouseout="out('-75475733228177869');" style="">  22 import java.io.FileNotFoundException;                                                                    </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  23 import java.io.IOException;                                                                              </span>
<span class="-3877933607611446246" onmouseenter="enter('-3877933607611446246');" onmouseout="out('-3877933607611446246');" style="">  24 import java.io.RandomAccessFile;                                                                         </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  25 import java.util.Arrays;                                                                                 </span>
<span  style="">  26                                                                                                          </span>
<span  style="">  27                                                                                                          </span>
<span class="-2505922662413667411" onmouseenter="enter('-2505922662413667411');" onmouseout="out('-2505922662413667411');" style="">  28 // import org.apache.log4j.Logger;                                                                       </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  29 /**                                                                                                      </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="">  30  * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                     </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="">  31  * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                              </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="">  32  * operations do not require a disk access.                                                              </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="">  33  * &lt;P&gt;                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  34  *                                                                                                       </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="">  35  * Note: The operations on this class are unmonitored. Also, the correct                                 </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="">  36  * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                 </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="">  37  * overridden here relies on the implementation of those methods in the                                  </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="">  38  * superclass.                                                                                           </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="">  39  * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  40  */                                                                                                      </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="">  41 public final class BufferedRandomAccessFile extends RandomAccessFile {                                   </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="">  42 //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);                </span>
<span class="-6838636345630695584" onmouseenter="enter('-6838636345630695584');" onmouseout="out('-6838636345630695584');" style="">  43     // 64K buffer                                                                                        </span>
<span class="5066304441881029356" onmouseenter="enter('5066304441881029356');" onmouseout="out('5066304441881029356');" style="">  44     static final int LogBuffSz_ = 16;                                                                    </span>
<span  style="">  45                                                                                                          </span>
<span class="6389819669517176865" onmouseenter="enter('6389819669517176865');" onmouseout="out('6389819669517176865');" style="">  46     public static final int BuffSz_ = 1 &lt;&lt; LogBuffSz_;                                                   </span>
<span  style="">  47                                                                                                          </span>
<span class="3026412924358853468" onmouseenter="enter('3026412924358853468');" onmouseout="out('3026412924358853468');" style="">  48     static final long BuffMask_ = ~(((long) (BuffSz_)) - 1L);                                            </span>
<span  style="">  49                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">  50 /*                                                                                                       </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="">  51  * This implementation is based on the buffer implementation in Modula-3&#x27;s                               </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="">  52  * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  53  */                                                                                                      </span>
<span class="7081416268684835045" onmouseenter="enter('7081416268684835045');" onmouseout="out('7081416268684835045');" style="">  54     // true iff unflushed bytes exist                                                                    </span>
<span class="1329247655775008666" onmouseenter="enter('1329247655775008666');" onmouseout="out('1329247655775008666');" style="">  55     private boolean dirty_;                                                                              </span>
<span  style="">  56                                                                                                          </span>
<span class="-7917550843025889531" onmouseenter="enter('-7917550843025889531');" onmouseout="out('-7917550843025889531');" style="">  57     // true iff the file is closed                                                                       </span>
<span class="-2407182043990069707" onmouseenter="enter('-2407182043990069707');" onmouseout="out('-2407182043990069707');" style="">  58     private boolean closed_;                                                                             </span>
<span  style="">  59                                                                                                          </span>
<span class="-6816725191378808018" onmouseenter="enter('-6816725191378808018');" onmouseout="out('-6816725191378808018');" style="">  60 // current position in file                                                                              </span>
<span class="6417361840043631292" onmouseenter="enter('6417361840043631292');" onmouseout="out('6417361840043631292');" style="">  61     private long curr_;                                                                                  </span>
<span  style="">  62                                                                                                          </span>
<span class="5524936600304361193" onmouseenter="enter('5524936600304361193');" onmouseout="out('5524936600304361193');" style="">  63     private long lo_;                                                                                    </span>
<span  style="">  64                                                                                                          </span>
<span class="-671843123881590573" onmouseenter="enter('-671843123881590573');" onmouseout="out('-671843123881590573');" style="">  65     // bounds on characters in &quot;buff&quot;                                                                    </span>
<span class="-6164796287943986728" onmouseenter="enter('-6164796287943986728');" onmouseout="out('-6164796287943986728');" style="">  66     private long hi_;                                                                                    </span>
<span  style="">  67                                                                                                          </span>
<span class="7070154752202972871" onmouseenter="enter('7070154752202972871');" onmouseout="out('7070154752202972871');" style="">  68 // local buffer                                                                                          </span>
<span class="-4232305695649503257" onmouseenter="enter('-4232305695649503257');" onmouseout="out('-4232305695649503257');" style="">  69     private byte[] buff_;                                                                                </span>
<span  style="">  70                                                                                                          </span>
<span class="1233541006949021768" onmouseenter="enter('1233541006949021768');" onmouseout="out('1233541006949021768');" style="">  71     // this.lo + this.buff.length                                                                        </span>
<span class="-9214571650831135397" onmouseenter="enter('-9214571650831135397');" onmouseout="out('-9214571650831135397');" style="">  72     private long maxHi_;                                                                                 </span>
<span  style="">  73                                                                                                          </span>
<span class="-2251552047629986162" onmouseenter="enter('-2251552047629986162');" onmouseout="out('-2251552047629986162');" style="">  74 // buffer contains last file block?                                                                      </span>
<span class="-4260048382830509691" onmouseenter="enter('-4260048382830509691');" onmouseout="out('-4260048382830509691');" style="">  75     private boolean hitEOF_;                                                                             </span>
<span  style="">  76                                                                                                          </span>
<span class="1074571804656305197" onmouseenter="enter('1074571804656305197');" onmouseout="out('1074571804656305197');" style="">  77     // disk position                                                                                     </span>
<span class="8570931017547967319" onmouseenter="enter('8570931017547967319');" onmouseout="out('8570931017547967319');" style="">  78     private long diskPos_;                                                                               </span>
<span  style="">  79                                                                                                          </span>
<span class="-3667933282246457714" onmouseenter="enter('-3667933282246457714');" onmouseout="out('-3667933282246457714');" style="">  80     /* To describe the above fields, we introduce the following abstractions for                         </span>
<span class="1763645120093539450" onmouseenter="enter('1763645120093539450');" onmouseout="out('1763645120093539450');" style="">  81     the file &quot;f&quot;:                                                                                        </span>
<span  style="">  82                                                                                                          </span>
<span class="3837241116263865237" onmouseenter="enter('3837241116263865237');" onmouseout="out('3837241116263865237');" style="">  83     len(f) the length of the file curr(f) the current position in the file                               </span>
<span class="-7319350571699440509" onmouseenter="enter('-7319350571699440509');" onmouseout="out('-7319350571699440509');" style="">  84     c(f) the abstract contents of the file disk(f) the contents of f&#x27;s                                   </span>
<span class="-2199924786361353541" onmouseenter="enter('-2199924786361353541');" onmouseout="out('-2199924786361353541');" style="">  85     backing disk file closed(f) true iff the file is closed                                              </span>
<span  style="">  86                                                                                                          </span>
<span class="7968742628708002685" onmouseenter="enter('7968742628708002685');" onmouseout="out('7968742628708002685');" style="">  87     &quot;curr(f)&quot; is an index in the closed interval [0, len(f)]. &quot;c(f)&quot; is a                                </span>
<span class="5120633494375253844" onmouseenter="enter('5120633494375253844');" onmouseout="out('5120633494375253844');" style="">  88     character sequence of length &quot;len(f)&quot;. &quot;c(f)&quot; and &quot;disk(f)&quot; may differ if                            </span>
<span class="-5471140535361387406" onmouseenter="enter('-5471140535361387406');" onmouseout="out('-5471140535361387406');" style="">  89     &quot;c(f)&quot; contains unflushed writes not reflected in &quot;disk(f)&quot;. The flush                               </span>
<span class="1667941827910606486" onmouseenter="enter('1667941827910606486');" onmouseout="out('1667941827910606486');" style="">  90     operation has the effect of making &quot;disk(f)&quot; identical to &quot;c(f)&quot;.                                    </span>
<span  style="">  91                                                                                                          </span>
<span class="4792998211028801416" onmouseenter="enter('4792998211028801416');" onmouseout="out('4792998211028801416');" style="">  92     A file is said to be *valid* if the following conditions hold:                                       </span>
<span  style="">  93                                                                                                          </span>
<span class="-1548931553139869311" onmouseenter="enter('-1548931553139869311');" onmouseout="out('-1548931553139869311');" style="">  94     V1. The &quot;closed&quot; and &quot;curr&quot; fields are correct:                                                      </span>
<span  style="">  95                                                                                                          </span>
<span class="7440642027997436265" onmouseenter="enter('7440642027997436265');" onmouseout="out('7440642027997436265');" style="">  96     f.closed == closed(f) f.curr == curr(f)                                                              </span>
<span  style="">  97                                                                                                          </span>
<span class="-8603057975140174293" onmouseenter="enter('-8603057975140174293');" onmouseout="out('-8603057975140174293');" style="">  98     V2. The current position is either contained in the buffer, or just past                             </span>
<span class="907279477101737096" onmouseenter="enter('907279477101737096');" onmouseout="out('907279477101737096');" style="">  99     the buffer:                                                                                          </span>
<span  style=""> 100                                                                                                          </span>
<span class="5468037033103321255" onmouseenter="enter('5468037033103321255');" onmouseout="out('5468037033103321255');" style=""> 101     f.lo &lt;= f.curr &lt;= f.hi                                                                               </span>
<span  style=""> 102                                                                                                          </span>
<span class="-8108318789346016291" onmouseenter="enter('-8108318789346016291');" onmouseout="out('-8108318789346016291');" style=""> 103     V3. Any (possibly) unflushed characters are stored in &quot;f.buff&quot;:                                      </span>
<span  style=""> 104                                                                                                          </span>
<span class="6509833575192542382" onmouseenter="enter('6509833575192542382');" onmouseout="out('6509833575192542382');" style=""> 105     (forall i in [f.lo, f.curr): c(f)[i] == f.buff[i - f.lo])                                            </span>
<span  style=""> 106                                                                                                          </span>
<span class="3760452981218097420" onmouseenter="enter('3760452981218097420');" onmouseout="out('3760452981218097420');" style=""> 107     V4. For all characters not covered by V3, c(f) and disk(f) agree:                                    </span>
<span  style=""> 108                                                                                                          </span>
<span class="5527831315125496337" onmouseenter="enter('5527831315125496337');" onmouseout="out('5527831315125496337');" style=""> 109     (forall i in [f.lo, len(f)): i not in [f.lo, f.curr) =&gt; c(f)[i] ==                                   </span>
<span class="-6239459289741864052" onmouseenter="enter('-6239459289741864052');" onmouseout="out('-6239459289741864052');" style=""> 110     disk(f)[i])                                                                                          </span>
<span  style=""> 111                                                                                                          </span>
<span class="-1529482323837639817" onmouseenter="enter('-1529482323837639817');" onmouseout="out('-1529482323837639817');" style=""> 112     V5. &quot;f.dirty&quot; is true iff the buffer contains bytes that should be                                   </span>
<span class="-6382901725950640395" onmouseenter="enter('-6382901725950640395');" onmouseout="out('-6382901725950640395');" style=""> 113     flushed to the file; by V3 and V4, only part of the buffer can be dirty.                             </span>
<span  style=""> 114                                                                                                          </span>
<span class="4383514169323568575" onmouseenter="enter('4383514169323568575');" onmouseout="out('4383514169323568575');" style=""> 115     f.dirty == (exists i in [f.lo, f.curr): c(f)[i] != f.buff[i - f.lo])                                 </span>
<span  style=""> 116                                                                                                          </span>
<span class="-6228466519455325875" onmouseenter="enter('-6228466519455325875');" onmouseout="out('-6228466519455325875');" style=""> 117     V6. this.maxHi == this.lo + this.buff.length                                                         </span>
<span  style=""> 118                                                                                                          </span>
<span class="-7166066948796110536" onmouseenter="enter('-7166066948796110536');" onmouseout="out('-7166066948796110536');" style=""> 119     Note that &quot;f.buff&quot; can be &quot;null&quot; in a valid file, since the range of                                 </span>
<span class="744554262644343043" onmouseenter="enter('744554262644343043');" onmouseout="out('744554262644343043');" style=""> 120     characters in V3 is empty when &quot;f.lo == f.curr&quot;.                                                     </span>
<span  style=""> 121                                                                                                          </span>
<span class="9047210811935061469" onmouseenter="enter('9047210811935061469');" onmouseout="out('9047210811935061469');" style=""> 122     A file is said to be *ready* if the buffer contains the current position,                            </span>
<span class="1690381421230763852" onmouseenter="enter('1690381421230763852');" onmouseout="out('1690381421230763852');" style=""> 123     i.e., when:                                                                                          </span>
<span  style=""> 124                                                                                                          </span>
<span class="-4761770489228730331" onmouseenter="enter('-4761770489228730331');" onmouseout="out('-4761770489228730331');" style=""> 125     R1. !f.closed &amp;&amp; f.buff != null &amp;&amp; f.lo &lt;= f.curr &amp;&amp; f.curr &lt; f.hi                                   </span>
<span  style=""> 126                                                                                                          </span>
<span class="3073127511680041832" onmouseenter="enter('3073127511680041832');" onmouseout="out('3073127511680041832');" style=""> 127     When a file is ready, reading or writing a single byte can be performed                              </span>
<span class="-4642144930608419598" onmouseenter="enter('-4642144930608419598');" onmouseout="out('-4642144930608419598');" style=""> 128     by reading or writing the in-memory buffer without performing a disk                                 </span>
<span class="1622412841112411621" onmouseenter="enter('1622412841112411621');" onmouseout="out('1622412841112411621');" style=""> 129     operation.                                                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 130      */                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 131 /**                                                                                                      </span>
<span class="1351546277608868832" onmouseenter="enter('1351546277608868832');" onmouseout="out('1351546277608868832');" style=""> 132  * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on &lt;code&gt;file&lt;/code&gt;                                 </span>
<span class="453887555747532364" onmouseenter="enter('453887555747532364');" onmouseout="out('453887555747532364');" style=""> 133  * in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for reading only, or                                   </span>
<span class="-3680215098577845464" onmouseenter="enter('-3680215098577845464');" onmouseout="out('-3680215098577845464');" style=""> 134  * &quot;rw&quot; for reading and writing.                                                                         </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 135  */                                                                                                      </span>
<span class="-8434990783057983301" onmouseenter="enter('-8434990783057983301');" onmouseout="out('-8434990783057983301');" style=""> 136     public BufferedRandomAccessFile(File file, String mode) throws IOException {                         </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 137         super(file, mode);                                                                               </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 138         this.init(0);                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="-453136098354647832" onmouseenter="enter('-453136098354647832');" onmouseout="out('-453136098354647832');" style=""> 141     public BufferedRandomAccessFile(File file, String mode, int size) throws IOException {               </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style=""> 142         super(file, mode);                                                                               </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 143         this.init(size);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 146 /**                                                                                                      </span>
<span class="-3480587780124661536" onmouseenter="enter('-3480587780124661536');" onmouseout="out('-3480587780124661536');" style=""> 147  * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on the file named                                    </span>
<span class="-7030046076474638613" onmouseenter="enter('-7030046076474638613');" onmouseout="out('-7030046076474638613');" style=""> 148  * &lt;code&gt;name&lt;/code&gt; in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for                                  </span>
<span class="1088989998774722620" onmouseenter="enter('1088989998774722620');" onmouseout="out('1088989998774722620');" style=""> 149  * reading only, or &quot;rw&quot; for reading and writing.                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 150  */                                                                                                      </span>
<span class="-8823965408485600512" onmouseenter="enter('-8823965408485600512');" onmouseout="out('-8823965408485600512');" style=""> 151     public BufferedRandomAccessFile(String name, String mode) throws IOException {                       </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 152         super(name, mode);                                                                               </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style=""> 153         this.init(0);                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154     }                                                                                                    </span>
<span  style=""> 155                                                                                                          </span>
<span class="5657307843603113479" onmouseenter="enter('5657307843603113479');" onmouseout="out('5657307843603113479');" style=""> 156     public BufferedRandomAccessFile(String name, String mode, int size) throws FileNotFoundException {   </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style=""> 157         super(name, mode);                                                                               </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style=""> 158         this.init(size);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="5551924884735922585" onmouseenter="enter('5551924884735922585');" onmouseout="out('5551924884735922585');" style=""> 161     private void init(int size) {                                                                        </span>
<span class="-2850666888898584218" onmouseenter="enter('-2850666888898584218');" onmouseout="out('-2850666888898584218');" style=""> 162         this.dirty_ = this.closed_ = false;                                                              </span>
<span class="2840697314215077210" onmouseenter="enter('2840697314215077210');" onmouseout="out('2840697314215077210');" style=""> 163         this.lo_ = this.curr_ = this.hi_ = 0;                                                            </span>
<span class="989376670792595176" onmouseenter="enter('989376670792595176');" onmouseout="out('989376670792595176');" style=""> 164         this.buff_ = (size &gt; BuffSz_) ? new byte[size] : new byte[BuffSz_];                              </span>
<span class="6159147146164976562" onmouseenter="enter('6159147146164976562');" onmouseout="out('6159147146164976562');" style=""> 165         this.maxHi_ = ((long) (BuffSz_));                                                                </span>
<span class="5218815061722857854" onmouseenter="enter('5218815061722857854');" onmouseout="out('5218815061722857854');" style=""> 166         this.hitEOF_ = false;                                                                            </span>
<span class="-5785819969814094934" onmouseenter="enter('-5785819969814094934');" onmouseout="out('-5785819969814094934');" style=""> 167         this.diskPos_ = 0L;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="3075770629113308700" onmouseenter="enter('3075770629113308700');" onmouseout="out('3075770629113308700');" style=""> 170     public void close() throws IOException {                                                             </span>
<span class="-2142124785498338157" onmouseenter="enter('-2142124785498338157');" onmouseout="out('-2142124785498338157');" style=""> 171         this.flush();                                                                                    </span>
<span class="-6340371251695134552" onmouseenter="enter('-6340371251695134552');" onmouseout="out('-6340371251695134552');" style=""> 172         this.closed_ = true;                                                                             </span>
<span class="-2219391834669832598" onmouseenter="enter('-2219391834669832598');" onmouseout="out('-2219391834669832598');" style=""> 173         super.close();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174     }                                                                                                    </span>
<span  style=""> 175                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 176     /**                                                                                                  </span>
<span class="6399380210193036787" onmouseenter="enter('6399380210193036787');" onmouseout="out('6399380210193036787');" style=""> 177      * Flush any bytes in the file&#x27;s buffer that have not yet been written to                            </span>
<span class="847851214623451697" onmouseenter="enter('847851214623451697');" onmouseout="out('847851214623451697');" style=""> 178      * disk. If the file was created read-only, this method is a no-op.                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 179      */                                                                                                  </span>
<span class="3516006397829896858" onmouseenter="enter('3516006397829896858');" onmouseout="out('3516006397829896858');" style=""> 180     public void flush() throws IOException {                                                             </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 181         this.flushBuffer();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182     }                                                                                                    </span>
<span  style=""> 183                                                                                                          </span>
<span class="587201756057337699" onmouseenter="enter('587201756057337699');" onmouseout="out('587201756057337699');" style=""> 184 /* Flush any dirty bytes in the buffer to disk. */                                                       </span>
<span class="8758894563108089599" onmouseenter="enter('8758894563108089599');" onmouseout="out('8758894563108089599');" style=""> 185     private void flushBuffer() throws IOException {                                                      </span>
<span class="4301885684552359519" onmouseenter="enter('4301885684552359519');" onmouseout="out('4301885684552359519');" style=""> 186         if (this.dirty_) {                                                                               </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style=""> 187             if (this.diskPos_ != this.lo_) {                                                             </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style=""> 188                 super.seek(this.lo_);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189             }                                                                                            </span>
<span class="7999242189086713309" onmouseenter="enter('7999242189086713309');" onmouseout="out('7999242189086713309');" style=""> 190             int len = ((int) (this.curr_ - this.lo_));                                                   </span>
<span class="6765610743081262114" onmouseenter="enter('6765610743081262114');" onmouseout="out('6765610743081262114');" style=""> 191             super.write(this.buff_, 0, len);                                                             </span>
<span class="4683992282209736577" onmouseenter="enter('4683992282209736577');" onmouseout="out('4683992282209736577');" style=""> 192             this.diskPos_ = this.curr_;                                                                  </span>
<span class="3238476683105780913" onmouseenter="enter('3238476683105780913');" onmouseout="out('3238476683105780913');" style=""> 193             this.dirty_ = false;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 195     }                                                                                                    </span>
<span  style=""> 196                                                                                                          </span>
<span class="-393092726205191054" onmouseenter="enter('-393092726205191054');" onmouseout="out('-393092726205191054');" style=""> 197     /* Read at most &quot;this.buff.length&quot; bytes into &quot;this.buff&quot;, returning the                             </span>
<span class="-3687064659049658040" onmouseenter="enter('-3687064659049658040');" onmouseout="out('-3687064659049658040');" style=""> 198     number of bytes read. If the return result is less than                                              </span>
<span class="4160889426862611888" onmouseenter="enter('4160889426862611888');" onmouseout="out('4160889426862611888');" style=""> 199     &quot;this.buff.length&quot;, then EOF was read.                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 200      */                                                                                                  </span>
<span class="9102680032405651536" onmouseenter="enter('9102680032405651536');" onmouseout="out('9102680032405651536');" style=""> 201     private int fillBuffer() throws IOException {                                                        </span>
<span class="-6925568187558983072" onmouseenter="enter('-6925568187558983072');" onmouseout="out('-6925568187558983072');" style=""> 202         int cnt = 0;                                                                                     </span>
<span class="1211647843866851781" onmouseenter="enter('1211647843866851781');" onmouseout="out('1211647843866851781');" style=""> 203         int rem = this.buff_.length;                                                                     </span>
<span class="4558901091400485838" onmouseenter="enter('4558901091400485838');" onmouseout="out('4558901091400485838');" style=""> 204         while (rem &gt; 0) {                                                                                </span>
<span class="8150290817251668846" onmouseenter="enter('8150290817251668846');" onmouseout="out('8150290817251668846');" style=""> 205             int n = super.read(this.buff_, cnt, rem);                                                    </span>
<span class="-1893264983001473245" onmouseenter="enter('-1893264983001473245');" onmouseout="out('-1893264983001473245');" style=""> 206             if (n &lt; 0) {                                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 207                 break;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208             }                                                                                            </span>
<span class="-2189520819463946014" onmouseenter="enter('-2189520819463946014');" onmouseout="out('-2189520819463946014');" style=""> 209             cnt += n;                                                                                    </span>
<span class="435047948805898023" onmouseenter="enter('435047948805898023');" onmouseout="out('435047948805898023');" style=""> 210             rem -= n;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211         }                                                                                                </span>
<span class="-8956527129511821765" onmouseenter="enter('-8956527129511821765');" onmouseout="out('-8956527129511821765');" style=""> 212         if ((cnt &lt; 0) &amp;&amp; (this.hitEOF_ = cnt &lt; this.buff_.length)) {                                     </span>
<span class="6009473334823966987" onmouseenter="enter('6009473334823966987');" onmouseout="out('6009473334823966987');" style=""> 213     // make sure buffer that wasn&#x27;t read is initialized with -1                                          </span>
<span class="1191101823557409450" onmouseenter="enter('1191101823557409450');" onmouseout="out('1191101823557409450');" style=""> 214             Arrays.fill(this.buff_, cnt, this.buff_.length, ((byte) (0xff)));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215         }                                                                                                </span>
<span class="4142463760419510235" onmouseenter="enter('4142463760419510235');" onmouseout="out('4142463760419510235');" style=""> 216         this.diskPos_ += cnt;                                                                            </span>
<span class="1201366805596982616" onmouseenter="enter('1201366805596982616');" onmouseout="out('1201366805596982616');" style=""> 217         return cnt;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 220 /*                                                                                                       </span>
<span class="-6173403972520006794" onmouseenter="enter('-6173403972520006794');" onmouseout="out('-6173403972520006794');" style=""> 221  * This method positions &lt;code&gt;this.curr&lt;/code&gt; at position &lt;code&gt;pos&lt;/code&gt;.                            </span>
<span class="-209648681527588585" onmouseenter="enter('-209648681527588585');" onmouseout="out('-209648681527588585');" style=""> 222  * If &lt;code&gt;pos&lt;/code&gt; does not fall in the current buffer, it flushes the                               </span>
<span class="-3523323071525754796" onmouseenter="enter('-3523323071525754796');" onmouseout="out('-3523323071525754796');" style=""> 223  * current buffer and loads the correct one.&lt;p&gt;                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style=""> 224  *                                                                                                       </span>
<span class="-4975564389020336965" onmouseenter="enter('-4975564389020336965');" onmouseout="out('-4975564389020336965');" style=""> 225  * On exit from this routine &lt;code&gt;this.curr == this.hi&lt;/code&gt; iff &lt;code&gt;pos&lt;/code&gt;                      </span>
<span class="3609328464105633747" onmouseenter="enter('3609328464105633747');" onmouseout="out('3609328464105633747');" style=""> 226  * is at or past the end-of-file, which can only happen if the file was                                  </span>
<span class="-8683284462584625720" onmouseenter="enter('-8683284462584625720');" onmouseout="out('-8683284462584625720');" style=""> 227  * opened in read-only mode.                                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 228  */                                                                                                      </span>
<span class="1045469846730437003" onmouseenter="enter('1045469846730437003');" onmouseout="out('1045469846730437003');" style=""> 229     public void seek(long pos) throws IOException {                                                      </span>
<span class="7806689508661430552" onmouseenter="enter('7806689508661430552');" onmouseout="out('7806689508661430552');" style=""> 230         if ((pos &gt;= this.hi_) || (pos &lt; this.lo_)) {                                                     </span>
<span class="-8526000519492201168" onmouseenter="enter('-8526000519492201168');" onmouseout="out('-8526000519492201168');" style=""> 231     // seeking outside of current buffer -- flush and read                                               </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 232             this.flushBuffer();                                                                          </span>
<span class="-153410085723152956" onmouseenter="enter('-153410085723152956');" onmouseout="out('-153410085723152956');" style=""> 233             // start at BuffSz boundary                                                                  </span>
<span class="-5656038606994046382" onmouseenter="enter('-5656038606994046382');" onmouseout="out('-5656038606994046382');" style=""> 234             this.lo_ = pos &amp; BuffMask_;                                                                  </span>
<span class="-1655590157261030692" onmouseenter="enter('-1655590157261030692');" onmouseout="out('-1655590157261030692');" style=""> 235             this.maxHi_ = this.lo_ + ((long) (this.buff_.length));                                       </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style=""> 236             if (this.diskPos_ != this.lo_) {                                                             </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style=""> 237                 super.seek(this.lo_);                                                                    </span>
<span class="-434856769074322394" onmouseenter="enter('-434856769074322394');" onmouseout="out('-434856769074322394');" style=""> 238                 this.diskPos_ = this.lo_;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239             }                                                                                            </span>
<span class="5958235403126495881" onmouseenter="enter('5958235403126495881');" onmouseout="out('5958235403126495881');" style=""> 240             int n = this.fillBuffer();                                                                   </span>
<span class="1825796776288540460" onmouseenter="enter('1825796776288540460');" onmouseout="out('1825796776288540460');" style=""> 241             this.hi_ = this.lo_ + ((long) (n));                                                          </span>
<span class="-1448989831599275073" onmouseenter="enter('-1448989831599275073');" onmouseout="out('-1448989831599275073');" style=""> 242         } else // seeking inside current buffer -- no read required                                      </span>
<span class="-8767416704062471642" onmouseenter="enter('-8767416704062471642');" onmouseout="out('-8767416704062471642');" style=""> 243         if (pos &lt; this.curr_) {                                                                          </span>
<span class="3571291767884108983" onmouseenter="enter('3571291767884108983');" onmouseout="out('3571291767884108983');" style=""> 244             // if seeking backwards, we must flush to maintain V4                                        </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style=""> 245             this.flushBuffer();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246         }                                                                                                </span>
<span class="8509908448470847884" onmouseenter="enter('8509908448470847884');" onmouseout="out('8509908448470847884');" style=""> 247         this.curr_ = pos;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248     }                                                                                                    </span>
<span  style=""> 249                                                                                                          </span>
<span class="-7084230487165991749" onmouseenter="enter('-7084230487165991749');" onmouseout="out('-7084230487165991749');" style=""> 250     public long getFilePointer() {                                                                       </span>
<span class="-6051440881378549831" onmouseenter="enter('-6051440881378549831');" onmouseout="out('-6051440881378549831');" style=""> 251         return this.curr_;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252     }                                                                                                    </span>
<span  style=""> 253                                                                                                          </span>
<span class="-6941883707135103006" onmouseenter="enter('-6941883707135103006');" onmouseout="out('-6941883707135103006');" style=""> 254     public long length() throws IOException {                                                            </span>
<span class="-8729952525790322599" onmouseenter="enter('-8729952525790322599');" onmouseout="out('-8729952525790322599');" style=""> 255         return Math.max(this.curr_, super.length());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256     }                                                                                                    </span>
<span  style=""> 257                                                                                                          </span>
<span class="-9012256586706032903" onmouseenter="enter('-9012256586706032903');" onmouseout="out('-9012256586706032903');" style=""> 258     public int read() throws IOException {                                                               </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 259         if (this.curr_ &gt;= this.hi_) {                                                                    </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 260             // test for EOF                                                                              </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 261     // if (this.hi &lt; this.maxHi) return -1;                                                              </span>
<span class="-8269818821856308314" onmouseenter="enter('-8269818821856308314');" onmouseout="out('-8269818821856308314');" style=""> 262             if (this.hitEOF_) {                                                                          </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 263                 return -1;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264             }                                                                                            </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 265             // slow path -- read another buffer                                                          </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 266             this.seek(this.curr_);                                                                       </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 267             if (this.curr_ == this.hi_) {                                                                </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 268                 return -1;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270         }                                                                                                </span>
<span class="1450240271803688730" onmouseenter="enter('1450240271803688730');" onmouseout="out('1450240271803688730');" style=""> 271         byte res = this.buff_[((int) (this.curr_ - this.lo_))];                                          </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 272         this.curr_++;                                                                                    </span>
<span class="974668956376302235" onmouseenter="enter('974668956376302235');" onmouseout="out('974668956376302235');" style=""> 273         // convert byte -&gt; int                                                                           </span>
<span class="2681478254908577469" onmouseenter="enter('2681478254908577469');" onmouseout="out('2681478254908577469');" style=""> 274         return ((int) (res)) &amp; 0xff;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275     }                                                                                                    </span>
<span  style=""> 276                                                                                                          </span>
<span class="-3083187423260978934" onmouseenter="enter('-3083187423260978934');" onmouseout="out('-3083187423260978934');" style=""> 277     public int read(byte[] b) throws IOException {                                                       </span>
<span class="3890104000838200797" onmouseenter="enter('3890104000838200797');" onmouseout="out('3890104000838200797');" style=""> 278         return this.read(b, 0, b.length);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 279     }                                                                                                    </span>
<span  style=""> 280                                                                                                          </span>
<span class="-6549446275079329744" onmouseenter="enter('-6549446275079329744');" onmouseout="out('-6549446275079329744');" style=""> 281     public int read(byte[] b, int off, int len) throws IOException {                                     </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 282         if (this.curr_ &gt;= this.hi_) {                                                                    </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style=""> 283     // test for EOF                                                                                      </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style=""> 284     // if (this.hi &lt; this.maxHi) return -1;                                                              </span>
<span class="-8269818821856308314" onmouseenter="enter('-8269818821856308314');" onmouseout="out('-8269818821856308314');" style=""> 285             if (this.hitEOF_) {                                                                          </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 286                 return -1;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287             }                                                                                            </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style=""> 288             // slow path -- read another buffer                                                          </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 289             this.seek(this.curr_);                                                                       </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 290             if (this.curr_ == this.hi_) {                                                                </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 291                 return -1;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293         }                                                                                                </span>
<span class="2119158235828013908" onmouseenter="enter('2119158235828013908');" onmouseout="out('2119158235828013908');" style=""> 294         len = Math.min(len, ((int) (this.hi_ - this.curr_)));                                            </span>
<span class="-8814559823837672458" onmouseenter="enter('-8814559823837672458');" onmouseout="out('-8814559823837672458');" style=""> 295         int buffOff = ((int) (this.curr_ - this.lo_));                                                   </span>
<span class="-4938401244321112082" onmouseenter="enter('-4938401244321112082');" onmouseout="out('-4938401244321112082');" style=""> 296         System.arraycopy(this.buff_, buffOff, b, off, len);                                              </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 297         this.curr_ += len;                                                                               </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 298         return len;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299     }                                                                                                    </span>
<span  style=""> 300                                                                                                          </span>
<span class="3099678744335489259" onmouseenter="enter('3099678744335489259');" onmouseout="out('3099678744335489259');" style=""> 301     public void write(int b) throws IOException {                                                        </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 302         if (this.curr_ &gt;= this.hi_) {                                                                    </span>
<span class="9065944441489881946" onmouseenter="enter('9065944441489881946');" onmouseout="out('9065944441489881946');" style=""> 303             if (this.hitEOF_ &amp;&amp; (this.hi_ &lt; this.maxHi_)) {                                              </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 304         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 305                 this.hi_++;                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 306             } else {                                                                                     </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 307         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 308                 this.seek(this.curr_);                                                                   </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 309                 if (this.curr_ == this.hi_) {                                                            </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 310         // appending to EOF -- bump &quot;hi&quot;                                                                 </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style=""> 311                     this.hi_++;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span class="8015196069431922263" onmouseenter="enter('8015196069431922263');" onmouseout="out('8015196069431922263');" style=""> 315         this.buff_[((int) (this.curr_ - this.lo_))] = ((byte) (b));                                      </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style=""> 316         this.curr_++;                                                                                    </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 317         this.dirty_ = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318     }                                                                                                    </span>
<span  style=""> 319                                                                                                          </span>
<span class="-5890548955324027663" onmouseenter="enter('-5890548955324027663');" onmouseout="out('-5890548955324027663');" style=""> 320     public void write(byte[] b) throws IOException {                                                     </span>
<span class="2476786234223299971" onmouseenter="enter('2476786234223299971');" onmouseout="out('2476786234223299971');" style=""> 321         this.write(b, 0, b.length);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322     }                                                                                                    </span>
<span  style=""> 323                                                                                                          </span>
<span class="5333634921828566172" onmouseenter="enter('5333634921828566172');" onmouseout="out('5333634921828566172');" style=""> 324     public void write(byte[] b, int off, int len) throws IOException {                                   </span>
<span class="8659956805677425638" onmouseenter="enter('8659956805677425638');" onmouseout="out('8659956805677425638');" style=""> 325         while (len &gt; 0) {                                                                                </span>
<span class="4253461387035776156" onmouseenter="enter('4253461387035776156');" onmouseout="out('4253461387035776156');" style=""> 326             int n = this.writeAtMost(b, off, len);                                                       </span>
<span class="5133194115572522886" onmouseenter="enter('5133194115572522886');" onmouseout="out('5133194115572522886');" style=""> 327             off += n;                                                                                    </span>
<span class="-6861508777646263488" onmouseenter="enter('-6861508777646263488');" onmouseout="out('-6861508777646263488');" style=""> 328             len -= n;                                                                                    </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style=""> 329             this.dirty_ = true;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331     }                                                                                                    </span>
<span  style=""> 332                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 333 /*                                                                                                       </span>
<span class="-3823945200468182935" onmouseenter="enter('-3823945200468182935');" onmouseout="out('-3823945200468182935');" style=""> 334  * Write at most &quot;len&quot; bytes to &quot;b&quot; starting at position &quot;off&quot;, and return                               </span>
<span class="5705453366365250461" onmouseenter="enter('5705453366365250461');" onmouseout="out('5705453366365250461');" style=""> 335  * the number of bytes written.                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 336  */                                                                                                      </span>
<span class="4775960870479698671" onmouseenter="enter('4775960870479698671');" onmouseout="out('4775960870479698671');" style=""> 337     private int writeAtMost(byte[] b, int off, int len) throws IOException {                             </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style=""> 338         if (this.curr_ &gt;= this.hi_) {                                                                    </span>
<span class="9065944441489881946" onmouseenter="enter('9065944441489881946');" onmouseout="out('9065944441489881946');" style=""> 339             if (this.hitEOF_ &amp;&amp; (this.hi_ &lt; this.maxHi_)) {                                              </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style=""> 340         // at EOF -- bump &quot;hi&quot;                                                                           </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 341                 this.hi_ = this.maxHi_;                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 342             } else {                                                                                     </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style=""> 343         // slow path -- write current buffer; read next one                                              </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style=""> 344                 this.seek(this.curr_);                                                                   </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style=""> 345                 if (this.curr_ == this.hi_) {                                                            </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style=""> 346         // appending to EOF -- bump &quot;hi&quot;                                                                 </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style=""> 347                     this.hi_ = this.maxHi_;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 350         }                                                                                                </span>
<span class="2119158235828013908" onmouseenter="enter('2119158235828013908');" onmouseout="out('2119158235828013908');" style=""> 351         len = Math.min(len, ((int) (this.hi_ - this.curr_)));                                            </span>
<span class="-8814559823837672458" onmouseenter="enter('-8814559823837672458');" onmouseout="out('-8814559823837672458');" style=""> 352         int buffOff = ((int) (this.curr_ - this.lo_));                                                   </span>
<span class="7275583130401168337" onmouseenter="enter('7275583130401168337');" onmouseout="out('7275583130401168337');" style=""> 353         System.arraycopy(b, off, this.buff_, buffOff, len);                                              </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style=""> 354         this.curr_ += len;                                                                               </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style=""> 355         return len;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357 }                                                                                                        </span>












</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   1 +/**                                                                                                               </span>
<span class="3101153502889412828" onmouseenter="enter('3101153502889412828');" onmouseout="out('3101153502889412828');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   2 + * Licensed to the Apache Software Foundation (ASF) under one                                                     </span>
<span class="-6690800139350779170" onmouseenter="enter('-6690800139350779170');" onmouseout="out('-6690800139350779170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   3 + * or more contributor license agreements.  See the NOTICE file                                                   </span>
<span class="4408648408749222780" onmouseenter="enter('4408648408749222780');" onmouseout="out('4408648408749222780');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   4 + * distributed with this work for additional information                                                          </span>
<span class="7440871955664702931" onmouseenter="enter('7440871955664702931');" onmouseout="out('7440871955664702931');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   5 + * regarding copyright ownership.  The ASF licenses this file                                                     </span>
<span class="-7748987699953482767" onmouseenter="enter('-7748987699953482767');" onmouseout="out('-7748987699953482767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   6 + * to you under the Apache License, Version 2.0 (the                                                              </span>
<span class="-7532787339260984706" onmouseenter="enter('-7532787339260984706');" onmouseout="out('-7532787339260984706');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   7 + * &quot;License&quot;); you may not use this file except in compliance                                                     </span>
<span class="6072654417402056570" onmouseenter="enter('6072654417402056570');" onmouseout="out('6072654417402056570');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   8 + * with the License.  You may obtain a copy of the License at                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   9 + *                                                                                                                </span>
<span class="3430964305904514764" onmouseenter="enter('3430964305904514764');" onmouseout="out('3430964305904514764');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 + * http://www.apache.org/licenses/LICENSE-2.0                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 + *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 + * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  15 + * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  16 + * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 + */                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +                                                                                                                  </span>
<span class="8051609116594511973" onmouseenter="enter('8051609116594511973');" onmouseout="out('8051609116594511973');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  19 +package com.arialyy.aria.util;                                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  20 +                                                                                                                  </span>
<span class="6779715416064674619" onmouseenter="enter('6779715416064674619');" onmouseout="out('6779715416064674619');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import java.io.*;                                                                                                 </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import java.util.Arrays;                                                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +                                                                                                                  </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  24 +//import org.apache.log4j.Logger;                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  25 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +/**                                                                                                               </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 + * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                              </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 + * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                                       </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 + * operations do not require a disk access.                                                                       </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 + * &lt;P&gt;                                                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  31 + *                                                                                                                </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 + * Note: The operations on this class are unmonitored. Also, the correct                                          </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 + * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                          </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 + * overridden here relies on the implementation of those methods in the                                           </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 + * superclass.                                                                                                    </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 + * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 + */                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 +                                                                                                                  </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 +public final class BufferedRandomAccessFile extends RandomAccessFile {                                            </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 +  //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);                       </span>
<span class="-6783048553715517801" onmouseenter="enter('-6783048553715517801');" onmouseout="out('-6783048553715517801');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  41 +  static final        int  LogBuffSz_ = 16; // 64K buffer                                                         </span>
<span class="5558743893732606496" onmouseenter="enter('5558743893732606496');" onmouseout="out('5558743893732606496');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  42 +  public static final int  BuffSz_    = (1 &lt;&lt; LogBuffSz_);                                                        </span>
<span class="2854827449597428262" onmouseenter="enter('2854827449597428262');" onmouseout="out('2854827449597428262');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +  static final        long BuffMask_  = ~(((long) BuffSz_) - 1L);                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +  /*                                                                                                              </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +   * This implementation is based on the buffer implementation in Modula-3&#x27;s                                      </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +   * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +   */                                                                                                             </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +  private boolean dirty_; // true iff unflushed bytes exist                                                       </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +  private boolean closed_; // true iff the file is closed                                                         </span>
<span class="4805523489612774745" onmouseenter="enter('4805523489612774745');" onmouseout="out('4805523489612774745');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  51 +  private long    curr_; // current position in file                                                              </span>
<span class="8379661563346680544" onmouseenter="enter('8379661563346680544');" onmouseout="out('8379661563346680544');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  52 +  private long    lo_, hi_; // bounds on characters in &quot;buff&quot;                                                     </span>
<span class="4530843330504174223" onmouseenter="enter('4530843330504174223');" onmouseout="out('4530843330504174223');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  53 +  private byte[]  buff_; // local buffer                                                                          </span>
<span class="-4032746716063405874" onmouseenter="enter('-4032746716063405874');" onmouseout="out('-4032746716063405874');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +  private long    maxHi_; // this.lo + this.buff.length                                                           </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  55 +  private boolean hitEOF_; // buffer contains last file block?                                                    </span>
<span class="-4955483419006461889" onmouseenter="enter('-4955483419006461889');" onmouseout="out('-4955483419006461889');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +  private long    diskPos_; // disk position                                                                      </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +    /*                                                                                                            </span>
<span class="-3936581569571034100" onmouseenter="enter('-3936581569571034100');" onmouseout="out('-3936581569571034100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +     * To describe the above fields, we introduce the following abstractions for                                  </span>
<span class="2069724281899459821" onmouseenter="enter('2069724281899459821');" onmouseout="out('2069724281899459821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +     * the file &quot;f&quot;:                                                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +     *                                                                                                            </span>
<span class="3942109514579599807" onmouseenter="enter('3942109514579599807');" onmouseout="out('3942109514579599807');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +     * len(f) the length of the file curr(f) the current position in the file                                     </span>
<span class="8423531652573548138" onmouseenter="enter('8423531652573548138');" onmouseout="out('8423531652573548138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  63 +     * c(f) the abstract contents of the file disk(f) the contents of f&#x27;s                                         </span>
<span class="9171631245335973257" onmouseenter="enter('9171631245335973257');" onmouseout="out('9171631245335973257');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  64 +     * backing disk file closed(f) true iff the file is closed                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +     *                                                                                                            </span>
<span class="6062939284417426381" onmouseenter="enter('6062939284417426381');" onmouseout="out('6062939284417426381');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +     * &quot;curr(f)&quot; is an index in the closed interval [0, len(f)]. &quot;c(f)&quot; is a                                      </span>
<span class="4916274110970917743" onmouseenter="enter('4916274110970917743');" onmouseout="out('4916274110970917743');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +     * character sequence of length &quot;len(f)&quot;. &quot;c(f)&quot; and &quot;disk(f)&quot; may differ if                                  </span>
<span class="5077953901668360228" onmouseenter="enter('5077953901668360228');" onmouseout="out('5077953901668360228');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  68 +     * &quot;c(f)&quot; contains unflushed writes not reflected in &quot;disk(f)&quot;. The flush                                     </span>
<span class="-1571440391623047981" onmouseenter="enter('-1571440391623047981');" onmouseout="out('-1571440391623047981');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  69 +     * operation has the effect of making &quot;disk(f)&quot; identical to &quot;c(f)&quot;.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  70 +     *                                                                                                            </span>
<span class="8144322784694474632" onmouseenter="enter('8144322784694474632');" onmouseout="out('8144322784694474632');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +     * A file is said to be *valid* if the following conditions hold:                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +     *                                                                                                            </span>
<span class="-1269630856537664309" onmouseenter="enter('-1269630856537664309');" onmouseout="out('-1269630856537664309');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +     * V1. The &quot;closed&quot; and &quot;curr&quot; fields are correct:                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +     *                                                                                                            </span>
<span class="979308808712187879" onmouseenter="enter('979308808712187879');" onmouseout="out('979308808712187879');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +     * f.closed == closed(f) f.curr == curr(f)                                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  76 +     *                                                                                                            </span>
<span class="-7772189654780820624" onmouseenter="enter('-7772189654780820624');" onmouseout="out('-7772189654780820624');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +     * V2. The current position is either contained in the buffer, or just past                                   </span>
<span class="2460586612831536921" onmouseenter="enter('2460586612831536921');" onmouseout="out('2460586612831536921');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +     * the buffer:                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +     *                                                                                                            </span>
<span class="-8875259016663419075" onmouseenter="enter('-8875259016663419075');" onmouseout="out('-8875259016663419075');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +     * f.lo &lt;= f.curr &lt;= f.hi                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +     *                                                                                                            </span>
<span class="-3007662814937088374" onmouseenter="enter('-3007662814937088374');" onmouseout="out('-3007662814937088374');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +     * V3. Any (possibly) unflushed characters are stored in &quot;f.buff&quot;:                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +     *                                                                                                            </span>
<span class="7662399701900948560" onmouseenter="enter('7662399701900948560');" onmouseout="out('7662399701900948560');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +     * (forall i in [f.lo, f.curr): c(f)[i] == f.buff[i - f.lo])                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +     *                                                                                                            </span>
<span class="-9067184832210593745" onmouseenter="enter('-9067184832210593745');" onmouseout="out('-9067184832210593745');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +     * V4. For all characters not covered by V3, c(f) and disk(f) agree:                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +     *                                                                                                            </span>
<span class="717831558004067077" onmouseenter="enter('717831558004067077');" onmouseout="out('717831558004067077');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +     * (forall i in [f.lo, len(f)): i not in [f.lo, f.curr) =&gt; c(f)[i] ==                                         </span>
<span class="4044229358116504451" onmouseenter="enter('4044229358116504451');" onmouseout="out('4044229358116504451');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +     * disk(f)[i])                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +     *                                                                                                            </span>
<span class="-1759754488380141707" onmouseenter="enter('-1759754488380141707');" onmouseout="out('-1759754488380141707');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +     * V5. &quot;f.dirty&quot; is true iff the buffer contains bytes that should be                                         </span>
<span class="-4738933140714611160" onmouseenter="enter('-4738933140714611160');" onmouseout="out('-4738933140714611160');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +     * flushed to the file; by V3 and V4, only part of the buffer can be dirty.                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +     *                                                                                                            </span>
<span class="-946393002272791033" onmouseenter="enter('-946393002272791033');" onmouseout="out('-946393002272791033');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +     * f.dirty == (exists i in [f.lo, f.curr): c(f)[i] != f.buff[i - f.lo])                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +     *                                                                                                            </span>
<span class="8799384245655111676" onmouseenter="enter('8799384245655111676');" onmouseout="out('8799384245655111676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +     * V6. this.maxHi == this.lo + this.buff.length                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +     *                                                                                                            </span>
<span class="-8807197809286194757" onmouseenter="enter('-8807197809286194757');" onmouseout="out('-8807197809286194757');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +     * Note that &quot;f.buff&quot; can be &quot;null&quot; in a valid file, since the range of                                       </span>
<span class="8380169438616845165" onmouseenter="enter('8380169438616845165');" onmouseout="out('8380169438616845165');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +     * characters in V3 is empty when &quot;f.lo == f.curr&quot;.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +     *                                                                                                            </span>
<span class="4472737642333127229" onmouseenter="enter('4472737642333127229');" onmouseout="out('4472737642333127229');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +     * A file is said to be *ready* if the buffer contains the current position,                                  </span>
<span class="530075668565703765" onmouseenter="enter('530075668565703765');" onmouseout="out('530075668565703765');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +     * i.e., when:                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +     *                                                                                                            </span>
<span class="3467179512391623708" onmouseenter="enter('3467179512391623708');" onmouseout="out('3467179512391623708');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +     * R1. !f.closed &amp;&amp; f.buff != null &amp;&amp; f.lo &lt;= f.curr &amp;&amp; f.curr &lt; f.hi                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +     *                                                                                                            </span>
<span class="-108247808767139067" onmouseenter="enter('-108247808767139067');" onmouseout="out('-108247808767139067');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +     * When a file is ready, reading or writing a single byte can be performed                                    </span>
<span class="-3499206885168790049" onmouseenter="enter('-3499206885168790049');" onmouseout="out('-3499206885168790049');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +     * by reading or writing the in-memory buffer without performing a disk                                       </span>
<span class="-3072305517631744386" onmouseenter="enter('-3072305517631744386');" onmouseout="out('-3072305517631744386');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +     * operation.                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +     */                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +  /**                                                                                                             </span>
<span class="1351546277608868832" onmouseenter="enter('1351546277608868832');" onmouseout="out('1351546277608868832');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +   * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on &lt;code&gt;file&lt;/code&gt;                                        </span>
<span class="453887555747532364" onmouseenter="enter('453887555747532364');" onmouseout="out('453887555747532364');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +   * in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for reading only, or                                          </span>
<span class="-3680215098577845464" onmouseenter="enter('-3680215098577845464');" onmouseout="out('-3680215098577845464');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +   * &quot;rw&quot; for reading and writing.                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +   */                                                                                                             </span>
<span class="-8434990783057983301" onmouseenter="enter('-8434990783057983301');" onmouseout="out('-8434990783057983301');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +  public BufferedRandomAccessFile(File file, String mode) throws IOException {                                    </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +    super(file, mode);                                                                                            </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +    this.init(0);                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +                                                                                                                  </span>
<span class="-453136098354647832" onmouseenter="enter('-453136098354647832');" onmouseout="out('-453136098354647832');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +  public BufferedRandomAccessFile(File file, String mode, int size) throws IOException {                          </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +    super(file, mode);                                                                                            </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +    this.init(size);                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +  /**                                                                                                             </span>
<span class="-3480587780124661536" onmouseenter="enter('-3480587780124661536');" onmouseout="out('-3480587780124661536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +   * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on the file named                                           </span>
<span class="-7030046076474638613" onmouseenter="enter('-7030046076474638613');" onmouseout="out('-7030046076474638613');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +   * &lt;code&gt;name&lt;/code&gt; in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for                                         </span>
<span class="1088989998774722620" onmouseenter="enter('1088989998774722620');" onmouseout="out('1088989998774722620');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +   * reading only, or &quot;rw&quot; for reading and writing.                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +   */                                                                                                             </span>
<span class="-8823965408485600512" onmouseenter="enter('-8823965408485600512');" onmouseout="out('-8823965408485600512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +  public BufferedRandomAccessFile(String name, String mode) throws IOException {                                  </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +    super(name, mode);                                                                                            </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +    this.init(0);                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +                                                                                                                  </span>
<span class="5657307843603113479" onmouseenter="enter('5657307843603113479');" onmouseout="out('5657307843603113479');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +  public BufferedRandomAccessFile(String name, String mode, int size) throws FileNotFoundException {              </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +    super(name, mode);                                                                                            </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +    this.init(size);                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +                                                                                                                  </span>
<span class="5551924884735922585" onmouseenter="enter('5551924884735922585');" onmouseout="out('5551924884735922585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +  private void init(int size) {                                                                                   </span>
<span class="-2850666888898584218" onmouseenter="enter('-2850666888898584218');" onmouseout="out('-2850666888898584218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +    this.dirty_ = this.closed_ = false;                                                                           </span>
<span class="2840697314215077210" onmouseenter="enter('2840697314215077210');" onmouseout="out('2840697314215077210');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +    this.lo_ = this.curr_ = this.hi_ = 0;                                                                         </span>
<span class="989376670792595176" onmouseenter="enter('989376670792595176');" onmouseout="out('989376670792595176');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +    this.buff_ = (size &gt; BuffSz_) ? new byte[size] : new byte[BuffSz_];                                           </span>
<span class="-6551025993424877277" onmouseenter="enter('-6551025993424877277');" onmouseout="out('-6551025993424877277');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 145 +    this.maxHi_ = (long) BuffSz_;                                                                                 </span>
<span class="5218815061722857854" onmouseenter="enter('5218815061722857854');" onmouseout="out('5218815061722857854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +    this.hitEOF_ = false;                                                                                         </span>
<span class="-5785819969814094934" onmouseenter="enter('-5785819969814094934');" onmouseout="out('-5785819969814094934');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +    this.diskPos_ = 0L;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 148 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +                                                                                                                  </span>
<span class="3075770629113308700" onmouseenter="enter('3075770629113308700');" onmouseout="out('3075770629113308700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +  public void close() throws IOException {                                                                        </span>
<span class="-2142124785498338157" onmouseenter="enter('-2142124785498338157');" onmouseout="out('-2142124785498338157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +    this.flush();                                                                                                 </span>
<span class="-6340371251695134552" onmouseenter="enter('-6340371251695134552');" onmouseout="out('-6340371251695134552');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +    this.closed_ = true;                                                                                          </span>
<span class="-2219391834669832598" onmouseenter="enter('-2219391834669832598');" onmouseout="out('-2219391834669832598');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +    super.close();                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +  /**                                                                                                             </span>
<span class="6399380210193036787" onmouseenter="enter('6399380210193036787');" onmouseout="out('6399380210193036787');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +   * Flush any bytes in the file&#x27;s buffer that have not yet been written to                                       </span>
<span class="847851214623451697" onmouseenter="enter('847851214623451697');" onmouseout="out('847851214623451697');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +   * disk. If the file was created read-only, this method is a no-op.                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +   */                                                                                                             </span>
<span class="3516006397829896858" onmouseenter="enter('3516006397829896858');" onmouseout="out('3516006397829896858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +  public void flush() throws IOException {                                                                        </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +    this.flushBuffer();                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +                                                                                                                  </span>
<span class="587201756057337699" onmouseenter="enter('587201756057337699');" onmouseout="out('587201756057337699');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +  /* Flush any dirty bytes in the buffer to disk. */                                                              </span>
<span class="8758894563108089599" onmouseenter="enter('8758894563108089599');" onmouseout="out('8758894563108089599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +  private void flushBuffer() throws IOException {                                                                 </span>
<span class="4301885684552359519" onmouseenter="enter('4301885684552359519');" onmouseout="out('4301885684552359519');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +    if (this.dirty_) {                                                                                            </span>
<span class="736124185545095616" onmouseenter="enter('736124185545095616');" onmouseout="out('736124185545095616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +      if (this.diskPos_ != this.lo_) super.seek(this.lo_);                                                        </span>
<span class="-5281562837227929409" onmouseenter="enter('-5281562837227929409');" onmouseout="out('-5281562837227929409');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +      int len = (int) (this.curr_ - this.lo_);                                                                    </span>
<span class="6765610743081262114" onmouseenter="enter('6765610743081262114');" onmouseout="out('6765610743081262114');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +      super.write(this.buff_, 0, len);                                                                            </span>
<span class="4683992282209736577" onmouseenter="enter('4683992282209736577');" onmouseout="out('4683992282209736577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +      this.diskPos_ = this.curr_;                                                                                 </span>
<span class="3238476683105780913" onmouseenter="enter('3238476683105780913');" onmouseout="out('3238476683105780913');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +      this.dirty_ = false;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +  /*                                                                                                              </span>
<span class="-2021782647515546277" onmouseenter="enter('-2021782647515546277');" onmouseout="out('-2021782647515546277');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +   * Read at most &quot;this.buff.length&quot; bytes into &quot;this.buff&quot;, returning the                                        </span>
<span class="-4515480482852552412" onmouseenter="enter('-4515480482852552412');" onmouseout="out('-4515480482852552412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +   * number of bytes read. If the return result is less than                                                      </span>
<span class="-7486505761455918547" onmouseenter="enter('-7486505761455918547');" onmouseout="out('-7486505761455918547');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +   * &quot;this.buff.length&quot;, then EOF was read.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +   */                                                                                                             </span>
<span class="9102680032405651536" onmouseenter="enter('9102680032405651536');" onmouseout="out('9102680032405651536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +  private int fillBuffer() throws IOException {                                                                   </span>
<span class="-6925568187558983072" onmouseenter="enter('-6925568187558983072');" onmouseout="out('-6925568187558983072');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +    int cnt = 0;                                                                                                  </span>
<span class="1211647843866851781" onmouseenter="enter('1211647843866851781');" onmouseout="out('1211647843866851781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +    int rem = this.buff_.length;                                                                                  </span>
<span class="4558901091400485838" onmouseenter="enter('4558901091400485838');" onmouseout="out('4558901091400485838');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +    while (rem &gt; 0) {                                                                                             </span>
<span class="8150290817251668846" onmouseenter="enter('8150290817251668846');" onmouseout="out('8150290817251668846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +      int n = super.read(this.buff_, cnt, rem);                                                                   </span>
<span class="3286194446926829446" onmouseenter="enter('3286194446926829446');" onmouseout="out('3286194446926829446');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +      if (n &lt; 0) break;                                                                                           </span>
<span class="-2189520819463946014" onmouseenter="enter('-2189520819463946014');" onmouseout="out('-2189520819463946014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +      cnt += n;                                                                                                   </span>
<span class="435047948805898023" onmouseenter="enter('435047948805898023');" onmouseout="out('435047948805898023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +      rem -= n;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +    }                                                                                                             </span>
<span class="-2592275401294750026" onmouseenter="enter('-2592275401294750026');" onmouseout="out('-2592275401294750026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +    if ((cnt &lt; 0) &amp;&amp; (this.hitEOF_ = (cnt &lt; this.buff_.length))) {                                                </span>
<span class="6009473334823966987" onmouseenter="enter('6009473334823966987');" onmouseout="out('6009473334823966987');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +      // make sure buffer that wasn&#x27;t read is initialized with -1                                                 </span>
<span class="3302036294169840097" onmouseenter="enter('3302036294169840097');" onmouseout="out('3302036294169840097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +      Arrays.fill(this.buff_, cnt, this.buff_.length, (byte) 0xff);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +    }                                                                                                             </span>
<span class="4142463760419510235" onmouseenter="enter('4142463760419510235');" onmouseout="out('4142463760419510235');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 193 +    this.diskPos_ += cnt;                                                                                         </span>
<span class="1201366805596982616" onmouseenter="enter('1201366805596982616');" onmouseout="out('1201366805596982616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +    return cnt;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +  /*                                                                                                              </span>
<span class="-6173403972520006794" onmouseenter="enter('-6173403972520006794');" onmouseout="out('-6173403972520006794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +   * This method positions &lt;code&gt;this.curr&lt;/code&gt; at position &lt;code&gt;pos&lt;/code&gt;.                                   </span>
<span class="-209648681527588585" onmouseenter="enter('-209648681527588585');" onmouseout="out('-209648681527588585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +   * If &lt;code&gt;pos&lt;/code&gt; does not fall in the current buffer, it flushes the                                      </span>
<span class="-3523323071525754796" onmouseenter="enter('-3523323071525754796');" onmouseout="out('-3523323071525754796');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +   * current buffer and loads the correct one.&lt;p&gt;                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +   *                                                                                                              </span>
<span class="-4975564389020336965" onmouseenter="enter('-4975564389020336965');" onmouseout="out('-4975564389020336965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +   * On exit from this routine &lt;code&gt;this.curr == this.hi&lt;/code&gt; iff &lt;code&gt;pos&lt;/code&gt;                             </span>
<span class="3609328464105633747" onmouseenter="enter('3609328464105633747');" onmouseout="out('3609328464105633747');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +   * is at or past the end-of-file, which can only happen if the file was                                         </span>
<span class="-8683284462584625720" onmouseenter="enter('-8683284462584625720');" onmouseout="out('-8683284462584625720');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +   * opened in read-only mode.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +   */                                                                                                             </span>
<span class="1045469846730437003" onmouseenter="enter('1045469846730437003');" onmouseout="out('1045469846730437003');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +  public void seek(long pos) throws IOException {                                                                 </span>
<span class="1233461237264754204" onmouseenter="enter('1233461237264754204');" onmouseout="out('1233461237264754204');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +    if (pos &gt;= this.hi_ || pos &lt; this.lo_) {                                                                      </span>
<span class="-8526000519492201168" onmouseenter="enter('-8526000519492201168');" onmouseout="out('-8526000519492201168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +      // seeking outside of current buffer -- flush and read                                                      </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +      this.flushBuffer();                                                                                         </span>
<span class="-1955428514344839188" onmouseenter="enter('-1955428514344839188');" onmouseout="out('-1955428514344839188');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +      this.lo_ = pos &amp; BuffMask_; // start at BuffSz boundary                                                     </span>
<span class="-3108337400407772088" onmouseenter="enter('-3108337400407772088');" onmouseout="out('-3108337400407772088');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +      this.maxHi_ = this.lo_ + (long) this.buff_.length;                                                          </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 212 +      if (this.diskPos_ != this.lo_) {                                                                            </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 213 +        super.seek(this.lo_);                                                                                     </span>
<span class="-434856769074322394" onmouseenter="enter('-434856769074322394');" onmouseout="out('-434856769074322394');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 214 +        this.diskPos_ = this.lo_;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 215 +      }                                                                                                           </span>
<span class="5958235403126495881" onmouseenter="enter('5958235403126495881');" onmouseout="out('5958235403126495881');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 216 +      int n = this.fillBuffer();                                                                                  </span>
<span class="6020729273271733469" onmouseenter="enter('6020729273271733469');" onmouseout="out('6020729273271733469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 217 +      this.hi_ = this.lo_ + (long) n;                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 218 +    } else {                                                                                                      </span>
<span class="-2068750461792604158" onmouseenter="enter('-2068750461792604158');" onmouseout="out('-2068750461792604158');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +      // seeking inside current buffer -- no read required                                                        </span>
<span class="-8767416704062471642" onmouseenter="enter('-8767416704062471642');" onmouseout="out('-8767416704062471642');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +      if (pos &lt; this.curr_) {                                                                                     </span>
<span class="3571291767884108983" onmouseenter="enter('3571291767884108983');" onmouseout="out('3571291767884108983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +        // if seeking backwards, we must flush to maintain V4                                                     </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +        this.flushBuffer();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +    }                                                                                                             </span>
<span class="8509908448470847884" onmouseenter="enter('8509908448470847884');" onmouseout="out('8509908448470847884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +    this.curr_ = pos;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +                                                                                                                  </span>
<span class="-7084230487165991749" onmouseenter="enter('-7084230487165991749');" onmouseout="out('-7084230487165991749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +  public long getFilePointer() {                                                                                  </span>
<span class="-6051440881378549831" onmouseenter="enter('-6051440881378549831');" onmouseout="out('-6051440881378549831');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +    return this.curr_;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +                                                                                                                  </span>
<span class="-6941883707135103006" onmouseenter="enter('-6941883707135103006');" onmouseout="out('-6941883707135103006');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +  public long length() throws IOException {                                                                       </span>
<span class="-8729952525790322599" onmouseenter="enter('-8729952525790322599');" onmouseout="out('-8729952525790322599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +    return Math.max(this.curr_, super.length());                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +                                                                                                                  </span>
<span class="-9012256586706032903" onmouseenter="enter('-9012256586706032903');" onmouseout="out('-9012256586706032903');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +  public int read() throws IOException {                                                                          </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +      // test for EOF                                                                                             </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +      // if (this.hi &lt; this.maxHi) return -1;                                                                     </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +      if (this.hitEOF_) return -1;                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +                                                                                                                  </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +      // slow path -- read another buffer                                                                         </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +      this.seek(this.curr_);                                                                                      </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +      if (this.curr_ == this.hi_) return -1;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +    }                                                                                                             </span>
<span class="4419650221760970549" onmouseenter="enter('4419650221760970549');" onmouseout="out('4419650221760970549');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +    byte res = this.buff_[(int) (this.curr_ - this.lo_)];                                                         </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 247 +    this.curr_++;                                                                                                 </span>
<span class="-627440987035300608" onmouseenter="enter('-627440987035300608');" onmouseout="out('-627440987035300608');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 248 +    return ((int) res) &amp; 0xFF; // convert byte -&gt; int                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 249 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 250 +                                                                                                                  </span>
<span class="-3083187423260978934" onmouseenter="enter('-3083187423260978934');" onmouseout="out('-3083187423260978934');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 251 +  public int read(byte[] b) throws IOException {                                                                  </span>
<span class="3890104000838200797" onmouseenter="enter('3890104000838200797');" onmouseout="out('3890104000838200797');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 252 +    return this.read(b, 0, b.length);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 253 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 254 +                                                                                                                  </span>
<span class="-6549446275079329744" onmouseenter="enter('-6549446275079329744');" onmouseout="out('-6549446275079329744');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +  public int read(byte[] b, int off, int len) throws IOException {                                                </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +      // test for EOF                                                                                             </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 258 +      // if (this.hi &lt; this.maxHi) return -1;                                                                     </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +      if (this.hitEOF_) return -1;                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +                                                                                                                  </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 261 +      // slow path -- read another buffer                                                                         </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +      this.seek(this.curr_);                                                                                      </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 263 +      if (this.curr_ == this.hi_) return -1;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 264 +    }                                                                                                             </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 265 +    len = Math.min(len, (int) (this.hi_ - this.curr_));                                                           </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 266 +    int buffOff = (int) (this.curr_ - this.lo_);                                                                  </span>
<span class="-4938401244321112082" onmouseenter="enter('-4938401244321112082');" onmouseout="out('-4938401244321112082');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 267 +    System.arraycopy(this.buff_, buffOff, b, off, len);                                                           </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 268 +    this.curr_ += len;                                                                                            </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 269 +    return len;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 270 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 271 +                                                                                                                  </span>
<span class="3099678744335489259" onmouseenter="enter('3099678744335489259');" onmouseout="out('3099678744335489259');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +  public void write(int b) throws IOException {                                                                   </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 273 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +      if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                               </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +        // at EOF -- bump &quot;hi&quot;                                                                                    </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +        this.hi_++;                                                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +      } else {                                                                                                    </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +        // slow path -- write current buffer; read next one                                                       </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +        this.seek(this.curr_);                                                                                    </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +        if (this.curr_ == this.hi_) {                                                                             </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +          // appending to EOF -- bump &quot;hi&quot;                                                                        </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 282 +          this.hi_++;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +    }                                                                                                             </span>
<span class="3241130681458379004" onmouseenter="enter('3241130681458379004');" onmouseout="out('3241130681458379004');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +    this.buff_[(int) (this.curr_ - this.lo_)] = (byte) b;                                                         </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +    this.curr_++;                                                                                                 </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +    this.dirty_ = true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 289 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 290 +                                                                                                                  </span>
<span class="-5890548955324027663" onmouseenter="enter('-5890548955324027663');" onmouseout="out('-5890548955324027663');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +  public void write(byte[] b) throws IOException {                                                                </span>
<span class="2476786234223299971" onmouseenter="enter('2476786234223299971');" onmouseout="out('2476786234223299971');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +    this.write(b, 0, b.length);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +                                                                                                                  </span>
<span class="5333634921828566172" onmouseenter="enter('5333634921828566172');" onmouseout="out('5333634921828566172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +  public void write(byte[] b, int off, int len) throws IOException {                                              </span>
<span class="8659956805677425638" onmouseenter="enter('8659956805677425638');" onmouseout="out('8659956805677425638');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 296 +    while (len &gt; 0) {                                                                                             </span>
<span class="4253461387035776156" onmouseenter="enter('4253461387035776156');" onmouseout="out('4253461387035776156');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 297 +      int n = this.writeAtMost(b, off, len);                                                                      </span>
<span class="5133194115572522886" onmouseenter="enter('5133194115572522886');" onmouseout="out('5133194115572522886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +      off += n;                                                                                                   </span>
<span class="-6861508777646263488" onmouseenter="enter('-6861508777646263488');" onmouseout="out('-6861508777646263488');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 299 +      len -= n;                                                                                                   </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 300 +      this.dirty_ = true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 301 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 302 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 303 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 304 +  /*                                                                                                              </span>
<span class="-3823945200468182935" onmouseenter="enter('-3823945200468182935');" onmouseout="out('-3823945200468182935');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +   * Write at most &quot;len&quot; bytes to &quot;b&quot; starting at position &quot;off&quot;, and return                                      </span>
<span class="5705453366365250461" onmouseenter="enter('5705453366365250461');" onmouseout="out('5705453366365250461');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +   * the number of bytes written.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +   */                                                                                                             </span>
<span class="4775960870479698671" onmouseenter="enter('4775960870479698671');" onmouseout="out('4775960870479698671');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 308 +  private int writeAtMost(byte[] b, int off, int len) throws IOException {                                        </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 309 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 310 +      if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                               </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 311 +        // at EOF -- bump &quot;hi&quot;                                                                                    </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 312 +        this.hi_ = this.maxHi_;                                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 313 +      } else {                                                                                                    </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 314 +        // slow path -- write current buffer; read next one                                                       </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 315 +        this.seek(this.curr_);                                                                                    </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 316 +        if (this.curr_ == this.hi_) {                                                                             </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 317 +          // appending to EOF -- bump &quot;hi&quot;                                                                        </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 318 +          this.hi_ = this.maxHi_;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 319 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 320 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 321 +    }                                                                                                             </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +    len = Math.min(len, (int) (this.hi_ - this.curr_));                                                           </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +    int buffOff = (int) (this.curr_ - this.lo_);                                                                  </span>
<span class="7275583130401168337" onmouseenter="enter('7275583130401168337');" onmouseout="out('7275583130401168337');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 324 +    System.arraycopy(b, off, this.buff_, buffOff, len);                                                           </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 325 +    this.curr_ += len;                                                                                            </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 326 +    return len;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 327 +  }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 328 +}                                                                                                                 </span></pre></td>
                            <td><pre><span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   1 +/**                                                                                                               </span>
<span class="3101153502889412828" onmouseenter="enter('3101153502889412828');" onmouseout="out('3101153502889412828');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   2 + * Licensed to the Apache Software Foundation (ASF) under one                                                     </span>
<span class="-6690800139350779170" onmouseenter="enter('-6690800139350779170');" onmouseout="out('-6690800139350779170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   3 + * or more contributor license agreements.  See the NOTICE file                                                   </span>
<span class="4408648408749222780" onmouseenter="enter('4408648408749222780');" onmouseout="out('4408648408749222780');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   4 + * distributed with this work for additional information                                                          </span>
<span class="7440871955664702931" onmouseenter="enter('7440871955664702931');" onmouseout="out('7440871955664702931');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   5 + * regarding copyright ownership.  The ASF licenses this file                                                     </span>
<span class="-7748987699953482767" onmouseenter="enter('-7748987699953482767');" onmouseout="out('-7748987699953482767');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   6 + * to you under the Apache License, Version 2.0 (the                                                              </span>
<span class="-7532787339260984706" onmouseenter="enter('-7532787339260984706');" onmouseout="out('-7532787339260984706');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   7 + * &quot;License&quot;); you may not use this file except in compliance                                                     </span>
<span class="6072654417402056570" onmouseenter="enter('6072654417402056570');" onmouseout="out('6072654417402056570');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   8 + * with the License.  You may obtain a copy of the License at                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">   9 + *                                                                                                                </span>
<span class="3430964305904514764" onmouseenter="enter('3430964305904514764');" onmouseout="out('3430964305904514764');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 + * http://www.apache.org/licenses/LICENSE-2.0                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  11 + *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  12 + * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  13 + * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  14 + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  15 + * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  16 + * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  17 + */                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  18 +                                                                                                                  </span>
<span class="8051609116594511973" onmouseenter="enter('8051609116594511973');" onmouseout="out('8051609116594511973');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  19 +package com.arialyy.aria.util;                                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  20 +                                                                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import java.io.File;                                                                                              </span>
<span class="-75475733228177869" onmouseenter="enter('-75475733228177869');" onmouseout="out('-75475733228177869');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  22 +import java.io.FileNotFoundException;                                                                             </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import java.io.IOException;                                                                                       </span>
<span class="-3877933607611446246" onmouseenter="enter('-3877933607611446246');" onmouseout="out('-3877933607611446246');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  24 +import java.io.RandomAccessFile;                                                                                  </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  25 +import java.util.Arrays;                                                                                          </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +                                                                                                                  </span>
<span class="-5478951972998388140" onmouseenter="enter('-5478951972998388140');" onmouseout="out('-5478951972998388140');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  27 +//import org.apache.log4j.Logger;                                                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  29 +/**                                                                                                               </span>
<span class="-1527515195022687656" onmouseenter="enter('-1527515195022687656');" onmouseout="out('-1527515195022687656');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  30 + * A &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; is like a                                                              </span>
<span class="6380980164059687274" onmouseenter="enter('6380980164059687274');" onmouseout="out('6380980164059687274');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  31 + * &lt;code&gt;RandomAccessFile&lt;/code&gt;, but it uses a private buffer so that most                                       </span>
<span class="-4083377184161836285" onmouseenter="enter('-4083377184161836285');" onmouseout="out('-4083377184161836285');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  32 + * operations do not require a disk access.                                                                       </span>
<span class="-484541071760866809" onmouseenter="enter('-484541071760866809');" onmouseout="out('-484541071760866809');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  33 + * &lt;P&gt;                                                                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  34 + *                                                                                                                </span>
<span class="-3591035213465316908" onmouseenter="enter('-3591035213465316908');" onmouseout="out('-3591035213465316908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  35 + * Note: The operations on this class are unmonitored. Also, the correct                                          </span>
<span class="635505182935282495" onmouseenter="enter('635505182935282495');" onmouseout="out('635505182935282495');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 + * functioning of the &lt;code&gt;RandomAccessFile&lt;/code&gt; methods that are not                                          </span>
<span class="9042004256410222412" onmouseenter="enter('9042004256410222412');" onmouseout="out('9042004256410222412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  37 + * overridden here relies on the implementation of those methods in the                                           </span>
<span class="-6995757444685868430" onmouseenter="enter('-6995757444685868430');" onmouseout="out('-6995757444685868430');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  38 + * superclass.                                                                                                    </span>
<span class="-4557128203411464396" onmouseenter="enter('-4557128203411464396');" onmouseout="out('-4557128203411464396');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  39 + * Author : Avinash Lakshman ( alakshman@facebook.com) Prashant Malik ( pmalik@facebook.com )                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  40 + */                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  41 +                                                                                                                  </span>
<span class="-7618813632816534392" onmouseenter="enter('-7618813632816534392');" onmouseout="out('-7618813632816534392');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  42 +public final class BufferedRandomAccessFile extends RandomAccessFile {                                            </span>
<span class="6615088589207862648" onmouseenter="enter('6615088589207862648');" onmouseout="out('6615088589207862648');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  43 +  //private static final Logger logger_ = Logger.getLogger(BufferedRandomAccessFile.class);                       </span>
<span class="4817946539310203452" onmouseenter="enter('4817946539310203452');" onmouseout="out('4817946539310203452');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  44 +  static final int LogBuffSz_ = 16; // 64K buffer                                                                 </span>
<span class="7970026977970362353" onmouseenter="enter('7970026977970362353');" onmouseout="out('7970026977970362353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +  public static final int BuffSz_ = (1 &lt;&lt; LogBuffSz_);                                                            </span>
<span class="1408327314418367095" onmouseenter="enter('1408327314418367095');" onmouseout="out('1408327314418367095');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  46 +  static final long BuffMask_ = ~(((long) BuffSz_) - 1L);                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  47 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +  /*                                                                                                              </span>
<span class="-2893797299535233213" onmouseenter="enter('-2893797299535233213');" onmouseout="out('-2893797299535233213');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +   * This implementation is based on the buffer implementation in Modula-3&#x27;s                                      </span>
<span class="1021432536658822858" onmouseenter="enter('1021432536658822858');" onmouseout="out('1021432536658822858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +   * &quot;Rd&quot;, &quot;Wr&quot;, &quot;RdClass&quot;, and &quot;WrClass&quot; interfaces.                                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  51 +   */                                                                                                             </span>
<span class="6930320102476710014" onmouseenter="enter('6930320102476710014');" onmouseout="out('6930320102476710014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  52 +  private boolean dirty_; // true iff unflushed bytes exist                                                       </span>
<span class="-8934571218220830514" onmouseenter="enter('-8934571218220830514');" onmouseout="out('-8934571218220830514');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  53 +  private boolean closed_; // true iff the file is closed                                                         </span>
<span class="8548792791394327213" onmouseenter="enter('8548792791394327213');" onmouseout="out('8548792791394327213');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +  private long curr_; // current position in file                                                                 </span>
<span class="2810035121052255641" onmouseenter="enter('2810035121052255641');" onmouseout="out('2810035121052255641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  55 +  private long lo_, hi_; // bounds on characters in &quot;buff&quot;                                                        </span>
<span class="-5565336812166914708" onmouseenter="enter('-5565336812166914708');" onmouseout="out('-5565336812166914708');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  56 +  private byte[] buff_; // local buffer                                                                           </span>
<span class="-6790252224051494414" onmouseenter="enter('-6790252224051494414');" onmouseout="out('-6790252224051494414');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  57 +  private long maxHi_; // this.lo + this.buff.length                                                              </span>
<span class="-5451134327872287364" onmouseenter="enter('-5451134327872287364');" onmouseout="out('-5451134327872287364');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  58 +  private boolean hitEOF_; // buffer contains last file block?                                                    </span>
<span class="3794371971058784568" onmouseenter="enter('3794371971058784568');" onmouseout="out('3794371971058784568');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  59 +  private long diskPos_; // disk position                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  61 +    /*                                                                                                            </span>
<span class="-3936581569571034100" onmouseenter="enter('-3936581569571034100');" onmouseout="out('-3936581569571034100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  62 +     * To describe the above fields, we introduce the following abstractions for                                  </span>
<span class="2069724281899459821" onmouseenter="enter('2069724281899459821');" onmouseout="out('2069724281899459821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  63 +     * the file &quot;f&quot;:                                                                                              </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  64 +     *                                                                                                            </span>
<span class="3942109514579599807" onmouseenter="enter('3942109514579599807');" onmouseout="out('3942109514579599807');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +     * len(f) the length of the file curr(f) the current position in the file                                     </span>
<span class="8423531652573548138" onmouseenter="enter('8423531652573548138');" onmouseout="out('8423531652573548138');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +     * c(f) the abstract contents of the file disk(f) the contents of f&#x27;s                                         </span>
<span class="9171631245335973257" onmouseenter="enter('9171631245335973257');" onmouseout="out('9171631245335973257');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +     * backing disk file closed(f) true iff the file is closed                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  68 +     *                                                                                                            </span>
<span class="6062939284417426381" onmouseenter="enter('6062939284417426381');" onmouseout="out('6062939284417426381');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  69 +     * &quot;curr(f)&quot; is an index in the closed interval [0, len(f)]. &quot;c(f)&quot; is a                                      </span>
<span class="4916274110970917743" onmouseenter="enter('4916274110970917743');" onmouseout="out('4916274110970917743');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  70 +     * character sequence of length &quot;len(f)&quot;. &quot;c(f)&quot; and &quot;disk(f)&quot; may differ if                                  </span>
<span class="5077953901668360228" onmouseenter="enter('5077953901668360228');" onmouseout="out('5077953901668360228');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +     * &quot;c(f)&quot; contains unflushed writes not reflected in &quot;disk(f)&quot;. The flush                                     </span>
<span class="-1571440391623047981" onmouseenter="enter('-1571440391623047981');" onmouseout="out('-1571440391623047981');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +     * operation has the effect of making &quot;disk(f)&quot; identical to &quot;c(f)&quot;.                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +     *                                                                                                            </span>
<span class="8144322784694474632" onmouseenter="enter('8144322784694474632');" onmouseout="out('8144322784694474632');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  74 +     * A file is said to be *valid* if the following conditions hold:                                             </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  75 +     *                                                                                                            </span>
<span class="-1269630856537664309" onmouseenter="enter('-1269630856537664309');" onmouseout="out('-1269630856537664309');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  76 +     * V1. The &quot;closed&quot; and &quot;curr&quot; fields are correct:                                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +     *                                                                                                            </span>
<span class="979308808712187879" onmouseenter="enter('979308808712187879');" onmouseout="out('979308808712187879');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +     * f.closed == closed(f) f.curr == curr(f)                                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +     *                                                                                                            </span>
<span class="-7772189654780820624" onmouseenter="enter('-7772189654780820624');" onmouseout="out('-7772189654780820624');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +     * V2. The current position is either contained in the buffer, or just past                                   </span>
<span class="2460586612831536921" onmouseenter="enter('2460586612831536921');" onmouseout="out('2460586612831536921');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +     * the buffer:                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +     *                                                                                                            </span>
<span class="-8875259016663419075" onmouseenter="enter('-8875259016663419075');" onmouseout="out('-8875259016663419075');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  83 +     * f.lo &lt;= f.curr &lt;= f.hi                                                                                     </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +     *                                                                                                            </span>
<span class="-3007662814937088374" onmouseenter="enter('-3007662814937088374');" onmouseout="out('-3007662814937088374');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +     * V3. Any (possibly) unflushed characters are stored in &quot;f.buff&quot;:                                            </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +     *                                                                                                            </span>
<span class="7662399701900948560" onmouseenter="enter('7662399701900948560');" onmouseout="out('7662399701900948560');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +     * (forall i in [f.lo, f.curr): c(f)[i] == f.buff[i - f.lo])                                                  </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  88 +     *                                                                                                            </span>
<span class="-9067184832210593745" onmouseenter="enter('-9067184832210593745');" onmouseout="out('-9067184832210593745');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +     * V4. For all characters not covered by V3, c(f) and disk(f) agree:                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +     *                                                                                                            </span>
<span class="717831558004067077" onmouseenter="enter('717831558004067077');" onmouseout="out('717831558004067077');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  91 +     * (forall i in [f.lo, len(f)): i not in [f.lo, f.curr) =&gt; c(f)[i] ==                                         </span>
<span class="4044229358116504451" onmouseenter="enter('4044229358116504451');" onmouseout="out('4044229358116504451');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  92 +     * disk(f)[i])                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +     *                                                                                                            </span>
<span class="-1759754488380141707" onmouseenter="enter('-1759754488380141707');" onmouseout="out('-1759754488380141707');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +     * V5. &quot;f.dirty&quot; is true iff the buffer contains bytes that should be                                         </span>
<span class="-4738933140714611160" onmouseenter="enter('-4738933140714611160');" onmouseout="out('-4738933140714611160');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +     * flushed to the file; by V3 and V4, only part of the buffer can be dirty.                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +     *                                                                                                            </span>
<span class="-946393002272791033" onmouseenter="enter('-946393002272791033');" onmouseout="out('-946393002272791033');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +     * f.dirty == (exists i in [f.lo, f.curr): c(f)[i] != f.buff[i - f.lo])                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +     *                                                                                                            </span>
<span class="8799384245655111676" onmouseenter="enter('8799384245655111676');" onmouseout="out('8799384245655111676');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +     * V6. this.maxHi == this.lo + this.buff.length                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +     *                                                                                                            </span>
<span class="-8807197809286194757" onmouseenter="enter('-8807197809286194757');" onmouseout="out('-8807197809286194757');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +     * Note that &quot;f.buff&quot; can be &quot;null&quot; in a valid file, since the range of                                       </span>
<span class="8380169438616845165" onmouseenter="enter('8380169438616845165');" onmouseout="out('8380169438616845165');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +     * characters in V3 is empty when &quot;f.lo == f.curr&quot;.                                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +     *                                                                                                            </span>
<span class="4472737642333127229" onmouseenter="enter('4472737642333127229');" onmouseout="out('4472737642333127229');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +     * A file is said to be *ready* if the buffer contains the current position,                                  </span>
<span class="530075668565703765" onmouseenter="enter('530075668565703765');" onmouseout="out('530075668565703765');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +     * i.e., when:                                                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 106 +     *                                                                                                            </span>
<span class="3467179512391623708" onmouseenter="enter('3467179512391623708');" onmouseout="out('3467179512391623708');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 107 +     * R1. !f.closed &amp;&amp; f.buff != null &amp;&amp; f.lo &lt;= f.curr &amp;&amp; f.curr &lt; f.hi                                         </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 108 +     *                                                                                                            </span>
<span class="-108247808767139067" onmouseenter="enter('-108247808767139067');" onmouseout="out('-108247808767139067');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 109 +     * When a file is ready, reading or writing a single byte can be performed                                    </span>
<span class="-3499206885168790049" onmouseenter="enter('-3499206885168790049');" onmouseout="out('-3499206885168790049');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 110 +     * by reading or writing the in-memory buffer without performing a disk                                       </span>
<span class="-3072305517631744386" onmouseenter="enter('-3072305517631744386');" onmouseout="out('-3072305517631744386');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 111 +     * operation.                                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 112 +     */                                                                                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 113 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 114 +  /**                                                                                                             </span>
<span class="1351546277608868832" onmouseenter="enter('1351546277608868832');" onmouseout="out('1351546277608868832');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +   * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on &lt;code&gt;file&lt;/code&gt;                                        </span>
<span class="453887555747532364" onmouseenter="enter('453887555747532364');" onmouseout="out('453887555747532364');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 116 +   * in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for reading only, or                                          </span>
<span class="-3680215098577845464" onmouseenter="enter('-3680215098577845464');" onmouseout="out('-3680215098577845464');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 117 +   * &quot;rw&quot; for reading and writing.                                                                                </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 118 +   */                                                                                                             </span>
<span class="-8434990783057983301" onmouseenter="enter('-8434990783057983301');" onmouseout="out('-8434990783057983301');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 119 +  public BufferedRandomAccessFile(File file, String mode) throws IOException {                                    </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 120 +    super(file, mode);                                                                                            </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 121 +    this.init(0);                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 122 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 123 +                                                                                                                  </span>
<span class="-453136098354647832" onmouseenter="enter('-453136098354647832');" onmouseout="out('-453136098354647832');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 124 +  public BufferedRandomAccessFile(File file, String mode, int size) throws IOException {                          </span>
<span class="-5473186714342594786" onmouseenter="enter('-5473186714342594786');" onmouseout="out('-5473186714342594786');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 125 +    super(file, mode);                                                                                            </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 126 +    this.init(size);                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 127 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 128 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 129 +  /**                                                                                                             </span>
<span class="-3480587780124661536" onmouseenter="enter('-3480587780124661536');" onmouseout="out('-3480587780124661536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 130 +   * Open a new &lt;code&gt;BufferedRandomAccessFile&lt;/code&gt; on the file named                                           </span>
<span class="-7030046076474638613" onmouseenter="enter('-7030046076474638613');" onmouseout="out('-7030046076474638613');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 131 +   * &lt;code&gt;name&lt;/code&gt; in mode &lt;code&gt;mode&lt;/code&gt;, which should be &quot;r&quot; for                                         </span>
<span class="1088989998774722620" onmouseenter="enter('1088989998774722620');" onmouseout="out('1088989998774722620');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 132 +   * reading only, or &quot;rw&quot; for reading and writing.                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +   */                                                                                                             </span>
<span class="-8823965408485600512" onmouseenter="enter('-8823965408485600512');" onmouseout="out('-8823965408485600512');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +  public BufferedRandomAccessFile(String name, String mode) throws IOException {                                  </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +    super(name, mode);                                                                                            </span>
<span class="-607335833008155218" onmouseenter="enter('-607335833008155218');" onmouseout="out('-607335833008155218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 136 +    this.init(0);                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 137 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 138 +                                                                                                                  </span>
<span class="5657307843603113479" onmouseenter="enter('5657307843603113479');" onmouseout="out('5657307843603113479');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 139 +  public BufferedRandomAccessFile(String name, String mode, int size) throws FileNotFoundException {              </span>
<span class="-6822193531091422016" onmouseenter="enter('-6822193531091422016');" onmouseout="out('-6822193531091422016');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 140 +    super(name, mode);                                                                                            </span>
<span class="3964745741787460350" onmouseenter="enter('3964745741787460350');" onmouseout="out('3964745741787460350');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 141 +    this.init(size);                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 142 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 143 +                                                                                                                  </span>
<span class="5551924884735922585" onmouseenter="enter('5551924884735922585');" onmouseout="out('5551924884735922585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 144 +  private void init(int size) {                                                                                   </span>
<span class="-2850666888898584218" onmouseenter="enter('-2850666888898584218');" onmouseout="out('-2850666888898584218');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 145 +    this.dirty_ = this.closed_ = false;                                                                           </span>
<span class="2840697314215077210" onmouseenter="enter('2840697314215077210');" onmouseout="out('2840697314215077210');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +    this.lo_ = this.curr_ = this.hi_ = 0;                                                                         </span>
<span class="989376670792595176" onmouseenter="enter('989376670792595176');" onmouseout="out('989376670792595176');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +    this.buff_ = (size &gt; BuffSz_) ? new byte[size] : new byte[BuffSz_];                                           </span>
<span class="-6551025993424877277" onmouseenter="enter('-6551025993424877277');" onmouseout="out('-6551025993424877277');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 148 +    this.maxHi_ = (long) BuffSz_;                                                                                 </span>
<span class="5218815061722857854" onmouseenter="enter('5218815061722857854');" onmouseout="out('5218815061722857854');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 149 +    this.hitEOF_ = false;                                                                                         </span>
<span class="-5785819969814094934" onmouseenter="enter('-5785819969814094934');" onmouseout="out('-5785819969814094934');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 150 +    this.diskPos_ = 0L;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 151 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 152 +                                                                                                                  </span>
<span class="3075770629113308700" onmouseenter="enter('3075770629113308700');" onmouseout="out('3075770629113308700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 153 +  public void close() throws IOException {                                                                        </span>
<span class="-2142124785498338157" onmouseenter="enter('-2142124785498338157');" onmouseout="out('-2142124785498338157');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 154 +    this.flush();                                                                                                 </span>
<span class="-6340371251695134552" onmouseenter="enter('-6340371251695134552');" onmouseout="out('-6340371251695134552');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 155 +    this.closed_ = true;                                                                                          </span>
<span class="-2219391834669832598" onmouseenter="enter('-2219391834669832598');" onmouseout="out('-2219391834669832598');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +    super.close();                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +                                                                                                                  </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +  /**                                                                                                             </span>
<span class="6399380210193036787" onmouseenter="enter('6399380210193036787');" onmouseout="out('6399380210193036787');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +   * Flush any bytes in the file&#x27;s buffer that have not yet been written to                                       </span>
<span class="847851214623451697" onmouseenter="enter('847851214623451697');" onmouseout="out('847851214623451697');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +   * disk. If the file was created read-only, this method is a no-op.                                             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +   */                                                                                                             </span>
<span class="3516006397829896858" onmouseenter="enter('3516006397829896858');" onmouseout="out('3516006397829896858');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +  public void flush() throws IOException {                                                                        </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +    this.flushBuffer();                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +                                                                                                                  </span>
<span class="587201756057337699" onmouseenter="enter('587201756057337699');" onmouseout="out('587201756057337699');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +  /* Flush any dirty bytes in the buffer to disk. */                                                              </span>
<span class="8758894563108089599" onmouseenter="enter('8758894563108089599');" onmouseout="out('8758894563108089599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +  private void flushBuffer() throws IOException {                                                                 </span>
<span class="4301885684552359519" onmouseenter="enter('4301885684552359519');" onmouseout="out('4301885684552359519');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +    if (this.dirty_) {                                                                                            </span>
<span class="736124185545095616" onmouseenter="enter('736124185545095616');" onmouseout="out('736124185545095616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +      if (this.diskPos_ != this.lo_) super.seek(this.lo_);                                                        </span>
<span class="-5281562837227929409" onmouseenter="enter('-5281562837227929409');" onmouseout="out('-5281562837227929409');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +      int len = (int) (this.curr_ - this.lo_);                                                                    </span>
<span class="6765610743081262114" onmouseenter="enter('6765610743081262114');" onmouseout="out('6765610743081262114');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +      super.write(this.buff_, 0, len);                                                                            </span>
<span class="4683992282209736577" onmouseenter="enter('4683992282209736577');" onmouseout="out('4683992282209736577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +      this.diskPos_ = this.curr_;                                                                                 </span>
<span class="3238476683105780913" onmouseenter="enter('3238476683105780913');" onmouseout="out('3238476683105780913');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 174 +      this.dirty_ = false;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 175 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 176 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 177 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 178 +  /*                                                                                                              </span>
<span class="-2021782647515546277" onmouseenter="enter('-2021782647515546277');" onmouseout="out('-2021782647515546277');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 179 +   * Read at most &quot;this.buff.length&quot; bytes into &quot;this.buff&quot;, returning the                                        </span>
<span class="-4515480482852552412" onmouseenter="enter('-4515480482852552412');" onmouseout="out('-4515480482852552412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +   * number of bytes read. If the return result is less than                                                      </span>
<span class="-7486505761455918547" onmouseenter="enter('-7486505761455918547');" onmouseout="out('-7486505761455918547');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 181 +   * &quot;this.buff.length&quot;, then EOF was read.                                                                       </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 182 +   */                                                                                                             </span>
<span class="9102680032405651536" onmouseenter="enter('9102680032405651536');" onmouseout="out('9102680032405651536');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 183 +  private int fillBuffer() throws IOException {                                                                   </span>
<span class="-6925568187558983072" onmouseenter="enter('-6925568187558983072');" onmouseout="out('-6925568187558983072');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 184 +    int cnt = 0;                                                                                                  </span>
<span class="1211647843866851781" onmouseenter="enter('1211647843866851781');" onmouseout="out('1211647843866851781');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 185 +    int rem = this.buff_.length;                                                                                  </span>
<span class="4558901091400485838" onmouseenter="enter('4558901091400485838');" onmouseout="out('4558901091400485838');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +    while (rem &gt; 0) {                                                                                             </span>
<span class="8150290817251668846" onmouseenter="enter('8150290817251668846');" onmouseout="out('8150290817251668846');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 187 +      int n = super.read(this.buff_, cnt, rem);                                                                   </span>
<span class="3286194446926829446" onmouseenter="enter('3286194446926829446');" onmouseout="out('3286194446926829446');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +      if (n &lt; 0) break;                                                                                           </span>
<span class="-2189520819463946014" onmouseenter="enter('-2189520819463946014');" onmouseout="out('-2189520819463946014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +      cnt += n;                                                                                                   </span>
<span class="435047948805898023" onmouseenter="enter('435047948805898023');" onmouseout="out('435047948805898023');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +      rem -= n;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +    }                                                                                                             </span>
<span class="-2592275401294750026" onmouseenter="enter('-2592275401294750026');" onmouseout="out('-2592275401294750026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +    if ((cnt &lt; 0) &amp;&amp; (this.hitEOF_ = (cnt &lt; this.buff_.length))) {                                                </span>
<span class="6009473334823966987" onmouseenter="enter('6009473334823966987');" onmouseout="out('6009473334823966987');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 193 +      // make sure buffer that wasn&#x27;t read is initialized with -1                                                 </span>
<span class="3302036294169840097" onmouseenter="enter('3302036294169840097');" onmouseout="out('3302036294169840097');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +      Arrays.fill(this.buff_, cnt, this.buff_.length, (byte) 0xff);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +    }                                                                                                             </span>
<span class="4142463760419510235" onmouseenter="enter('4142463760419510235');" onmouseout="out('4142463760419510235');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +    this.diskPos_ += cnt;                                                                                         </span>
<span class="1201366805596982616" onmouseenter="enter('1201366805596982616');" onmouseout="out('1201366805596982616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +    return cnt;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +  /*                                                                                                              </span>
<span class="-6173403972520006794" onmouseenter="enter('-6173403972520006794');" onmouseout="out('-6173403972520006794');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +   * This method positions &lt;code&gt;this.curr&lt;/code&gt; at position &lt;code&gt;pos&lt;/code&gt;.                                   </span>
<span class="-209648681527588585" onmouseenter="enter('-209648681527588585');" onmouseout="out('-209648681527588585');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 202 +   * If &lt;code&gt;pos&lt;/code&gt; does not fall in the current buffer, it flushes the                                      </span>
<span class="-3523323071525754796" onmouseenter="enter('-3523323071525754796');" onmouseout="out('-3523323071525754796');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +   * current buffer and loads the correct one.&lt;p&gt;                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +   *                                                                                                              </span>
<span class="-4975564389020336965" onmouseenter="enter('-4975564389020336965');" onmouseout="out('-4975564389020336965');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +   * On exit from this routine &lt;code&gt;this.curr == this.hi&lt;/code&gt; iff &lt;code&gt;pos&lt;/code&gt;                             </span>
<span class="3609328464105633747" onmouseenter="enter('3609328464105633747');" onmouseout="out('3609328464105633747');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 206 +   * is at or past the end-of-file, which can only happen if the file was                                         </span>
<span class="-8683284462584625720" onmouseenter="enter('-8683284462584625720');" onmouseout="out('-8683284462584625720');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 207 +   * opened in read-only mode.                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +   */                                                                                                             </span>
<span class="1045469846730437003" onmouseenter="enter('1045469846730437003');" onmouseout="out('1045469846730437003');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 209 +  public void seek(long pos) throws IOException {                                                                 </span>
<span class="1233461237264754204" onmouseenter="enter('1233461237264754204');" onmouseout="out('1233461237264754204');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 210 +    if (pos &gt;= this.hi_ || pos &lt; this.lo_) {                                                                      </span>
<span class="-8526000519492201168" onmouseenter="enter('-8526000519492201168');" onmouseout="out('-8526000519492201168');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 211 +      // seeking outside of current buffer -- flush and read                                                      </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 212 +      this.flushBuffer();                                                                                         </span>
<span class="-1955428514344839188" onmouseenter="enter('-1955428514344839188');" onmouseout="out('-1955428514344839188');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 213 +      this.lo_ = pos &amp; BuffMask_; // start at BuffSz boundary                                                     </span>
<span class="-3108337400407772088" onmouseenter="enter('-3108337400407772088');" onmouseout="out('-3108337400407772088');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 214 +      this.maxHi_ = this.lo_ + (long) this.buff_.length;                                                          </span>
<span class="-6521827714761411087" onmouseenter="enter('-6521827714761411087');" onmouseout="out('-6521827714761411087');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 215 +      if (this.diskPos_ != this.lo_) {                                                                            </span>
<span class="3240109854974477726" onmouseenter="enter('3240109854974477726');" onmouseout="out('3240109854974477726');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 216 +        super.seek(this.lo_);                                                                                     </span>
<span class="-434856769074322394" onmouseenter="enter('-434856769074322394');" onmouseout="out('-434856769074322394');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 217 +        this.diskPos_ = this.lo_;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 218 +      }                                                                                                           </span>
<span class="5958235403126495881" onmouseenter="enter('5958235403126495881');" onmouseout="out('5958235403126495881');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 219 +      int n = this.fillBuffer();                                                                                  </span>
<span class="6020729273271733469" onmouseenter="enter('6020729273271733469');" onmouseout="out('6020729273271733469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 220 +      this.hi_ = this.lo_ + (long) n;                                                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 221 +    } else {                                                                                                      </span>
<span class="-2068750461792604158" onmouseenter="enter('-2068750461792604158');" onmouseout="out('-2068750461792604158');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 222 +      // seeking inside current buffer -- no read required                                                        </span>
<span class="-8767416704062471642" onmouseenter="enter('-8767416704062471642');" onmouseout="out('-8767416704062471642');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 223 +      if (pos &lt; this.curr_) {                                                                                     </span>
<span class="3571291767884108983" onmouseenter="enter('3571291767884108983');" onmouseout="out('3571291767884108983');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 224 +        // if seeking backwards, we must flush to maintain V4                                                     </span>
<span class="2874727630852285405" onmouseenter="enter('2874727630852285405');" onmouseout="out('2874727630852285405');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 225 +        this.flushBuffer();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +    }                                                                                                             </span>
<span class="8509908448470847884" onmouseenter="enter('8509908448470847884');" onmouseout="out('8509908448470847884');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 228 +    this.curr_ = pos;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 229 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 230 +                                                                                                                  </span>
<span class="-7084230487165991749" onmouseenter="enter('-7084230487165991749');" onmouseout="out('-7084230487165991749');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 231 +  public long getFilePointer() {                                                                                  </span>
<span class="-6051440881378549831" onmouseenter="enter('-6051440881378549831');" onmouseout="out('-6051440881378549831');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 232 +    return this.curr_;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 233 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 234 +                                                                                                                  </span>
<span class="-6941883707135103006" onmouseenter="enter('-6941883707135103006');" onmouseout="out('-6941883707135103006');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 235 +  public long length() throws IOException {                                                                       </span>
<span class="-8729952525790322599" onmouseenter="enter('-8729952525790322599');" onmouseout="out('-8729952525790322599');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 236 +    return Math.max(this.curr_, super.length());                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 237 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 238 +                                                                                                                  </span>
<span class="-9012256586706032903" onmouseenter="enter('-9012256586706032903');" onmouseout="out('-9012256586706032903');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 239 +  public int read() throws IOException {                                                                          </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 240 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +      // test for EOF                                                                                             </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +      // if (this.hi &lt; this.maxHi) return -1;                                                                     </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +      if (this.hitEOF_) return -1;                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +                                                                                                                  </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +      // slow path -- read another buffer                                                                         </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +      this.seek(this.curr_);                                                                                      </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 247 +      if (this.curr_ == this.hi_) return -1;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 248 +    }                                                                                                             </span>
<span class="4419650221760970549" onmouseenter="enter('4419650221760970549');" onmouseout="out('4419650221760970549');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 249 +    byte res = this.buff_[(int) (this.curr_ - this.lo_)];                                                         </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 250 +    this.curr_++;                                                                                                 </span>
<span class="-627440987035300608" onmouseenter="enter('-627440987035300608');" onmouseout="out('-627440987035300608');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 251 +    return ((int) res) &amp; 0xFF; // convert byte -&gt; int                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 252 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 253 +                                                                                                                  </span>
<span class="-3083187423260978934" onmouseenter="enter('-3083187423260978934');" onmouseout="out('-3083187423260978934');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 254 +  public int read(byte[] b) throws IOException {                                                                  </span>
<span class="3890104000838200797" onmouseenter="enter('3890104000838200797');" onmouseout="out('3890104000838200797');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +    return this.read(b, 0, b.length);                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +                                                                                                                  </span>
<span class="-6549446275079329744" onmouseenter="enter('-6549446275079329744');" onmouseout="out('-6549446275079329744');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 258 +  public int read(byte[] b, int off, int len) throws IOException {                                                </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="6336270650848199369" onmouseenter="enter('6336270650848199369');" onmouseout="out('6336270650848199369');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +      // test for EOF                                                                                             </span>
<span class="-3451590730242989439" onmouseenter="enter('-3451590730242989439');" onmouseout="out('-3451590730242989439');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 261 +      // if (this.hi &lt; this.maxHi) return -1;                                                                     </span>
<span class="-1294367012185771924" onmouseenter="enter('-1294367012185771924');" onmouseout="out('-1294367012185771924');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +      if (this.hitEOF_) return -1;                                                                                </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 263 +                                                                                                                  </span>
<span class="-281277099201185771" onmouseenter="enter('-281277099201185771');" onmouseout="out('-281277099201185771');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 264 +      // slow path -- read another buffer                                                                         </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 265 +      this.seek(this.curr_);                                                                                      </span>
<span class="-3043343876637374353" onmouseenter="enter('-3043343876637374353');" onmouseout="out('-3043343876637374353');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 266 +      if (this.curr_ == this.hi_) return -1;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 267 +    }                                                                                                             </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 268 +    len = Math.min(len, (int) (this.hi_ - this.curr_));                                                           </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 269 +    int buffOff = (int) (this.curr_ - this.lo_);                                                                  </span>
<span class="-4938401244321112082" onmouseenter="enter('-4938401244321112082');" onmouseout="out('-4938401244321112082');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 270 +    System.arraycopy(this.buff_, buffOff, b, off, len);                                                           </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 271 +    this.curr_ += len;                                                                                            </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +    return len;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 273 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +                                                                                                                  </span>
<span class="3099678744335489259" onmouseenter="enter('3099678744335489259');" onmouseout="out('3099678744335489259');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +  public void write(int b) throws IOException {                                                                   </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +      if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                               </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +        // at EOF -- bump &quot;hi&quot;                                                                                    </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +        this.hi_++;                                                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +      } else {                                                                                                    </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +        // slow path -- write current buffer; read next one                                                       </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 282 +        this.seek(this.curr_);                                                                                    </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +        if (this.curr_ == this.hi_) {                                                                             </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +          // appending to EOF -- bump &quot;hi&quot;                                                                        </span>
<span class="8234544062653920929" onmouseenter="enter('8234544062653920929');" onmouseout="out('8234544062653920929');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 285 +          this.hi_++;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 286 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 287 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 288 +    }                                                                                                             </span>
<span class="3241130681458379004" onmouseenter="enter('3241130681458379004');" onmouseout="out('3241130681458379004');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 289 +    this.buff_[(int) (this.curr_ - this.lo_)] = (byte) b;                                                         </span>
<span class="-195351967696355303" onmouseenter="enter('-195351967696355303');" onmouseout="out('-195351967696355303');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 290 +    this.curr_++;                                                                                                 </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 291 +    this.dirty_ = true;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 292 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 293 +                                                                                                                  </span>
<span class="-5890548955324027663" onmouseenter="enter('-5890548955324027663');" onmouseout="out('-5890548955324027663');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 294 +  public void write(byte[] b) throws IOException {                                                                </span>
<span class="2476786234223299971" onmouseenter="enter('2476786234223299971');" onmouseout="out('2476786234223299971');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 295 +    this.write(b, 0, b.length);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 296 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 297 +                                                                                                                  </span>
<span class="5333634921828566172" onmouseenter="enter('5333634921828566172');" onmouseout="out('5333634921828566172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 298 +  public void write(byte[] b, int off, int len) throws IOException {                                              </span>
<span class="8659956805677425638" onmouseenter="enter('8659956805677425638');" onmouseout="out('8659956805677425638');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 299 +    while (len &gt; 0) {                                                                                             </span>
<span class="4253461387035776156" onmouseenter="enter('4253461387035776156');" onmouseout="out('4253461387035776156');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 300 +      int n = this.writeAtMost(b, off, len);                                                                      </span>
<span class="5133194115572522886" onmouseenter="enter('5133194115572522886');" onmouseout="out('5133194115572522886');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 301 +      off += n;                                                                                                   </span>
<span class="-6861508777646263488" onmouseenter="enter('-6861508777646263488');" onmouseout="out('-6861508777646263488');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 302 +      len -= n;                                                                                                   </span>
<span class="1902908663524895902" onmouseenter="enter('1902908663524895902');" onmouseout="out('1902908663524895902');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 303 +      this.dirty_ = true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 304 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 305 +  }                                                                                                               </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 306 +                                                                                                                  </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +  /*                                                                                                              </span>
<span class="-3823945200468182935" onmouseenter="enter('-3823945200468182935');" onmouseout="out('-3823945200468182935');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 308 +   * Write at most &quot;len&quot; bytes to &quot;b&quot; starting at position &quot;off&quot;, and return                                      </span>
<span class="5705453366365250461" onmouseenter="enter('5705453366365250461');" onmouseout="out('5705453366365250461');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 309 +   * the number of bytes written.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 310 +   */                                                                                                             </span>
<span class="4775960870479698671" onmouseenter="enter('4775960870479698671');" onmouseout="out('4775960870479698671');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 311 +  private int writeAtMost(byte[] b, int off, int len) throws IOException {                                        </span>
<span class="-3826828167001369821" onmouseenter="enter('-3826828167001369821');" onmouseout="out('-3826828167001369821');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 312 +    if (this.curr_ &gt;= this.hi_) {                                                                                 </span>
<span class="3398845175371000186" onmouseenter="enter('3398845175371000186');" onmouseout="out('3398845175371000186');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 313 +      if (this.hitEOF_ &amp;&amp; this.hi_ &lt; this.maxHi_) {                                                               </span>
<span class="4939008360768531851" onmouseenter="enter('4939008360768531851');" onmouseout="out('4939008360768531851');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 314 +        // at EOF -- bump &quot;hi&quot;                                                                                    </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 315 +        this.hi_ = this.maxHi_;                                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 316 +      } else {                                                                                                    </span>
<span class="5339954319321564014" onmouseenter="enter('5339954319321564014');" onmouseout="out('5339954319321564014');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 317 +        // slow path -- write current buffer; read next one                                                       </span>
<span class="4054364562112980582" onmouseenter="enter('4054364562112980582');" onmouseout="out('4054364562112980582');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 318 +        this.seek(this.curr_);                                                                                    </span>
<span class="1934967001068943081" onmouseenter="enter('1934967001068943081');" onmouseout="out('1934967001068943081');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 319 +        if (this.curr_ == this.hi_) {                                                                             </span>
<span class="6435346097478758026" onmouseenter="enter('6435346097478758026');" onmouseout="out('6435346097478758026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 320 +          // appending to EOF -- bump &quot;hi&quot;                                                                        </span>
<span class="6861736948002392428" onmouseenter="enter('6861736948002392428');" onmouseout="out('6861736948002392428');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 321 +          this.hi_ = this.maxHi_;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +      }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 324 +    }                                                                                                             </span>
<span class="-3708965198428572190" onmouseenter="enter('-3708965198428572190');" onmouseout="out('-3708965198428572190');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 325 +    len = Math.min(len, (int) (this.hi_ - this.curr_));                                                           </span>
<span class="-438840974895880422" onmouseenter="enter('-438840974895880422');" onmouseout="out('-438840974895880422');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 326 +    int buffOff = (int) (this.curr_ - this.lo_);                                                                  </span>
<span class="7275583130401168337" onmouseenter="enter('7275583130401168337');" onmouseout="out('7275583130401168337');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 327 +    System.arraycopy(b, off, this.buff_, buffOff, len);                                                           </span>
<span class="-117875629320976577" onmouseenter="enter('-117875629320976577');" onmouseout="out('-117875629320976577');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 328 +    this.curr_ += len;                                                                                            </span>
<span class="7701238698032811091" onmouseenter="enter('7701238698032811091');" onmouseout="out('7701238698032811091');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 329 +    return len;                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 330 +  }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 331 +}                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            