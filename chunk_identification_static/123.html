<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>123</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    123
                    <a href="122.html">prev</a>
                    <a href="124.html">next</a>
                    <a href="123_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_f5ca511b687ad83c95325aba0a4b8df061d40a22_Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f5ca511b687ad83c95325aba0a4b8df061d40a22:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f5ca511b687ad83c95325aba0a4b8df061d40a22^1:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;f5ca511b687ad83c95325aba0a4b8df061d40a22^2:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;8799fa89bf22e08e205bad4c72b5699e0996975e:Simplenote/src/main/java/com/automattic/simplenote/TagsListFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">   9 import android.view.ActionMode;                                                                          </span>
<span class="2326634292910788840" onmouseenter="enter('2326634292910788840');" onmouseout="out('2326634292910788840');" style="">  10 import android.view.HapticFeedbackConstants;                                                             </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  11 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  12 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  13 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  14 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  15 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  16 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  17 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  18 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  19 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  20 import android.widget.TextView;                                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  21 import android.widget.Toast;                                                                             </span>
<span  style="">  22                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  23 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  24 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  25 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  26 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-4562972236084881752" onmouseenter="enter('-4562972236084881752');" onmouseout="out('-4562972236084881752');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  27 import androidx.recyclerview.widget.DividerItemDecoration;                                               </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  28 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-4562972236084881752" onmouseenter="enter('-4562972236084881752');" onmouseout="out('-4562972236084881752');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  29 import androidx.recyclerview.widget.DividerItemDecoration;                                               </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  30 import androidx.recyclerview.widget.LinearLayoutManager;                                                 </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  31 =======                                                                                                  </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  32 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="">  33 import androidx.recyclerview.widget.LinearLayoutManager;                                                 </span>
<span class="4515746691159352168" onmouseenter="enter('4515746691159352168');" onmouseout="out('4515746691159352168');" style="">  34 import androidx.recyclerview.widget.RecyclerView;                                                        </span>
<span  style="">  35                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  36 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  37 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  38 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  39 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  40 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="4576318692974866225" onmouseenter="enter('4576318692974866225');" onmouseout="out('4576318692974866225');" style="">  41 import com.automattic.simplenote.widgets.EmptyViewRecyclerView;                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  42 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  43 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  44 import com.simperium.client.Query;                                                                       </span>
<span  style="">  45                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  46 import java.util.List;                                                                                   </span>
<span  style="">  47                                                                                                          </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  48 public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {    </span>
<span  style="">  49                                                                                                          </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  50     private ActionMode mActionMode;                                                                      </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  51     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  52     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  53     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  54                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  55     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  56      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  57      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  58      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  59     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  60     }                                                                                                    </span>
<span  style="">  61                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  62     @Override                                                                                            </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style=""><abbr title="  63     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {">  63     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceSðŸ”µ</abbr></span>
<span class="6552576068116096374" onmouseenter="enter('6552576068116096374');" onmouseout="out('6552576068116096374');" style="">  64         return inflater.inflate(R.layout.fragment_tags_list, container, false);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65     }                                                                                                    </span>
<span  style="">  66                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  67     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  68     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  69         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  70                                                                                                          </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  71         setHasOptionsMenu(true);                                                                         </span>
<span  style="">  72                                                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  73         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  74         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  75         mNotesBucket = application.getNotesBucket();                                                     </span>
<span  style="">  76                                                                                                          </span>
<span class="-327450921135383502" onmouseenter="enter('-327450921135383502');" onmouseout="out('-327450921135383502');" style="">  77         EmptyViewRecyclerView recyclerView = getActivity().findViewById(R.id.list);                      </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  78         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  79         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  80         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="-3006219674440898246" onmouseenter="enter('-3006219674440898246');" onmouseout="out('-3006219674440898246');" style="">  81         TextView emptyView = getActivity().findViewById(R.id.empty);                                     </span>
<span class="-7931253386188569803" onmouseenter="enter('-7931253386188569803');" onmouseout="out('-7931253386188569803');" style=""><abbr title="  82         emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));">  82         emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="-954416827720030171" onmouseenter="enter('-954416827720030171');" onmouseout="out('-954416827720030171');" style="">  83         recyclerView.setEmptyView(emptyView);                                                            </span>
<span  style="">  84                                                                                                          </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  85         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86     }                                                                                                    </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  89     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  90         super.onResume();                                                                                </span>
<span  style="">  91                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  92         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  93         mTagsBucket.start();                                                                             </span>
<span  style="">  94                                                                                                          </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  95         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  96         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  97         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  98     }                                                                                                    </span>
<span  style="">  99                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 100     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style=""> 101     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style=""> 102         super.onPause();                                                                                 </span>
<span  style=""> 103                                                                                                          </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style=""> 104         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style=""> 105         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style=""> 106         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span  style=""> 107                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 108         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 109         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span  style=""> 111                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 112     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title=" 113         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);"> 113         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 114         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 115         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116     }                                                                                                    </span>
<span  style=""> 117                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 118     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 119     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 120     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 121         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 122         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 123         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 124         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125     }                                                                                                    </span>
<span  style=""> 126                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 127     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 128     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 129         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130     }                                                                                                    </span>
<span  style=""> 131                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 133     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 134         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 135             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 136             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 138         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 141     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 142     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 143         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 144     }                                                                                                    </span>
<span  style=""> 145                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 146     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 147     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span  style=""> 148                                                                                                          </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 149         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 150             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 151                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 152                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154         }                                                                                                </span>
<span  style=""> 155                                                                                                          </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 156         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157     }                                                                                                    </span>
<span  style=""> 158                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 159     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 161     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 162         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 163             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 164                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 165                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 166                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 168             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170     }                                                                                                    </span>
<span  style=""> 171                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 173     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 174         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 175             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 176                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 177                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 178                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 180             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 181         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182     }                                                                                                    </span>
<span  style=""> 183                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 184     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 185     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 186         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 187             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 188                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 189                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 190                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 192             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194     }                                                                                                    </span>
<span  style=""> 195                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 197     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 198         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span  style=""> 200                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 201     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span  style=""> 202                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 203         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 204         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 205             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 206             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 207                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 208                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 209                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 210                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 211                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 212                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 213                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 215                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 216             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 217             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219     }                                                                                                    </span>
<span  style=""> 220                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 221     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span  style=""> 222                                                                                                          </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 223         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span  style=""> 224                                                                                                          </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 225             private TextView tagTitle;                                                                   </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 226             private TextView tagCountTextView;                                                           </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 227             private ImageButton deleteButton;                                                            </span>
<span  style=""> 228                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 229             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 230                 super(itemView);                                                                         </span>
<span  style=""> 231                                                                                                          </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 232                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 233                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 234                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span  style=""> 235                                                                                                          </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 236                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 237                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 238                     public void onClick(View view) {                                                     </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 239                         if (!isAdded()) return;                                                          </span>
<span  style=""> 240                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""><abbr title=" 241                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();"> 241                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObjeðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 242                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 242                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 243                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 244                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 245                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="5756406127384283912" onmouseenter="enter('5756406127384283912');" onmouseout="out('5756406127384283912');" style=""><abbr title=" 246                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 246                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(gðŸ”µ</abbr></span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 247                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 248                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 249                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 250                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 251                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 252                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 253                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 254                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 255                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 256                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 258                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 259                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 262                 });                                                                                      </span>
<span class="-7367896641737350796" onmouseenter="enter('-7367896641737350796');" onmouseout="out('-7367896641737350796');" style=""> 263                 deleteButton.setOnLongClickListener(new View.OnLongClickListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264                     @Override                                                                            </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 265                     public boolean onLongClick(View v) {                                                 </span>
<span class="-7768079443704311296" onmouseenter="enter('-7768079443704311296');" onmouseout="out('-7768079443704311296');" style=""> 266                         if (v.isHapticFeedbackEnabled()) {                                               </span>
<span class="8951586631252773872" onmouseenter="enter('8951586631252773872');" onmouseout="out('8951586631252773872');" style=""> 267                             v.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268                         }                                                                                </span>
<span  style=""> 269                                                                                                          </span>
<span class="7463648715521265388" onmouseenter="enter('7463648715521265388');" onmouseout="out('7463648715521265388');" style=""><abbr title=" 270                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LENGTH_SHORT).show();"> 270                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LðŸ”µ</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 271                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 273                 });                                                                                      </span>
<span  style=""> 274                                                                                                          </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 275                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276             }                                                                                            </span>
<span  style=""> 277                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 278             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 279             public void onClick(View view) {                                                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 280                 if (!isAdded()) return;                                                                  </span>
<span  style=""> 281                                                                                                          </span>
<span class="-2945041354382019266" onmouseenter="enter('-2945041354382019266');" onmouseout="out('-2945041354382019266');" style=""><abbr title=" 282                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 282                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContðŸ”µ</abbr></span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 283                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 283                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layouðŸ”µ</abbr></span>
<span  style=""> 284                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 285                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();   </span>
<span  style=""> 286                                                                                                          </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 287                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 288                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 289                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 290                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 291                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 292                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 293                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 294                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 295                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 296                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 297                             AnalyticsTracker.track(                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 298                                     AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                           </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 299                                     AnalyticsTracker.CATEGORY_TAG,                                       </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 300                                     &quot;tag_alert_edit_box&quot;                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 301                             );                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 302                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 303                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 304                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 307                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 308                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 309                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 310                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 312                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 313                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314             }                                                                                            </span>
<span  style=""> 315                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 316             private void deleteTag(Tag tag) {                                                            </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 317                 tag.delete();                                                                            </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 318                 new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 319                 AnalyticsTracker.track(                                                                  </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 320                         AnalyticsTracker.Stat.TAG_MENU_DELETED,                                          </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 321                         AnalyticsTracker.CATEGORY_TAG,                                                   </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 322                         &quot;list_trash_button&quot;                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 323                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325         }                                                                                                </span>
<span  style=""> 326                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 327         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 328             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329         }                                                                                                </span>
<span  style=""> 330                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 331         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 332         @Override                                                                                        </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 333         public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                  </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 334             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 335             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span  style=""> 336                                                                                                          </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 337             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span  style=""> 338                                                                                                          </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 339             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340         }                                                                                                </span>
<span  style=""> 341                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 342         @Override                                                                                        </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 343         public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                        </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 344             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                    </span>
<span  style=""> 345                                                                                                          </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 346             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 347             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 347             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 348             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 349                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 350             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 351                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353         }                                                                                                </span>
<span  style=""> 354                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 355         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 356         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 357             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">   9 import android.view.ActionMode;                                                                          </span>
<span class="2326634292910788840" onmouseenter="enter('2326634292910788840');" onmouseout="out('2326634292910788840');" style="">  10 import android.view.HapticFeedbackConstants;                                                             </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  11 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  12 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  13 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  14 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  15 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  16 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  17 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  18 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  19 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  20 import android.widget.TextView;                                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  21 import android.widget.Toast;                                                                             </span>
<span  style="">  22                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  23 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  24 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  25 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="">  26 import androidx.recyclerview.widget.LinearLayoutManager;                                                 </span>
<span class="4515746691159352168" onmouseenter="enter('4515746691159352168');" onmouseout="out('4515746691159352168');" style="">  27 import androidx.recyclerview.widget.RecyclerView;                                                        </span>
<span  style="">  28                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  29 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  30 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  31 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  32 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  33 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="4576318692974866225" onmouseenter="enter('4576318692974866225');" onmouseout="out('4576318692974866225');" style="">  34 import com.automattic.simplenote.widgets.EmptyViewRecyclerView;                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  35 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  36 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  37 import com.simperium.client.Query;                                                                       </span>
<span  style="">  38                                                                                                          </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  39 import java.util.List;                                                                                   </span>
<span  style="">  40                                                                                                          </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  41 public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {    </span>
<span  style="">  42                                                                                                          </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  43     private ActionMode mActionMode;                                                                      </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  44     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  45     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  46     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  47                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  48     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  49      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  50      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  52     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  53     }                                                                                                    </span>
<span  style="">  54                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  55     @Override                                                                                            </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style=""><abbr title="  56     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {">  56     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceSðŸ”µ</abbr></span>
<span class="6552576068116096374" onmouseenter="enter('6552576068116096374');" onmouseout="out('6552576068116096374');" style="">  57         return inflater.inflate(R.layout.fragment_tags_list, container, false);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58     }                                                                                                    </span>
<span  style="">  59                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  60     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  61     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  62         super.onActivityCreated(savedInstanceState);                                                     </span>
<span  style="">  63                                                                                                          </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  64         setHasOptionsMenu(true);                                                                         </span>
<span  style="">  65                                                                                                          </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  66         Simplenote application = (Simplenote) getActivity().getApplication();                            </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  67         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  68         mNotesBucket = application.getNotesBucket();                                                     </span>
<span  style="">  69                                                                                                          </span>
<span class="-327450921135383502" onmouseenter="enter('-327450921135383502');" onmouseout="out('-327450921135383502');" style="">  70         EmptyViewRecyclerView recyclerView = getActivity().findViewById(R.id.list);                      </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  71         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  72         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  73         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="-3006219674440898246" onmouseenter="enter('-3006219674440898246');" onmouseout="out('-3006219674440898246');" style="">  74         TextView emptyView = getActivity().findViewById(R.id.empty);                                     </span>
<span class="-7931253386188569803" onmouseenter="enter('-7931253386188569803');" onmouseout="out('-7931253386188569803');" style=""><abbr title="  75         emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));">  75         emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;ðŸ”µ</abbr></span>
<span class="-954416827720030171" onmouseenter="enter('-954416827720030171');" onmouseout="out('-954416827720030171');" style="">  76         recyclerView.setEmptyView(emptyView);                                                            </span>
<span  style="">  77                                                                                                          </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  78         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79     }                                                                                                    </span>
<span  style="">  80                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  82     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  83         super.onResume();                                                                                </span>
<span  style="">  84                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  85         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  86         mTagsBucket.start();                                                                             </span>
<span  style="">  87                                                                                                          </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  88         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  89         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  90         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91     }                                                                                                    </span>
<span  style="">  92                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  94     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  95         super.onPause();                                                                                 </span>
<span  style="">  96                                                                                                          </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  97         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  98         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style="">  99         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span  style=""> 100                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 101         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 102         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103     }                                                                                                    </span>
<span  style=""> 104                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 105     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title=" 106         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);"> 106         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 107         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 108         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109     }                                                                                                    </span>
<span  style=""> 110                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 111     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 113     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 114         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 115         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 116         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 117         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118     }                                                                                                    </span>
<span  style=""> 119                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 120     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 121     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 122         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 126     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 127         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 128             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 129             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 131         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 135     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 136         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137     }                                                                                                    </span>
<span  style=""> 138                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 140     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span  style=""> 141                                                                                                          </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 142         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 143             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 144                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 145                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147         }                                                                                                </span>
<span  style=""> 148                                                                                                          </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 149         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150     }                                                                                                    </span>
<span  style=""> 151                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 152     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 154     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 155         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 156             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 158                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 159                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 161             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 166     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 167         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 168             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 169                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 170                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 171                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 173             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 178     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 179         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 180             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 182                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 183                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 185             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 190     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 191         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 194     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span  style=""> 195                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 197         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 198             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 199             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 200                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 201                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 202                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 203                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 204                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 205                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 206                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 208                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 210             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212     }                                                                                                    </span>
<span  style=""> 213                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 214     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span  style=""> 215                                                                                                          </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 216         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span  style=""> 217                                                                                                          </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 218             private TextView tagTitle;                                                                   </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 219             private TextView tagCountTextView;                                                           </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 220             private ImageButton deleteButton;                                                            </span>
<span  style=""> 221                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 222             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 223                 super(itemView);                                                                         </span>
<span  style=""> 224                                                                                                          </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 225                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 226                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 227                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span  style=""> 228                                                                                                          </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 229                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 231                     public void onClick(View view) {                                                     </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 232                         if (!isAdded()) return;                                                          </span>
<span  style=""> 233                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""><abbr title=" 234                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();"> 234                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObjeðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 235                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 235                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 236                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 237                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 238                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="5756406127384283912" onmouseenter="enter('5756406127384283912');" onmouseout="out('5756406127384283912');" style=""><abbr title=" 239                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 239                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(gðŸ”µ</abbr></span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 240                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 241                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 242                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 243                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 244                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 246                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 247                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 248                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 249                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 251                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 252                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 253                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 255                 });                                                                                      </span>
<span class="-7367896641737350796" onmouseenter="enter('-7367896641737350796');" onmouseout="out('-7367896641737350796');" style=""> 256                 deleteButton.setOnLongClickListener(new View.OnLongClickListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257                     @Override                                                                            </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 258                     public boolean onLongClick(View v) {                                                 </span>
<span class="-7768079443704311296" onmouseenter="enter('-7768079443704311296');" onmouseout="out('-7768079443704311296');" style=""> 259                         if (v.isHapticFeedbackEnabled()) {                                               </span>
<span class="8951586631252773872" onmouseenter="enter('8951586631252773872');" onmouseout="out('8951586631252773872');" style=""> 260                             v.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261                         }                                                                                </span>
<span  style=""> 262                                                                                                          </span>
<span class="7463648715521265388" onmouseenter="enter('7463648715521265388');" onmouseout="out('7463648715521265388');" style=""><abbr title=" 263                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LENGTH_SHORT).show();"> 263                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LðŸ”µ</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 264                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 266                 });                                                                                      </span>
<span  style=""> 267                                                                                                          </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 268                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 272             public void onClick(View view) {                                                             </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 273                 if (!isAdded()) return;                                                                  </span>
<span  style=""> 274                                                                                                          </span>
<span class="-2945041354382019266" onmouseenter="enter('-2945041354382019266');" onmouseout="out('-2945041354382019266');" style=""><abbr title=" 275                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 275                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContðŸ”µ</abbr></span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 276                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 276                 LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layouðŸ”µ</abbr></span>
<span  style=""> 277                                                                                                          </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 278                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();   </span>
<span  style=""> 279                                                                                                          </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 280                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 281                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 282                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 283                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 284                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 285                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 286                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 287                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 288                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 289                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 290                             AnalyticsTracker.track(                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 291                                     AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                           </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 292                                     AnalyticsTracker.CATEGORY_TAG,                                       </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 293                                     &quot;tag_alert_edit_box&quot;                                                 </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 294                             );                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 295                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 296                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 297                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 300                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 301                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 302                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 303                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 305                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 306                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307             }                                                                                            </span>
<span  style=""> 308                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 309             private void deleteTag(Tag tag) {                                                            </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 310                 tag.delete();                                                                            </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 311                 new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 312                 AnalyticsTracker.track(                                                                  </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 313                         AnalyticsTracker.Stat.TAG_MENU_DELETED,                                          </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 314                         AnalyticsTracker.CATEGORY_TAG,                                                   </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 315                         &quot;list_trash_button&quot;                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 316                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318         }                                                                                                </span>
<span  style=""> 319                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 320         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 321             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322         }                                                                                                </span>
<span  style=""> 323                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 324         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 325         @Override                                                                                        </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 326         public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                  </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 327             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 328             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span  style=""> 329                                                                                                          </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 330             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span  style=""> 331                                                                                                          </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 332             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333         }                                                                                                </span>
<span  style=""> 334                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 335         @Override                                                                                        </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 336         public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                        </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 337             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                    </span>
<span  style=""> 338                                                                                                          </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 339             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 340             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 340             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 341             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 342                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 343             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 344                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346         }                                                                                                </span>
<span  style=""> 347                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 348         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 349         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 350             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353 }                                                                                                        </span>





</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3 import android.app.Fragment;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6 import android.database.Cursor;                                                                          </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7 import android.os.AsyncTask;                                                                             </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8 import android.os.Bundle;                                                                                </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">   9 import android.view.ActionMode;                                                                          </span>
<span class="2326634292910788840" onmouseenter="enter('2326634292910788840');" onmouseout="out('2326634292910788840');" style="">  10 import android.view.HapticFeedbackConstants;                                                             </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  11 import android.view.LayoutInflater;                                                                      </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  12 import android.view.Menu;                                                                                </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  13 import android.view.MenuInflater;                                                                        </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  14 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  15 import android.view.View;                                                                                </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  16 import android.view.ViewGroup;                                                                           </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  17 import android.widget.EditText;                                                                          </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  18 import android.widget.ImageButton;                                                                       </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  19 import android.widget.LinearLayout;                                                                      </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  20 import android.widget.TextView;                                                                          </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  21 import android.widget.Toast;                                                                             </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  22 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  23 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="">  24 import androidx.appcompat.view.ContextThemeWrapper;                                                      </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="">  25 import androidx.recyclerview.widget.LinearLayoutManager;                                                 </span>
<span class="4515746691159352168" onmouseenter="enter('4515746691159352168');" onmouseout="out('4515746691159352168');" style="">  26 import androidx.recyclerview.widget.RecyclerView;                                                        </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  27 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  28 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  29 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  30 import com.automattic.simplenote.utils.BaseCursorAdapter;                                                </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  31 import com.automattic.simplenote.utils.HtmlCompat;                                                       </span>
<span class="4576318692974866225" onmouseenter="enter('4576318692974866225');" onmouseout="out('4576318692974866225');" style="">  32 import com.automattic.simplenote.widgets.EmptyViewRecyclerView;                                          </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  33 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  34 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  35 import com.simperium.client.Query;                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  36 import java.util.List;                                                                                   </span>
<span  style="">  37                                                                                                          </span>
<span  style="">  38                                                                                                          </span>
<span class="8654598926887064957" onmouseenter="enter('8654598926887064957');" onmouseout="out('8654598926887064957');" style="">  39 public class TagsListFragment extends Fragment implements ActionMode.Callback , Bucket.Listener&lt;Tag&gt; {   </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  40     private ActionMode mActionMode;                                                                      </span>
<span  style="">  41                                                                                                          </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  42     private Bucket&lt;Tag&gt; mTagsBucket;                                                                     </span>
<span  style="">  43                                                                                                          </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  44     private Bucket&lt;Note&gt; mNotesBucket;                                                                   </span>
<span  style="">  45                                                                                                          </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  46     private TagsAdapter mTagsAdapter;                                                                    </span>
<span  style="">  47                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  48     /**                                                                                                  </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  49      * Mandatory empty constructor for the fragment manager to instantiate the                           </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  50      * fragment (e.g. upon screen orientation changes).                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51      */                                                                                                  </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  52     public TagsListFragment() {                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  53     }                                                                                                    </span>
<span  style="">  54                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  55     @Override                                                                                            </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style=""><abbr title="  56     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {">  56     public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceSðŸ”µ</abbr></span>
<span class="6552576068116096374" onmouseenter="enter('6552576068116096374');" onmouseout="out('6552576068116096374');" style="">  57         return inflater.inflate(R.layout.fragment_tags_list, container, false);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58     }                                                                                                    </span>
<span  style="">  59                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  60     @Override                                                                                            </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  61     public void onActivityCreated(Bundle savedInstanceState) {                                           </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  62         super.onActivityCreated(savedInstanceState);                                                     </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  63         setHasOptionsMenu(true);                                                                         </span>
<span class="1018174203056851079" onmouseenter="enter('1018174203056851079');" onmouseout="out('1018174203056851079');" style="">  64         Simplenote application = ((Simplenote) (getActivity().getApplication()));                        </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  65         mTagsBucket = application.getTagsBucket();                                                       </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  66         mNotesBucket = application.getNotesBucket();                                                     </span>
<span class="-327450921135383502" onmouseenter="enter('-327450921135383502');" onmouseout="out('-327450921135383502');" style="">  67         EmptyViewRecyclerView recyclerView = getActivity().findViewById(R.id.list);                      </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  68         mTagsAdapter = new TagsAdapter();                                                                </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  69         recyclerView.setAdapter(mTagsAdapter);                                                           </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  70         recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                           </span>
<span class="-3006219674440898246" onmouseenter="enter('-3006219674440898246');" onmouseout="out('-3006219674440898246');" style="">  71         TextView emptyView = getActivity().findViewById(R.id.empty);                                     </span>
<span class="-2328599142126193593" onmouseenter="enter('-2328599142126193593');" onmouseout="out('-2328599142126193593');" style=""><abbr title="  72         emptyView.setText(HtmlCompat.fromHtml((&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found)) + &quot;&lt;/strong&gt;&quot;));">  72         emptyView.setText(HtmlCompat.fromHtml((&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found)) + &quot;&lt;/stronðŸ”µ</abbr></span>
<span class="-954416827720030171" onmouseenter="enter('-954416827720030171');" onmouseout="out('-954416827720030171');" style="">  73         recyclerView.setEmptyView(emptyView);                                                            </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  74         refreshTags();                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75     }                                                                                                    </span>
<span  style="">  76                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  77     @Override                                                                                            </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  78     public void onResume() {                                                                             </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  79         super.onResume();                                                                                </span>
<span  style="">  80                                                                                                          </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  81         mNotesBucket.start();                                                                            </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  82         mTagsBucket.start();                                                                             </span>
<span  style="">  83                                                                                                          </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  84         mTagsBucket.addOnNetworkChangeListener(this);                                                    </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  85         mTagsBucket.addOnSaveObjectListener(this);                                                       </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  86         mTagsBucket.addOnDeleteObjectListener(this);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  89     @Override                                                                                            </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  90     public void onPause() {                                                                              </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  91         super.onPause();                                                                                 </span>
<span  style="">  92                                                                                                          </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  93         mTagsBucket.removeOnNetworkChangeListener(this);                                                 </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  94         mTagsBucket.removeOnSaveObjectListener(this);                                                    </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style="">  95         mTagsBucket.removeOnDeleteObjectListener(this);                                                  </span>
<span  style="">  96                                                                                                          </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style="">  97         mNotesBucket.stop();                                                                             </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style="">  98         mTagsBucket.stop();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99     }                                                                                                    </span>
<span  style=""> 100                                                                                                          </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 101     protected void refreshTags() {                                                                       </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""><abbr title=" 102         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);"> 102         Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAðŸ”µ</abbr></span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 103         Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                            </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 104         mTagsAdapter.swapCursor(cursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105     }                                                                                                    </span>
<span  style=""> 106                                                                                                          </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 107     // TODO: Finish bulk editing                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 108     @Override                                                                                            </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 109     public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 110         MenuInflater inflater = actionMode.getMenuInflater();                                            </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 111         inflater.inflate(R.menu.bulk_edit, menu);                                                        </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 112         mActionMode = actionMode;                                                                        </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 113         return true;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 116     @Override                                                                                            </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 117     public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 118         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119     }                                                                                                    </span>
<span  style=""> 120                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 121     @Override                                                                                            </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 122     public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                       </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 123         if (menuItem.getItemId() == R.id.menu_delete) {                                                  </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 124             actionMode.finish(); // Action picked, so close the CAB                                      </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 125             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 126         }                                                                                                </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 127         return false;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 130     @Override                                                                                            </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 131     public void onDestroyActionMode(ActionMode actionMode) {                                             </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 132         mActionMode = null;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133     }                                                                                                    </span>
<span  style=""> 134                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135     @Override                                                                                            </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 136     public boolean onOptionsItemSelected(MenuItem item) {                                                </span>
<span  style=""> 137                                                                                                          </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 138         if (item.getItemId() == android.R.id.home) {                                                     </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 139             if (isAdded()) {                                                                             </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 140                 getActivity().finish();                                                                  </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 141                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143         }                                                                                                </span>
<span  style=""> 144                                                                                                          </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 145         return super.onOptionsItemSelected(item);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146     }                                                                                                    </span>
<span  style=""> 147                                                                                                          </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 148     // Tag Bucket listeners                                                                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 149     @Override                                                                                            </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 150     public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 151         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 152             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 154                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 155                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 157             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161     @Override                                                                                            </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 162     public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 163         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 164             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 166                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 167                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 169             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span  style=""> 172                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173     @Override                                                                                            </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 174     public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                           </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 175         if (isAdded()) {                                                                                 </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 176             getActivity().runOnUiThread(new Runnable() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177                 @Override                                                                                </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 178                 public void run() {                                                                      </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 179                     refreshTags();                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 181             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183     }                                                                                                    </span>
<span  style=""> 184                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185     @Override                                                                                            </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 186     public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                   </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 187         // noop                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188     }                                                                                                    </span>
<span  style=""> 189                                                                                                          </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 190     private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                            </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191         @Override                                                                                        </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 192         protected Void doInBackground(Tag... removedTags) {                                              </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 193             Tag tag = removedTags[0];                                                                    </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 194             if (tag != null) {                                                                           </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 195                 Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                     </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 196                 while (notesCursor.moveToNext()) {                                                       </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 197                     Note note = notesCursor.getObject();                                                 </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 198                     List&lt;String&gt; tags = note.getTags();                                                  </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 199                     tags.remove(tag.getName());                                                          </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 200                     note.setTags(tags);                                                                  </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 201                     note.save();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202                 }                                                                                        </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 203                 notesCursor.close();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204             }                                                                                            </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 205             return null;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 206         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 209     private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                        </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 210         public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {        </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 211             private TextView tagTitle;                                                                   </span>
<span  style=""> 212                                                                                                          </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 213             private TextView tagCountTextView;                                                           </span>
<span  style=""> 214                                                                                                          </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 215             private ImageButton deleteButton;                                                            </span>
<span  style=""> 216                                                                                                          </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 217             private ViewHolder(View itemView) {                                                          </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 218                 super(itemView);                                                                         </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 219                 tagTitle = itemView.findViewById(R.id.tag_name);                                         </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 220                 tagCountTextView = itemView.findViewById(R.id.tag_count);                                </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 221                 deleteButton = itemView.findViewById(R.id.tag_trash);                                    </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 222                 deleteButton.setOnClickListener(new View.OnClickListener() {                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 223                     @Override                                                                            </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 224                     public void onClick(View view) {                                                     </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 225                         if (!isAdded()) {                                                                </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 226                             return;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 227                         }                                                                                </span>
<span class="-2403963399139158157" onmouseenter="enter('-2403963399139158157');" onmouseout="out('-2403963399139158157');" style=""><abbr title=" 228                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getObject();"> 228                         final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getOðŸ”µ</abbr></span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 229                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 229                         final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 230                         if (tagCount == 0) {                                                             </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 231                             deleteTag(tag);                                                              </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 232                         } else if (tagCount &gt; 0) {                                                       </span>
<span class="5756406127384283912" onmouseenter="enter('5756406127384283912');" onmouseout="out('5756406127384283912');" style=""><abbr title=" 233                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 233                             AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(gðŸ”µ</abbr></span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 234                             alert.setTitle(R.string.delete_tag);                                         </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 235                             alert.setMessage(getString(R.string.confirm_delete_tag));                    </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 236                             alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {</span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 237                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 238                                     deleteTag(tag);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 240                             });                                                                          </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 241                             alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() { </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 242                                 public void onClick(DialogInterface dialog, int whichButton) {           </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 243                                     // Do nothing, just closing the dialog                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244                                 }                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 245                             });                                                                          </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 246                             alert.show();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 247                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 249                 });                                                                                      </span>
<span class="-7367896641737350796" onmouseenter="enter('-7367896641737350796');" onmouseout="out('-7367896641737350796');" style=""> 250                 deleteButton.setOnLongClickListener(new View.OnLongClickListener() {                     </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251                     @Override                                                                            </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style=""> 252                     public boolean onLongClick(View v) {                                                 </span>
<span class="-7768079443704311296" onmouseenter="enter('-7768079443704311296');" onmouseout="out('-7768079443704311296');" style=""> 253                         if (v.isHapticFeedbackEnabled()) {                                               </span>
<span class="8951586631252773872" onmouseenter="enter('8951586631252773872');" onmouseout="out('8951586631252773872');" style=""> 254                             v.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255                         }                                                                                </span>
<span class="7463648715521265388" onmouseenter="enter('7463648715521265388');" onmouseout="out('7463648715521265388');" style=""><abbr title=" 256                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LENGTH_SHORT).show();"> 256                         Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LðŸ”µ</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 257                         return true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 258                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 259                 });                                                                                      </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 260                 itemView.setOnClickListener(this);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261             }                                                                                            </span>
<span  style=""> 262                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 263             @Override                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 264             public void onClick(View view) {                                                             </span>
<span class="5514287417242355685" onmouseenter="enter('5514287417242355685');" onmouseout="out('5514287417242355685');" style=""> 265                 if (!isAdded()) {                                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 266                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267                 }                                                                                        </span>
<span class="-2945041354382019266" onmouseenter="enter('-2945041354382019266');" onmouseout="out('-2945041354382019266');" style=""><abbr title=" 268                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 268                 final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContðŸ”µ</abbr></span>
<span class="-1712768939122158882" onmouseenter="enter('-1712768939122158882');" onmouseout="out('-1712768939122158882');" style=""><abbr title=" 269                 LinearLayout alertView = ((LinearLayout) (getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null)));"> 269                 LinearLayout alertView = ((LinearLayout) (getActivity().getLayoutInflater().inflate(R.layðŸ”µ</abbr></span>
<span class="-2403963399139158157" onmouseenter="enter('-2403963399139158157');" onmouseout="out('-2403963399139158157');" style=""> 270                 final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;) (getItem(getAdapterPosition()))).getObject();</span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 271                 final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);             </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 272                 tagNameEditText.setText(tag.getName());                                                  </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 273                 tagNameEditText.setSelection(tagNameEditText.length());                                  </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 274                 alert.setView(alertView);                                                                </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 275                 alert.setTitle(R.string.rename_tag);                                                     </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 276                 alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {           </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 277                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 278                         String value = tagNameEditText.getText().toString().trim();                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 279                         try {                                                                            </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 280                             tag.renameTo(value, mNotesBucket);                                           </span>
<span class="3099152705005215757" onmouseenter="enter('3099152705005215757');" onmouseout="out('3099152705005215757');" style=""><abbr title=" 281                             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTracker.CATEGORY_TAG, &quot;tag_alert_edit_box&quot;);"> 281                             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTrðŸ”µ</abbr></span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 282                         } catch (BucketObjectNameInvalid e) {                                            </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 283                             android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);               </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 284                             // TODO: show user a message that new tag name is not ok                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 285                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 287                 });                                                                                      </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 288                 alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 289                     public void onClick(DialogInterface dialog, int whichButton) {                       </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 290                         // Do nothing                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291                     }                                                                                    </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 292                 });                                                                                      </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 293                 alert.show();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294             }                                                                                            </span>
<span  style=""> 295                                                                                                          </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 296             private void deleteTag(Tag tag) {                                                            </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 297                 tag.delete();                                                                            </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 298                 new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);     </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 299                 AnalyticsTracker.track(                                                                  </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 300                         AnalyticsTracker.Stat.TAG_MENU_DELETED,                                          </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 301                         AnalyticsTracker.CATEGORY_TAG,                                                   </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 302                         &quot;list_trash_button&quot;                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 303                 );                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305         }                                                                                                </span>
<span  style=""> 306                                                                                                          </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 307         private TagsAdapter() {                                                                          </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 308             super(null);                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309         }                                                                                                </span>
<span  style=""> 310                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 311         @NonNull                                                                                         </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 312         @Override                                                                                        </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 313         public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                  </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 314             Context context = parent.getContext();                                                       </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 315             LayoutInflater inflater = LayoutInflater.from(context);                                      </span>
<span  style=""> 316                                                                                                          </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 317             View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                  </span>
<span  style=""> 318                                                                                                          </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 319             return new ViewHolder(contactView);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320         }                                                                                                </span>
<span  style=""> 321                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 322         @Override                                                                                        </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 323         public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                        </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 324             Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                    </span>
<span  style=""> 325                                                                                                          </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 326             holder.tagTitle.setText(tag.getName());                                                      </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 327             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 327             final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.geðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 328             if (tagCount &gt; 0) {                                                                          </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 329                 holder.tagCountTextView.setText(String.valueOf(tagCount));                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 330             } else {                                                                                     </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 331                 holder.tagCountTextView.setText(&quot;&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 333         }                                                                                                </span>
<span  style=""> 334                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 335         @Override                                                                                        </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 336         public void swapCursor(Cursor newCursor) {                                                       </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 337             super.swapCursor(newCursor);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 338         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340 }                                                                                                        </span>


















</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3  import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6  import android.database.Cursor;                                                                                   </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8  import android.os.Bundle;                                                                                         </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">   9  import android.view.ActionMode;                                                                                   </span>

<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  10  import android.view.LayoutInflater;                                                                               </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  11  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  12  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  13  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  14  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  15  import android.view.ViewGroup;                                                                                    </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  16  import android.widget.EditText;                                                                                   </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  17  import android.widget.ImageButton;                                                                                </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  18  import android.widget.LinearLayout;                                                                               </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  19  import android.widget.TextView;                                                                                   </span>

<span  style="">  20                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  21  import androidx.annotation.NonNull;                                                                               </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  22  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-8763141247638307783" onmouseenter="enter('-8763141247638307783');" onmouseout="out('-8763141247638307783');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  23 +import androidx.appcompat.view.ContextThemeWrapper;                                                               </span>
<span class="-4562972236084881752" onmouseenter="enter('-4562972236084881752');" onmouseout="out('-4562972236084881752');" style="">  24  import androidx.recyclerview.widget.DividerItemDecoration;                                                        </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="">  25  import androidx.recyclerview.widget.LinearLayoutManager;                                                          </span>
<span class="4515746691159352168" onmouseenter="enter('4515746691159352168');" onmouseout="out('4515746691159352168');" style="">  26  import androidx.recyclerview.widget.RecyclerView;                                                                 </span>
<span  style="">  27                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  28  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  29  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  30  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  31  import com.automattic.simplenote.utils.BaseCursorAdapter;                                                         </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  32  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="4576318692974866225" onmouseenter="enter('4576318692974866225');" onmouseout="out('4576318692974866225');" style="">  33  import com.automattic.simplenote.widgets.EmptyViewRecyclerView;                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  34  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  35  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  36  import com.simperium.client.Query;                                                                                </span>
<span  style="">  37                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  38  import java.util.List;                                                                                            </span>
<span  style="">  39                                                                                                                    </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  40  public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {             </span>
<span  style="">  41                                                                                                                    </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  42      private ActionMode mActionMode;                                                                               </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  43      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  44      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  45      private TagsAdapter mTagsAdapter;                                                                             </span>
<span  style="">  46                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  47      /**                                                                                                           </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  48       * Mandatory empty constructor for the fragment manager to instantiate the                                    </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  49       * fragment (e.g. upon screen orientation changes).                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  50       */                                                                                                           </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  51      public TagsListFragment() {                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  52      }                                                                                                             </span>
<span  style="">  53                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  54      @Override                                                                                                     </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style="">  55      public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="6552576068116096374" onmouseenter="enter('6552576068116096374');" onmouseout="out('6552576068116096374');" style="">  56          return inflater.inflate(R.layout.fragment_tags_list, container, false);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  57      }                                                                                                             </span>
<span  style="">  58                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  59      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  60      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  61          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  62                                                                                                                    </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  63          setHasOptionsMenu(true);                                                                                  </span>
<span  style="">  64                                                                                                                    </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  65          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  66          mTagsBucket = application.getTagsBucket();                                                                </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  67          mNotesBucket = application.getNotesBucket();                                                              </span>
<span  style="">  68                                                                                                                    </span>
<span class="-327450921135383502" onmouseenter="enter('-327450921135383502');" onmouseout="out('-327450921135383502');" style="">  69          EmptyViewRecyclerView recyclerView = getActivity().findViewById(R.id.list);                               </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  70          mTagsAdapter = new TagsAdapter();                                                                         </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  71          recyclerView.setAdapter(mTagsAdapter);                                                                    </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  72          recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                                    </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style=""><abbr title="  73          recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  73          recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.ðŸ”µ</abbr></span>
<span class="-3006219674440898246" onmouseenter="enter('-3006219674440898246');" onmouseout="out('-3006219674440898246');" style="">  74          TextView emptyView = getActivity().findViewById(R.id.empty);                                              </span>
<span class="-7931253386188569803" onmouseenter="enter('-7931253386188569803');" onmouseout="out('-7931253386188569803');" style="">  75          emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));     </span>
<span class="-954416827720030171" onmouseenter="enter('-954416827720030171');" onmouseout="out('-954416827720030171');" style="">  76          recyclerView.setEmptyView(emptyView);                                                                     </span>
<span  style="">  77                                                                                                                    </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  78          refreshTags();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79      }                                                                                                             </span>
<span  style="">  80                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81      @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  82      public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  83          super.onResume();                                                                                         </span>
<span  style="">  84                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  85          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  86          mTagsBucket.start();                                                                                      </span>
<span  style="">  87                                                                                                                    </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  88          mTagsBucket.addOnNetworkChangeListener(this);                                                             </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  89          mTagsBucket.addOnSaveObjectListener(this);                                                                </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  90          mTagsBucket.addOnDeleteObjectListener(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91      }                                                                                                             </span>
<span  style="">  92                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  93      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  94      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  95          super.onPause();                                                                                          </span>
<span  style="">  96                                                                                                                    </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  97          mTagsBucket.removeOnNetworkChangeListener(this);                                                          </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  98          mTagsBucket.removeOnSaveObjectListener(this);                                                             </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style="">  99          mTagsBucket.removeOnDeleteObjectListener(this);                                                           </span>
<span  style=""> 100                                                                                                                    </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 101          mNotesBucket.stop();                                                                                      </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 102          mTagsBucket.stop();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103      }                                                                                                             </span>
<span  style=""> 104                                                                                                                    </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 105      protected void refreshTags() {                                                                                </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""> 106          Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);     </span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 107          Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                                     </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 108          mTagsAdapter.swapCursor(cursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109      }                                                                                                             </span>
<span  style=""> 110                                                                                                                    </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 111      // TODO: Finish bulk editing                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 112      @Override                                                                                                     </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 113      public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                         </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 114          MenuInflater inflater = actionMode.getMenuInflater();                                                     </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 115          inflater.inflate(R.menu.bulk_edit, menu);                                                                 </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 116          mActionMode = actionMode;                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 117          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118      }                                                                                                             </span>
<span  style=""> 119                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 120      @Override                                                                                                     </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 121      public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 122          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123      }                                                                                                             </span>
<span  style=""> 124                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125      @Override                                                                                                     </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 126      public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                                </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 127          if (menuItem.getItemId() == R.id.menu_delete) {                                                           </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 128              actionMode.finish(); // Action picked, so close the CAB                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 129              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 131          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132      }                                                                                                             </span>
<span  style=""> 133                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 134      @Override                                                                                                     </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 135      public void onDestroyActionMode(ActionMode actionMode) {                                                      </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 136          mActionMode = null;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137      }                                                                                                             </span>
<span  style=""> 138                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 139      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 140      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span  style=""> 141                                                                                                                    </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 142          if (item.getItemId() == android.R.id.home) {                                                              </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 143              if (isAdded()) {                                                                                      </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 144                  getActivity().finish();                                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 145                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147          }                                                                                                         </span>
<span  style=""> 148                                                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 149          return super.onOptionsItemSelected(item);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150      }                                                                                                             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 152      // Tag Bucket listeners                                                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153      @Override                                                                                                     </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 154      public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                  </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 155          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 156              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 158                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 159                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 161              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 162          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163      }                                                                                                             </span>
<span  style=""> 164                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165      @Override                                                                                                     </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 166      public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 167          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 168              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 169                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 170                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 171                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 173              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 174          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175      }                                                                                                             </span>
<span  style=""> 176                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177      @Override                                                                                                     </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 178      public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                    </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 179          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 180              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 181                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 182                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 183                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 185              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187      }                                                                                                             </span>
<span  style=""> 188                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189      @Override                                                                                                     </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 190      public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                            </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 191          // noop                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192      }                                                                                                             </span>
<span  style=""> 193                                                                                                                    </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 194      private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                                     </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196          @Override                                                                                                 </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 197          protected Void doInBackground(Tag... removedTags) {                                                       </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 198              Tag tag = removedTags[0];                                                                             </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 199              if (tag != null) {                                                                                    </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 200                  Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                              </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 201                  while (notesCursor.moveToNext()) {                                                                </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 202                      Note note = notesCursor.getObject();                                                          </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 203                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 204                      tags.remove(tag.getName());                                                                   </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 205                      note.setTags(tags);                                                                           </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 206                      note.save();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207                  }                                                                                                 </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 208                  notesCursor.close();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 210              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212      }                                                                                                             </span>
<span  style=""> 213                                                                                                                    </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 214      private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                                 </span>
<span  style=""> 215                                                                                                                    </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 216          public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {                 </span>
<span  style=""> 217                                                                                                                    </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 218              private TextView tagTitle;                                                                            </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 219              private TextView tagCountTextView;                                                                    </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 220              private ImageButton deleteButton;                                                                     </span>
<span  style=""> 221                                                                                                                    </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 222              private ViewHolder(View itemView) {                                                                   </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 223                  super(itemView);                                                                                  </span>
<span  style=""> 224                                                                                                                    </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 225                  tagTitle = itemView.findViewById(R.id.tag_name);                                                  </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 226                  tagCountTextView = itemView.findViewById(R.id.tag_count);                                         </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 227                  deleteButton = itemView.findViewById(R.id.tag_trash);                                             </span>
<span  style=""> 228                                                                                                                    </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 229                  deleteButton.setOnClickListener(new View.OnClickListener() {                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230                      @Override                                                                                     </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 231                      public void onClick(View view) {                                                              </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 232                          if (!isAdded()) return;                                                                   </span>
<span  style=""> 233                                                                                                                    </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 234                          final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();    </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 235                          final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 235                          final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tagðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 236                          if (tagCount == 0) {                                                                      </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 237                              deleteTag(tag);                                                                       </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 238                          } else if (tagCount &gt; 0) {                                                                </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 239 -                            AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                   </span>
<span class="5756406127384283912" onmouseenter="enter('5756406127384283912');" onmouseout="out('5756406127384283912');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 240 +                            AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 240 +                            AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContextðŸ”µ</abbr></span>
<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 241                              alert.setTitle(R.string.delete_tag);                                                  </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 242                              alert.setMessage(getString(R.string.confirm_delete_tag));                             </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 243                              alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 244                                  public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 245                                      deleteTag(tag);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 247                              });                                                                                   </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 248                              alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {          </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 249                                  public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 250                                      // Do nothing, just closing the dialog                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 252                              });                                                                                   </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 253                              alert.show();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254                          }                                                                                         </span>











<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 256                  });                                                                                               </span>
<span  style=""> 257                                                                                                                    </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 258                  itemView.setOnClickListener(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259              }                                                                                                     </span>
<span  style=""> 260                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261              @Override                                                                                             </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 262              public void onClick(View view) {                                                                      </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 263                  if (!isAdded()) return;                                                                           </span>
<span  style=""> 264                                                                                                                    </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 265 -                final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                         </span>
<span class="-2945041354382019266" onmouseenter="enter('-2945041354382019266');" onmouseout="out('-2945041354382019266');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 266 +                final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.style.Dialog));"> 266 +                final AlertDialog.Builder alert = new AlertDialog.Builder(new ContextThemeWrapper(getContext(), R.ðŸ”µ</abbr></span>
<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 267                  LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 267                  LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_taðŸ”µ</abbr></span>
<span  style=""> 268                                                                                                                    </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 269                  final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();            </span>
<span  style=""> 270                                                                                                                    </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 271                  final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);                      </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 272                  tagNameEditText.setText(tag.getName());                                                           </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 273                  tagNameEditText.setSelection(tagNameEditText.length());                                           </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 274                  alert.setView(alertView);                                                                         </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 275                  alert.setTitle(R.string.rename_tag);                                                              </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 276                  alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                    </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 277                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 278                          String value = tagNameEditText.getText().toString().trim();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 279                          try {                                                                                     </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 280                              tag.renameTo(value, mNotesBucket);                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 281                              AnalyticsTracker.track(                                                               </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 282                                      AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                    </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 283                                      AnalyticsTracker.CATEGORY_TAG,                                                </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 284                                      &quot;tag_alert_edit_box&quot;                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 285                              );                                                                                    </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 286                          } catch (BucketObjectNameInvalid e) {                                                     </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 287                              android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                        </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 288                              // TODO: show user a message that new tag name is not ok                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 291                  });                                                                                               </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 292                  alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {                  </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 293                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 294                          // Do nothing                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 296                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 297                  alert.show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298              }                                                                                                     </span>
<span  style=""> 299                                                                                                                    </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 300              private void deleteTag(Tag tag) {                                                                     </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 301                  tag.delete();                                                                                     </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 302                  new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 303                  AnalyticsTracker.track(                                                                           </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 304                          AnalyticsTracker.Stat.TAG_MENU_DELETED,                                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 305                          AnalyticsTracker.CATEGORY_TAG,                                                            </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 306                          &quot;list_trash_button&quot;                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 307                  );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 309          }                                                                                                         </span>
<span  style=""> 310                                                                                                                    </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 311          private TagsAdapter() {                                                                                   </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 312              super(null);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313          }                                                                                                         </span>
<span  style=""> 314                                                                                                                    </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 315          @NonNull                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 316          @Override                                                                                                 </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 317          public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                           </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 318              Context context = parent.getContext();                                                                </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 319              LayoutInflater inflater = LayoutInflater.from(context);                                               </span>
<span  style=""> 320                                                                                                                    </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 321              View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                           </span>
<span  style=""> 322                                                                                                                    </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 323              return new ViewHolder(contactView);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324          }                                                                                                         </span>
<span  style=""> 325                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 326          @Override                                                                                                 </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 327          public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                                 </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 328              Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                             </span>
<span  style=""> 329                                                                                                                    </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 330              holder.tagTitle.setText(tag.getName());                                                               </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 331              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 331              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).ðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 332              if (tagCount &gt; 0) {                                                                                   </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 333                  holder.tagCountTextView.setText(String.valueOf(tagCount));                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 334              } else {                                                                                              </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 335                  holder.tagCountTextView.setText(&quot;&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 337          }                                                                                                         </span>
<span  style=""> 338                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 339          @Override                                                                                                 </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 340          public void swapCursor(Cursor newCursor) {                                                                </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 341              super.swapCursor(newCursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="7622566010320033225" onmouseenter="enter('7622566010320033225');" onmouseout="out('7622566010320033225');" style="">   3  import android.app.Fragment;                                                                                      </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="6294169624328016071" onmouseenter="enter('6294169624328016071');" onmouseout="out('6294169624328016071');" style="">   6  import android.database.Cursor;                                                                                   </span>
<span class="955674827050616793" onmouseenter="enter('955674827050616793');" onmouseout="out('955674827050616793');" style="">   7  import android.os.AsyncTask;                                                                                      </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   8  import android.os.Bundle;                                                                                         </span>
<span class="-153541495165582031" onmouseenter="enter('-153541495165582031');" onmouseout="out('-153541495165582031');" style="">   9  import android.view.ActionMode;                                                                                   </span>
<span class="2326634292910788840" onmouseenter="enter('2326634292910788840');" onmouseout="out('2326634292910788840');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  10 +import android.view.HapticFeedbackConstants;                                                                      </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  11  import android.view.LayoutInflater;                                                                               </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  12  import android.view.Menu;                                                                                         </span>
<span class="-434306062495579804" onmouseenter="enter('-434306062495579804');" onmouseout="out('-434306062495579804');" style="">  13  import android.view.MenuInflater;                                                                                 </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  14  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  15  import android.view.View;                                                                                         </span>
<span class="7569314084591619834" onmouseenter="enter('7569314084591619834');" onmouseout="out('7569314084591619834');" style="">  16  import android.view.ViewGroup;                                                                                    </span>
<span class="-5161735605762446460" onmouseenter="enter('-5161735605762446460');" onmouseout="out('-5161735605762446460');" style="">  17  import android.widget.EditText;                                                                                   </span>
<span class="-7136991092569948508" onmouseenter="enter('-7136991092569948508');" onmouseout="out('-7136991092569948508');" style="">  18  import android.widget.ImageButton;                                                                                </span>
<span class="5987800420235491716" onmouseenter="enter('5987800420235491716');" onmouseout="out('5987800420235491716');" style="">  19  import android.widget.LinearLayout;                                                                               </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  20  import android.widget.TextView;                                                                                   </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  21 +import android.widget.Toast;                                                                                      </span>
<span  style="">  22                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  23  import androidx.annotation.NonNull;                                                                               </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  24  import androidx.appcompat.app.AlertDialog;                                                                        </span>

<span class="-4562972236084881752" onmouseenter="enter('-4562972236084881752');" onmouseout="out('-4562972236084881752');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import androidx.recyclerview.widget.DividerItemDecoration;                                                        </span>
<span class="-7613486642143408920" onmouseenter="enter('-7613486642143408920');" onmouseout="out('-7613486642143408920');" style="">  26  import androidx.recyclerview.widget.LinearLayoutManager;                                                          </span>
<span class="4515746691159352168" onmouseenter="enter('4515746691159352168');" onmouseout="out('4515746691159352168');" style="">  27  import androidx.recyclerview.widget.RecyclerView;                                                                 </span>
<span  style="">  28                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  29  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  30  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  31  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="-4914172163713564657" onmouseenter="enter('-4914172163713564657');" onmouseout="out('-4914172163713564657');" style="">  32  import com.automattic.simplenote.utils.BaseCursorAdapter;                                                         </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  33  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="4576318692974866225" onmouseenter="enter('4576318692974866225');" onmouseout="out('4576318692974866225');" style="">  34  import com.automattic.simplenote.widgets.EmptyViewRecyclerView;                                                   </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  35  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  36  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span class="-6020507013779766735" onmouseenter="enter('-6020507013779766735');" onmouseout="out('-6020507013779766735');" style="">  37  import com.simperium.client.Query;                                                                                </span>
<span  style="">  38                                                                                                                    </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  39  import java.util.List;                                                                                            </span>
<span  style="">  40                                                                                                                    </span>
<span class="8505299448100742060" onmouseenter="enter('8505299448100742060');" onmouseout="out('8505299448100742060');" style="">  41  public class TagsListFragment extends Fragment implements ActionMode.Callback, Bucket.Listener&lt;Tag&gt; {             </span>
<span  style="">  42                                                                                                                    </span>
<span class="7307228847460234411" onmouseenter="enter('7307228847460234411');" onmouseout="out('7307228847460234411');" style="">  43      private ActionMode mActionMode;                                                                               </span>
<span class="-3447103309759426335" onmouseenter="enter('-3447103309759426335');" onmouseout="out('-3447103309759426335');" style="">  44      private Bucket&lt;Tag&gt; mTagsBucket;                                                                              </span>
<span class="-7913886194286774922" onmouseenter="enter('-7913886194286774922');" onmouseout="out('-7913886194286774922');" style="">  45      private Bucket&lt;Note&gt; mNotesBucket;                                                                            </span>
<span class="5662953466601292615" onmouseenter="enter('5662953466601292615');" onmouseout="out('5662953466601292615');" style="">  46      private TagsAdapter mTagsAdapter;                                                                             </span>
<span  style="">  47                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  48      /**                                                                                                           </span>
<span class="7780585517980788373" onmouseenter="enter('7780585517980788373');" onmouseout="out('7780585517980788373');" style="">  49       * Mandatory empty constructor for the fragment manager to instantiate the                                    </span>
<span class="7130060501227883159" onmouseenter="enter('7130060501227883159');" onmouseout="out('7130060501227883159');" style="">  50       * fragment (e.g. upon screen orientation changes).                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  51       */                                                                                                           </span>
<span class="2450825917017236333" onmouseenter="enter('2450825917017236333');" onmouseout="out('2450825917017236333');" style="">  52      public TagsListFragment() {                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  53      }                                                                                                             </span>
<span  style="">  54                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  55      @Override                                                                                                     </span>
<span class="-3764996828666781026" onmouseenter="enter('-3764996828666781026');" onmouseout="out('-3764996828666781026');" style="">  56      public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {  </span>
<span class="6552576068116096374" onmouseenter="enter('6552576068116096374');" onmouseout="out('6552576068116096374');" style="">  57          return inflater.inflate(R.layout.fragment_tags_list, container, false);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  58      }                                                                                                             </span>
<span  style="">  59                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  60      @Override                                                                                                     </span>
<span class="4360549941650676478" onmouseenter="enter('4360549941650676478');" onmouseout="out('4360549941650676478');" style="">  61      public void onActivityCreated(Bundle savedInstanceState) {                                                    </span>
<span class="1612263533902931469" onmouseenter="enter('1612263533902931469');" onmouseout="out('1612263533902931469');" style="">  62          super.onActivityCreated(savedInstanceState);                                                              </span>
<span  style="">  63                                                                                                                    </span>
<span class="7823602444079418117" onmouseenter="enter('7823602444079418117');" onmouseout="out('7823602444079418117');" style="">  64          setHasOptionsMenu(true);                                                                                  </span>
<span  style="">  65                                                                                                                    </span>
<span class="5105206001451632901" onmouseenter="enter('5105206001451632901');" onmouseout="out('5105206001451632901');" style="">  66          Simplenote application = (Simplenote) getActivity().getApplication();                                     </span>
<span class="6122414337750629405" onmouseenter="enter('6122414337750629405');" onmouseout="out('6122414337750629405');" style="">  67          mTagsBucket = application.getTagsBucket();                                                                </span>
<span class="-3926834216056523837" onmouseenter="enter('-3926834216056523837');" onmouseout="out('-3926834216056523837');" style="">  68          mNotesBucket = application.getNotesBucket();                                                              </span>
<span  style="">  69                                                                                                                    </span>
<span class="-327450921135383502" onmouseenter="enter('-327450921135383502');" onmouseout="out('-327450921135383502');" style="">  70          EmptyViewRecyclerView recyclerView = getActivity().findViewById(R.id.list);                               </span>
<span class="-2633987229636127061" onmouseenter="enter('-2633987229636127061');" onmouseout="out('-2633987229636127061');" style="">  71          mTagsAdapter = new TagsAdapter();                                                                         </span>
<span class="-7777738481882620176" onmouseenter="enter('-7777738481882620176');" onmouseout="out('-7777738481882620176');" style="">  72          recyclerView.setAdapter(mTagsAdapter);                                                                    </span>
<span class="4755224625145137515" onmouseenter="enter('4755224625145137515');" onmouseout="out('4755224625145137515');" style="">  73          recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));                                    </span>
<span class="2990349883712261522" onmouseenter="enter('2990349883712261522');" onmouseout="out('2990349883712261522');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title="  74 -        recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.VERTICAL));">  74 -        recyclerView.addItemDecoration(new DividerItemDecoration(recyclerView.getContext(), DividerItemDecoration.ðŸ”µ</abbr></span>
<span class="-3006219674440898246" onmouseenter="enter('-3006219674440898246');" onmouseout="out('-3006219674440898246');" style="">  75          TextView emptyView = getActivity().findViewById(R.id.empty);                                              </span>
<span class="-7931253386188569803" onmouseenter="enter('-7931253386188569803');" onmouseout="out('-7931253386188569803');" style="">  76          emptyView.setText(HtmlCompat.fromHtml(&quot;&lt;strong&gt;&quot; + getString(R.string.no_tags_found) + &quot;&lt;/strong&gt;&quot;));     </span>
<span class="-954416827720030171" onmouseenter="enter('-954416827720030171');" onmouseout="out('-954416827720030171');" style="">  77          recyclerView.setEmptyView(emptyView);                                                                     </span>
<span  style="">  78                                                                                                                    </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style="">  79          refreshTags();                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  80      }                                                                                                             </span>
<span  style="">  81                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  82      @Override                                                                                                     </span>
<span class="3212580988936830895" onmouseenter="enter('3212580988936830895');" onmouseout="out('3212580988936830895');" style="">  83      public void onResume() {                                                                                      </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  84          super.onResume();                                                                                         </span>
<span  style="">  85                                                                                                                    </span>
<span class="-295722270474880574" onmouseenter="enter('-295722270474880574');" onmouseout="out('-295722270474880574');" style="">  86          mNotesBucket.start();                                                                                     </span>
<span class="-8311192473139463459" onmouseenter="enter('-8311192473139463459');" onmouseout="out('-8311192473139463459');" style="">  87          mTagsBucket.start();                                                                                      </span>
<span  style="">  88                                                                                                                    </span>
<span class="-6731161889741206114" onmouseenter="enter('-6731161889741206114');" onmouseout="out('-6731161889741206114');" style="">  89          mTagsBucket.addOnNetworkChangeListener(this);                                                             </span>
<span class="-6618321691013485762" onmouseenter="enter('-6618321691013485762');" onmouseout="out('-6618321691013485762');" style="">  90          mTagsBucket.addOnSaveObjectListener(this);                                                                </span>
<span class="-4070895808757383846" onmouseenter="enter('-4070895808757383846');" onmouseout="out('-4070895808757383846');" style="">  91          mTagsBucket.addOnDeleteObjectListener(this);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92      }                                                                                                             </span>
<span  style="">  93                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  94      @Override                                                                                                     </span>
<span class="3108783673391190151" onmouseenter="enter('3108783673391190151');" onmouseout="out('3108783673391190151');" style="">  95      public void onPause() {                                                                                       </span>
<span class="-7508449912261312872" onmouseenter="enter('-7508449912261312872');" onmouseout="out('-7508449912261312872');" style="">  96          super.onPause();                                                                                          </span>
<span  style="">  97                                                                                                                    </span>
<span class="8628106184701352382" onmouseenter="enter('8628106184701352382');" onmouseout="out('8628106184701352382');" style="">  98          mTagsBucket.removeOnNetworkChangeListener(this);                                                          </span>
<span class="-3964888037122271943" onmouseenter="enter('-3964888037122271943');" onmouseout="out('-3964888037122271943');" style="">  99          mTagsBucket.removeOnSaveObjectListener(this);                                                             </span>
<span class="-8310666997591805872" onmouseenter="enter('-8310666997591805872');" onmouseout="out('-8310666997591805872');" style=""> 100          mTagsBucket.removeOnDeleteObjectListener(this);                                                           </span>
<span  style=""> 101                                                                                                                    </span>
<span class="-9222421628383802707" onmouseenter="enter('-9222421628383802707');" onmouseout="out('-9222421628383802707');" style=""> 102          mNotesBucket.stop();                                                                                      </span>
<span class="7440275301365041157" onmouseenter="enter('7440275301365041157');" onmouseout="out('7440275301365041157');" style=""> 103          mTagsBucket.stop();                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 104      }                                                                                                             </span>
<span  style=""> 105                                                                                                                    </span>
<span class="-4209312659421479638" onmouseenter="enter('-4209312659421479638');" onmouseout="out('-4209312659421479638');" style=""> 106      protected void refreshTags() {                                                                                </span>
<span class="-3747054031015896634" onmouseenter="enter('-3747054031015896634');" onmouseout="out('-3747054031015896634');" style=""> 107          Query&lt;Tag&gt; tagQuery = Tag.all(mTagsBucket).reorder().orderByKey().include(Tag.NOTE_COUNT_INDEX_NAME);     </span>
<span class="-218806009335457775" onmouseenter="enter('-218806009335457775');" onmouseout="out('-218806009335457775');" style=""> 108          Bucket.ObjectCursor&lt;Tag&gt; cursor = tagQuery.execute();                                                     </span>
<span class="-7438635573383799681" onmouseenter="enter('-7438635573383799681');" onmouseout="out('-7438635573383799681');" style=""> 109          mTagsAdapter.swapCursor(cursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110      }                                                                                                             </span>
<span  style=""> 111                                                                                                                    </span>
<span class="1251904849073220616" onmouseenter="enter('1251904849073220616');" onmouseout="out('1251904849073220616');" style=""> 112      // TODO: Finish bulk editing                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 113      @Override                                                                                                     </span>
<span class="1525341251644945574" onmouseenter="enter('1525341251644945574');" onmouseout="out('1525341251644945574');" style=""> 114      public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {                                         </span>
<span class="-3147727392076899856" onmouseenter="enter('-3147727392076899856');" onmouseout="out('-3147727392076899856');" style=""> 115          MenuInflater inflater = actionMode.getMenuInflater();                                                     </span>
<span class="-2621312128222274452" onmouseenter="enter('-2621312128222274452');" onmouseout="out('-2621312128222274452');" style=""> 116          inflater.inflate(R.menu.bulk_edit, menu);                                                                 </span>
<span class="-409058095494361695" onmouseenter="enter('-409058095494361695');" onmouseout="out('-409058095494361695');" style=""> 117          mActionMode = actionMode;                                                                                 </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 118          return true;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 119      }                                                                                                             </span>
<span  style=""> 120                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 121      @Override                                                                                                     </span>
<span class="5156368579230933869" onmouseenter="enter('5156368579230933869');" onmouseout="out('5156368579230933869');" style=""> 122      public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 123          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124      }                                                                                                             </span>
<span  style=""> 125                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 126      @Override                                                                                                     </span>
<span class="1868299053618845173" onmouseenter="enter('1868299053618845173');" onmouseout="out('1868299053618845173');" style=""> 127      public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {                                </span>
<span class="-3148152025297259257" onmouseenter="enter('-3148152025297259257');" onmouseout="out('-3148152025297259257');" style=""> 128          if (menuItem.getItemId() == R.id.menu_delete) {                                                           </span>
<span class="-3059250568564153615" onmouseenter="enter('-3059250568564153615');" onmouseout="out('-3059250568564153615');" style=""> 129              actionMode.finish(); // Action picked, so close the CAB                                               </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 130              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131          }                                                                                                         </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 132          return false;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133      }                                                                                                             </span>
<span  style=""> 134                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 135      @Override                                                                                                     </span>
<span class="3677606230777919540" onmouseenter="enter('3677606230777919540');" onmouseout="out('3677606230777919540');" style=""> 136      public void onDestroyActionMode(ActionMode actionMode) {                                                      </span>
<span class="291405596407736607" onmouseenter="enter('291405596407736607');" onmouseout="out('291405596407736607');" style=""> 137          mActionMode = null;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138      }                                                                                                             </span>
<span  style=""> 139                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 140      @Override                                                                                                     </span>
<span class="8334131658156286818" onmouseenter="enter('8334131658156286818');" onmouseout="out('8334131658156286818');" style=""> 141      public boolean onOptionsItemSelected(MenuItem item) {                                                         </span>
<span  style=""> 142                                                                                                                    </span>
<span class="-6574343659705093836" onmouseenter="enter('-6574343659705093836');" onmouseout="out('-6574343659705093836');" style=""> 143          if (item.getItemId() == android.R.id.home) {                                                              </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 144              if (isAdded()) {                                                                                      </span>
<span class="2776709281245151825" onmouseenter="enter('2776709281245151825');" onmouseout="out('2776709281245151825');" style=""> 145                  getActivity().finish();                                                                           </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 146                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148          }                                                                                                         </span>
<span  style=""> 149                                                                                                                    </span>
<span class="-3863613010288750787" onmouseenter="enter('-3863613010288750787');" onmouseout="out('-3863613010288750787');" style=""> 150          return super.onOptionsItemSelected(item);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151      }                                                                                                             </span>
<span  style=""> 152                                                                                                                    </span>
<span class="-7692745961215032516" onmouseenter="enter('-7692745961215032516');" onmouseout="out('-7692745961215032516');" style=""> 153      // Tag Bucket listeners                                                                                       </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 154      @Override                                                                                                     </span>
<span class="-5749277737286828876" onmouseenter="enter('-5749277737286828876');" onmouseout="out('-5749277737286828876');" style=""> 155      public void onDeleteObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                  </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 156          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 157              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 158                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 159                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 160                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 161                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 162              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164      }                                                                                                             </span>
<span  style=""> 165                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166      @Override                                                                                                     </span>
<span class="-2731311542483295118" onmouseenter="enter('-2731311542483295118');" onmouseout="out('-2731311542483295118');" style=""> 167      public void onNetworkChange(Bucket&lt;Tag&gt; bucket, Bucket.ChangeType type, String key) {                         </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 168          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 169              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 171                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 172                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 173                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 174              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178      @Override                                                                                                     </span>
<span class="-4454482594054743833" onmouseenter="enter('-4454482594054743833');" onmouseout="out('-4454482594054743833');" style=""> 179      public void onSaveObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                                    </span>
<span class="-7481427962806884462" onmouseenter="enter('-7481427962806884462');" onmouseout="out('-7481427962806884462');" style=""> 180          if (isAdded()) {                                                                                          </span>
<span class="-3876200887541462175" onmouseenter="enter('-3876200887541462175');" onmouseout="out('-3876200887541462175');" style=""> 181              getActivity().runOnUiThread(new Runnable() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182                  @Override                                                                                         </span>
<span class="5292860430507443886" onmouseenter="enter('5292860430507443886');" onmouseout="out('5292860430507443886');" style=""> 183                  public void run() {                                                                               </span>
<span class="5603468139847478857" onmouseenter="enter('5603468139847478857');" onmouseout="out('5603468139847478857');" style=""> 184                      refreshTags();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 186              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188      }                                                                                                             </span>
<span  style=""> 189                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 190      @Override                                                                                                     </span>
<span class="-1823414852911554463" onmouseenter="enter('-1823414852911554463');" onmouseout="out('-1823414852911554463');" style=""> 191      public void onBeforeUpdateObject(Bucket&lt;Tag&gt; bucket, Tag object) {                                            </span>
<span class="-5784091718421357269" onmouseenter="enter('-5784091718421357269');" onmouseout="out('-5784091718421357269');" style=""> 192          // noop                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193      }                                                                                                             </span>
<span  style=""> 194                                                                                                                    </span>
<span class="4511378582433861324" onmouseenter="enter('4511378582433861324');" onmouseout="out('4511378582433861324');" style=""> 195      private class removeTagFromNotesTask extends AsyncTask&lt;Tag, Void, Void&gt; {                                     </span>
<span  style=""> 196                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 197          @Override                                                                                                 </span>
<span class="-5216042123311154906" onmouseenter="enter('-5216042123311154906');" onmouseout="out('-5216042123311154906');" style=""> 198          protected Void doInBackground(Tag... removedTags) {                                                       </span>
<span class="-7752748468779126708" onmouseenter="enter('-7752748468779126708');" onmouseout="out('-7752748468779126708');" style=""> 199              Tag tag = removedTags[0];                                                                             </span>
<span class="-8737565276102722183" onmouseenter="enter('-8737565276102722183');" onmouseout="out('-8737565276102722183');" style=""> 200              if (tag != null) {                                                                                    </span>
<span class="4039144325724544168" onmouseenter="enter('4039144325724544168');" onmouseout="out('4039144325724544168');" style=""> 201                  Bucket.ObjectCursor&lt;Note&gt; notesCursor = tag.findNotes(mNotesBucket);                              </span>
<span class="-3178781815102550114" onmouseenter="enter('-3178781815102550114');" onmouseout="out('-3178781815102550114');" style=""> 202                  while (notesCursor.moveToNext()) {                                                                </span>
<span class="-4488854658463042612" onmouseenter="enter('-4488854658463042612');" onmouseout="out('-4488854658463042612');" style=""> 203                      Note note = notesCursor.getObject();                                                          </span>
<span class="-7161904236684352828" onmouseenter="enter('-7161904236684352828');" onmouseout="out('-7161904236684352828');" style=""> 204                      List&lt;String&gt; tags = note.getTags();                                                           </span>
<span class="6811471960742489558" onmouseenter="enter('6811471960742489558');" onmouseout="out('6811471960742489558');" style=""> 205                      tags.remove(tag.getName());                                                                   </span>
<span class="-5076222247856083532" onmouseenter="enter('-5076222247856083532');" onmouseout="out('-5076222247856083532');" style=""> 206                      note.setTags(tags);                                                                           </span>
<span class="1786517470939259447" onmouseenter="enter('1786517470939259447');" onmouseout="out('1786517470939259447');" style=""> 207                      note.save();                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208                  }                                                                                                 </span>
<span class="6185676292406674524" onmouseenter="enter('6185676292406674524');" onmouseout="out('6185676292406674524');" style=""> 209                  notesCursor.close();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210              }                                                                                                     </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 211              return null;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213      }                                                                                                             </span>
<span  style=""> 214                                                                                                                    </span>
<span class="5248919107736943722" onmouseenter="enter('5248919107736943722');" onmouseout="out('5248919107736943722');" style=""> 215      private class TagsAdapter extends BaseCursorAdapter&lt;TagsAdapter.ViewHolder&gt; {                                 </span>
<span  style=""> 216                                                                                                                    </span>
<span class="-6822897035617771909" onmouseenter="enter('-6822897035617771909');" onmouseout="out('-6822897035617771909');" style=""> 217          public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {                 </span>
<span  style=""> 218                                                                                                                    </span>
<span class="4419423462826759813" onmouseenter="enter('4419423462826759813');" onmouseout="out('4419423462826759813');" style=""> 219              private TextView tagTitle;                                                                            </span>
<span class="-3570309114114169316" onmouseenter="enter('-3570309114114169316');" onmouseout="out('-3570309114114169316');" style=""> 220              private TextView tagCountTextView;                                                                    </span>
<span class="-8544708388769378485" onmouseenter="enter('-8544708388769378485');" onmouseout="out('-8544708388769378485');" style=""> 221              private ImageButton deleteButton;                                                                     </span>
<span  style=""> 222                                                                                                                    </span>
<span class="-5549355451151038773" onmouseenter="enter('-5549355451151038773');" onmouseout="out('-5549355451151038773');" style=""> 223              private ViewHolder(View itemView) {                                                                   </span>
<span class="7810531288897262200" onmouseenter="enter('7810531288897262200');" onmouseout="out('7810531288897262200');" style=""> 224                  super(itemView);                                                                                  </span>
<span  style=""> 225                                                                                                                    </span>
<span class="-8209930711530257965" onmouseenter="enter('-8209930711530257965');" onmouseout="out('-8209930711530257965');" style=""> 226                  tagTitle = itemView.findViewById(R.id.tag_name);                                                  </span>
<span class="-353391940375081493" onmouseenter="enter('-353391940375081493');" onmouseout="out('-353391940375081493');" style=""> 227                  tagCountTextView = itemView.findViewById(R.id.tag_count);                                         </span>
<span class="7090612223815406249" onmouseenter="enter('7090612223815406249');" onmouseout="out('7090612223815406249');" style=""> 228                  deleteButton = itemView.findViewById(R.id.tag_trash);                                             </span>
<span  style=""> 229                                                                                                                    </span>
<span class="-5082896635443619762" onmouseenter="enter('-5082896635443619762');" onmouseout="out('-5082896635443619762');" style=""> 230                  deleteButton.setOnClickListener(new View.OnClickListener() {                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 231                      @Override                                                                                     </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 232                      public void onClick(View view) {                                                              </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 233                          if (!isAdded()) return;                                                                   </span>
<span  style=""> 234                                                                                                                    </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 235                          final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();    </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 236                          final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 236                          final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tagðŸ”µ</abbr></span>
<span class="-5154551591835167105" onmouseenter="enter('-5154551591835167105');" onmouseout="out('-5154551591835167105');" style=""> 237                          if (tagCount == 0) {                                                                      </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 238                              deleteTag(tag);                                                                       </span>
<span class="-547564231019545678" onmouseenter="enter('-547564231019545678');" onmouseout="out('-547564231019545678');" style=""> 239                          } else if (tagCount &gt; 0) {                                                                </span>
<span class="-8784532581482137439" onmouseenter="enter('-8784532581482137439');" onmouseout="out('-8784532581482137439');" style=""> 240                              AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                   </span>

<span class="3020288741784499463" onmouseenter="enter('3020288741784499463');" onmouseout="out('3020288741784499463');" style=""> 241                              alert.setTitle(R.string.delete_tag);                                                  </span>
<span class="4818241034901792390" onmouseenter="enter('4818241034901792390');" onmouseout="out('4818241034901792390');" style=""> 242                              alert.setMessage(getString(R.string.confirm_delete_tag));                             </span>
<span class="5010407500063536008" onmouseenter="enter('5010407500063536008');" onmouseout="out('5010407500063536008');" style=""> 243                              alert.setPositiveButton(R.string.yes, new DialogInterface.OnClickListener() {         </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 244                                  public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4416968485561711996" onmouseenter="enter('-4416968485561711996');" onmouseout="out('-4416968485561711996');" style=""> 245                                      deleteTag(tag);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 247                              });                                                                                   </span>
<span class="-8604922459585618408" onmouseenter="enter('-8604922459585618408');" onmouseout="out('-8604922459585618408');" style=""> 248                              alert.setNegativeButton(R.string.no, new DialogInterface.OnClickListener() {          </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 249                                  public void onClick(DialogInterface dialog, int whichButton) {                    </span>
<span class="-4549174403632334527" onmouseenter="enter('-4549174403632334527');" onmouseout="out('-4549174403632334527');" style=""> 250                                      // Do nothing, just closing the dialog                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251                                  }                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 252                              });                                                                                   </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 253                              alert.show();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +                    }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +                });                                                                                               </span>
<span class="-7367896641737350796" onmouseenter="enter('-7367896641737350796');" onmouseout="out('-7367896641737350796');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +                deleteButton.setOnLongClickListener(new View.OnLongClickListener() {                              </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 258 +                    @Override                                                                                     </span>
<span class="8717376404601521673" onmouseenter="enter('8717376404601521673');" onmouseout="out('8717376404601521673');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +                    public boolean onLongClick(View v) {                                                          </span>
<span class="-7768079443704311296" onmouseenter="enter('-7768079443704311296');" onmouseout="out('-7768079443704311296');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +                        if (v.isHapticFeedbackEnabled()) {                                                        </span>
<span class="8951586631252773872" onmouseenter="enter('8951586631252773872');" onmouseout="out('8951586631252773872');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 261 +                            v.performHapticFeedback(HapticFeedbackConstants.LONG_PRESS);                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +                        }                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 263 +                                                                                                                  </span>
<span class="7463648715521265388" onmouseenter="enter('7463648715521265388');" onmouseout="out('7463648715521265388');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 264 +                        Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LENGTH_SHORT).show();"> 264 +                        Toast.makeText(getContext(), getContext().getString(R.string.delete_tag), Toast.LENGTH_SHOðŸ”µ</abbr></span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 265 +                        return true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 267                  });                                                                                               </span>
<span  style=""> 268                                                                                                                    </span>
<span class="-8780506269675737423" onmouseenter="enter('-8780506269675737423');" onmouseout="out('-8780506269675737423');" style=""> 269                  itemView.setOnClickListener(this);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270              }                                                                                                     </span>
<span  style=""> 271                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 272              @Override                                                                                             </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 273              public void onClick(View view) {                                                                      </span>
<span class="6112154992837754036" onmouseenter="enter('6112154992837754036');" onmouseout="out('6112154992837754036');" style=""> 274                  if (!isAdded()) return;                                                                           </span>
<span  style=""> 275                                                                                                                    </span>
<span class="-7379727300044202194" onmouseenter="enter('-7379727300044202194');" onmouseout="out('-7379727300044202194');" style=""> 276                  final AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());                         </span>

<span class="4851520652861491847" onmouseenter="enter('4851520652861491847');" onmouseout="out('4851520652861491847');" style=""><abbr title=" 277                  LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_tag, null);"> 277                  LinearLayout alertView = (LinearLayout) getActivity().getLayoutInflater().inflate(R.layout.edit_taðŸ”µ</abbr></span>
<span  style=""> 278                                                                                                                    </span>
<span class="8587687064722906478" onmouseenter="enter('8587687064722906478');" onmouseout="out('8587687064722906478');" style=""> 279                  final Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)getItem(getAdapterPosition())).getObject();            </span>
<span  style=""> 280                                                                                                                    </span>
<span class="-4962524602872692546" onmouseenter="enter('-4962524602872692546');" onmouseout="out('-4962524602872692546');" style=""> 281                  final EditText tagNameEditText = alertView.findViewById(R.id.tag_name_edit);                      </span>
<span class="-7845514064282667835" onmouseenter="enter('-7845514064282667835');" onmouseout="out('-7845514064282667835');" style=""> 282                  tagNameEditText.setText(tag.getName());                                                           </span>
<span class="-428149568735311607" onmouseenter="enter('-428149568735311607');" onmouseout="out('-428149568735311607');" style=""> 283                  tagNameEditText.setSelection(tagNameEditText.length());                                           </span>
<span class="-8463294665903609623" onmouseenter="enter('-8463294665903609623');" onmouseout="out('-8463294665903609623');" style=""> 284                  alert.setView(alertView);                                                                         </span>
<span class="5211128019216683245" onmouseenter="enter('5211128019216683245');" onmouseout="out('5211128019216683245');" style=""> 285                  alert.setTitle(R.string.rename_tag);                                                              </span>
<span class="-3026268555264678679" onmouseenter="enter('-3026268555264678679');" onmouseout="out('-3026268555264678679');" style=""> 286                  alert.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                    </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 287                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-8561275110983046113" onmouseenter="enter('-8561275110983046113');" onmouseout="out('-8561275110983046113');" style=""> 288                          String value = tagNameEditText.getText().toString().trim();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 289                          try {                                                                                     </span>
<span class="-4351049322499560768" onmouseenter="enter('-4351049322499560768');" onmouseout="out('-4351049322499560768');" style=""> 290                              tag.renameTo(value, mNotesBucket);                                                    </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 291                              AnalyticsTracker.track(                                                               </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 292                                      AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                    </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 293                                      AnalyticsTracker.CATEGORY_TAG,                                                </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 294                                      &quot;tag_alert_edit_box&quot;                                                          </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 295                              );                                                                                    </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 296                          } catch (BucketObjectNameInvalid e) {                                                     </span>
<span class="1326507419390430177" onmouseenter="enter('1326507419390430177');" onmouseout="out('1326507419390430177');" style=""> 297                              android.util.Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                        </span>
<span class="-4783823909569229602" onmouseenter="enter('-4783823909569229602');" onmouseout="out('-4783823909569229602');" style=""> 298                              // TODO: show user a message that new tag name is not ok                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 301                  });                                                                                               </span>
<span class="3110869745651316503" onmouseenter="enter('3110869745651316503');" onmouseout="out('3110869745651316503');" style=""> 302                  alert.setNegativeButton(R.string.cancel, new DialogInterface.OnClickListener() {                  </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style=""> 303                      public void onClick(DialogInterface dialog, int whichButton) {                                </span>
<span class="-2252559221348455791" onmouseenter="enter('-2252559221348455791');" onmouseout="out('-2252559221348455791');" style=""> 304                          // Do nothing                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 305                      }                                                                                             </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 306                  });                                                                                               </span>
<span class="6964088398208345151" onmouseenter="enter('6964088398208345151');" onmouseout="out('6964088398208345151');" style=""> 307                  alert.show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308              }                                                                                                     </span>
<span  style=""> 309                                                                                                                    </span>
<span class="-8009197789389075909" onmouseenter="enter('-8009197789389075909');" onmouseout="out('-8009197789389075909');" style=""> 310              private void deleteTag(Tag tag) {                                                                     </span>
<span class="3814903980136286603" onmouseenter="enter('3814903980136286603');" onmouseout="out('3814903980136286603');" style=""> 311                  tag.delete();                                                                                     </span>
<span class="300977461474885647" onmouseenter="enter('300977461474885647');" onmouseout="out('300977461474885647');" style=""> 312                  new removeTagFromNotesTask().executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR, tag);              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 313                  AnalyticsTracker.track(                                                                           </span>
<span class="5604598325422368845" onmouseenter="enter('5604598325422368845');" onmouseout="out('5604598325422368845');" style=""> 314                          AnalyticsTracker.Stat.TAG_MENU_DELETED,                                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 315                          AnalyticsTracker.CATEGORY_TAG,                                                            </span>
<span class="-6153426240318086299" onmouseenter="enter('-6153426240318086299');" onmouseout="out('-6153426240318086299');" style=""> 316                          &quot;list_trash_button&quot;                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 317                  );                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319          }                                                                                                         </span>
<span  style=""> 320                                                                                                                    </span>
<span class="6277548925318012890" onmouseenter="enter('6277548925318012890');" onmouseout="out('6277548925318012890');" style=""> 321          private TagsAdapter() {                                                                                   </span>
<span class="-9197202087485802438" onmouseenter="enter('-9197202087485802438');" onmouseout="out('-9197202087485802438');" style=""> 322              super(null);                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 323          }                                                                                                         </span>
<span  style=""> 324                                                                                                                    </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style=""> 325          @NonNull                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 326          @Override                                                                                                 </span>
<span class="-4687590674526244191" onmouseenter="enter('-4687590674526244191');" onmouseout="out('-4687590674526244191');" style=""> 327          public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {                           </span>
<span class="-25061025404565366" onmouseenter="enter('-25061025404565366');" onmouseout="out('-25061025404565366');" style=""> 328              Context context = parent.getContext();                                                                </span>
<span class="4805829666898127640" onmouseenter="enter('4805829666898127640');" onmouseout="out('4805829666898127640');" style=""> 329              LayoutInflater inflater = LayoutInflater.from(context);                                               </span>
<span  style=""> 330                                                                                                                    </span>
<span class="3350026833572752322" onmouseenter="enter('3350026833572752322');" onmouseout="out('3350026833572752322');" style=""> 331              View contactView = inflater.inflate(R.layout.tags_list_row, parent, false);                           </span>
<span  style=""> 332                                                                                                                    </span>
<span class="-7225745780243933010" onmouseenter="enter('-7225745780243933010');" onmouseout="out('-7225745780243933010');" style=""> 333              return new ViewHolder(contactView);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334          }                                                                                                         </span>
<span  style=""> 335                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 336          @Override                                                                                                 </span>
<span class="-3162860408493353359" onmouseenter="enter('-3162860408493353359');" onmouseout="out('-3162860408493353359');" style=""> 337          public void onBindViewHolder(@NonNull ViewHolder holder, Cursor cursor) {                                 </span>
<span class="9011446241982932178" onmouseenter="enter('9011446241982932178');" onmouseout="out('9011446241982932178');" style=""> 338              Tag tag = ((Bucket.ObjectCursor&lt;Tag&gt;)cursor).getObject();                                             </span>
<span  style=""> 339                                                                                                                    </span>
<span class="-3964275249238496810" onmouseenter="enter('-3964275249238496810');" onmouseout="out('-3964275249238496810');" style=""> 340              holder.tagTitle.setText(tag.getName());                                                               </span>
<span class="-8402354384693587713" onmouseenter="enter('-8402354384693587713');" onmouseout="out('-8402354384693587713');" style=""><abbr title=" 341              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).count();"> 341              final int tagCount = mNotesBucket.query().where(&quot;tags&quot;, Query.ComparisonType.EQUAL_TO, tag.getName()).ðŸ”µ</abbr></span>
<span class="-8337620726557338868" onmouseenter="enter('-8337620726557338868');" onmouseout="out('-8337620726557338868');" style=""> 342              if (tagCount &gt; 0) {                                                                                   </span>
<span class="-1282622085793531572" onmouseenter="enter('-1282622085793531572');" onmouseout="out('-1282622085793531572');" style=""> 343                  holder.tagCountTextView.setText(String.valueOf(tagCount));                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 344              } else {                                                                                              </span>
<span class="-323069704296159129" onmouseenter="enter('-323069704296159129');" onmouseout="out('-323069704296159129');" style=""> 345                  holder.tagCountTextView.setText(&quot;&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347          }                                                                                                         </span>
<span  style=""> 348                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 349          @Override                                                                                                 </span>
<span class="7787429861808504474" onmouseenter="enter('7787429861808504474');" onmouseout="out('7787429861808504474');" style=""> 350          public void swapCursor(Cursor newCursor) {                                                                </span>
<span class="5163803972493898290" onmouseenter="enter('5163803972493898290');" onmouseout="out('5163803972493898290');" style=""> 351              super.swapCursor(newCursor);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 354  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            