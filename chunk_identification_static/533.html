<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>533</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    533
                    <a href="532.html">prev</a>
                    <a href="534.html">next</a>
                    <a href="533_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Evernote/android-job_dbfe2d375b66ffaf6c97ae21824d7fa3de839d07_library/src/test/java/com/evernote/android/job/DatabaseManualUpgradeTest.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;dbfe2d375b66ffaf6c97ae21824d7fa3de839d07:library/src/test/java/com/evernote/android/job/DatabaseManualUpgradeTest.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;dbfe2d375b66ffaf6c97ae21824d7fa3de839d07^1:library/src/test/java/com/evernote/android/job/DatabaseManualUpgradeTest.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;dbfe2d375b66ffaf6c97ae21824d7fa3de839d07^2:library/src/test/java/com/evernote/android/job/DatabaseManualUpgradeTest.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Evernote\android-job show &quot;014d6630f29b986bef276d86e19d5bae9b724751:library/src/test/java/com/evernote/android/job/DatabaseManualUpgradeTest.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[b]], subset: [[b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">   1 package com.evernote.android.job;                                                                        </span>
<span  style="">   2                                                                                                          </span>
<span class="3127723864207259776" onmouseenter="enter('3127723864207259776');" onmouseout="out('3127723864207259776');" style="">   3 import android.content.ContentValues;                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-4895155655276492102" onmouseenter="enter('-4895155655276492102');" onmouseout="out('-4895155655276492102');" style="">   5 import android.database.sqlite.SQLiteDatabase;                                                           </span>
<span class="6401548559697116088" onmouseenter="enter('6401548559697116088');" onmouseout="out('6401548559697116088');" style="">   6 import android.database.sqlite.SQLiteOpenHelper;                                                         </span>
<span  style="">   7                                                                                                          </span>
<span class="8419433942127740102" onmouseenter="enter('8419433942127740102');" onmouseout="out('8419433942127740102');" style="">   8 import com.evernote.android.job.test.JobRobolectricTestRunner;                                           </span>
<span class="-4342977349897803725" onmouseenter="enter('-4342977349897803725');" onmouseout="out('-4342977349897803725');" style="">   9 import com.evernote.android.job.util.support.PersistableBundleCompat;                                    </span>
<span  style="">  10                                                                                                          </span>
<span class="-7215078893573418740" onmouseenter="enter('-7215078893573418740');" onmouseout="out('-7215078893573418740');" style="">  11 import org.junit.FixMethodOrder;                                                                         </span>
<span class="-5701544841389860871" onmouseenter="enter('-5701544841389860871');" onmouseout="out('-5701544841389860871');" style="">  12 import org.junit.Test;                                                                                   </span>
<span class="2094324412011607104" onmouseenter="enter('2094324412011607104');" onmouseout="out('2094324412011607104');" style="">  13 import org.junit.runner.RunWith;                                                                         </span>
<span class="2332968182334407716" onmouseenter="enter('2332968182334407716');" onmouseout="out('2332968182334407716');" style="">  14 import org.junit.runners.MethodSorters;                                                                  </span>
<span class="-1744873477108319775" onmouseenter="enter('-1744873477108319775');" onmouseout="out('-1744873477108319775');" style="">  15 import org.robolectric.RuntimeEnvironment;                                                               </span>
<span  style="">  16                                                                                                          </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  17 import java.util.concurrent.TimeUnit;                                                                    </span>
<span  style="">  18                                                                                                          </span>
<span class="603762941935801069" onmouseenter="enter('603762941935801069');" onmouseout="out('603762941935801069');" style="">  19 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_MS;                                     </span>
<span class="3833510892529474021" onmouseenter="enter('3833510892529474021');" onmouseout="out('3833510892529474021');" style="">  20 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_POLICY;                                 </span>
<span class="4027599808755331245" onmouseenter="enter('4027599808755331245');" onmouseout="out('4027599808755331245');" style="">  21 import static com.evernote.android.job.JobStorage.COLUMN_END_MS;                                         </span>
<span class="-8680947723594007816" onmouseenter="enter('-8680947723594007816');" onmouseout="out('-8680947723594007816');" style="">  22 import static com.evernote.android.job.JobStorage.COLUMN_EXACT;                                          </span>
<span class="-3578867012232505640" onmouseenter="enter('-3578867012232505640');" onmouseout="out('-3578867012232505640');" style="">  23 import static com.evernote.android.job.JobStorage.COLUMN_EXTRAS;                                         </span>
<span class="8456540258204871098" onmouseenter="enter('8456540258204871098');" onmouseout="out('8456540258204871098');" style="">  24 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_MS;                                        </span>
<span class="3293064517228225203" onmouseenter="enter('3293064517228225203');" onmouseout="out('3293064517228225203');" style="">  25 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_SUPPORT;                                   </span>
<span class="-8821316578677221936" onmouseenter="enter('-8821316578677221936');" onmouseout="out('-8821316578677221936');" style="">  26 import static com.evernote.android.job.JobStorage.COLUMN_ID;                                             </span>
<span class="6206551323139207942" onmouseenter="enter('6206551323139207942');" onmouseout="out('6206551323139207942');" style="">  27 import static com.evernote.android.job.JobStorage.COLUMN_INTERVAL_MS;                                    </span>
<span class="-2327485105636863184" onmouseenter="enter('-2327485105636863184');" onmouseout="out('-2327485105636863184');" style="">  28 import static com.evernote.android.job.JobStorage.COLUMN_LAST_RUN;                                       </span>
<span class="-2394167415022712033" onmouseenter="enter('-2394167415022712033');" onmouseout="out('-2394167415022712033');" style="">  29 import static com.evernote.android.job.JobStorage.COLUMN_NETWORK_TYPE;                                   </span>
<span class="-7819177330857045077" onmouseenter="enter('-7819177330857045077');" onmouseout="out('-7819177330857045077');" style="">  30 import static com.evernote.android.job.JobStorage.COLUMN_NUM_FAILURES;                                   </span>
<span class="-6068815646617261361" onmouseenter="enter('-6068815646617261361');" onmouseout="out('-6068815646617261361');" style="">  31 import static com.evernote.android.job.JobStorage.COLUMN_REQUIREMENTS_ENFORCED;                          </span>
<span class="-7192486015558249022" onmouseenter="enter('-7192486015558249022');" onmouseout="out('-7192486015558249022');" style="">  32 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_CHARGING;                              </span>
<span class="5011652326564991367" onmouseenter="enter('5011652326564991367');" onmouseout="out('5011652326564991367');" style="">  33 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_DEVICE_IDLE;                           </span>
<span class="-7434777597298704644" onmouseenter="enter('-7434777597298704644');" onmouseout="out('-7434777597298704644');" style="">  34 import static com.evernote.android.job.JobStorage.COLUMN_SCHEDULED_AT;                                   </span>
<span class="-4482744345386978636" onmouseenter="enter('-4482744345386978636');" onmouseout="out('-4482744345386978636');" style="">  35 import static com.evernote.android.job.JobStorage.COLUMN_STARTED;                                        </span>
<span class="-5153747410473113617" onmouseenter="enter('-5153747410473113617');" onmouseout="out('-5153747410473113617');" style="">  36 import static com.evernote.android.job.JobStorage.COLUMN_START_MS;                                       </span>
<span class="5921810338082200242" onmouseenter="enter('5921810338082200242');" onmouseout="out('5921810338082200242');" style="">  37 import static com.evernote.android.job.JobStorage.COLUMN_TAG;                                            </span>
<span class="-3879979238284195602" onmouseenter="enter('-3879979238284195602');" onmouseout="out('-3879979238284195602');" style="">  38 import static com.evernote.android.job.JobStorage.COLUMN_TRANSIENT;                                      </span>
<span class="5451688190070547980" onmouseenter="enter('5451688190070547980');" onmouseout="out('5451688190070547980');" style="">  39 import static com.evernote.android.job.JobStorage.DATABASE_NAME;                                         </span>
<span class="6221508059079313748" onmouseenter="enter('6221508059079313748');" onmouseout="out('6221508059079313748');" style="">  40 import static com.evernote.android.job.JobStorage.JOB_TABLE_NAME;                                        </span>
<span class="6917176970756584306" onmouseenter="enter('6917176970756584306');" onmouseout="out('6917176970756584306');" style="">  41 import static org.assertj.core.api.Java6Assertions.assertThat;                                           </span>
<span  style="">  42                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  43 /**                                                                                                      </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  44  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45  */                                                                                                      </span>
<span class="-3724190134194100898" onmouseenter="enter('-3724190134194100898');" onmouseout="out('-3724190134194100898');" style="">  46 @RunWith(JobRobolectricTestRunner.class)                                                                 </span>
<span class="-1424498044800854742" onmouseenter="enter('-1424498044800854742');" onmouseout="out('-1424498044800854742');" style="">  47 @FixMethodOrder(MethodSorters.JVM)                                                                       </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  48 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  49 @SuppressWarnings(&quot;unused&quot;)                                                                              </span>
<span class="7354226050452146798" onmouseenter="enter('7354226050452146798');" onmouseout="out('7354226050452146798');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  50 public class DatabaseManualUpgradeTest {                                                                 </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  51 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="7354226050452146798" onmouseenter="enter('7354226050452146798');" onmouseout="out('7354226050452146798');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  52 public class DatabaseManualUpgradeTest {                                                                 </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  53                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  54     @Test                                                                                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  55 =======                                                                                                  </span>
<span class="-8750077029846275552" onmouseenter="enter('-8750077029846275552');" onmouseout="out('-8750077029846275552');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  56 public class DatabaseManualUpgradeTest extends BaseJobManagerTest {                                      </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  57 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span  style="">  58                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  59     @Test                                                                                                </span>
<span class="-2311703477732734729" onmouseenter="enter('-2311703477732734729');" onmouseout="out('-2311703477732734729');" style="">  60     public void testDatabaseUpgrade1to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  61         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  62         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  63                                                                                                          </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  64         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  65         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  66         createJobs(openHelper);                                                                          </span>
<span  style="">  67                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  68         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  69     }                                                                                                    </span>
<span  style="">  70                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  71     @Test                                                                                                </span>
<span class="-8693717612898478207" onmouseenter="enter('-8693717612898478207');" onmouseout="out('-8693717612898478207');" style="">  72     public void testDatabaseUpgrade2to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  73         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  74         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  75                                                                                                          </span>
<span class="4411649550964803937" onmouseenter="enter('4411649550964803937');" onmouseout="out('4411649550964803937');" style="">  76         JobOpenHelper2 openHelper = new JobOpenHelper2(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  77         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  78         createJobs(openHelper);                                                                          </span>
<span  style="">  79                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  80         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  81     }                                                                                                    </span>
<span  style="">  82                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  83     @Test                                                                                                </span>
<span class="-3160546408555080113" onmouseenter="enter('-3160546408555080113');" onmouseout="out('-3160546408555080113');" style="">  84     public void testDatabaseUpgrade3to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  85         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  86         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  87                                                                                                          </span>
<span class="7281318093140205120" onmouseenter="enter('7281318093140205120');" onmouseout="out('7281318093140205120');" style="">  88         JobOpenHelper3 openHelper = new JobOpenHelper3(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  89         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  90         createJobs(openHelper, true);                                                                    </span>
<span  style="">  91                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  92         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93     }                                                                                                    </span>
<span  style="">  94                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  95     @Test                                                                                                </span>
<span class="-19963943434937844" onmouseenter="enter('-19963943434937844');" onmouseout="out('-19963943434937844');" style="">  96     public void testDatabaseUpgrade4to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  97         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  98         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  99                                                                                                          </span>
<span class="-7369878075977677253" onmouseenter="enter('-7369878075977677253');" onmouseout="out('-7369878075977677253');" style=""> 100         JobOpenHelper4 openHelper = new JobOpenHelper4(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style=""> 101         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style=""> 102         createJobs(openHelper, true);                                                                    </span>
<span  style=""> 103                                                                                                          </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style=""> 104         checkJob(context);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105     }                                                                                                    </span>
<span  style=""> 106                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style=""> 107     @Test                                                                                                </span>
<span class="4342590854049753233" onmouseenter="enter('4342590854049753233');" onmouseout="out('4342590854049753233');" style=""> 108     public void testDatabaseUpgrade1to2to3to4to5() {                                                     </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style=""> 109         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style=""> 110         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style=""> 111                                                                                                          </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style=""> 112         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style=""> 113         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style=""> 114         createJobs(openHelper);                                                                          </span>
<span  style=""> 115                                                                                                          </span>
<span class="-3107998161269137207" onmouseenter="enter('-3107998161269137207');" onmouseout="out('-3107998161269137207');" style=""> 116         createDatabase(new JobOpenHelper2(context), true);                                               </span>
<span class="4645358894871562455" onmouseenter="enter('4645358894871562455');" onmouseout="out('4645358894871562455');" style=""> 117         createDatabase(new JobOpenHelper3(context), true);                                               </span>
<span class="-2502534324441419643" onmouseenter="enter('-2502534324441419643');" onmouseout="out('-2502534324441419643');" style=""> 118         createDatabase(new JobOpenHelper4(context), true);                                               </span>
<span  style=""> 119                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style=""> 120         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 121     }                                                                                                    </span>
<span  style=""> 122                                                                                                          </span>
<span class="6996371434327522485" onmouseenter="enter('6996371434327522485');" onmouseout="out('6996371434327522485');" style=""> 123     private void createDatabase(UpgradeAbleJobOpenHelper openHelper, boolean checkUpgraded) {            </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 124         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span class="1002365188655809485" onmouseenter="enter('1002365188655809485');" onmouseout="out('1002365188655809485');" style=""> 125         assertThat(openHelper.mDatabaseCreated).isTrue();                                                </span>
<span class="5166310250829210071" onmouseenter="enter('5166310250829210071');" onmouseout="out('5166310250829210071');" style=""> 126         if (checkUpgraded) {                                                                             </span>
<span class="-3244344157917592976" onmouseenter="enter('-3244344157917592976');" onmouseout="out('-3244344157917592976');" style=""> 127             assertThat(openHelper.mDatabaseUpgraded).isTrue();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128         }                                                                                                </span>
<span  style=""> 129                                                                                                          </span>
<span class="-6329634734205163657" onmouseenter="enter('-6329634734205163657');" onmouseout="out('-6329634734205163657');" style=""> 130         database.close();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="-5806806091316944782" onmouseenter="enter('-5806806091316944782');" onmouseout="out('-5806806091316944782');" style=""> 133     private void createJobs(UpgradeAbleJobOpenHelper openHelper) {                                       </span>
<span class="-2069402450894332507" onmouseenter="enter('-2069402450894332507');" onmouseout="out('-2069402450894332507');" style=""> 134         createJobs(openHelper, false);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135     }                                                                                                    </span>
<span  style=""> 136                                                                                                          </span>
<span class="5336641715889036266" onmouseenter="enter('5336641715889036266');" onmouseout="out('5336641715889036266');" style=""> 137     private void createJobs(UpgradeAbleJobOpenHelper openHelper, boolean validInterval) {                </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 138         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span  style=""> 139                                                                                                          </span>
<span class="7171102425007369702" onmouseenter="enter('7171102425007369702');" onmouseout="out('7171102425007369702');" style=""> 140         ContentValues contentValues = openHelper.createBaseContentValues(1);                             </span>
<span class="7771213206953710758" onmouseenter="enter('7771213206953710758');" onmouseout="out('7771213206953710758');" style=""> 141         contentValues.put(JobStorage.COLUMN_START_MS, 60_000L);                                          </span>
<span class="-2958262627274538915" onmouseenter="enter('-2958262627274538915');" onmouseout="out('-2958262627274538915');" style=""> 142         contentValues.put(JobStorage.COLUMN_END_MS, 120_000L);                                           </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 143         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 144                                                                                                          </span>
<span class="-4763591133775733762" onmouseenter="enter('-4763591133775733762');" onmouseout="out('-4763591133775733762');" style=""> 145         contentValues = openHelper.createBaseContentValues(2);                                           </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 146         if (validInterval) {                                                                             </span>
<span class="8024022385027275123" onmouseenter="enter('8024022385027275123');" onmouseout="out('8024022385027275123');" style=""> 147             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                   </span>
<span class="689648826546990857" onmouseenter="enter('689648826546990857');" onmouseout="out('689648826546990857');" style=""> 148             contentValues.put(JobStorage.COLUMN_FLEX_MS, JobRequest.MIN_INTERVAL);                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 149         } else {                                                                                         </span>
<span class="4648150240998657893" onmouseenter="enter('4648150240998657893');" onmouseout="out('4648150240998657893');" style=""> 150             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 60_000L);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 152         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 153                                                                                                          </span>
<span class="-8658084289334702477" onmouseenter="enter('-8658084289334702477');" onmouseout="out('-8658084289334702477');" style=""> 154         contentValues = openHelper.createBaseContentValues(3);                                           </span>
<span class="-4361020577578448843" onmouseenter="enter('-4361020577578448843');" onmouseout="out('-4361020577578448843');" style=""> 155         contentValues.put(JobStorage.COLUMN_INTERVAL_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 156         if (validInterval) {                                                                             </span>
<span class="-9019177920160815678" onmouseenter="enter('-9019177920160815678');" onmouseout="out('-9019177920160815678');" style=""> 157             contentValues.put(JobStorage.COLUMN_FLEX_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 159         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span  style=""> 161                                                                                                          </span>
<span class="4372419731471540784" onmouseenter="enter('4372419731471540784');" onmouseout="out('4372419731471540784');" style=""> 162     private void checkJob() {                                                                            </span>
<span class="-8433167734264440802" onmouseenter="enter('-8433167734264440802');" onmouseout="out('-8433167734264440802');" style=""> 163         createManager().addJobCreator(new JobCreator() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 164             @Override                                                                                    </span>
<span class="7413085031269617882" onmouseenter="enter('7413085031269617882');" onmouseout="out('7413085031269617882');" style=""> 165             public Job create(String tag) {                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 166                 return null;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 168         });                                                                                              </span>
<span  style=""> 169                                                                                                          </span>
<span class="7044483502815593372" onmouseenter="enter('7044483502815593372');" onmouseout="out('7044483502815593372');" style=""> 170         assertThat(JobManager.instance().getAllJobRequests()).hasSize(3);                                </span>
<span  style=""> 171                                                                                                          </span>
<span class="-6367395240800644145" onmouseenter="enter('-6367395240800644145');" onmouseout="out('-6367395240800644145');" style=""> 172         JobRequest jobRequest = JobManager.instance().getJobRequest(1);                                  </span>
<span class="331370784387769176" onmouseenter="enter('331370784387769176');" onmouseout="out('331370784387769176');" style=""> 173         assertThat(jobRequest.isPeriodic()).isFalse();                                                   </span>
<span class="-3828796550181305296" onmouseenter="enter('-3828796550181305296');" onmouseout="out('-3828796550181305296');" style=""> 174         assertThat(jobRequest.getStartMs()).isEqualTo(60_000L);                                          </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 175         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="-5488923739101217751" onmouseenter="enter('-5488923739101217751');" onmouseout="out('-5488923739101217751');" style=""> 177         jobRequest = JobManager.instance().getJobRequest(2);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 178         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="-7082813526874644872" onmouseenter="enter('-7082813526874644872');" onmouseout="out('-7082813526874644872');" style=""> 179         assertThat(jobRequest.getIntervalMs()).isEqualTo(JobRequest.MIN_INTERVAL);                       </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 180         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 181         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 182                                                                                                          </span>
<span class="7648225341830685156" onmouseenter="enter('7648225341830685156');" onmouseout="out('7648225341830685156');" style=""> 183         jobRequest = JobManager.instance().getJobRequest(3);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 184         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="5459243978202920276" onmouseenter="enter('5459243978202920276');" onmouseout="out('5459243978202920276');" style=""> 185         assertThat(jobRequest.getIntervalMs()).isEqualTo(TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 186         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 187         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 188         assertThat(jobRequest.isTransient()).isFalse();                                                  </span>
<span  style=""> 189                                                                                                          </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 190         JobManager.instance().cancelAll();                                                               </span>
<span  style=""> 191                                                                                                          </span>
<span class="2697577271181147250" onmouseenter="enter('2697577271181147250');" onmouseout="out('2697577271181147250');" style=""> 192         int jobId = new JobRequest.Builder(&quot;Tag&quot;)                                                        </span>
<span class="4020395291710759937" onmouseenter="enter('4020395291710759937');" onmouseout="out('4020395291710759937');" style=""> 193                 .setExact(90_000L)                                                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 194                 .build()                                                                                 </span>
<span class="3259220377266979687" onmouseenter="enter('3259220377266979687');" onmouseout="out('3259220377266979687');" style=""> 195                 .schedule();                                                                             </span>
<span  style=""> 196                                                                                                          </span>
<span class="7322178915735505083" onmouseenter="enter('7322178915735505083');" onmouseout="out('7322178915735505083');" style=""> 197         assertThat(JobManager.instance().getAllJobRequests()).hasSize(1);                                </span>
<span  style=""> 198                                                                                                          </span>
<span class="6933301837681511298" onmouseenter="enter('6933301837681511298');" onmouseout="out('6933301837681511298');" style=""> 199         jobRequest = JobManager.instance().getJobRequest(jobId);                                         </span>
<span class="4815077590101432110" onmouseenter="enter('4815077590101432110');" onmouseout="out('4815077590101432110');" style=""> 200         assertThat(jobRequest).isNotNull();                                                              </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 201         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 202                                                                                                          </span>
<span class="4792505667470091646" onmouseenter="enter('4792505667470091646');" onmouseout="out('4792505667470091646');" style=""> 203         jobRequest.setStarted(true);                                                                     </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 204         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="4628956969663746019" onmouseenter="enter('4628956969663746019');" onmouseout="out('4628956969663746019');" style=""> 205         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).hasSize(1);                </span>
<span  style=""> 206                                                                                                          </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 207         JobManager.instance().cancelAll();                                                               </span>
<span  style=""> 208                                                                                                          </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 209         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="-1145725383769881022" onmouseenter="enter('-1145725383769881022');" onmouseout="out('-1145725383769881022');" style=""> 210         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).isEmpty();                 </span>
<span  style=""> 211                                                                                                          </span>
<span class="3415915720659774680" onmouseenter="enter('3415915720659774680');" onmouseout="out('3415915720659774680');" style=""> 212         JobManager.instance().destroy();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="2705734111412390911" onmouseenter="enter('2705734111412390911');" onmouseout="out('2705734111412390911');" style=""> 215     private abstract static class UpgradeAbleJobOpenHelper extends SQLiteOpenHelper {                    </span>
<span  style=""> 216                                                                                                          </span>
<span class="-8909915190881222474" onmouseenter="enter('-8909915190881222474');" onmouseout="out('-8909915190881222474');" style=""> 217         private boolean mDatabaseCreated;                                                                </span>
<span class="3412726656047304914" onmouseenter="enter('3412726656047304914');" onmouseout="out('3412726656047304914');" style=""> 218         private boolean mDatabaseUpgraded;                                                               </span>
<span  style=""> 219                                                                                                          </span>
<span class="5056707048151623917" onmouseenter="enter('5056707048151623917');" onmouseout="out('5056707048151623917');" style=""> 220         UpgradeAbleJobOpenHelper(Context context, int version) {                                         </span>
<span class="-5473051849250841027" onmouseenter="enter('-5473051849250841027');" onmouseout="out('-5473051849250841027');" style=""> 221             super(context, DATABASE_NAME, null, version);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222         }                                                                                                </span>
<span  style=""> 223                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 224         @Override                                                                                        </span>
<span class="6560321291136209336" onmouseenter="enter('6560321291136209336');" onmouseout="out('6560321291136209336');" style=""> 225         public final void onCreate(SQLiteDatabase db) {                                                  </span>
<span class="1670468275179411026" onmouseenter="enter('1670468275179411026');" onmouseout="out('1670468275179411026');" style=""> 226             onCreateInner(db);                                                                           </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 227             mDatabaseCreated = true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228         }                                                                                                </span>
<span  style=""> 229                                                                                                          </span>
<span class="-2143216386073375288" onmouseenter="enter('-2143216386073375288');" onmouseout="out('-2143216386073375288');" style=""> 230         protected abstract void onCreateInner(SQLiteDatabase db);                                        </span>
<span  style=""> 231                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 232         @Override                                                                                        </span>
<span class="-1105106953054202382" onmouseenter="enter('-1105106953054202382');" onmouseout="out('-1105106953054202382');" style=""> 233         public final void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {                 </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style=""> 234             while (oldVersion &lt; newVersion) {                                                            </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style=""> 235                 switch (oldVersion) {                                                                    </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style=""> 236                     case 1:                                                                              </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style=""> 237                         upgradeFrom1To2(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 238                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 239                         break;                                                                           </span>
<span class="1568233748741705754" onmouseenter="enter('1568233748741705754');" onmouseout="out('1568233748741705754');" style=""> 240                     case 2:                                                                              </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style=""> 241                         upgradeFrom2To3(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 242                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 243                         break;                                                                           </span>
<span class="6137898315495918692" onmouseenter="enter('6137898315495918692');" onmouseout="out('6137898315495918692');" style=""> 244                     case 3:                                                                              </span>
<span class="-5585272637305645377" onmouseenter="enter('-5585272637305645377');" onmouseout="out('-5585272637305645377');" style=""> 245                         upgradeFrom3To4(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 246                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 247                         break;                                                                           </span>
<span class="-8733970842389302857" onmouseenter="enter('-8733970842389302857');" onmouseout="out('-8733970842389302857');" style=""> 248                     case 4:                                                                              </span>
<span class="-8236232265808981910" onmouseenter="enter('-8236232265808981910');" onmouseout="out('-8236232265808981910');" style=""> 249                         upgradeFrom4To5(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 250                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 251                         break;                                                                           </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 252                     default:                                                                             </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style=""> 253                         throw new IllegalStateException(&quot;not implemented&quot;);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255             }                                                                                            </span>
<span  style=""> 256                                                                                                          </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 257             mDatabaseCreated = true;                                                                     </span>
<span class="-5692231938642834292" onmouseenter="enter('-5692231938642834292');" onmouseout="out('-5692231938642834292');" style=""> 258             mDatabaseUpgraded = true;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259         }                                                                                                </span>
<span  style=""> 260                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 261         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 262             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263         }                                                                                                </span>
<span  style=""> 264                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 265         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 266             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267         }                                                                                                </span>
<span  style=""> 268                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 269         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 270             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271         }                                                                                                </span>
<span  style=""> 272                                                                                                          </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 273         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 274             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275         }                                                                                                </span>
<span  style=""> 276                                                                                                          </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 277         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 278             ContentValues contentValues = new ContentValues();                                           </span>
<span class="4882308526391357089" onmouseenter="enter('4882308526391357089');" onmouseout="out('4882308526391357089');" style=""> 279             contentValues.put(JobStorage.COLUMN_ID, id);                                                 </span>
<span class="5775313243864116582" onmouseenter="enter('5775313243864116582');" onmouseout="out('5775313243864116582');" style=""> 280             contentValues.put(JobStorage.COLUMN_TAG, &quot;Tag&quot;);                                             </span>
<span  style=""> 281                                                                                                          </span>
<span class="-1397772710560816545" onmouseenter="enter('-1397772710560816545');" onmouseout="out('-1397772710560816545');" style=""> 282             contentValues.put(JobStorage.COLUMN_START_MS, -1L);                                          </span>
<span class="7859694369433916467" onmouseenter="enter('7859694369433916467');" onmouseout="out('7859694369433916467');" style=""> 283             contentValues.put(JobStorage.COLUMN_END_MS, -1L);                                            </span>
<span  style=""> 284                                                                                                          </span>
<span class="4756578937714418605" onmouseenter="enter('4756578937714418605');" onmouseout="out('4756578937714418605');" style=""> 285             contentValues.put(JobStorage.COLUMN_BACKOFF_MS, JobRequest.DEFAULT_BACKOFF_MS);              </span>
<span class="-3535108724382731015" onmouseenter="enter('-3535108724382731015');" onmouseout="out('-3535108724382731015');" style=""><abbr title=" 286             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toString());"> 286             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toStrin🔵</abbr></span>
<span  style=""> 287                                                                                                          </span>
<span class="-221873649665451798" onmouseenter="enter('-221873649665451798');" onmouseout="out('-221873649665451798');" style=""> 288             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 0L);                                        </span>
<span  style=""> 289                                                                                                          </span>
<span class="3238647053561544333" onmouseenter="enter('3238647053561544333');" onmouseout="out('3238647053561544333');" style=""> 290             contentValues.put(JobStorage.COLUMN_REQUIREMENTS_ENFORCED, false);                           </span>
<span class="4163033908339933383" onmouseenter="enter('4163033908339933383');" onmouseout="out('4163033908339933383');" style=""> 291             contentValues.put(JobStorage.COLUMN_REQUIRES_CHARGING, false);                               </span>
<span class="-712540120190572793" onmouseenter="enter('-712540120190572793');" onmouseout="out('-712540120190572793');" style=""> 292             contentValues.put(JobStorage.COLUMN_REQUIRES_DEVICE_IDLE, false);                            </span>
<span class="-7823228738452576568" onmouseenter="enter('-7823228738452576568');" onmouseout="out('-7823228738452576568');" style=""> 293             contentValues.put(JobStorage.COLUMN_EXACT, false);                                           </span>
<span class="-2942693606785659568" onmouseenter="enter('-2942693606785659568');" onmouseout="out('-2942693606785659568');" style=""><abbr title=" 294             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString());"> 294             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString())🔵</abbr></span>
<span  style=""> 295                                                                                                          </span>
<span class="8168272757063627607" onmouseenter="enter('8168272757063627607');" onmouseout="out('8168272757063627607');" style=""> 296             contentValues.put(JobStorage.COLUMN_EXTRAS, new PersistableBundleCompat().saveToXml());      </span>
<span class="8466664346323995437" onmouseenter="enter('8466664346323995437');" onmouseout="out('8466664346323995437');" style=""> 297             contentValues.put(&quot;persisted&quot;, false);                                                       </span>
<span  style=""> 298                                                                                                          </span>
<span class="-7417777717518068918" onmouseenter="enter('-7417777717518068918');" onmouseout="out('-7417777717518068918');" style=""> 299             contentValues.put(JobStorage.COLUMN_NUM_FAILURES, 0);                                        </span>
<span class="7656952325648715400" onmouseenter="enter('7656952325648715400');" onmouseout="out('7656952325648715400');" style=""> 300             contentValues.put(JobStorage.COLUMN_SCHEDULED_AT, System.currentTimeMillis());               </span>
<span  style=""> 301                                                                                                          </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 302             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304     }                                                                                                    </span>
<span  style=""> 305                                                                                                          </span>
<span class="-8257407585372319397" onmouseenter="enter('-8257407585372319397');" onmouseout="out('-8257407585372319397');" style=""> 306     private static class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                               </span>
<span  style=""> 307                                                                                                          </span>
<span class="6289903625222490506" onmouseenter="enter('6289903625222490506');" onmouseout="out('6289903625222490506');" style=""> 308         JobOpenHelper1(Context context) {                                                                </span>
<span class="8899764399061602443" onmouseenter="enter('8899764399061602443');" onmouseout="out('8899764399061602443');" style=""> 309             this(context, 1);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310         }                                                                                                </span>
<span  style=""> 311                                                                                                          </span>
<span class="-8763496503173823657" onmouseenter="enter('-8763496503173823657');" onmouseout="out('-8763496503173823657');" style=""> 312         JobOpenHelper1(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 313             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span  style=""> 315                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 316         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 317         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 318             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 319                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 320                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 321                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 322                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 323                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 324                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 325                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 326                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 327                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 328                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 329                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 330                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 331                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 332                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 333                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="6921224975730885774" onmouseenter="enter('6921224975730885774');" onmouseout="out('6921224975730885774');" style=""> 334                     + COLUMN_SCHEDULED_AT + &quot; integer);&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336     }                                                                                                    </span>
<span  style=""> 337                                                                                                          </span>
<span class="-1799680125503209332" onmouseenter="enter('-1799680125503209332');" onmouseout="out('-1799680125503209332');" style=""> 338     private static class JobOpenHelper2 extends JobOpenHelper1 {                                         </span>
<span  style=""> 339                                                                                                          </span>
<span class="8075975699720832911" onmouseenter="enter('8075975699720832911');" onmouseout="out('8075975699720832911');" style=""> 340         JobOpenHelper2(Context context) {                                                                </span>
<span class="1744622821328669055" onmouseenter="enter('1744622821328669055');" onmouseout="out('1744622821328669055');" style=""> 341             this(context, 2);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 342         }                                                                                                </span>
<span  style=""> 343                                                                                                          </span>
<span class="-8276308285669648287" onmouseenter="enter('-8276308285669648287');" onmouseout="out('-8276308285669648287');" style=""> 344         JobOpenHelper2(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 345             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346         }                                                                                                </span>
<span  style=""> 347                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 348         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 349         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 350             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 351                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 352                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 353                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 354                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 355                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 356                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 357                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 358                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 359                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 360                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 361                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 362                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 363                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 364                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 365                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 366                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="4046566206463760837" onmouseenter="enter('4046566206463760837');" onmouseout="out('4046566206463760837');" style=""> 367                     + &quot;isTransient&quot; + &quot; integer);&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368         }                                                                                                </span>
<span  style=""> 369                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 370         @Override                                                                                        </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 371         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style=""> 372             ContentValues contentValues = super.createBaseContentValues(id);                             </span>
<span class="-1949803251226030366" onmouseenter="enter('-1949803251226030366');" onmouseout="out('-1949803251226030366');" style=""> 373             contentValues.put(&quot;isTransient&quot;, false);                                                     </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 374             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 375         }                                                                                                </span>
<span  style=""> 376                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 377         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="-3228115355492210751" onmouseenter="enter('-3228115355492210751');" onmouseout="out('-3228115355492210751');" style=""> 378             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + &quot;isTransient&quot; + &quot; integer;&quot;);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380     }                                                                                                    </span>
<span  style=""> 381                                                                                                          </span>
<span class="8423442546840742584" onmouseenter="enter('8423442546840742584');" onmouseout="out('8423442546840742584');" style=""> 382     private static class JobOpenHelper3 extends JobOpenHelper2 {                                         </span>
<span  style=""> 383                                                                                                          </span>
<span class="-8821174099914626838" onmouseenter="enter('-8821174099914626838');" onmouseout="out('-8821174099914626838');" style=""> 384         JobOpenHelper3(Context context) {                                                                </span>
<span class="-7753533204128695670" onmouseenter="enter('-7753533204128695670');" onmouseout="out('-7753533204128695670');" style=""> 385             this(context, 3);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386         }                                                                                                </span>
<span  style=""> 387                                                                                                          </span>
<span class="-8659704277570525812" onmouseenter="enter('-8659704277570525812');" onmouseout="out('-8659704277570525812');" style=""> 388         JobOpenHelper3(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 389             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390         }                                                                                                </span>
<span  style=""> 391                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 392         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 393         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 394             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 395                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 396                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 397                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 398                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 399                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 400                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 401                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 402                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 403                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 404                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 405                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 406                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 407                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 408                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 409                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 410                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style=""> 411                     + &quot;isTransient&quot; + &quot; integer, &quot;                                                       </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 412                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="-6330248982531094647" onmouseenter="enter('-6330248982531094647');" onmouseout="out('-6330248982531094647');" style=""> 413                     + COLUMN_FLEX_SUPPORT + &quot; integer);&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 414         }                                                                                                </span>
<span  style=""> 415                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 416         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="5260702553356851671" onmouseenter="enter('5260702553356851671');" onmouseout="out('5260702553356851671');" style=""> 417             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_MS + &quot; integer;&quot;); </span>
<span class="-3956491332147853939" onmouseenter="enter('-3956491332147853939');" onmouseout="out('-3956491332147853939');" style=""><abbr title=" 418             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer;&quot;);"> 418             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer🔵</abbr></span>
<span  style=""> 419                                                                                                          </span>
<span class="5986191296602121568" onmouseenter="enter('5986191296602121568');" onmouseout="out('5986191296602121568');" style=""> 420             // adjust interval to minimum value if necessary                                             </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 421             ContentValues contentValues = new ContentValues();                                           </span>
<span class="-8344433330599698983" onmouseenter="enter('-8344433330599698983');" onmouseout="out('-8344433330599698983');" style=""> 422             contentValues.put(COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                              </span>
<span class="-8559731467279894779" onmouseenter="enter('-8559731467279894779');" onmouseout="out('-8559731467279894779');" style=""><abbr title=" 423             db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + JobRequest.MIN_INTERVAL, new String[0]);"> 423             db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS 🔵</abbr></span>
<span  style=""> 424                                                                                                          </span>
<span class="-8691111557153291432" onmouseenter="enter('-8691111557153291432');" onmouseout="out('-8691111557153291432');" style=""><abbr title=" 425             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not required"> 425             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not 🔵</abbr></span>
<span class="-4034349801530717432" onmouseenter="enter('-4034349801530717432');" onmouseout="out('-4034349801530717432');" style=""><abbr title=" 426             db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS + &quot;;&quot;);"> 426             db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428     }                                                                                                    </span>
<span  style=""> 429                                                                                                          </span>
<span class="-7968989855532865117" onmouseenter="enter('-7968989855532865117');" onmouseout="out('-7968989855532865117');" style=""> 430     private static class JobOpenHelper4 extends JobOpenHelper3 {                                         </span>
<span  style=""> 431                                                                                                          </span>
<span class="-8503153155224786657" onmouseenter="enter('-8503153155224786657');" onmouseout="out('-8503153155224786657');" style=""> 432         JobOpenHelper4(Context context) {                                                                </span>
<span class="-2332960594283753204" onmouseenter="enter('-2332960594283753204');" onmouseout="out('-2332960594283753204');" style=""> 433             this(context, 4);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 434         }                                                                                                </span>
<span  style=""> 435                                                                                                          </span>
<span class="178998481237037751" onmouseenter="enter('178998481237037751');" onmouseout="out('178998481237037751');" style=""> 436         JobOpenHelper4(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 437             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438         }                                                                                                </span>
<span  style=""> 439                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 440         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 441         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 442             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 443                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 444                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 445                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 446                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 447                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 448                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 449                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 450                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 451                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 452                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 453                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 454                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 455                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 456                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 457                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 458                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style=""> 459                     + &quot;isTransient&quot; + &quot; integer, &quot;                                                       </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 460                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 461                     + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                 </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style=""> 462                     + COLUMN_LAST_RUN + &quot; integer);&quot;);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463         }                                                                                                </span>
<span  style=""> 464                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 465         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="4590497324393124042" onmouseenter="enter('4590497324393124042');" onmouseout="out('4590497324393124042');" style=""> 466             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_LAST_RUN + &quot; integer;&quot;);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 467         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 468     }                                                                                                    </span>
<span  style=""> 469                                                                                                          </span>
<span class="7736541084698587844" onmouseenter="enter('7736541084698587844');" onmouseout="out('7736541084698587844');" style=""> 470     private static final class JobOpenHelper5 extends JobOpenHelper4 {                                   </span>
<span  style=""> 471                                                                                                          </span>
<span class="-8943693863595448540" onmouseenter="enter('-8943693863595448540');" onmouseout="out('-8943693863595448540');" style=""> 472         JobOpenHelper5(Context context) {                                                                </span>
<span class="-1710563697557884000" onmouseenter="enter('-1710563697557884000');" onmouseout="out('-1710563697557884000');" style=""> 473             this(context, 5);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474         }                                                                                                </span>
<span  style=""> 475                                                                                                          </span>
<span class="-676668996798949056" onmouseenter="enter('-676668996798949056');" onmouseout="out('-676668996798949056');" style=""> 476         JobOpenHelper5(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 477             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478         }                                                                                                </span>
<span  style=""> 479                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 480         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 481         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 482             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 483                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 484                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 485                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 486                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 487                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 488                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 489                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 490                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 491                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 492                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 493                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 494                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 495                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 496                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 497                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style=""> 498                     + COLUMN_STARTED + &quot; integer, &quot;                                                      </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 499                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 500                     + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                 </span>
<span class="-7996364189451504416" onmouseenter="enter('-7996364189451504416');" onmouseout="out('-7996364189451504416');" style=""> 501                     + COLUMN_LAST_RUN + &quot; integer, &quot;                                                     </span>
<span class="7938490355566854898" onmouseenter="enter('7938490355566854898');" onmouseout="out('7938490355566854898');" style=""> 502                     + COLUMN_TRANSIENT + &quot; integer);&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 503         }                                                                                                </span>
<span  style=""> 504                                                                                                          </span>
<span class="-4064727090831863411" onmouseenter="enter('-4064727090831863411');" onmouseout="out('-4064727090831863411');" style=""> 505         @SuppressWarnings(&quot;deprecation&quot;)                                                                 </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 506         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="5876533515833489412" onmouseenter="enter('5876533515833489412');" onmouseout="out('5876533515833489412');" style=""><abbr title=" 507             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column for O"> 507             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column fo🔵</abbr></span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 508             try {                                                                                        </span>
<span class="3708563498510346203" onmouseenter="enter('3708563498510346203');" onmouseout="out('3708563498510346203');" style=""> 509                 db.beginTransaction();                                                                   </span>
<span  style=""> 510                                                                                                          </span>
<span class="653804202733814199" onmouseenter="enter('653804202733814199');" onmouseout="out('653804202733814199');" style=""> 511                 String newTable = JOB_TABLE_NAME + &quot;_new&quot;;                                               </span>
<span  style=""> 512                                                                                                          </span>
<span class="1500933729782392479" onmouseenter="enter('1500933729782392479');" onmouseout="out('1500933729782392479');" style=""> 513                 db.execSQL(&quot;create table &quot; + newTable + &quot; (&quot;                                             </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 514                         + COLUMN_ID + &quot; integer primary key, &quot;                                           </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 515                         + COLUMN_TAG + &quot; text not null, &quot;                                                </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 516                         + COLUMN_START_MS + &quot; integer, &quot;                                                 </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 517                         + COLUMN_END_MS + &quot; integer, &quot;                                                   </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 518                         + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                               </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 519                         + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                     </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 520                         + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                              </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 521                         + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                    </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 522                         + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                        </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 523                         + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                     </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 524                         + COLUMN_EXACT + &quot; integer, &quot;                                                    </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 525                         + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                       </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 526                         + COLUMN_EXTRAS + &quot; text, &quot;                                                      </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 527                         + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                             </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 528                         + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                             </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style=""> 529                         + COLUMN_STARTED + &quot; integer, &quot;                                                  </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 530                         + COLUMN_FLEX_MS + &quot; integer, &quot;                                                  </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 531                         + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                             </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style=""> 532                         + COLUMN_LAST_RUN + &quot; integer);&quot;);                                               </span>
<span  style=""> 533                                                                                                          </span>
<span class="-8381971464716532513" onmouseenter="enter('-8381971464716532513');" onmouseout="out('-8381971464716532513');" style=""> 534                 db.execSQL(&quot;INSERT INTO &quot; + newTable + &quot; SELECT &quot;                                        </span>
<span class="2145389067042699623" onmouseenter="enter('2145389067042699623');" onmouseout="out('2145389067042699623');" style=""> 535                         + COLUMN_ID + &quot;,&quot;                                                                </span>
<span class="6939904955978864372" onmouseenter="enter('6939904955978864372');" onmouseout="out('6939904955978864372');" style=""> 536                         + COLUMN_TAG + &quot;,&quot;                                                               </span>
<span class="-442352486732208073" onmouseenter="enter('-442352486732208073');" onmouseout="out('-442352486732208073');" style=""> 537                         + COLUMN_START_MS + &quot;,&quot;                                                          </span>
<span class="6290150828589848030" onmouseenter="enter('6290150828589848030');" onmouseout="out('6290150828589848030');" style=""> 538                         + COLUMN_END_MS + &quot;,&quot;                                                            </span>
<span class="3345577236192859955" onmouseenter="enter('3345577236192859955');" onmouseout="out('3345577236192859955');" style=""> 539                         + COLUMN_BACKOFF_MS + &quot;,&quot;                                                        </span>
<span class="-8415269749285188556" onmouseenter="enter('-8415269749285188556');" onmouseout="out('-8415269749285188556');" style=""> 540                         + COLUMN_BACKOFF_POLICY + &quot;,&quot;                                                    </span>
<span class="-3976989648946616616" onmouseenter="enter('-3976989648946616616');" onmouseout="out('-3976989648946616616');" style=""> 541                         + COLUMN_INTERVAL_MS + &quot;,&quot;                                                       </span>
<span class="8022630208849871608" onmouseenter="enter('8022630208849871608');" onmouseout="out('8022630208849871608');" style=""> 542                         + COLUMN_REQUIREMENTS_ENFORCED + &quot;,&quot;                                             </span>
<span class="-635309740055477727" onmouseenter="enter('-635309740055477727');" onmouseout="out('-635309740055477727');" style=""> 543                         + COLUMN_REQUIRES_CHARGING + &quot;,&quot;                                                 </span>
<span class="-2746926730324751173" onmouseenter="enter('-2746926730324751173');" onmouseout="out('-2746926730324751173');" style=""> 544                         + COLUMN_REQUIRES_DEVICE_IDLE + &quot;,&quot;                                              </span>
<span class="-1497680641671179246" onmouseenter="enter('-1497680641671179246');" onmouseout="out('-1497680641671179246');" style=""> 545                         + COLUMN_EXACT + &quot;,&quot;                                                             </span>
<span class="4955302861618904764" onmouseenter="enter('4955302861618904764');" onmouseout="out('4955302861618904764');" style=""> 546                         + COLUMN_NETWORK_TYPE + &quot;,&quot;                                                      </span>
<span class="-2679892186903178987" onmouseenter="enter('-2679892186903178987');" onmouseout="out('-2679892186903178987');" style=""> 547                         + COLUMN_EXTRAS + &quot;,&quot;                                                            </span>
<span class="8454743424027807430" onmouseenter="enter('8454743424027807430');" onmouseout="out('8454743424027807430');" style=""> 548                         + COLUMN_NUM_FAILURES + &quot;,&quot;                                                      </span>
<span class="3869399560199586063" onmouseenter="enter('3869399560199586063');" onmouseout="out('3869399560199586063');" style=""> 549                         + COLUMN_SCHEDULED_AT + &quot;,&quot;                                                      </span>
<span class="-7943762217260836564" onmouseenter="enter('-7943762217260836564');" onmouseout="out('-7943762217260836564');" style=""> 550                         + &quot;isTransient&quot; + &quot;,&quot;                                                            </span>
<span class="9219499917803729685" onmouseenter="enter('9219499917803729685');" onmouseout="out('9219499917803729685');" style=""> 551                         + COLUMN_FLEX_MS + &quot;,&quot;                                                           </span>
<span class="-5595592532529292800" onmouseenter="enter('-5595592532529292800');" onmouseout="out('-5595592532529292800');" style=""> 552                         + COLUMN_FLEX_SUPPORT + &quot;,&quot;                                                      </span>
<span class="5367222602638706075" onmouseenter="enter('5367222602638706075');" onmouseout="out('5367222602638706075');" style=""> 553                         + COLUMN_LAST_RUN + &quot; FROM &quot; + JOB_TABLE_NAME);                                  </span>
<span  style=""> 554                                                                                                          </span>
<span class="2469021147268720768" onmouseenter="enter('2469021147268720768');" onmouseout="out('2469021147268720768');" style=""> 555                 db.execSQL(&quot;DROP TABLE &quot; + JOB_TABLE_NAME);                                              </span>
<span class="7235297904850806327" onmouseenter="enter('7235297904850806327');" onmouseout="out('7235297904850806327');" style=""> 556                 db.execSQL(&quot;ALTER TABLE &quot; + newTable + &quot; RENAME TO &quot; + JOB_TABLE_NAME);                  </span>
<span  style=""> 557                                                                                                          </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style=""><abbr title=" 558                 db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);"> 558                 db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; intege🔵</abbr></span>
<span  style=""> 559                                                                                                          </span>
<span class="-999133354836642717" onmouseenter="enter('-999133354836642717');" onmouseout="out('-999133354836642717');" style=""> 560                 db.setTransactionSuccessful();                                                           </span>
<span class="9062373144943479618" onmouseenter="enter('9062373144943479618');" onmouseout="out('9062373144943479618');" style=""> 561             } finally {                                                                                  </span>
<span class="4555482193573075626" onmouseenter="enter('4555482193573075626');" onmouseout="out('4555482193573075626');" style=""> 562                 db.endTransaction();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 563             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 564         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 565     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 566 }                                                                                                        </span>









</pre></td>
                            <td><pre><span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">   1 package com.evernote.android.job;                                                                        </span>
<span  style="">   2                                                                                                          </span>
<span class="3127723864207259776" onmouseenter="enter('3127723864207259776');" onmouseout="out('3127723864207259776');" style="">   3 import android.content.ContentValues;                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-4895155655276492102" onmouseenter="enter('-4895155655276492102');" onmouseout="out('-4895155655276492102');" style="">   5 import android.database.sqlite.SQLiteDatabase;                                                           </span>
<span class="6401548559697116088" onmouseenter="enter('6401548559697116088');" onmouseout="out('6401548559697116088');" style="">   6 import android.database.sqlite.SQLiteOpenHelper;                                                         </span>
<span  style="">   7                                                                                                          </span>
<span class="8419433942127740102" onmouseenter="enter('8419433942127740102');" onmouseout="out('8419433942127740102');" style="">   8 import com.evernote.android.job.test.JobRobolectricTestRunner;                                           </span>
<span class="-4342977349897803725" onmouseenter="enter('-4342977349897803725');" onmouseout="out('-4342977349897803725');" style="">   9 import com.evernote.android.job.util.support.PersistableBundleCompat;                                    </span>
<span  style="">  10                                                                                                          </span>
<span class="-7215078893573418740" onmouseenter="enter('-7215078893573418740');" onmouseout="out('-7215078893573418740');" style="">  11 import org.junit.FixMethodOrder;                                                                         </span>
<span class="-5701544841389860871" onmouseenter="enter('-5701544841389860871');" onmouseout="out('-5701544841389860871');" style="">  12 import org.junit.Test;                                                                                   </span>
<span class="2094324412011607104" onmouseenter="enter('2094324412011607104');" onmouseout="out('2094324412011607104');" style="">  13 import org.junit.runner.RunWith;                                                                         </span>
<span class="2332968182334407716" onmouseenter="enter('2332968182334407716');" onmouseout="out('2332968182334407716');" style="">  14 import org.junit.runners.MethodSorters;                                                                  </span>
<span class="-1744873477108319775" onmouseenter="enter('-1744873477108319775');" onmouseout="out('-1744873477108319775');" style="">  15 import org.robolectric.RuntimeEnvironment;                                                               </span>
<span  style="">  16                                                                                                          </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  17 import java.util.concurrent.TimeUnit;                                                                    </span>
<span  style="">  18                                                                                                          </span>
<span class="603762941935801069" onmouseenter="enter('603762941935801069');" onmouseout="out('603762941935801069');" style="">  19 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_MS;                                     </span>
<span class="3833510892529474021" onmouseenter="enter('3833510892529474021');" onmouseout="out('3833510892529474021');" style="">  20 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_POLICY;                                 </span>
<span class="4027599808755331245" onmouseenter="enter('4027599808755331245');" onmouseout="out('4027599808755331245');" style="">  21 import static com.evernote.android.job.JobStorage.COLUMN_END_MS;                                         </span>
<span class="-8680947723594007816" onmouseenter="enter('-8680947723594007816');" onmouseout="out('-8680947723594007816');" style="">  22 import static com.evernote.android.job.JobStorage.COLUMN_EXACT;                                          </span>
<span class="-3578867012232505640" onmouseenter="enter('-3578867012232505640');" onmouseout="out('-3578867012232505640');" style="">  23 import static com.evernote.android.job.JobStorage.COLUMN_EXTRAS;                                         </span>
<span class="8456540258204871098" onmouseenter="enter('8456540258204871098');" onmouseout="out('8456540258204871098');" style="">  24 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_MS;                                        </span>
<span class="3293064517228225203" onmouseenter="enter('3293064517228225203');" onmouseout="out('3293064517228225203');" style="">  25 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_SUPPORT;                                   </span>
<span class="-8821316578677221936" onmouseenter="enter('-8821316578677221936');" onmouseout="out('-8821316578677221936');" style="">  26 import static com.evernote.android.job.JobStorage.COLUMN_ID;                                             </span>
<span class="6206551323139207942" onmouseenter="enter('6206551323139207942');" onmouseout="out('6206551323139207942');" style="">  27 import static com.evernote.android.job.JobStorage.COLUMN_INTERVAL_MS;                                    </span>
<span class="-2327485105636863184" onmouseenter="enter('-2327485105636863184');" onmouseout="out('-2327485105636863184');" style="">  28 import static com.evernote.android.job.JobStorage.COLUMN_LAST_RUN;                                       </span>
<span class="-2394167415022712033" onmouseenter="enter('-2394167415022712033');" onmouseout="out('-2394167415022712033');" style="">  29 import static com.evernote.android.job.JobStorage.COLUMN_NETWORK_TYPE;                                   </span>
<span class="-7819177330857045077" onmouseenter="enter('-7819177330857045077');" onmouseout="out('-7819177330857045077');" style="">  30 import static com.evernote.android.job.JobStorage.COLUMN_NUM_FAILURES;                                   </span>
<span class="-6068815646617261361" onmouseenter="enter('-6068815646617261361');" onmouseout="out('-6068815646617261361');" style="">  31 import static com.evernote.android.job.JobStorage.COLUMN_REQUIREMENTS_ENFORCED;                          </span>
<span class="-7192486015558249022" onmouseenter="enter('-7192486015558249022');" onmouseout="out('-7192486015558249022');" style="">  32 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_CHARGING;                              </span>
<span class="5011652326564991367" onmouseenter="enter('5011652326564991367');" onmouseout="out('5011652326564991367');" style="">  33 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_DEVICE_IDLE;                           </span>
<span class="-7434777597298704644" onmouseenter="enter('-7434777597298704644');" onmouseout="out('-7434777597298704644');" style="">  34 import static com.evernote.android.job.JobStorage.COLUMN_SCHEDULED_AT;                                   </span>
<span class="-4482744345386978636" onmouseenter="enter('-4482744345386978636');" onmouseout="out('-4482744345386978636');" style="">  35 import static com.evernote.android.job.JobStorage.COLUMN_STARTED;                                        </span>
<span class="-5153747410473113617" onmouseenter="enter('-5153747410473113617');" onmouseout="out('-5153747410473113617');" style="">  36 import static com.evernote.android.job.JobStorage.COLUMN_START_MS;                                       </span>
<span class="5921810338082200242" onmouseenter="enter('5921810338082200242');" onmouseout="out('5921810338082200242');" style="">  37 import static com.evernote.android.job.JobStorage.COLUMN_TAG;                                            </span>
<span class="-3879979238284195602" onmouseenter="enter('-3879979238284195602');" onmouseout="out('-3879979238284195602');" style="">  38 import static com.evernote.android.job.JobStorage.COLUMN_TRANSIENT;                                      </span>
<span class="5451688190070547980" onmouseenter="enter('5451688190070547980');" onmouseout="out('5451688190070547980');" style="">  39 import static com.evernote.android.job.JobStorage.DATABASE_NAME;                                         </span>
<span class="6221508059079313748" onmouseenter="enter('6221508059079313748');" onmouseout="out('6221508059079313748');" style="">  40 import static com.evernote.android.job.JobStorage.JOB_TABLE_NAME;                                        </span>
<span class="6917176970756584306" onmouseenter="enter('6917176970756584306');" onmouseout="out('6917176970756584306');" style="">  41 import static org.assertj.core.api.Java6Assertions.assertThat;                                           </span>
<span  style="">  42                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  43 /**                                                                                                      </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  44  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  45  */                                                                                                      </span>
<span class="-3724190134194100898" onmouseenter="enter('-3724190134194100898');" onmouseout="out('-3724190134194100898');" style="">  46 @RunWith(JobRobolectricTestRunner.class)                                                                 </span>
<span class="-1424498044800854742" onmouseenter="enter('-1424498044800854742');" onmouseout="out('-1424498044800854742');" style="">  47 @FixMethodOrder(MethodSorters.JVM)                                                                       </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style="">  48 @SuppressWarnings(&quot;unused&quot;)                                                                              </span>
<span class="-8750077029846275552" onmouseenter="enter('-8750077029846275552');" onmouseout="out('-8750077029846275552');" style="">  49 public class DatabaseManualUpgradeTest extends BaseJobManagerTest {                                      </span>
<span  style="">  50                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  51     @Test                                                                                                </span>
<span class="-2311703477732734729" onmouseenter="enter('-2311703477732734729');" onmouseout="out('-2311703477732734729');" style="">  52     public void testDatabaseUpgrade1to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  53         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  54         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  55                                                                                                          </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  56         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  57         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  58         createJobs(openHelper);                                                                          </span>
<span  style="">  59                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  60         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61     }                                                                                                    </span>
<span  style="">  62                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  63     @Test                                                                                                </span>
<span class="-8693717612898478207" onmouseenter="enter('-8693717612898478207');" onmouseout="out('-8693717612898478207');" style="">  64     public void testDatabaseUpgrade2to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  65         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  66         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  67                                                                                                          </span>
<span class="4411649550964803937" onmouseenter="enter('4411649550964803937');" onmouseout="out('4411649550964803937');" style="">  68         JobOpenHelper2 openHelper = new JobOpenHelper2(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  69         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  70         createJobs(openHelper);                                                                          </span>
<span  style="">  71                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  72         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  73     }                                                                                                    </span>
<span  style="">  74                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  75     @Test                                                                                                </span>
<span class="-3160546408555080113" onmouseenter="enter('-3160546408555080113');" onmouseout="out('-3160546408555080113');" style="">  76     public void testDatabaseUpgrade3to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  77         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  78         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  79                                                                                                          </span>
<span class="7281318093140205120" onmouseenter="enter('7281318093140205120');" onmouseout="out('7281318093140205120');" style="">  80         JobOpenHelper3 openHelper = new JobOpenHelper3(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  81         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  82         createJobs(openHelper, true);                                                                    </span>
<span  style="">  83                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  84         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85     }                                                                                                    </span>
<span  style="">  86                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  87     @Test                                                                                                </span>
<span class="-19963943434937844" onmouseenter="enter('-19963943434937844');" onmouseout="out('-19963943434937844');" style="">  88     public void testDatabaseUpgrade4to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  89         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  90         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  91                                                                                                          </span>
<span class="-7369878075977677253" onmouseenter="enter('-7369878075977677253');" onmouseout="out('-7369878075977677253');" style="">  92         JobOpenHelper4 openHelper = new JobOpenHelper4(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  93         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  94         createJobs(openHelper, true);                                                                    </span>
<span  style="">  95                                                                                                          </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="">  96         checkJob(context);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  97     }                                                                                                    </span>
<span  style="">  98                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  99     @Test                                                                                                </span>
<span class="4342590854049753233" onmouseenter="enter('4342590854049753233');" onmouseout="out('4342590854049753233');" style=""> 100     public void testDatabaseUpgrade1to2to3to4to5() {                                                     </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style=""> 101         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style=""> 102         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style=""> 103                                                                                                          </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style=""> 104         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style=""> 105         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style=""> 106         createJobs(openHelper);                                                                          </span>
<span  style=""> 107                                                                                                          </span>
<span class="-3107998161269137207" onmouseenter="enter('-3107998161269137207');" onmouseout="out('-3107998161269137207');" style=""> 108         createDatabase(new JobOpenHelper2(context), true);                                               </span>
<span class="4645358894871562455" onmouseenter="enter('4645358894871562455');" onmouseout="out('4645358894871562455');" style=""> 109         createDatabase(new JobOpenHelper3(context), true);                                               </span>
<span class="-2502534324441419643" onmouseenter="enter('-2502534324441419643');" onmouseout="out('-2502534324441419643');" style=""> 110         createDatabase(new JobOpenHelper4(context), true);                                               </span>
<span  style=""> 111                                                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style=""> 112         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113     }                                                                                                    </span>
<span  style=""> 114                                                                                                          </span>
<span class="6996371434327522485" onmouseenter="enter('6996371434327522485');" onmouseout="out('6996371434327522485');" style=""> 115     private void createDatabase(UpgradeAbleJobOpenHelper openHelper, boolean checkUpgraded) {            </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 116         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span class="1002365188655809485" onmouseenter="enter('1002365188655809485');" onmouseout="out('1002365188655809485');" style=""> 117         assertThat(openHelper.mDatabaseCreated).isTrue();                                                </span>
<span class="5166310250829210071" onmouseenter="enter('5166310250829210071');" onmouseout="out('5166310250829210071');" style=""> 118         if (checkUpgraded) {                                                                             </span>
<span class="-3244344157917592976" onmouseenter="enter('-3244344157917592976');" onmouseout="out('-3244344157917592976');" style=""> 119             assertThat(openHelper.mDatabaseUpgraded).isTrue();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120         }                                                                                                </span>
<span  style=""> 121                                                                                                          </span>
<span class="-6329634734205163657" onmouseenter="enter('-6329634734205163657');" onmouseout="out('-6329634734205163657');" style=""> 122         database.close();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="-5806806091316944782" onmouseenter="enter('-5806806091316944782');" onmouseout="out('-5806806091316944782');" style=""> 125     private void createJobs(UpgradeAbleJobOpenHelper openHelper) {                                       </span>
<span class="-2069402450894332507" onmouseenter="enter('-2069402450894332507');" onmouseout="out('-2069402450894332507');" style=""> 126         createJobs(openHelper, false);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127     }                                                                                                    </span>
<span  style=""> 128                                                                                                          </span>
<span class="5336641715889036266" onmouseenter="enter('5336641715889036266');" onmouseout="out('5336641715889036266');" style=""> 129     private void createJobs(UpgradeAbleJobOpenHelper openHelper, boolean validInterval) {                </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 130         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span  style=""> 131                                                                                                          </span>
<span class="7171102425007369702" onmouseenter="enter('7171102425007369702');" onmouseout="out('7171102425007369702');" style=""> 132         ContentValues contentValues = openHelper.createBaseContentValues(1);                             </span>
<span class="7771213206953710758" onmouseenter="enter('7771213206953710758');" onmouseout="out('7771213206953710758');" style=""> 133         contentValues.put(JobStorage.COLUMN_START_MS, 60_000L);                                          </span>
<span class="-2958262627274538915" onmouseenter="enter('-2958262627274538915');" onmouseout="out('-2958262627274538915');" style=""> 134         contentValues.put(JobStorage.COLUMN_END_MS, 120_000L);                                           </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 135         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 136                                                                                                          </span>
<span class="-4763591133775733762" onmouseenter="enter('-4763591133775733762');" onmouseout="out('-4763591133775733762');" style=""> 137         contentValues = openHelper.createBaseContentValues(2);                                           </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 138         if (validInterval) {                                                                             </span>
<span class="8024022385027275123" onmouseenter="enter('8024022385027275123');" onmouseout="out('8024022385027275123');" style=""> 139             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                   </span>
<span class="689648826546990857" onmouseenter="enter('689648826546990857');" onmouseout="out('689648826546990857');" style=""> 140             contentValues.put(JobStorage.COLUMN_FLEX_MS, JobRequest.MIN_INTERVAL);                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 141         } else {                                                                                         </span>
<span class="4648150240998657893" onmouseenter="enter('4648150240998657893');" onmouseout="out('4648150240998657893');" style=""> 142             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 60_000L);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 144         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 145                                                                                                          </span>
<span class="-8658084289334702477" onmouseenter="enter('-8658084289334702477');" onmouseout="out('-8658084289334702477');" style=""> 146         contentValues = openHelper.createBaseContentValues(3);                                           </span>
<span class="-4361020577578448843" onmouseenter="enter('-4361020577578448843');" onmouseout="out('-4361020577578448843');" style=""> 147         contentValues.put(JobStorage.COLUMN_INTERVAL_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 148         if (validInterval) {                                                                             </span>
<span class="-9019177920160815678" onmouseenter="enter('-9019177920160815678');" onmouseout="out('-9019177920160815678');" style=""> 149             contentValues.put(JobStorage.COLUMN_FLEX_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 151         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152     }                                                                                                    </span>
<span  style=""> 153                                                                                                          </span>
<span class="4372419731471540784" onmouseenter="enter('4372419731471540784');" onmouseout="out('4372419731471540784');" style=""> 154     private void checkJob() {                                                                            </span>
<span class="-8433167734264440802" onmouseenter="enter('-8433167734264440802');" onmouseout="out('-8433167734264440802');" style=""> 155         createManager().addJobCreator(new JobCreator() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156             @Override                                                                                    </span>
<span class="7413085031269617882" onmouseenter="enter('7413085031269617882');" onmouseout="out('7413085031269617882');" style=""> 157             public Job create(String tag) {                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 158                 return null;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 160         });                                                                                              </span>
<span  style=""> 161                                                                                                          </span>
<span class="7044483502815593372" onmouseenter="enter('7044483502815593372');" onmouseout="out('7044483502815593372');" style=""> 162         assertThat(JobManager.instance().getAllJobRequests()).hasSize(3);                                </span>
<span  style=""> 163                                                                                                          </span>
<span class="-6367395240800644145" onmouseenter="enter('-6367395240800644145');" onmouseout="out('-6367395240800644145');" style=""> 164         JobRequest jobRequest = JobManager.instance().getJobRequest(1);                                  </span>
<span class="331370784387769176" onmouseenter="enter('331370784387769176');" onmouseout="out('331370784387769176');" style=""> 165         assertThat(jobRequest.isPeriodic()).isFalse();                                                   </span>
<span class="-3828796550181305296" onmouseenter="enter('-3828796550181305296');" onmouseout="out('-3828796550181305296');" style=""> 166         assertThat(jobRequest.getStartMs()).isEqualTo(60_000L);                                          </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 167         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 168                                                                                                          </span>
<span class="-5488923739101217751" onmouseenter="enter('-5488923739101217751');" onmouseout="out('-5488923739101217751');" style=""> 169         jobRequest = JobManager.instance().getJobRequest(2);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 170         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="-7082813526874644872" onmouseenter="enter('-7082813526874644872');" onmouseout="out('-7082813526874644872');" style=""> 171         assertThat(jobRequest.getIntervalMs()).isEqualTo(JobRequest.MIN_INTERVAL);                       </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 172         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 173         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 174                                                                                                          </span>
<span class="7648225341830685156" onmouseenter="enter('7648225341830685156');" onmouseout="out('7648225341830685156');" style=""> 175         jobRequest = JobManager.instance().getJobRequest(3);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 176         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="5459243978202920276" onmouseenter="enter('5459243978202920276');" onmouseout="out('5459243978202920276');" style=""> 177         assertThat(jobRequest.getIntervalMs()).isEqualTo(TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 178         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 179         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 180         assertThat(jobRequest.isTransient()).isFalse();                                                  </span>
<span  style=""> 181                                                                                                          </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 182         JobManager.instance().cancelAll();                                                               </span>
<span  style=""> 183                                                                                                          </span>
<span class="2697577271181147250" onmouseenter="enter('2697577271181147250');" onmouseout="out('2697577271181147250');" style=""> 184         int jobId = new JobRequest.Builder(&quot;Tag&quot;)                                                        </span>
<span class="4020395291710759937" onmouseenter="enter('4020395291710759937');" onmouseout="out('4020395291710759937');" style=""> 185                 .setExact(90_000L)                                                                       </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 186                 .build()                                                                                 </span>
<span class="3259220377266979687" onmouseenter="enter('3259220377266979687');" onmouseout="out('3259220377266979687');" style=""> 187                 .schedule();                                                                             </span>
<span  style=""> 188                                                                                                          </span>
<span class="7322178915735505083" onmouseenter="enter('7322178915735505083');" onmouseout="out('7322178915735505083');" style=""> 189         assertThat(JobManager.instance().getAllJobRequests()).hasSize(1);                                </span>
<span  style=""> 190                                                                                                          </span>
<span class="6933301837681511298" onmouseenter="enter('6933301837681511298');" onmouseout="out('6933301837681511298');" style=""> 191         jobRequest = JobManager.instance().getJobRequest(jobId);                                         </span>
<span class="4815077590101432110" onmouseenter="enter('4815077590101432110');" onmouseout="out('4815077590101432110');" style=""> 192         assertThat(jobRequest).isNotNull();                                                              </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 193         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span  style=""> 194                                                                                                          </span>
<span class="4792505667470091646" onmouseenter="enter('4792505667470091646');" onmouseout="out('4792505667470091646');" style=""> 195         jobRequest.setStarted(true);                                                                     </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 196         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="4628956969663746019" onmouseenter="enter('4628956969663746019');" onmouseout="out('4628956969663746019');" style=""> 197         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).hasSize(1);                </span>
<span  style=""> 198                                                                                                          </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 199         JobManager.instance().cancelAll();                                                               </span>
<span  style=""> 200                                                                                                          </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 201         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="-1145725383769881022" onmouseenter="enter('-1145725383769881022');" onmouseout="out('-1145725383769881022');" style=""> 202         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).isEmpty();                 </span>
<span  style=""> 203                                                                                                          </span>
<span class="3415915720659774680" onmouseenter="enter('3415915720659774680');" onmouseout="out('3415915720659774680');" style=""> 204         JobManager.instance().destroy();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205     }                                                                                                    </span>
<span  style=""> 206                                                                                                          </span>
<span class="2705734111412390911" onmouseenter="enter('2705734111412390911');" onmouseout="out('2705734111412390911');" style=""> 207     private abstract static class UpgradeAbleJobOpenHelper extends SQLiteOpenHelper {                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="-8909915190881222474" onmouseenter="enter('-8909915190881222474');" onmouseout="out('-8909915190881222474');" style=""> 209         private boolean mDatabaseCreated;                                                                </span>
<span class="3412726656047304914" onmouseenter="enter('3412726656047304914');" onmouseout="out('3412726656047304914');" style=""> 210         private boolean mDatabaseUpgraded;                                                               </span>
<span  style=""> 211                                                                                                          </span>
<span class="5056707048151623917" onmouseenter="enter('5056707048151623917');" onmouseout="out('5056707048151623917');" style=""> 212         UpgradeAbleJobOpenHelper(Context context, int version) {                                         </span>
<span class="-5473051849250841027" onmouseenter="enter('-5473051849250841027');" onmouseout="out('-5473051849250841027');" style=""> 213             super(context, DATABASE_NAME, null, version);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214         }                                                                                                </span>
<span  style=""> 215                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216         @Override                                                                                        </span>
<span class="6560321291136209336" onmouseenter="enter('6560321291136209336');" onmouseout="out('6560321291136209336');" style=""> 217         public final void onCreate(SQLiteDatabase db) {                                                  </span>
<span class="1670468275179411026" onmouseenter="enter('1670468275179411026');" onmouseout="out('1670468275179411026');" style=""> 218             onCreateInner(db);                                                                           </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 219             mDatabaseCreated = true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220         }                                                                                                </span>
<span  style=""> 221                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 223         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 224             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 225                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 226                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 227                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 228                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 229                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 230                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 231                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 232                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 233                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 234                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 235                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 236                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 237                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 238                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 239                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="6921224975730885774" onmouseenter="enter('6921224975730885774');" onmouseout="out('6921224975730885774');" style=""> 240                     + COLUMN_SCHEDULED_AT + &quot; integer);&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241         }                                                                                                </span>
<span  style=""> 242                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243         @Override                                                                                        </span>
<span class="-1105106953054202382" onmouseenter="enter('-1105106953054202382');" onmouseout="out('-1105106953054202382');" style=""> 244         public final void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {                 </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style=""> 245             while (oldVersion &lt; newVersion) {                                                            </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style=""> 246                 switch (oldVersion) {                                                                    </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style=""> 247                     case 1:                                                                              </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style=""> 248                         upgradeFrom1To2(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 249                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 250                         break;                                                                           </span>
<span class="1568233748741705754" onmouseenter="enter('1568233748741705754');" onmouseout="out('1568233748741705754');" style=""> 251                     case 2:                                                                              </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style=""> 252                         upgradeFrom2To3(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 253                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 254                         break;                                                                           </span>
<span class="6137898315495918692" onmouseenter="enter('6137898315495918692');" onmouseout="out('6137898315495918692');" style=""> 255                     case 3:                                                                              </span>
<span class="-5585272637305645377" onmouseenter="enter('-5585272637305645377');" onmouseout="out('-5585272637305645377');" style=""> 256                         upgradeFrom3To4(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 257                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 258                         break;                                                                           </span>
<span class="-8733970842389302857" onmouseenter="enter('-8733970842389302857');" onmouseout="out('-8733970842389302857');" style=""> 259                     case 4:                                                                              </span>
<span class="-8236232265808981910" onmouseenter="enter('-8236232265808981910');" onmouseout="out('-8236232265808981910');" style=""> 260                         upgradeFrom4To5(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 261                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 262                         break;                                                                           </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 263                     default:                                                                             </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style=""> 264                         throw new IllegalStateException(&quot;not implemented&quot;);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266             }                                                                                            </span>
<span  style=""> 267                                                                                                          </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 268             mDatabaseCreated = true;                                                                     </span>
<span class="-5692231938642834292" onmouseenter="enter('-5692231938642834292');" onmouseout="out('-5692231938642834292');" style=""> 269             mDatabaseUpgraded = true;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270         }                                                                                                </span>
<span  style=""> 271                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 272         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 273             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274         }                                                                                                </span>
<span  style=""> 275                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 276         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 277             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278         }                                                                                                </span>
<span  style=""> 279                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 280         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 281             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282         }                                                                                                </span>
<span  style=""> 283                                                                                                          </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 284         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 285             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286         }                                                                                                </span>
<span  style=""> 287                                                                                                          </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 288         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 289             ContentValues contentValues = new ContentValues();                                           </span>
<span class="4882308526391357089" onmouseenter="enter('4882308526391357089');" onmouseout="out('4882308526391357089');" style=""> 290             contentValues.put(JobStorage.COLUMN_ID, id);                                                 </span>
<span class="5775313243864116582" onmouseenter="enter('5775313243864116582');" onmouseout="out('5775313243864116582');" style=""> 291             contentValues.put(JobStorage.COLUMN_TAG, &quot;Tag&quot;);                                             </span>
<span  style=""> 292                                                                                                          </span>
<span class="-1397772710560816545" onmouseenter="enter('-1397772710560816545');" onmouseout="out('-1397772710560816545');" style=""> 293             contentValues.put(JobStorage.COLUMN_START_MS, -1L);                                          </span>
<span class="7859694369433916467" onmouseenter="enter('7859694369433916467');" onmouseout="out('7859694369433916467');" style=""> 294             contentValues.put(JobStorage.COLUMN_END_MS, -1L);                                            </span>
<span  style=""> 295                                                                                                          </span>
<span class="4756578937714418605" onmouseenter="enter('4756578937714418605');" onmouseout="out('4756578937714418605');" style=""> 296             contentValues.put(JobStorage.COLUMN_BACKOFF_MS, JobRequest.DEFAULT_BACKOFF_MS);              </span>
<span class="-3535108724382731015" onmouseenter="enter('-3535108724382731015');" onmouseout="out('-3535108724382731015');" style=""><abbr title=" 297             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toString());"> 297             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toStrin🔵</abbr></span>
<span  style=""> 298                                                                                                          </span>
<span class="-221873649665451798" onmouseenter="enter('-221873649665451798');" onmouseout="out('-221873649665451798');" style=""> 299             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 0L);                                        </span>
<span  style=""> 300                                                                                                          </span>
<span class="3238647053561544333" onmouseenter="enter('3238647053561544333');" onmouseout="out('3238647053561544333');" style=""> 301             contentValues.put(JobStorage.COLUMN_REQUIREMENTS_ENFORCED, false);                           </span>
<span class="4163033908339933383" onmouseenter="enter('4163033908339933383');" onmouseout="out('4163033908339933383');" style=""> 302             contentValues.put(JobStorage.COLUMN_REQUIRES_CHARGING, false);                               </span>
<span class="-712540120190572793" onmouseenter="enter('-712540120190572793');" onmouseout="out('-712540120190572793');" style=""> 303             contentValues.put(JobStorage.COLUMN_REQUIRES_DEVICE_IDLE, false);                            </span>
<span class="-7823228738452576568" onmouseenter="enter('-7823228738452576568');" onmouseout="out('-7823228738452576568');" style=""> 304             contentValues.put(JobStorage.COLUMN_EXACT, false);                                           </span>
<span class="-2942693606785659568" onmouseenter="enter('-2942693606785659568');" onmouseout="out('-2942693606785659568');" style=""><abbr title=" 305             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString());"> 305             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString())🔵</abbr></span>
<span  style=""> 306                                                                                                          </span>
<span class="8168272757063627607" onmouseenter="enter('8168272757063627607');" onmouseout="out('8168272757063627607');" style=""> 307             contentValues.put(JobStorage.COLUMN_EXTRAS, new PersistableBundleCompat().saveToXml());      </span>
<span class="8466664346323995437" onmouseenter="enter('8466664346323995437');" onmouseout="out('8466664346323995437');" style=""> 308             contentValues.put(&quot;persisted&quot;, false);                                                       </span>
<span  style=""> 309                                                                                                          </span>
<span class="-7417777717518068918" onmouseenter="enter('-7417777717518068918');" onmouseout="out('-7417777717518068918');" style=""> 310             contentValues.put(JobStorage.COLUMN_NUM_FAILURES, 0);                                        </span>
<span class="7656952325648715400" onmouseenter="enter('7656952325648715400');" onmouseout="out('7656952325648715400');" style=""> 311             contentValues.put(JobStorage.COLUMN_SCHEDULED_AT, System.currentTimeMillis());               </span>
<span  style=""> 312                                                                                                          </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 313             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315     }                                                                                                    </span>
<span  style=""> 316                                                                                                          </span>
<span class="-8257407585372319397" onmouseenter="enter('-8257407585372319397');" onmouseout="out('-8257407585372319397');" style=""> 317     private static class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                               </span>
<span  style=""> 318                                                                                                          </span>
<span class="6289903625222490506" onmouseenter="enter('6289903625222490506');" onmouseout="out('6289903625222490506');" style=""> 319         JobOpenHelper1(Context context) {                                                                </span>
<span class="8899764399061602443" onmouseenter="enter('8899764399061602443');" onmouseout="out('8899764399061602443');" style=""> 320             this(context, 1);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321         }                                                                                                </span>
<span  style=""> 322                                                                                                          </span>
<span class="-8763496503173823657" onmouseenter="enter('-8763496503173823657');" onmouseout="out('-8763496503173823657');" style=""> 323         JobOpenHelper1(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 324             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325         }                                                                                                </span>
<span  style=""> 326                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 327         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 328         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 329             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 330                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 331                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 332                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 333                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 334                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 335                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 336                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 337                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 338                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 339                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 340                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 341                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 342                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 343                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 344                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="6921224975730885774" onmouseenter="enter('6921224975730885774');" onmouseout="out('6921224975730885774');" style=""> 345                     + COLUMN_SCHEDULED_AT + &quot; integer);&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347     }                                                                                                    </span>
<span  style=""> 348                                                                                                          </span>
<span class="-1799680125503209332" onmouseenter="enter('-1799680125503209332');" onmouseout="out('-1799680125503209332');" style=""> 349     private static class JobOpenHelper2 extends JobOpenHelper1 {                                         </span>
<span  style=""> 350                                                                                                          </span>
<span class="8075975699720832911" onmouseenter="enter('8075975699720832911');" onmouseout="out('8075975699720832911');" style=""> 351         JobOpenHelper2(Context context) {                                                                </span>
<span class="1744622821328669055" onmouseenter="enter('1744622821328669055');" onmouseout="out('1744622821328669055');" style=""> 352             this(context, 2);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 353         }                                                                                                </span>
<span  style=""> 354                                                                                                          </span>
<span class="-8276308285669648287" onmouseenter="enter('-8276308285669648287');" onmouseout="out('-8276308285669648287');" style=""> 355         JobOpenHelper2(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 356             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357         }                                                                                                </span>
<span  style=""> 358                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 359         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 360         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 361             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 362                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 363                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 364                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 365                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 366                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 367                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 368                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 369                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 370                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 371                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 372                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 373                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 374                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 375                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 376                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 377                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="4046566206463760837" onmouseenter="enter('4046566206463760837');" onmouseout="out('4046566206463760837');" style=""> 378                     + &quot;isTransient&quot; + &quot; integer);&quot;);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379         }                                                                                                </span>
<span  style=""> 380                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 381         @Override                                                                                        </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 382         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style=""> 383             ContentValues contentValues = super.createBaseContentValues(id);                             </span>
<span class="-1949803251226030366" onmouseenter="enter('-1949803251226030366');" onmouseout="out('-1949803251226030366');" style=""> 384             contentValues.put(&quot;isTransient&quot;, false);                                                     </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 385             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 386         }                                                                                                </span>
<span  style=""> 387                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 388         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="-3228115355492210751" onmouseenter="enter('-3228115355492210751');" onmouseout="out('-3228115355492210751');" style=""> 389             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + &quot;isTransient&quot; + &quot; integer;&quot;);  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391     }                                                                                                    </span>
<span  style=""> 392                                                                                                          </span>
<span class="8423442546840742584" onmouseenter="enter('8423442546840742584');" onmouseout="out('8423442546840742584');" style=""> 393     private static class JobOpenHelper3 extends JobOpenHelper2 {                                         </span>
<span  style=""> 394                                                                                                          </span>
<span class="-8821174099914626838" onmouseenter="enter('-8821174099914626838');" onmouseout="out('-8821174099914626838');" style=""> 395         JobOpenHelper3(Context context) {                                                                </span>
<span class="-7753533204128695670" onmouseenter="enter('-7753533204128695670');" onmouseout="out('-7753533204128695670');" style=""> 396             this(context, 3);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397         }                                                                                                </span>
<span  style=""> 398                                                                                                          </span>
<span class="-8659704277570525812" onmouseenter="enter('-8659704277570525812');" onmouseout="out('-8659704277570525812');" style=""> 399         JobOpenHelper3(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 400             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401         }                                                                                                </span>
<span  style=""> 402                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 403         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 404         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 405             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 406                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 407                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 408                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 409                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 410                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 411                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 412                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 413                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 414                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 415                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 416                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 417                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 418                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 419                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 420                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 421                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style=""> 422                     + &quot;isTransient&quot; + &quot; integer, &quot;                                                       </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 423                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="-6330248982531094647" onmouseenter="enter('-6330248982531094647');" onmouseout="out('-6330248982531094647');" style=""> 424                     + COLUMN_FLEX_SUPPORT + &quot; integer);&quot;);                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 425         }                                                                                                </span>
<span  style=""> 426                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 427         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="5260702553356851671" onmouseenter="enter('5260702553356851671');" onmouseout="out('5260702553356851671');" style=""> 428             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_MS + &quot; integer;&quot;); </span>
<span class="-3956491332147853939" onmouseenter="enter('-3956491332147853939');" onmouseout="out('-3956491332147853939');" style=""><abbr title=" 429             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer;&quot;);"> 429             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer🔵</abbr></span>
<span  style=""> 430                                                                                                          </span>
<span class="5986191296602121568" onmouseenter="enter('5986191296602121568');" onmouseout="out('5986191296602121568');" style=""> 431             // adjust interval to minimum value if necessary                                             </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 432             ContentValues contentValues = new ContentValues();                                           </span>
<span class="-8344433330599698983" onmouseenter="enter('-8344433330599698983');" onmouseout="out('-8344433330599698983');" style=""> 433             contentValues.put(COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                              </span>
<span class="-8559731467279894779" onmouseenter="enter('-8559731467279894779');" onmouseout="out('-8559731467279894779');" style=""><abbr title=" 434             db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + JobRequest.MIN_INTERVAL, new String[0]);"> 434             db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS 🔵</abbr></span>
<span  style=""> 435                                                                                                          </span>
<span class="-8691111557153291432" onmouseenter="enter('-8691111557153291432');" onmouseout="out('-8691111557153291432');" style=""><abbr title=" 436             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not required"> 436             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not 🔵</abbr></span>
<span class="-4034349801530717432" onmouseenter="enter('-4034349801530717432');" onmouseout="out('-4034349801530717432');" style=""><abbr title=" 437             db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS + &quot;;&quot;);"> 437             db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 439     }                                                                                                    </span>
<span  style=""> 440                                                                                                          </span>
<span class="-7968989855532865117" onmouseenter="enter('-7968989855532865117');" onmouseout="out('-7968989855532865117');" style=""> 441     private static class JobOpenHelper4 extends JobOpenHelper3 {                                         </span>
<span  style=""> 442                                                                                                          </span>
<span class="-8503153155224786657" onmouseenter="enter('-8503153155224786657');" onmouseout="out('-8503153155224786657');" style=""> 443         JobOpenHelper4(Context context) {                                                                </span>
<span class="-2332960594283753204" onmouseenter="enter('-2332960594283753204');" onmouseout="out('-2332960594283753204');" style=""> 444             this(context, 4);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 445         }                                                                                                </span>
<span  style=""> 446                                                                                                          </span>
<span class="178998481237037751" onmouseenter="enter('178998481237037751');" onmouseout="out('178998481237037751');" style=""> 447         JobOpenHelper4(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 448             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 449         }                                                                                                </span>
<span  style=""> 450                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 451         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 452         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 453             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 454                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 455                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 456                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 457                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 458                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 459                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 460                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 461                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 462                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 463                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 464                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 465                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 466                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style=""> 467                     + &quot;persisted&quot; + &quot; integer, &quot;                                                         </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 468                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 469                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style=""> 470                     + &quot;isTransient&quot; + &quot; integer, &quot;                                                       </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 471                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 472                     + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                 </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style=""> 473                     + COLUMN_LAST_RUN + &quot; integer);&quot;);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 474         }                                                                                                </span>
<span  style=""> 475                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 476         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="4590497324393124042" onmouseenter="enter('4590497324393124042');" onmouseout="out('4590497324393124042');" style=""> 477             db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_LAST_RUN + &quot; integer;&quot;);</span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 479     }                                                                                                    </span>
<span  style=""> 480                                                                                                          </span>
<span class="7736541084698587844" onmouseenter="enter('7736541084698587844');" onmouseout="out('7736541084698587844');" style=""> 481     private static final class JobOpenHelper5 extends JobOpenHelper4 {                                   </span>
<span  style=""> 482                                                                                                          </span>
<span class="-8943693863595448540" onmouseenter="enter('-8943693863595448540');" onmouseout="out('-8943693863595448540');" style=""> 483         JobOpenHelper5(Context context) {                                                                </span>
<span class="-1710563697557884000" onmouseenter="enter('-1710563697557884000');" onmouseout="out('-1710563697557884000');" style=""> 484             this(context, 5);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 485         }                                                                                                </span>
<span  style=""> 486                                                                                                          </span>
<span class="-676668996798949056" onmouseenter="enter('-676668996798949056');" onmouseout="out('-676668996798949056');" style=""> 487         JobOpenHelper5(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 488             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489         }                                                                                                </span>
<span  style=""> 490                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 491         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 492         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 493             db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                           </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 494                     + COLUMN_ID + &quot; integer primary key, &quot;                                               </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 495                     + COLUMN_TAG + &quot; text not null, &quot;                                                    </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 496                     + COLUMN_START_MS + &quot; integer, &quot;                                                     </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 497                     + COLUMN_END_MS + &quot; integer, &quot;                                                       </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 498                     + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                   </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 499                     + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                         </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 500                     + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                  </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 501                     + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                        </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 502                     + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                            </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 503                     + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                         </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 504                     + COLUMN_EXACT + &quot; integer, &quot;                                                        </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 505                     + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                           </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 506                     + COLUMN_EXTRAS + &quot; text, &quot;                                                          </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 507                     + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                 </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 508                     + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                 </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style=""> 509                     + COLUMN_STARTED + &quot; integer, &quot;                                                      </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 510                     + COLUMN_FLEX_MS + &quot; integer, &quot;                                                      </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 511                     + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                 </span>
<span class="-7996364189451504416" onmouseenter="enter('-7996364189451504416');" onmouseout="out('-7996364189451504416');" style=""> 512                     + COLUMN_LAST_RUN + &quot; integer, &quot;                                                     </span>
<span class="7938490355566854898" onmouseenter="enter('7938490355566854898');" onmouseout="out('7938490355566854898');" style=""> 513                     + COLUMN_TRANSIENT + &quot; integer);&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514         }                                                                                                </span>
<span  style=""> 515                                                                                                          </span>
<span class="-4064727090831863411" onmouseenter="enter('-4064727090831863411');" onmouseout="out('-4064727090831863411');" style=""> 516         @SuppressWarnings(&quot;deprecation&quot;)                                                                 </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 517         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="5876533515833489412" onmouseenter="enter('5876533515833489412');" onmouseout="out('5876533515833489412');" style=""><abbr title=" 518             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column for O"> 518             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column fo🔵</abbr></span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 519             try {                                                                                        </span>
<span class="3708563498510346203" onmouseenter="enter('3708563498510346203');" onmouseout="out('3708563498510346203');" style=""> 520                 db.beginTransaction();                                                                   </span>
<span  style=""> 521                                                                                                          </span>
<span class="653804202733814199" onmouseenter="enter('653804202733814199');" onmouseout="out('653804202733814199');" style=""> 522                 String newTable = JOB_TABLE_NAME + &quot;_new&quot;;                                               </span>
<span  style=""> 523                                                                                                          </span>
<span class="1500933729782392479" onmouseenter="enter('1500933729782392479');" onmouseout="out('1500933729782392479');" style=""> 524                 db.execSQL(&quot;create table &quot; + newTable + &quot; (&quot;                                             </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 525                         + COLUMN_ID + &quot; integer primary key, &quot;                                           </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 526                         + COLUMN_TAG + &quot; text not null, &quot;                                                </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 527                         + COLUMN_START_MS + &quot; integer, &quot;                                                 </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 528                         + COLUMN_END_MS + &quot; integer, &quot;                                                   </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 529                         + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                               </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 530                         + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                     </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 531                         + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                              </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 532                         + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                    </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 533                         + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                        </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 534                         + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                     </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 535                         + COLUMN_EXACT + &quot; integer, &quot;                                                    </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 536                         + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                       </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 537                         + COLUMN_EXTRAS + &quot; text, &quot;                                                      </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 538                         + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                             </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 539                         + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                             </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style=""> 540                         + COLUMN_STARTED + &quot; integer, &quot;                                                  </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 541                         + COLUMN_FLEX_MS + &quot; integer, &quot;                                                  </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style=""> 542                         + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                             </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style=""> 543                         + COLUMN_LAST_RUN + &quot; integer);&quot;);                                               </span>
<span  style=""> 544                                                                                                          </span>
<span class="-8381971464716532513" onmouseenter="enter('-8381971464716532513');" onmouseout="out('-8381971464716532513');" style=""> 545                 db.execSQL(&quot;INSERT INTO &quot; + newTable + &quot; SELECT &quot;                                        </span>
<span class="2145389067042699623" onmouseenter="enter('2145389067042699623');" onmouseout="out('2145389067042699623');" style=""> 546                         + COLUMN_ID + &quot;,&quot;                                                                </span>
<span class="6939904955978864372" onmouseenter="enter('6939904955978864372');" onmouseout="out('6939904955978864372');" style=""> 547                         + COLUMN_TAG + &quot;,&quot;                                                               </span>
<span class="-442352486732208073" onmouseenter="enter('-442352486732208073');" onmouseout="out('-442352486732208073');" style=""> 548                         + COLUMN_START_MS + &quot;,&quot;                                                          </span>
<span class="6290150828589848030" onmouseenter="enter('6290150828589848030');" onmouseout="out('6290150828589848030');" style=""> 549                         + COLUMN_END_MS + &quot;,&quot;                                                            </span>
<span class="3345577236192859955" onmouseenter="enter('3345577236192859955');" onmouseout="out('3345577236192859955');" style=""> 550                         + COLUMN_BACKOFF_MS + &quot;,&quot;                                                        </span>
<span class="-8415269749285188556" onmouseenter="enter('-8415269749285188556');" onmouseout="out('-8415269749285188556');" style=""> 551                         + COLUMN_BACKOFF_POLICY + &quot;,&quot;                                                    </span>
<span class="-3976989648946616616" onmouseenter="enter('-3976989648946616616');" onmouseout="out('-3976989648946616616');" style=""> 552                         + COLUMN_INTERVAL_MS + &quot;,&quot;                                                       </span>
<span class="8022630208849871608" onmouseenter="enter('8022630208849871608');" onmouseout="out('8022630208849871608');" style=""> 553                         + COLUMN_REQUIREMENTS_ENFORCED + &quot;,&quot;                                             </span>
<span class="-635309740055477727" onmouseenter="enter('-635309740055477727');" onmouseout="out('-635309740055477727');" style=""> 554                         + COLUMN_REQUIRES_CHARGING + &quot;,&quot;                                                 </span>
<span class="-2746926730324751173" onmouseenter="enter('-2746926730324751173');" onmouseout="out('-2746926730324751173');" style=""> 555                         + COLUMN_REQUIRES_DEVICE_IDLE + &quot;,&quot;                                              </span>
<span class="-1497680641671179246" onmouseenter="enter('-1497680641671179246');" onmouseout="out('-1497680641671179246');" style=""> 556                         + COLUMN_EXACT + &quot;,&quot;                                                             </span>
<span class="4955302861618904764" onmouseenter="enter('4955302861618904764');" onmouseout="out('4955302861618904764');" style=""> 557                         + COLUMN_NETWORK_TYPE + &quot;,&quot;                                                      </span>
<span class="-2679892186903178987" onmouseenter="enter('-2679892186903178987');" onmouseout="out('-2679892186903178987');" style=""> 558                         + COLUMN_EXTRAS + &quot;,&quot;                                                            </span>
<span class="8454743424027807430" onmouseenter="enter('8454743424027807430');" onmouseout="out('8454743424027807430');" style=""> 559                         + COLUMN_NUM_FAILURES + &quot;,&quot;                                                      </span>
<span class="3869399560199586063" onmouseenter="enter('3869399560199586063');" onmouseout="out('3869399560199586063');" style=""> 560                         + COLUMN_SCHEDULED_AT + &quot;,&quot;                                                      </span>
<span class="-7943762217260836564" onmouseenter="enter('-7943762217260836564');" onmouseout="out('-7943762217260836564');" style=""> 561                         + &quot;isTransient&quot; + &quot;,&quot;                                                            </span>
<span class="9219499917803729685" onmouseenter="enter('9219499917803729685');" onmouseout="out('9219499917803729685');" style=""> 562                         + COLUMN_FLEX_MS + &quot;,&quot;                                                           </span>
<span class="-5595592532529292800" onmouseenter="enter('-5595592532529292800');" onmouseout="out('-5595592532529292800');" style=""> 563                         + COLUMN_FLEX_SUPPORT + &quot;,&quot;                                                      </span>
<span class="5367222602638706075" onmouseenter="enter('5367222602638706075');" onmouseout="out('5367222602638706075');" style=""> 564                         + COLUMN_LAST_RUN + &quot; FROM &quot; + JOB_TABLE_NAME);                                  </span>
<span  style=""> 565                                                                                                          </span>
<span class="2469021147268720768" onmouseenter="enter('2469021147268720768');" onmouseout="out('2469021147268720768');" style=""> 566                 db.execSQL(&quot;DROP TABLE &quot; + JOB_TABLE_NAME);                                              </span>
<span class="7235297904850806327" onmouseenter="enter('7235297904850806327');" onmouseout="out('7235297904850806327');" style=""> 567                 db.execSQL(&quot;ALTER TABLE &quot; + newTable + &quot; RENAME TO &quot; + JOB_TABLE_NAME);                  </span>
<span  style=""> 568                                                                                                          </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style=""><abbr title=" 569                 db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);"> 569                 db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; intege🔵</abbr></span>
<span  style=""> 570                                                                                                          </span>
<span class="-999133354836642717" onmouseenter="enter('-999133354836642717');" onmouseout="out('-999133354836642717');" style=""> 571                 db.setTransactionSuccessful();                                                           </span>
<span class="9062373144943479618" onmouseenter="enter('9062373144943479618');" onmouseout="out('9062373144943479618');" style=""> 572             } finally {                                                                                  </span>
<span class="4555482193573075626" onmouseenter="enter('4555482193573075626');" onmouseout="out('4555482193573075626');" style=""> 573                 db.endTransaction();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 575         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 576     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">   1 package com.evernote.android.job;                                                                        </span>
<span  style="">   2                                                                                                          </span>
<span class="3127723864207259776" onmouseenter="enter('3127723864207259776');" onmouseout="out('3127723864207259776');" style="">   3 import android.content.ContentValues;                                                                    </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-4895155655276492102" onmouseenter="enter('-4895155655276492102');" onmouseout="out('-4895155655276492102');" style="">   5 import android.database.sqlite.SQLiteDatabase;                                                           </span>
<span class="6401548559697116088" onmouseenter="enter('6401548559697116088');" onmouseout="out('6401548559697116088');" style="">   6 import android.database.sqlite.SQLiteOpenHelper;                                                         </span>
<span class="8419433942127740102" onmouseenter="enter('8419433942127740102');" onmouseout="out('8419433942127740102');" style="">   7 import com.evernote.android.job.test.JobRobolectricTestRunner;                                           </span>
<span class="-4342977349897803725" onmouseenter="enter('-4342977349897803725');" onmouseout="out('-4342977349897803725');" style="">   8 import com.evernote.android.job.util.support.PersistableBundleCompat;                                    </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">   9 import java.util.concurrent.TimeUnit;                                                                    </span>
<span class="-7215078893573418740" onmouseenter="enter('-7215078893573418740');" onmouseout="out('-7215078893573418740');" style="">  10 import org.junit.FixMethodOrder;                                                                         </span>
<span class="-5701544841389860871" onmouseenter="enter('-5701544841389860871');" onmouseout="out('-5701544841389860871');" style="">  11 import org.junit.Test;                                                                                   </span>
<span class="2094324412011607104" onmouseenter="enter('2094324412011607104');" onmouseout="out('2094324412011607104');" style="">  12 import org.junit.runner.RunWith;                                                                         </span>
<span class="2332968182334407716" onmouseenter="enter('2332968182334407716');" onmouseout="out('2332968182334407716');" style="">  13 import org.junit.runners.MethodSorters;                                                                  </span>
<span class="-1744873477108319775" onmouseenter="enter('-1744873477108319775');" onmouseout="out('-1744873477108319775');" style="">  14 import org.robolectric.RuntimeEnvironment;                                                               </span>
<span class="603762941935801069" onmouseenter="enter('603762941935801069');" onmouseout="out('603762941935801069');" style="">  15 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_MS;                                     </span>
<span class="3833510892529474021" onmouseenter="enter('3833510892529474021');" onmouseout="out('3833510892529474021');" style="">  16 import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_POLICY;                                 </span>
<span class="4027599808755331245" onmouseenter="enter('4027599808755331245');" onmouseout="out('4027599808755331245');" style="">  17 import static com.evernote.android.job.JobStorage.COLUMN_END_MS;                                         </span>
<span class="-8680947723594007816" onmouseenter="enter('-8680947723594007816');" onmouseout="out('-8680947723594007816');" style="">  18 import static com.evernote.android.job.JobStorage.COLUMN_EXACT;                                          </span>
<span class="-3578867012232505640" onmouseenter="enter('-3578867012232505640');" onmouseout="out('-3578867012232505640');" style="">  19 import static com.evernote.android.job.JobStorage.COLUMN_EXTRAS;                                         </span>
<span class="8456540258204871098" onmouseenter="enter('8456540258204871098');" onmouseout="out('8456540258204871098');" style="">  20 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_MS;                                        </span>
<span class="3293064517228225203" onmouseenter="enter('3293064517228225203');" onmouseout="out('3293064517228225203');" style="">  21 import static com.evernote.android.job.JobStorage.COLUMN_FLEX_SUPPORT;                                   </span>
<span class="-8821316578677221936" onmouseenter="enter('-8821316578677221936');" onmouseout="out('-8821316578677221936');" style="">  22 import static com.evernote.android.job.JobStorage.COLUMN_ID;                                             </span>
<span class="6206551323139207942" onmouseenter="enter('6206551323139207942');" onmouseout="out('6206551323139207942');" style="">  23 import static com.evernote.android.job.JobStorage.COLUMN_INTERVAL_MS;                                    </span>
<span class="-2327485105636863184" onmouseenter="enter('-2327485105636863184');" onmouseout="out('-2327485105636863184');" style="">  24 import static com.evernote.android.job.JobStorage.COLUMN_LAST_RUN;                                       </span>
<span class="-2394167415022712033" onmouseenter="enter('-2394167415022712033');" onmouseout="out('-2394167415022712033');" style="">  25 import static com.evernote.android.job.JobStorage.COLUMN_NETWORK_TYPE;                                   </span>
<span class="-7819177330857045077" onmouseenter="enter('-7819177330857045077');" onmouseout="out('-7819177330857045077');" style="">  26 import static com.evernote.android.job.JobStorage.COLUMN_NUM_FAILURES;                                   </span>
<span class="-6068815646617261361" onmouseenter="enter('-6068815646617261361');" onmouseout="out('-6068815646617261361');" style="">  27 import static com.evernote.android.job.JobStorage.COLUMN_REQUIREMENTS_ENFORCED;                          </span>
<span class="-7192486015558249022" onmouseenter="enter('-7192486015558249022');" onmouseout="out('-7192486015558249022');" style="">  28 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_CHARGING;                              </span>
<span class="5011652326564991367" onmouseenter="enter('5011652326564991367');" onmouseout="out('5011652326564991367');" style="">  29 import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_DEVICE_IDLE;                           </span>
<span class="-7434777597298704644" onmouseenter="enter('-7434777597298704644');" onmouseout="out('-7434777597298704644');" style="">  30 import static com.evernote.android.job.JobStorage.COLUMN_SCHEDULED_AT;                                   </span>
<span class="-4482744345386978636" onmouseenter="enter('-4482744345386978636');" onmouseout="out('-4482744345386978636');" style="">  31 import static com.evernote.android.job.JobStorage.COLUMN_STARTED;                                        </span>
<span class="-5153747410473113617" onmouseenter="enter('-5153747410473113617');" onmouseout="out('-5153747410473113617');" style="">  32 import static com.evernote.android.job.JobStorage.COLUMN_START_MS;                                       </span>
<span class="5921810338082200242" onmouseenter="enter('5921810338082200242');" onmouseout="out('5921810338082200242');" style="">  33 import static com.evernote.android.job.JobStorage.COLUMN_TAG;                                            </span>
<span class="-3879979238284195602" onmouseenter="enter('-3879979238284195602');" onmouseout="out('-3879979238284195602');" style="">  34 import static com.evernote.android.job.JobStorage.COLUMN_TRANSIENT;                                      </span>
<span class="5451688190070547980" onmouseenter="enter('5451688190070547980');" onmouseout="out('5451688190070547980');" style="">  35 import static com.evernote.android.job.JobStorage.DATABASE_NAME;                                         </span>
<span class="6221508059079313748" onmouseenter="enter('6221508059079313748');" onmouseout="out('6221508059079313748');" style="">  36 import static com.evernote.android.job.JobStorage.JOB_TABLE_NAME;                                        </span>
<span class="6917176970756584306" onmouseenter="enter('6917176970756584306');" onmouseout="out('6917176970756584306');" style="">  37 import static org.assertj.core.api.Java6Assertions.assertThat;                                           </span>
<span  style="">  38                                                                                                          </span>
<span  style="">  39                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  40 /**                                                                                                      </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  41  * @author rwondratschek                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  42  */                                                                                                      </span>
<span class="-3724190134194100898" onmouseenter="enter('-3724190134194100898');" onmouseout="out('-3724190134194100898');" style="">  43 @RunWith(JobRobolectricTestRunner.class)                                                                 </span>
<span class="-1424498044800854742" onmouseenter="enter('-1424498044800854742');" onmouseout="out('-1424498044800854742');" style="">  44 @FixMethodOrder(MethodSorters.JVM)                                                                       </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style="">  45 @SuppressWarnings(&quot;unused&quot;)                                                                              </span>
<span class="-8750077029846275552" onmouseenter="enter('-8750077029846275552');" onmouseout="out('-8750077029846275552');" style="">  46 public class DatabaseManualUpgradeTest extends BaseJobManagerTest {                                      </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  47     @Test                                                                                                </span>
<span class="-2311703477732734729" onmouseenter="enter('-2311703477732734729');" onmouseout="out('-2311703477732734729');" style="">  48     public void testDatabaseUpgrade1to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  49         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  50         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  51         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  52         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  53         createJobs(openHelper);                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  54         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  55     }                                                                                                    </span>
<span  style="">  56                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  57     @Test                                                                                                </span>
<span class="-8693717612898478207" onmouseenter="enter('-8693717612898478207');" onmouseout="out('-8693717612898478207');" style="">  58     public void testDatabaseUpgrade2to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  59         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  60         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span class="4411649550964803937" onmouseenter="enter('4411649550964803937');" onmouseout="out('4411649550964803937');" style="">  61         JobOpenHelper2 openHelper = new JobOpenHelper2(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  62         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  63         createJobs(openHelper);                                                                          </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  64         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  65     }                                                                                                    </span>
<span  style="">  66                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  67     @Test                                                                                                </span>
<span class="-3160546408555080113" onmouseenter="enter('-3160546408555080113');" onmouseout="out('-3160546408555080113');" style="">  68     public void testDatabaseUpgrade3to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  69         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  70         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span class="7281318093140205120" onmouseenter="enter('7281318093140205120');" onmouseout="out('7281318093140205120');" style="">  71         JobOpenHelper3 openHelper = new JobOpenHelper3(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  72         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  73         createJobs(openHelper, true);                                                                    </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  74         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  75     }                                                                                                    </span>
<span  style="">  76                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  77     @Test                                                                                                </span>
<span class="-19963943434937844" onmouseenter="enter('-19963943434937844');" onmouseout="out('-19963943434937844');" style="">  78     public void testDatabaseUpgrade4to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  79         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  80         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span  style="">  81                                                                                                          </span>
<span class="-7369878075977677253" onmouseenter="enter('-7369878075977677253');" onmouseout="out('-7369878075977677253');" style="">  82         JobOpenHelper4 openHelper = new JobOpenHelper4(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  83         createDatabase(openHelper, false);                                                               </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  84         createJobs(openHelper, true);                                                                    </span>
<span  style="">  85                                                                                                          </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="">  86         checkJob(context);                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87     }                                                                                                    </span>
<span  style="">  88                                                                                                          </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  89     @Test                                                                                                </span>
<span class="4342590854049753233" onmouseenter="enter('4342590854049753233');" onmouseout="out('4342590854049753233');" style="">  90     public void testDatabaseUpgrade1to2to3to4to5() {                                                     </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  91         Context context = RuntimeEnvironment.application;                                                </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  92         context.deleteDatabase(DATABASE_NAME);                                                           </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  93         JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                         </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  94         createDatabase(openHelper, false);                                                               </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  95         createJobs(openHelper);                                                                          </span>
<span class="-3107998161269137207" onmouseenter="enter('-3107998161269137207');" onmouseout="out('-3107998161269137207');" style="">  96         createDatabase(new JobOpenHelper2(context), true);                                               </span>
<span class="4645358894871562455" onmouseenter="enter('4645358894871562455');" onmouseout="out('4645358894871562455');" style="">  97         createDatabase(new JobOpenHelper3(context), true);                                               </span>
<span class="-2502534324441419643" onmouseenter="enter('-2502534324441419643');" onmouseout="out('-2502534324441419643');" style="">  98         createDatabase(new JobOpenHelper4(context), true);                                               </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="">  99         checkJob();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100     }                                                                                                    </span>
<span  style=""> 101                                                                                                          </span>
<span class="6996371434327522485" onmouseenter="enter('6996371434327522485');" onmouseout="out('6996371434327522485');" style=""> 102     private void createDatabase(UpgradeAbleJobOpenHelper openHelper, boolean checkUpgraded) {            </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 103         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span class="1002365188655809485" onmouseenter="enter('1002365188655809485');" onmouseout="out('1002365188655809485');" style=""> 104         assertThat(openHelper.mDatabaseCreated).isTrue();                                                </span>
<span class="5166310250829210071" onmouseenter="enter('5166310250829210071');" onmouseout="out('5166310250829210071');" style=""> 105         if (checkUpgraded) {                                                                             </span>
<span class="-3244344157917592976" onmouseenter="enter('-3244344157917592976');" onmouseout="out('-3244344157917592976');" style=""> 106             assertThat(openHelper.mDatabaseUpgraded).isTrue();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 107         }                                                                                                </span>
<span  style=""> 108                                                                                                          </span>
<span class="-6329634734205163657" onmouseenter="enter('-6329634734205163657');" onmouseout="out('-6329634734205163657');" style=""> 109         database.close();                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110     }                                                                                                    </span>
<span  style=""> 111                                                                                                          </span>
<span class="-5806806091316944782" onmouseenter="enter('-5806806091316944782');" onmouseout="out('-5806806091316944782');" style=""> 112     private void createJobs(UpgradeAbleJobOpenHelper openHelper) {                                       </span>
<span class="-2069402450894332507" onmouseenter="enter('-2069402450894332507');" onmouseout="out('-2069402450894332507');" style=""> 113         createJobs(openHelper, false);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 114     }                                                                                                    </span>
<span  style=""> 115                                                                                                          </span>
<span class="5336641715889036266" onmouseenter="enter('5336641715889036266');" onmouseout="out('5336641715889036266');" style=""> 116     private void createJobs(UpgradeAbleJobOpenHelper openHelper, boolean validInterval) {                </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 117         SQLiteDatabase database = openHelper.getWritableDatabase();                                      </span>
<span  style=""> 118                                                                                                          </span>
<span class="7171102425007369702" onmouseenter="enter('7171102425007369702');" onmouseout="out('7171102425007369702');" style=""> 119         ContentValues contentValues = openHelper.createBaseContentValues(1);                             </span>
<span class="7771213206953710758" onmouseenter="enter('7771213206953710758');" onmouseout="out('7771213206953710758');" style=""> 120         contentValues.put(JobStorage.COLUMN_START_MS, 60_000L);                                          </span>
<span class="-2958262627274538915" onmouseenter="enter('-2958262627274538915');" onmouseout="out('-2958262627274538915');" style=""> 121         contentValues.put(JobStorage.COLUMN_END_MS, 120_000L);                                           </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 122         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 123                                                                                                          </span>
<span class="-4763591133775733762" onmouseenter="enter('-4763591133775733762');" onmouseout="out('-4763591133775733762');" style=""> 124         contentValues = openHelper.createBaseContentValues(2);                                           </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 125         if (validInterval) {                                                                             </span>
<span class="8024022385027275123" onmouseenter="enter('8024022385027275123');" onmouseout="out('8024022385027275123');" style=""> 126             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                   </span>
<span class="689648826546990857" onmouseenter="enter('689648826546990857');" onmouseout="out('689648826546990857');" style=""> 127             contentValues.put(JobStorage.COLUMN_FLEX_MS, JobRequest.MIN_INTERVAL);                       </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 128         } else {                                                                                         </span>
<span class="4648150240998657893" onmouseenter="enter('4648150240998657893');" onmouseout="out('4648150240998657893');" style=""> 129             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 60_000L);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 131         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span  style=""> 132                                                                                                          </span>
<span class="-8658084289334702477" onmouseenter="enter('-8658084289334702477');" onmouseout="out('-8658084289334702477');" style=""> 133         contentValues = openHelper.createBaseContentValues(3);                                           </span>
<span class="-4361020577578448843" onmouseenter="enter('-4361020577578448843');" onmouseout="out('-4361020577578448843');" style=""> 134         contentValues.put(JobStorage.COLUMN_INTERVAL_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 135         if (validInterval) {                                                                             </span>
<span class="-9019177920160815678" onmouseenter="enter('-9019177920160815678');" onmouseout="out('-9019177920160815678');" style=""> 136             contentValues.put(JobStorage.COLUMN_FLEX_MS, TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 137         }                                                                                                </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 138         database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139     }                                                                                                    </span>
<span  style=""> 140                                                                                                          </span>
<span class="4372419731471540784" onmouseenter="enter('4372419731471540784');" onmouseout="out('4372419731471540784');" style=""> 141     private void checkJob() {                                                                            </span>
<span class="-8433167734264440802" onmouseenter="enter('-8433167734264440802');" onmouseout="out('-8433167734264440802');" style=""> 142         createManager().addJobCreator(new JobCreator() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 143             @Override                                                                                    </span>
<span class="7413085031269617882" onmouseenter="enter('7413085031269617882');" onmouseout="out('7413085031269617882');" style=""> 144             public Job create(String tag) {                                                              </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 145                 return null;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 147         });                                                                                              </span>
<span class="7044483502815593372" onmouseenter="enter('7044483502815593372');" onmouseout="out('7044483502815593372');" style=""> 148         assertThat(JobManager.instance().getAllJobRequests()).hasSize(3);                                </span>
<span class="-6367395240800644145" onmouseenter="enter('-6367395240800644145');" onmouseout="out('-6367395240800644145');" style=""> 149         JobRequest jobRequest = JobManager.instance().getJobRequest(1);                                  </span>
<span class="331370784387769176" onmouseenter="enter('331370784387769176');" onmouseout="out('331370784387769176');" style=""> 150         assertThat(jobRequest.isPeriodic()).isFalse();                                                   </span>
<span class="-4071270380686857120" onmouseenter="enter('-4071270380686857120');" onmouseout="out('-4071270380686857120');" style=""> 151         assertThat(jobRequest.getStartMs()).isEqualTo(60000L);                                           </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 152         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="-5488923739101217751" onmouseenter="enter('-5488923739101217751');" onmouseout="out('-5488923739101217751');" style=""> 153         jobRequest = JobManager.instance().getJobRequest(2);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 154         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="-7082813526874644872" onmouseenter="enter('-7082813526874644872');" onmouseout="out('-7082813526874644872');" style=""> 155         assertThat(jobRequest.getIntervalMs()).isEqualTo(JobRequest.MIN_INTERVAL);                       </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 156         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 157         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="7648225341830685156" onmouseenter="enter('7648225341830685156');" onmouseout="out('7648225341830685156');" style=""> 158         jobRequest = JobManager.instance().getJobRequest(3);                                             </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 159         assertThat(jobRequest.isPeriodic()).isTrue();                                                    </span>
<span class="5459243978202920276" onmouseenter="enter('5459243978202920276');" onmouseout="out('5459243978202920276');" style=""> 160         assertThat(jobRequest.getIntervalMs()).isEqualTo(TimeUnit.MINUTES.toMillis(20));                 </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 161         assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                        </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 162         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 163         assertThat(jobRequest.isTransient()).isFalse();                                                  </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 164         JobManager.instance().cancelAll();                                                               </span>
<span class="-6949235107625234665" onmouseenter="enter('-6949235107625234665');" onmouseout="out('-6949235107625234665');" style=""> 165         int jobId = new JobRequest.Builder(&quot;Tag&quot;).setExact(90000L).build().schedule();                   </span>
<span class="7322178915735505083" onmouseenter="enter('7322178915735505083');" onmouseout="out('7322178915735505083');" style=""> 166         assertThat(JobManager.instance().getAllJobRequests()).hasSize(1);                                </span>
<span class="6933301837681511298" onmouseenter="enter('6933301837681511298');" onmouseout="out('6933301837681511298');" style=""> 167         jobRequest = JobManager.instance().getJobRequest(jobId);                                         </span>
<span class="4815077590101432110" onmouseenter="enter('4815077590101432110');" onmouseout="out('4815077590101432110');" style=""> 168         assertThat(jobRequest).isNotNull();                                                              </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style=""> 169         assertThat(jobRequest.isStarted()).isFalse();                                                    </span>
<span class="4792505667470091646" onmouseenter="enter('4792505667470091646');" onmouseout="out('4792505667470091646');" style=""> 170         jobRequest.setStarted(true);                                                                     </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 171         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="4628956969663746019" onmouseenter="enter('4628956969663746019');" onmouseout="out('4628956969663746019');" style=""> 172         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).hasSize(1);                </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 173         JobManager.instance().cancelAll();                                                               </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 174         assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                 </span>
<span class="-1145725383769881022" onmouseenter="enter('-1145725383769881022');" onmouseout="out('-1145725383769881022');" style=""> 175         assertThat(JobManager.instance().getAllJobRequests(null, true, true)).isEmpty();                 </span>
<span class="3415915720659774680" onmouseenter="enter('3415915720659774680');" onmouseout="out('3415915720659774680');" style=""> 176         JobManager.instance().destroy();                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177     }                                                                                                    </span>
<span  style=""> 178                                                                                                          </span>
<span class="7422487191226974222" onmouseenter="enter('7422487191226974222');" onmouseout="out('7422487191226974222');" style=""> 179     private static abstract class UpgradeAbleJobOpenHelper extends SQLiteOpenHelper {                    </span>
<span class="-8909915190881222474" onmouseenter="enter('-8909915190881222474');" onmouseout="out('-8909915190881222474');" style=""> 180         private boolean mDatabaseCreated;                                                                </span>
<span  style=""> 181                                                                                                          </span>
<span class="3412726656047304914" onmouseenter="enter('3412726656047304914');" onmouseout="out('3412726656047304914');" style=""> 182         private boolean mDatabaseUpgraded;                                                               </span>
<span  style=""> 183                                                                                                          </span>
<span class="5056707048151623917" onmouseenter="enter('5056707048151623917');" onmouseout="out('5056707048151623917');" style=""> 184         UpgradeAbleJobOpenHelper(Context context, int version) {                                         </span>
<span class="-5473051849250841027" onmouseenter="enter('-5473051849250841027');" onmouseout="out('-5473051849250841027');" style=""> 185             super(context, DATABASE_NAME, null, version);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186         }                                                                                                </span>
<span  style=""> 187                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 188         @Override                                                                                        </span>
<span class="6560321291136209336" onmouseenter="enter('6560321291136209336');" onmouseout="out('6560321291136209336');" style=""> 189         public final void onCreate(SQLiteDatabase db) {                                                  </span>
<span class="1670468275179411026" onmouseenter="enter('1670468275179411026');" onmouseout="out('1670468275179411026');" style=""> 190             onCreateInner(db);                                                                           </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 191             mDatabaseCreated = true;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192         }                                                                                                </span>
<span  style=""> 193                                                                                                          </span>
<span class="-2143216386073375288" onmouseenter="enter('-2143216386073375288');" onmouseout="out('-2143216386073375288');" style=""> 194         protected abstract void onCreateInner(SQLiteDatabase db);                                        </span>
<span  style=""> 195                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196         @Override                                                                                        </span>
<span class="-1105106953054202382" onmouseenter="enter('-1105106953054202382');" onmouseout="out('-1105106953054202382');" style=""> 197         public final void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {                 </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style=""> 198             while (oldVersion &lt; newVersion) {                                                            </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style=""> 199                 switch (oldVersion) {                                                                    </span>
<span class="-2252988249847817726" onmouseenter="enter('-2252988249847817726');" onmouseout="out('-2252988249847817726');" style=""> 200                     case 1 :                                                                             </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style=""> 201                         upgradeFrom1To2(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 202                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 203                         break;                                                                           </span>
<span class="3919028143026302499" onmouseenter="enter('3919028143026302499');" onmouseout="out('3919028143026302499');" style=""> 204                     case 2 :                                                                             </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style=""> 205                         upgradeFrom2To3(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 206                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 207                         break;                                                                           </span>
<span class="-5254879508443865274" onmouseenter="enter('-5254879508443865274');" onmouseout="out('-5254879508443865274');" style=""> 208                     case 3 :                                                                             </span>
<span class="-5585272637305645377" onmouseenter="enter('-5585272637305645377');" onmouseout="out('-5585272637305645377');" style=""> 209                         upgradeFrom3To4(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 210                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 211                         break;                                                                           </span>
<span class="-5081362393561879617" onmouseenter="enter('-5081362393561879617');" onmouseout="out('-5081362393561879617');" style=""> 212                     case 4 :                                                                             </span>
<span class="-8236232265808981910" onmouseenter="enter('-8236232265808981910');" onmouseout="out('-8236232265808981910');" style=""> 213                         upgradeFrom4To5(db);                                                             </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 214                         oldVersion++;                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 215                         break;                                                                           </span>
<span class="3050734735710613783" onmouseenter="enter('3050734735710613783');" onmouseout="out('3050734735710613783');" style=""> 216                     default :                                                                            </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style=""> 217                         throw new IllegalStateException(&quot;not implemented&quot;);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219             }                                                                                            </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 220             mDatabaseCreated = true;                                                                     </span>
<span class="-5692231938642834292" onmouseenter="enter('-5692231938642834292');" onmouseout="out('-5692231938642834292');" style=""> 221             mDatabaseUpgraded = true;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222         }                                                                                                </span>
<span  style=""> 223                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 224         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 225             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226         }                                                                                                </span>
<span  style=""> 227                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 228         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 229             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230         }                                                                                                </span>
<span  style=""> 231                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 232         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 233             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234         }                                                                                                </span>
<span  style=""> 235                                                                                                          </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 236         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style=""> 237             // override me                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238         }                                                                                                </span>
<span  style=""> 239                                                                                                          </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 240         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 241             ContentValues contentValues = new ContentValues();                                           </span>
<span class="4882308526391357089" onmouseenter="enter('4882308526391357089');" onmouseout="out('4882308526391357089');" style=""> 242             contentValues.put(JobStorage.COLUMN_ID, id);                                                 </span>
<span class="5775313243864116582" onmouseenter="enter('5775313243864116582');" onmouseout="out('5775313243864116582');" style=""> 243             contentValues.put(JobStorage.COLUMN_TAG, &quot;Tag&quot;);                                             </span>
<span class="-1397772710560816545" onmouseenter="enter('-1397772710560816545');" onmouseout="out('-1397772710560816545');" style=""> 244             contentValues.put(JobStorage.COLUMN_START_MS, -1L);                                          </span>
<span class="7859694369433916467" onmouseenter="enter('7859694369433916467');" onmouseout="out('7859694369433916467');" style=""> 245             contentValues.put(JobStorage.COLUMN_END_MS, -1L);                                            </span>
<span class="4756578937714418605" onmouseenter="enter('4756578937714418605');" onmouseout="out('4756578937714418605');" style=""> 246             contentValues.put(JobStorage.COLUMN_BACKOFF_MS, JobRequest.DEFAULT_BACKOFF_MS);              </span>
<span class="-3535108724382731015" onmouseenter="enter('-3535108724382731015');" onmouseout="out('-3535108724382731015');" style=""><abbr title=" 247             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toString());"> 247             contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toStrin🔵</abbr></span>
<span class="-221873649665451798" onmouseenter="enter('-221873649665451798');" onmouseout="out('-221873649665451798');" style=""> 248             contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 0L);                                        </span>
<span class="3238647053561544333" onmouseenter="enter('3238647053561544333');" onmouseout="out('3238647053561544333');" style=""> 249             contentValues.put(JobStorage.COLUMN_REQUIREMENTS_ENFORCED, false);                           </span>
<span class="4163033908339933383" onmouseenter="enter('4163033908339933383');" onmouseout="out('4163033908339933383');" style=""> 250             contentValues.put(JobStorage.COLUMN_REQUIRES_CHARGING, false);                               </span>
<span class="-712540120190572793" onmouseenter="enter('-712540120190572793');" onmouseout="out('-712540120190572793');" style=""> 251             contentValues.put(JobStorage.COLUMN_REQUIRES_DEVICE_IDLE, false);                            </span>
<span class="-7823228738452576568" onmouseenter="enter('-7823228738452576568');" onmouseout="out('-7823228738452576568');" style=""> 252             contentValues.put(JobStorage.COLUMN_EXACT, false);                                           </span>
<span class="-2942693606785659568" onmouseenter="enter('-2942693606785659568');" onmouseout="out('-2942693606785659568');" style=""><abbr title=" 253             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString());"> 253             contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString())🔵</abbr></span>
<span class="8168272757063627607" onmouseenter="enter('8168272757063627607');" onmouseout="out('8168272757063627607');" style=""> 254             contentValues.put(JobStorage.COLUMN_EXTRAS, new PersistableBundleCompat().saveToXml());      </span>
<span class="8466664346323995437" onmouseenter="enter('8466664346323995437');" onmouseout="out('8466664346323995437');" style=""> 255             contentValues.put(&quot;persisted&quot;, false);                                                       </span>
<span class="-7417777717518068918" onmouseenter="enter('-7417777717518068918');" onmouseout="out('-7417777717518068918');" style=""> 256             contentValues.put(JobStorage.COLUMN_NUM_FAILURES, 0);                                        </span>
<span class="7656952325648715400" onmouseenter="enter('7656952325648715400');" onmouseout="out('7656952325648715400');" style=""> 257             contentValues.put(JobStorage.COLUMN_SCHEDULED_AT, System.currentTimeMillis());               </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 258             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 260     }                                                                                                    </span>
<span  style=""> 261                                                                                                          </span>
<span class="-8257407585372319397" onmouseenter="enter('-8257407585372319397');" onmouseout="out('-8257407585372319397');" style=""> 262     private static class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                               </span>
<span class="6289903625222490506" onmouseenter="enter('6289903625222490506');" onmouseout="out('6289903625222490506');" style=""> 263         JobOpenHelper1(Context context) {                                                                </span>
<span class="8899764399061602443" onmouseenter="enter('8899764399061602443');" onmouseout="out('8899764399061602443');" style=""> 264             this(context, 1);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265         }                                                                                                </span>
<span  style=""> 266                                                                                                          </span>
<span class="-8763496503173823657" onmouseenter="enter('-8763496503173823657');" onmouseout="out('-8763496503173823657');" style=""> 267         JobOpenHelper1(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 268             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269         }                                                                                                </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 272         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="2347874961083414339" onmouseenter="enter('2347874961083414339');" onmouseout="out('2347874961083414339');" style=""><abbr title=" 273             db.execSQL((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + &quot;persisted&quot;) + &quot; integer, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer);&quot;);"> 273             db.execSQL((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUM🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275     }                                                                                                    </span>
<span  style=""> 276                                                                                                          </span>
<span class="-1799680125503209332" onmouseenter="enter('-1799680125503209332');" onmouseout="out('-1799680125503209332');" style=""> 277     private static class JobOpenHelper2 extends JobOpenHelper1 {                                         </span>
<span class="8075975699720832911" onmouseenter="enter('8075975699720832911');" onmouseout="out('8075975699720832911');" style=""> 278         JobOpenHelper2(Context context) {                                                                </span>
<span class="1744622821328669055" onmouseenter="enter('1744622821328669055');" onmouseout="out('1744622821328669055');" style=""> 279             this(context, 2);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 280         }                                                                                                </span>
<span  style=""> 281                                                                                                          </span>
<span class="-8276308285669648287" onmouseenter="enter('-8276308285669648287');" onmouseout="out('-8276308285669648287');" style=""> 282         JobOpenHelper2(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 283             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284         }                                                                                                </span>
<span  style=""> 285                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 286         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 287         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="1050246087644194446" onmouseenter="enter('1050246087644194446');" onmouseout="out('1050246087644194446');" style=""><abbr title=" 288             db.execSQL((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + &quot;persisted&quot;) + &quot; integer, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer, &quot;) + &quot;isTransient&quot;) + &quot; integer);&quot;);"> 288             db.execSQL((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COL🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289         }                                                                                                </span>
<span  style=""> 290                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 291         @Override                                                                                        </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 292         protected ContentValues createBaseContentValues(int id) {                                        </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style=""> 293             ContentValues contentValues = super.createBaseContentValues(id);                             </span>
<span class="-1949803251226030366" onmouseenter="enter('-1949803251226030366');" onmouseout="out('-1949803251226030366');" style=""> 294             contentValues.put(&quot;isTransient&quot;, false);                                                     </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 295             return contentValues;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 296         }                                                                                                </span>
<span  style=""> 297                                                                                                          </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style=""> 298         protected void upgradeFrom1To2(SQLiteDatabase db) {                                              </span>
<span class="6437848267170474909" onmouseenter="enter('6437848267170474909');" onmouseout="out('6437848267170474909');" style=""><abbr title=" 299             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + &quot;isTransient&quot;) + &quot; integer;&quot;);"> 299             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + &quot;isTransient&quot;) + &quot; integer🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 300         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 301     }                                                                                                    </span>
<span  style=""> 302                                                                                                          </span>
<span class="8423442546840742584" onmouseenter="enter('8423442546840742584');" onmouseout="out('8423442546840742584');" style=""> 303     private static class JobOpenHelper3 extends JobOpenHelper2 {                                         </span>
<span class="-8821174099914626838" onmouseenter="enter('-8821174099914626838');" onmouseout="out('-8821174099914626838');" style=""> 304         JobOpenHelper3(Context context) {                                                                </span>
<span class="-7753533204128695670" onmouseenter="enter('-7753533204128695670');" onmouseout="out('-7753533204128695670');" style=""> 305             this(context, 3);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306         }                                                                                                </span>
<span  style=""> 307                                                                                                          </span>
<span class="-8659704277570525812" onmouseenter="enter('-8659704277570525812');" onmouseout="out('-8659704277570525812');" style=""> 308         JobOpenHelper3(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 309             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310         }                                                                                                </span>
<span  style=""> 311                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 312         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 313         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="7230143999461257563" onmouseenter="enter('7230143999461257563');" onmouseout="out('7230143999461257563');" style=""><abbr title=" 314             db.execSQL((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + &quot;persisted&quot;) + &quot; integer, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer, &quot;) + &quot;isTransient&quot;) + &quot; integer, &quot;) + COLUMN_FLEX_MS) + &quot; integer, &quot;) + COLUMN_FLEX_SUPPORT) + &quot; integer);&quot;);"> 314             db.execSQL((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) +🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315         }                                                                                                </span>
<span  style=""> 316                                                                                                          </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style=""> 317         protected void upgradeFrom2To3(SQLiteDatabase db) {                                              </span>
<span class="-3885968394130711084" onmouseenter="enter('-3885968394130711084');" onmouseout="out('-3885968394130711084');" style=""><abbr title=" 318             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_FLEX_MS) + &quot; integer;&quot;);"> 318             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_FLEX_MS) + &quot; intege🔵</abbr></span>
<span class="3152389901803523001" onmouseenter="enter('3152389901803523001');" onmouseout="out('3152389901803523001');" style=""><abbr title=" 319             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_FLEX_SUPPORT) + &quot; integer;&quot;);"> 319             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_FLEX_SUPPORT) + &quot; i🔵</abbr></span>
<span class="5986191296602121568" onmouseenter="enter('5986191296602121568');" onmouseout="out('5986191296602121568');" style=""> 320             // adjust interval to minimum value if necessary                                             </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 321             ContentValues contentValues = new ContentValues();                                           </span>
<span class="-8344433330599698983" onmouseenter="enter('-8344433330599698983');" onmouseout="out('-8344433330599698983');" style=""> 322             contentValues.put(COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                              </span>
<span class="-264822035693982062" onmouseenter="enter('-264822035693982062');" onmouseout="out('-264822035693982062');" style=""><abbr title=" 323             db.update(JOB_TABLE_NAME, contentValues, (((COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot;) + COLUMN_INTERVAL_MS) + &quot;&lt;&quot;) + JobRequest.MIN_INTERVAL, new String[0]);"> 323             db.update(JOB_TABLE_NAME, contentValues, (((COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot;) + COLUMN_INTERVAL🔵</abbr></span>
<span class="-8691111557153291432" onmouseenter="enter('-8691111557153291432');" onmouseout="out('-8691111557153291432');" style=""><abbr title=" 324             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not required"> 324             // copy interval into flex column, that&#x27;s the default value and the flex support mode is not 🔵</abbr></span>
<span class="8235637038299988561" onmouseenter="enter('8235637038299988561');" onmouseout="out('8235637038299988561');" style=""><abbr title=" 325             db.execSQL((((((&quot;update &quot; + JOB_TABLE_NAME) + &quot; set &quot;) + COLUMN_FLEX_MS) + &quot; = &quot;) + COLUMN_INTERVAL_MS) + &quot;;&quot;);"> 325             db.execSQL((((((&quot;update &quot; + JOB_TABLE_NAME) + &quot; set &quot;) + COLUMN_FLEX_MS) + &quot; = &quot;) + COLUMN_IN🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span  style=""> 328                                                                                                          </span>
<span class="-7968989855532865117" onmouseenter="enter('-7968989855532865117');" onmouseout="out('-7968989855532865117');" style=""> 329     private static class JobOpenHelper4 extends JobOpenHelper3 {                                         </span>
<span class="-8503153155224786657" onmouseenter="enter('-8503153155224786657');" onmouseout="out('-8503153155224786657');" style=""> 330         JobOpenHelper4(Context context) {                                                                </span>
<span class="-2332960594283753204" onmouseenter="enter('-2332960594283753204');" onmouseout="out('-2332960594283753204');" style=""> 331             this(context, 4);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332         }                                                                                                </span>
<span  style=""> 333                                                                                                          </span>
<span class="178998481237037751" onmouseenter="enter('178998481237037751');" onmouseout="out('178998481237037751');" style=""> 334         JobOpenHelper4(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 335             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336         }                                                                                                </span>
<span  style=""> 337                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 338         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 339         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="2913188927618356520" onmouseenter="enter('2913188927618356520');" onmouseout="out('2913188927618356520');" style=""><abbr title=" 340             db.execSQL((((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + &quot;persisted&quot;) + &quot; integer, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer, &quot;) + &quot;isTransient&quot;) + &quot; integer, &quot;) + COLUMN_FLEX_MS) + &quot; integer, &quot;) + COLUMN_FLEX_SUPPORT) + &quot; integer, &quot;) + COLUMN_LAST_RUN) + &quot; integer);&quot;);"> 340             db.execSQL((((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;)🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341         }                                                                                                </span>
<span  style=""> 342                                                                                                          </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style=""> 343         protected void upgradeFrom3To4(SQLiteDatabase db) {                                              </span>
<span class="2885332190938638761" onmouseenter="enter('2885332190938638761');" onmouseout="out('2885332190938638761');" style=""><abbr title=" 344             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_LAST_RUN) + &quot; integer;&quot;);"> 344             db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_LAST_RUN) + &quot; integ🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346     }                                                                                                    </span>
<span  style=""> 347                                                                                                          </span>
<span class="7736541084698587844" onmouseenter="enter('7736541084698587844');" onmouseout="out('7736541084698587844');" style=""> 348     private static final class JobOpenHelper5 extends JobOpenHelper4 {                                   </span>
<span class="-8943693863595448540" onmouseenter="enter('-8943693863595448540');" onmouseout="out('-8943693863595448540');" style=""> 349         JobOpenHelper5(Context context) {                                                                </span>
<span class="-1710563697557884000" onmouseenter="enter('-1710563697557884000');" onmouseout="out('-1710563697557884000');" style=""> 350             this(context, 5);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351         }                                                                                                </span>
<span  style=""> 352                                                                                                          </span>
<span class="-676668996798949056" onmouseenter="enter('-676668996798949056');" onmouseout="out('-676668996798949056');" style=""> 353         JobOpenHelper5(Context context, int version) {                                                   </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style=""> 354             super(context, version);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355         }                                                                                                </span>
<span  style=""> 356                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 357         @Override                                                                                        </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 358         public void onCreateInner(SQLiteDatabase db) {                                                   </span>
<span class="-1752316624515142436" onmouseenter="enter('-1752316624515142436');" onmouseout="out('-1752316624515142436');" style=""><abbr title=" 359             db.execSQL((((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer, &quot;) + COLUMN_STARTED) + &quot; integer, &quot;) + COLUMN_FLEX_MS) + &quot; integer, &quot;) + COLUMN_FLEX_SUPPORT) + &quot; integer, &quot;) + COLUMN_LAST_RUN) + &quot; integer, &quot;) + COLUMN_TRANSIENT) + &quot; integer);&quot;);"> 359             db.execSQL((((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + JOB_TABLE_NAME) + &quot; (&quot;)🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360         }                                                                                                </span>
<span  style=""> 361                                                                                                          </span>
<span class="-4064727090831863411" onmouseenter="enter('-4064727090831863411');" onmouseout="out('-4064727090831863411');" style=""> 362         @SuppressWarnings(&quot;deprecation&quot;)                                                                 </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style=""> 363         protected void upgradeFrom4To5(SQLiteDatabase db) {                                              </span>
<span class="5876533515833489412" onmouseenter="enter('5876533515833489412');" onmouseout="out('5876533515833489412');" style=""><abbr title=" 364             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column for O"> 364             // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column fo🔵</abbr></span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 365             try {                                                                                        </span>
<span class="3708563498510346203" onmouseenter="enter('3708563498510346203');" onmouseout="out('3708563498510346203');" style=""> 366                 db.beginTransaction();                                                                   </span>
<span class="653804202733814199" onmouseenter="enter('653804202733814199');" onmouseout="out('653804202733814199');" style=""> 367                 String newTable = JOB_TABLE_NAME + &quot;_new&quot;;                                               </span>
<span class="-1665237178221723519" onmouseenter="enter('-1665237178221723519');" onmouseout="out('-1665237178221723519');" style=""><abbr title=" 368                 db.execSQL((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + newTable) + &quot; (&quot;) + COLUMN_ID) + &quot; integer primary key, &quot;) + COLUMN_TAG) + &quot; text not null, &quot;) + COLUMN_START_MS) + &quot; integer, &quot;) + COLUMN_END_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_MS) + &quot; integer, &quot;) + COLUMN_BACKOFF_POLICY) + &quot; text not null, &quot;) + COLUMN_INTERVAL_MS) + &quot; integer, &quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot; integer, &quot;) + COLUMN_REQUIRES_CHARGING) + &quot; integer, &quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot; integer, &quot;) + COLUMN_EXACT) + &quot; integer, &quot;) + COLUMN_NETWORK_TYPE) + &quot; text not null, &quot;) + COLUMN_EXTRAS) + &quot; text, &quot;) + COLUMN_NUM_FAILURES) + &quot; integer, &quot;) + COLUMN_SCHEDULED_AT) + &quot; integer, &quot;) + COLUMN_STARTED) + &quot; integer, &quot;) + COLUMN_FLEX_MS) + &quot; integer, &quot;) + COLUMN_FLEX_SUPPORT) + &quot; integer, &quot;) + COLUMN_LAST_RUN) + &quot; integer);&quot;);"> 368                 db.execSQL((((((((((((((((((((((((((((((((((((((((&quot;create table &quot; + newTable) + &quot; (&quot;) + C🔵</abbr></span>
<span class="1811492583138275642" onmouseenter="enter('1811492583138275642');" onmouseout="out('1811492583138275642');" style=""><abbr title=" 369                 db.execSQL(((((((((((((((((((((((((((((((((((((((((&quot;INSERT INTO &quot; + newTable) + &quot; SELECT &quot;) + COLUMN_ID) + &quot;,&quot;) + COLUMN_TAG) + &quot;,&quot;) + COLUMN_START_MS) + &quot;,&quot;) + COLUMN_END_MS) + &quot;,&quot;) + COLUMN_BACKOFF_MS) + &quot;,&quot;) + COLUMN_BACKOFF_POLICY) + &quot;,&quot;) + COLUMN_INTERVAL_MS) + &quot;,&quot;) + COLUMN_REQUIREMENTS_ENFORCED) + &quot;,&quot;) + COLUMN_REQUIRES_CHARGING) + &quot;,&quot;) + COLUMN_REQUIRES_DEVICE_IDLE) + &quot;,&quot;) + COLUMN_EXACT) + &quot;,&quot;) + COLUMN_NETWORK_TYPE) + &quot;,&quot;) + COLUMN_EXTRAS) + &quot;,&quot;) + COLUMN_NUM_FAILURES) + &quot;,&quot;) + COLUMN_SCHEDULED_AT) + &quot;,&quot;) + &quot;isTransient&quot;) + &quot;,&quot;) + COLUMN_FLEX_MS) + &quot;,&quot;) + COLUMN_FLEX_SUPPORT) + &quot;,&quot;) + COLUMN_LAST_RUN) + &quot; FROM &quot;) + JOB_TABLE_NAME);"> 369                 db.execSQL(((((((((((((((((((((((((((((((((((((((((&quot;INSERT INTO &quot; + newTable) + &quot; SELECT 🔵</abbr></span>
<span class="2469021147268720768" onmouseenter="enter('2469021147268720768');" onmouseout="out('2469021147268720768');" style=""> 370                 db.execSQL(&quot;DROP TABLE &quot; + JOB_TABLE_NAME);                                              </span>
<span class="-341562945506974472" onmouseenter="enter('-341562945506974472');" onmouseout="out('-341562945506974472');" style=""> 371                 db.execSQL(((&quot;ALTER TABLE &quot; + newTable) + &quot; RENAME TO &quot;) + JOB_TABLE_NAME);              </span>
<span class="1078081331616359448" onmouseenter="enter('1078081331616359448');" onmouseout="out('1078081331616359448');" style=""><abbr title=" 372                 db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_TRANSIENT) + &quot; integer;&quot;);"> 372                 db.execSQL((((&quot;alter table &quot; + JOB_TABLE_NAME) + &quot; add column &quot;) + COLUMN_TRANSIENT) + &quot; 🔵</abbr></span>
<span class="-999133354836642717" onmouseenter="enter('-999133354836642717');" onmouseout="out('-999133354836642717');" style=""> 373                 db.setTransactionSuccessful();                                                           </span>
<span class="9062373144943479618" onmouseenter="enter('9062373144943479618');" onmouseout="out('9062373144943479618');" style=""> 374             } finally {                                                                                  </span>
<span class="4555482193573075626" onmouseenter="enter('4555482193573075626');" onmouseout="out('4555482193573075626');" style=""> 375                 db.endTransaction();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379 }                                                                                                        </span>




































































































































































































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">   1  package com.evernote.android.job;                                                                                 </span>
<span  style="">   2                                                                                                                    </span>
<span class="3127723864207259776" onmouseenter="enter('3127723864207259776');" onmouseout="out('3127723864207259776');" style="">   3  import android.content.ContentValues;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-4895155655276492102" onmouseenter="enter('-4895155655276492102');" onmouseout="out('-4895155655276492102');" style="">   5  import android.database.sqlite.SQLiteDatabase;                                                                    </span>
<span class="6401548559697116088" onmouseenter="enter('6401548559697116088');" onmouseout="out('6401548559697116088');" style="">   6  import android.database.sqlite.SQLiteOpenHelper;                                                                  </span>
<span  style="">   7                                                                                                                    </span>
<span class="8419433942127740102" onmouseenter="enter('8419433942127740102');" onmouseout="out('8419433942127740102');" style="">   8  import com.evernote.android.job.test.JobRobolectricTestRunner;                                                    </span>
<span class="-4342977349897803725" onmouseenter="enter('-4342977349897803725');" onmouseout="out('-4342977349897803725');" style="">   9  import com.evernote.android.job.util.support.PersistableBundleCompat;                                             </span>
<span  style="">  10                                                                                                                    </span>
<span class="-7215078893573418740" onmouseenter="enter('-7215078893573418740');" onmouseout="out('-7215078893573418740');" style="">  11  import org.junit.FixMethodOrder;                                                                                  </span>
<span class="-5701544841389860871" onmouseenter="enter('-5701544841389860871');" onmouseout="out('-5701544841389860871');" style="">  12  import org.junit.Test;                                                                                            </span>
<span class="2094324412011607104" onmouseenter="enter('2094324412011607104');" onmouseout="out('2094324412011607104');" style="">  13  import org.junit.runner.RunWith;                                                                                  </span>
<span class="2332968182334407716" onmouseenter="enter('2332968182334407716');" onmouseout="out('2332968182334407716');" style="">  14  import org.junit.runners.MethodSorters;                                                                           </span>
<span class="-1744873477108319775" onmouseenter="enter('-1744873477108319775');" onmouseout="out('-1744873477108319775');" style="">  15  import org.robolectric.RuntimeEnvironment;                                                                        </span>
<span  style="">  16                                                                                                                    </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  17  import java.util.concurrent.TimeUnit;                                                                             </span>
<span  style="">  18                                                                                                                    </span>
<span class="603762941935801069" onmouseenter="enter('603762941935801069');" onmouseout="out('603762941935801069');" style="">  19  import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_MS;                                              </span>
<span class="3833510892529474021" onmouseenter="enter('3833510892529474021');" onmouseout="out('3833510892529474021');" style="">  20  import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_POLICY;                                          </span>
<span class="4027599808755331245" onmouseenter="enter('4027599808755331245');" onmouseout="out('4027599808755331245');" style="">  21  import static com.evernote.android.job.JobStorage.COLUMN_END_MS;                                                  </span>
<span class="-8680947723594007816" onmouseenter="enter('-8680947723594007816');" onmouseout="out('-8680947723594007816');" style="">  22  import static com.evernote.android.job.JobStorage.COLUMN_EXACT;                                                   </span>
<span class="-3578867012232505640" onmouseenter="enter('-3578867012232505640');" onmouseout="out('-3578867012232505640');" style="">  23  import static com.evernote.android.job.JobStorage.COLUMN_EXTRAS;                                                  </span>
<span class="8456540258204871098" onmouseenter="enter('8456540258204871098');" onmouseout="out('8456540258204871098');" style="">  24  import static com.evernote.android.job.JobStorage.COLUMN_FLEX_MS;                                                 </span>
<span class="3293064517228225203" onmouseenter="enter('3293064517228225203');" onmouseout="out('3293064517228225203');" style="">  25  import static com.evernote.android.job.JobStorage.COLUMN_FLEX_SUPPORT;                                            </span>
<span class="-8821316578677221936" onmouseenter="enter('-8821316578677221936');" onmouseout="out('-8821316578677221936');" style="">  26  import static com.evernote.android.job.JobStorage.COLUMN_ID;                                                      </span>
<span class="6206551323139207942" onmouseenter="enter('6206551323139207942');" onmouseout="out('6206551323139207942');" style="">  27  import static com.evernote.android.job.JobStorage.COLUMN_INTERVAL_MS;                                             </span>
<span class="-2327485105636863184" onmouseenter="enter('-2327485105636863184');" onmouseout="out('-2327485105636863184');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  28 +import static com.evernote.android.job.JobStorage.COLUMN_LAST_RUN;                                                </span>
<span class="-2394167415022712033" onmouseenter="enter('-2394167415022712033');" onmouseout="out('-2394167415022712033');" style="">  29  import static com.evernote.android.job.JobStorage.COLUMN_NETWORK_TYPE;                                            </span>
<span class="-7819177330857045077" onmouseenter="enter('-7819177330857045077');" onmouseout="out('-7819177330857045077');" style="">  30  import static com.evernote.android.job.JobStorage.COLUMN_NUM_FAILURES;                                            </span>
<span class="7263103035283430887" onmouseenter="enter('7263103035283430887');" onmouseout="out('7263103035283430887');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  31 -import static com.evernote.android.job.JobStorage.COLUMN_PERSISTED;                                               </span>
<span class="-6068815646617261361" onmouseenter="enter('-6068815646617261361');" onmouseout="out('-6068815646617261361');" style="">  32  import static com.evernote.android.job.JobStorage.COLUMN_REQUIREMENTS_ENFORCED;                                   </span>
<span class="-7192486015558249022" onmouseenter="enter('-7192486015558249022');" onmouseout="out('-7192486015558249022');" style="">  33  import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_CHARGING;                                       </span>
<span class="5011652326564991367" onmouseenter="enter('5011652326564991367');" onmouseout="out('5011652326564991367');" style="">  34  import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_DEVICE_IDLE;                                    </span>
<span class="-7434777597298704644" onmouseenter="enter('-7434777597298704644');" onmouseout="out('-7434777597298704644');" style="">  35  import static com.evernote.android.job.JobStorage.COLUMN_SCHEDULED_AT;                                            </span>
<span class="-4482744345386978636" onmouseenter="enter('-4482744345386978636');" onmouseout="out('-4482744345386978636');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import static com.evernote.android.job.JobStorage.COLUMN_STARTED;                                                 </span>
<span class="-5153747410473113617" onmouseenter="enter('-5153747410473113617');" onmouseout="out('-5153747410473113617');" style="">  37  import static com.evernote.android.job.JobStorage.COLUMN_START_MS;                                                </span>
<span class="5921810338082200242" onmouseenter="enter('5921810338082200242');" onmouseout="out('5921810338082200242');" style="">  38  import static com.evernote.android.job.JobStorage.COLUMN_TAG;                                                     </span>
<span class="-3879979238284195602" onmouseenter="enter('-3879979238284195602');" onmouseout="out('-3879979238284195602');" style="">  39  import static com.evernote.android.job.JobStorage.COLUMN_TRANSIENT;                                               </span>
<span class="5451688190070547980" onmouseenter="enter('5451688190070547980');" onmouseout="out('5451688190070547980');" style="">  40  import static com.evernote.android.job.JobStorage.DATABASE_NAME;                                                  </span>
<span class="6221508059079313748" onmouseenter="enter('6221508059079313748');" onmouseout="out('6221508059079313748');" style="">  41  import static com.evernote.android.job.JobStorage.JOB_TABLE_NAME;                                                 </span>
<span class="6917176970756584306" onmouseenter="enter('6917176970756584306');" onmouseout="out('6917176970756584306');" style="">  42  import static org.assertj.core.api.Java6Assertions.assertThat;                                                    </span>
<span  style="">  43                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  44  /**                                                                                                               </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  45   * @author rwondratschek                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  46   */                                                                                                               </span>
<span class="-3724190134194100898" onmouseenter="enter('-3724190134194100898');" onmouseout="out('-3724190134194100898');" style="">  47  @RunWith(JobRobolectricTestRunner.class)                                                                          </span>
<span class="-1424498044800854742" onmouseenter="enter('-1424498044800854742');" onmouseout="out('-1424498044800854742');" style="">  48  @FixMethodOrder(MethodSorters.JVM)                                                                                </span>
<span class="-5517811679430868458" onmouseenter="enter('-5517811679430868458');" onmouseout="out('-5517811679430868458');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  49 +@SuppressWarnings(&quot;unused&quot;)                                                                                       </span>
<span class="7354226050452146798" onmouseenter="enter('7354226050452146798');" onmouseout="out('7354226050452146798');" style="">  50  public class DatabaseManualUpgradeTest {                                                                          </span>

<span  style="">  51                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  52      @Test                                                                                                         </span>
<span class="1762888303926530527" onmouseenter="enter('1762888303926530527');" onmouseout="out('1762888303926530527');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  53 -    public void testDatabaseUpgrade1to4() {                                                                       </span>
<span class="-2311703477732734729" onmouseenter="enter('-2311703477732734729');" onmouseout="out('-2311703477732734729');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  54 +    public void testDatabaseUpgrade1to5() {                                                                       </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  55          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  56          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  57                                                                                                                    </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  58          JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  59          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  60          createJobs(openHelper);                                                                                   </span>
<span  style="">  61                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="">  62          checkJob(context);                                                                                        </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  63      }                                                                                                             </span>
<span  style="">  64                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  65      @Test                                                                                                         </span>
<span class="1431396573501627325" onmouseenter="enter('1431396573501627325');" onmouseout="out('1431396573501627325');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  66 -    public void testDatabaseUpgrade2to4() {                                                                       </span>
<span class="-8693717612898478207" onmouseenter="enter('-8693717612898478207');" onmouseout="out('-8693717612898478207');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +    public void testDatabaseUpgrade2to5() {                                                                       </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  68          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  69          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  70                                                                                                                    </span>
<span class="4411649550964803937" onmouseenter="enter('4411649550964803937');" onmouseout="out('4411649550964803937');" style="">  71          JobOpenHelper2 openHelper = new JobOpenHelper2(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  72          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  73          createJobs(openHelper);                                                                                   </span>
<span  style="">  74                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="">  75          checkJob(context);                                                                                        </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76      }                                                                                                             </span>
<span  style="">  77                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  78      @Test                                                                                                         </span>
<span class="-1782892245669827214" onmouseenter="enter('-1782892245669827214');" onmouseout="out('-1782892245669827214');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -    public void testDatabaseUpgrade3to4() {                                                                       </span>
<span class="-3160546408555080113" onmouseenter="enter('-3160546408555080113');" onmouseout="out('-3160546408555080113');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +    public void testDatabaseUpgrade3to5() {                                                                       </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  81          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  82          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  83                                                                                                                    </span>
<span class="7281318093140205120" onmouseenter="enter('7281318093140205120');" onmouseout="out('7281318093140205120');" style="">  84          JobOpenHelper3 openHelper = new JobOpenHelper3(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  85          createDatabase(openHelper, false);                                                                        </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  86          createJobs(openHelper, true);                                                                             </span>
<span  style="">  87                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="">  88          checkJob(context);                                                                                        </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  89      }                                                                                                             </span>
<span  style="">  90                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  91      @Test                                                                                                         </span>
<span class="2189463517521698422" onmouseenter="enter('2189463517521698422');" onmouseout="out('2189463517521698422');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  92 -    public void testDatabaseUpgrade1to2to3to4() {                                                                 </span>
<span class="-19963943434937844" onmouseenter="enter('-19963943434937844');" onmouseout="out('-19963943434937844');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  93 +    public void testDatabaseUpgrade4to5() {                                                                       </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  94 +        Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  95 +        context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  96 +                                                                                                                  </span>
<span class="-7369878075977677253" onmouseenter="enter('-7369878075977677253');" onmouseout="out('-7369878075977677253');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  97 +        JobOpenHelper4 openHelper = new JobOpenHelper4(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  98 +        createDatabase(openHelper, false);                                                                        </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  99 +        createJobs(openHelper, true);                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 100 +                                                                                                                  </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 101 +        checkJob(context);                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 103 +                                                                                                                  </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 104 +    @Test                                                                                                         </span>
<span class="4342590854049753233" onmouseenter="enter('4342590854049753233');" onmouseout="out('4342590854049753233');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 105 +    public void testDatabaseUpgrade1to2to3to4to5() {                                                              </span>
<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style=""> 106          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style=""> 107          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style=""> 108                                                                                                                    </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style=""> 109          JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style=""> 110          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style=""> 111          createJobs(openHelper);                                                                                   </span>
<span  style=""> 112                                                                                                                    </span>
<span class="-3107998161269137207" onmouseenter="enter('-3107998161269137207');" onmouseout="out('-3107998161269137207');" style=""> 113          createDatabase(new JobOpenHelper2(context), true);                                                        </span>
<span class="4645358894871562455" onmouseenter="enter('4645358894871562455');" onmouseout="out('4645358894871562455');" style=""> 114          createDatabase(new JobOpenHelper3(context), true);                                                        </span>
<span class="-2502534324441419643" onmouseenter="enter('-2502534324441419643');" onmouseout="out('-2502534324441419643');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 115 +        createDatabase(new JobOpenHelper4(context), true);                                                        </span>
<span  style=""> 116                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style=""> 117          checkJob(context);                                                                                        </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118      }                                                                                                             </span>
<span  style=""> 119                                                                                                                    </span>
<span class="6996371434327522485" onmouseenter="enter('6996371434327522485');" onmouseout="out('6996371434327522485');" style=""> 120      private void createDatabase(UpgradeAbleJobOpenHelper openHelper, boolean checkUpgraded) {                     </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 121          SQLiteDatabase database = openHelper.getWritableDatabase();                                               </span>
<span class="1002365188655809485" onmouseenter="enter('1002365188655809485');" onmouseout="out('1002365188655809485');" style=""> 122          assertThat(openHelper.mDatabaseCreated).isTrue();                                                         </span>
<span class="5166310250829210071" onmouseenter="enter('5166310250829210071');" onmouseout="out('5166310250829210071');" style=""> 123          if (checkUpgraded) {                                                                                      </span>
<span class="-3244344157917592976" onmouseenter="enter('-3244344157917592976');" onmouseout="out('-3244344157917592976');" style=""> 124              assertThat(openHelper.mDatabaseUpgraded).isTrue();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 125          }                                                                                                         </span>
<span  style=""> 126                                                                                                                    </span>
<span class="-6329634734205163657" onmouseenter="enter('-6329634734205163657');" onmouseout="out('-6329634734205163657');" style=""> 127          database.close();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128      }                                                                                                             </span>
<span  style=""> 129                                                                                                                    </span>
<span class="-5806806091316944782" onmouseenter="enter('-5806806091316944782');" onmouseout="out('-5806806091316944782');" style=""> 130      private void createJobs(UpgradeAbleJobOpenHelper openHelper) {                                                </span>
<span class="-2069402450894332507" onmouseenter="enter('-2069402450894332507');" onmouseout="out('-2069402450894332507');" style=""> 131          createJobs(openHelper, false);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132      }                                                                                                             </span>
<span  style=""> 133                                                                                                                    </span>
<span class="5336641715889036266" onmouseenter="enter('5336641715889036266');" onmouseout="out('5336641715889036266');" style=""> 134      private void createJobs(UpgradeAbleJobOpenHelper openHelper, boolean validInterval) {                         </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 135          SQLiteDatabase database = openHelper.getWritableDatabase();                                               </span>
<span  style=""> 136                                                                                                                    </span>
<span class="7171102425007369702" onmouseenter="enter('7171102425007369702');" onmouseout="out('7171102425007369702');" style=""> 137          ContentValues contentValues = openHelper.createBaseContentValues(1);                                      </span>
<span class="7771213206953710758" onmouseenter="enter('7771213206953710758');" onmouseout="out('7771213206953710758');" style=""> 138          contentValues.put(JobStorage.COLUMN_START_MS, 60_000L);                                                   </span>
<span class="-2958262627274538915" onmouseenter="enter('-2958262627274538915');" onmouseout="out('-2958262627274538915');" style=""> 139          contentValues.put(JobStorage.COLUMN_END_MS, 120_000L);                                                    </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 140          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span  style=""> 141                                                                                                                    </span>
<span class="-4763591133775733762" onmouseenter="enter('-4763591133775733762');" onmouseout="out('-4763591133775733762');" style=""> 142          contentValues = openHelper.createBaseContentValues(2);                                                    </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 143          if (validInterval) {                                                                                      </span>
<span class="8024022385027275123" onmouseenter="enter('8024022385027275123');" onmouseout="out('8024022385027275123');" style=""> 144              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                            </span>
<span class="689648826546990857" onmouseenter="enter('689648826546990857');" onmouseout="out('689648826546990857');" style=""> 145              contentValues.put(JobStorage.COLUMN_FLEX_MS, JobRequest.MIN_INTERVAL);                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 146          } else {                                                                                                  </span>
<span class="4648150240998657893" onmouseenter="enter('4648150240998657893');" onmouseout="out('4648150240998657893');" style=""> 147              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 60_000L);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148          }                                                                                                         </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 149          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span  style=""> 150                                                                                                                    </span>
<span class="-8658084289334702477" onmouseenter="enter('-8658084289334702477');" onmouseout="out('-8658084289334702477');" style=""> 151          contentValues = openHelper.createBaseContentValues(3);                                                    </span>
<span class="-4361020577578448843" onmouseenter="enter('-4361020577578448843');" onmouseout="out('-4361020577578448843');" style=""> 152          contentValues.put(JobStorage.COLUMN_INTERVAL_MS, TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 153          if (validInterval) {                                                                                      </span>
<span class="-9019177920160815678" onmouseenter="enter('-9019177920160815678');" onmouseout="out('-9019177920160815678');" style=""> 154              contentValues.put(JobStorage.COLUMN_FLEX_MS, TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155          }                                                                                                         </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 156          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 157      }                                                                                                             </span>
<span  style=""> 158                                                                                                                    </span>
<span class="7559734220673163629" onmouseenter="enter('7559734220673163629');" onmouseout="out('7559734220673163629');" style=""> 159      private void checkJob(Context context) {                                                                      </span>
<span class="5765878640725474341" onmouseenter="enter('5765878640725474341');" onmouseout="out('5765878640725474341');" style=""> 160          JobManager.create(context).addJobCreator(new JobCreator() {                                               </span>


<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161              @Override                                                                                             </span>
<span class="7413085031269617882" onmouseenter="enter('7413085031269617882');" onmouseout="out('7413085031269617882');" style=""> 162              public Job create(String tag) {                                                                       </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 163                  return null;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 165          });                                                                                                       </span>
<span  style=""> 166                                                                                                                    </span>
<span class="7044483502815593372" onmouseenter="enter('7044483502815593372');" onmouseout="out('7044483502815593372');" style=""> 167          assertThat(JobManager.instance().getAllJobRequests()).hasSize(3);                                         </span>
<span  style=""> 168                                                                                                                    </span>
<span class="-6367395240800644145" onmouseenter="enter('-6367395240800644145');" onmouseout="out('-6367395240800644145');" style=""> 169          JobRequest jobRequest = JobManager.instance().getJobRequest(1);                                           </span>
<span class="331370784387769176" onmouseenter="enter('331370784387769176');" onmouseout="out('331370784387769176');" style=""> 170          assertThat(jobRequest.isPeriodic()).isFalse();                                                            </span>
<span class="-3828796550181305296" onmouseenter="enter('-3828796550181305296');" onmouseout="out('-3828796550181305296');" style=""> 171          assertThat(jobRequest.getStartMs()).isEqualTo(60_000L);                                                   </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 172 -        assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 173 +        assertThat(jobRequest.isStarted()).isFalse();                                                             </span>
<span  style=""> 174                                                                                                                    </span>
<span class="-5488923739101217751" onmouseenter="enter('-5488923739101217751');" onmouseout="out('-5488923739101217751');" style=""> 175          jobRequest = JobManager.instance().getJobRequest(2);                                                      </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 176          assertThat(jobRequest.isPeriodic()).isTrue();                                                             </span>
<span class="-7082813526874644872" onmouseenter="enter('-7082813526874644872');" onmouseout="out('-7082813526874644872');" style=""> 177          assertThat(jobRequest.getIntervalMs()).isEqualTo(JobRequest.MIN_INTERVAL);                                </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 178          assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                                 </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 179 -        assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 180 +        assertThat(jobRequest.isStarted()).isFalse();                                                             </span>
<span  style=""> 181                                                                                                                    </span>
<span class="7648225341830685156" onmouseenter="enter('7648225341830685156');" onmouseout="out('7648225341830685156');" style=""> 182          jobRequest = JobManager.instance().getJobRequest(3);                                                      </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 183          assertThat(jobRequest.isPeriodic()).isTrue();                                                             </span>
<span class="5459243978202920276" onmouseenter="enter('5459243978202920276');" onmouseout="out('5459243978202920276');" style=""> 184          assertThat(jobRequest.getIntervalMs()).isEqualTo(TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 185          assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                                 </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 186 +        assertThat(jobRequest.isStarted()).isFalse();                                                             </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 187          assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span  style=""> 188                                                                                                                    </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 189          JobManager.instance().cancelAll();                                                                        </span>
<span  style=""> 190                                                                                                                    </span>
<span class="2697577271181147250" onmouseenter="enter('2697577271181147250');" onmouseout="out('2697577271181147250');" style=""> 191          int jobId = new JobRequest.Builder(&quot;Tag&quot;)                                                                 </span>
<span class="4020395291710759937" onmouseenter="enter('4020395291710759937');" onmouseout="out('4020395291710759937');" style=""> 192                  .setExact(90_000L)                                                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 193                  .build()                                                                                          </span>
<span class="3259220377266979687" onmouseenter="enter('3259220377266979687');" onmouseout="out('3259220377266979687');" style=""> 194                  .schedule();                                                                                      </span>
<span  style=""> 195                                                                                                                    </span>
<span class="7322178915735505083" onmouseenter="enter('7322178915735505083');" onmouseout="out('7322178915735505083');" style=""> 196          assertThat(JobManager.instance().getAllJobRequests()).hasSize(1);                                         </span>
<span  style=""> 197                                                                                                                    </span>
<span class="6933301837681511298" onmouseenter="enter('6933301837681511298');" onmouseout="out('6933301837681511298');" style=""> 198          jobRequest = JobManager.instance().getJobRequest(jobId);                                                  </span>
<span class="4815077590101432110" onmouseenter="enter('4815077590101432110');" onmouseout="out('4815077590101432110');" style=""> 199          assertThat(jobRequest).isNotNull();                                                                       </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 200 -        assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 201 -                                                                                                                  </span>
<span class="-4363333329207446865" onmouseenter="enter('-4363333329207446865');" onmouseout="out('-4363333329207446865');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 202 -        jobRequest.setTransient(true);                                                                            </span>
<span class="-7675394313746918042" onmouseenter="enter('-7675394313746918042');" onmouseout="out('-7675394313746918042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 203 +        assertThat(jobRequest.isStarted()).isFalse();                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 204 +                                                                                                                  </span>
<span class="4792505667470091646" onmouseenter="enter('4792505667470091646');" onmouseout="out('4792505667470091646');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +        jobRequest.setStarted(true);                                                                              </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 206          assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                          </span>
<span class="7562972542234846025" onmouseenter="enter('7562972542234846025');" onmouseout="out('7562972542234846025');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 207 -        assertThat(JobManager.instance().getJobStorage().getAllJobRequests(null, true)).hasSize(1);               </span>
<span class="4628956969663746019" onmouseenter="enter('4628956969663746019');" onmouseout="out('4628956969663746019');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 208 +        assertThat(JobManager.instance().getAllJobRequests(null, true, true)).hasSize(1);                         </span>
<span  style=""> 209                                                                                                                    </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 210          JobManager.instance().cancelAll();                                                                        </span>
<span  style=""> 211                                                                                                                    </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 212          assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                          </span>
<span class="6147376474852419772" onmouseenter="enter('6147376474852419772');" onmouseout="out('6147376474852419772');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 213 -        assertThat(JobManager.instance().getJobStorage().getAllJobRequests(null, true)).isEmpty();                </span>
<span class="-1145725383769881022" onmouseenter="enter('-1145725383769881022');" onmouseout="out('-1145725383769881022');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 214 +        assertThat(JobManager.instance().getAllJobRequests(null, true, true)).isEmpty();                          </span>
<span  style=""> 215                                                                                                                    </span>
<span class="3415915720659774680" onmouseenter="enter('3415915720659774680');" onmouseout="out('3415915720659774680');" style=""> 216          JobManager.instance().destroy();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 217      }                                                                                                             </span>
<span  style=""> 218                                                                                                                    </span>
<span class="2705734111412390911" onmouseenter="enter('2705734111412390911');" onmouseout="out('2705734111412390911');" style=""> 219      private abstract static class UpgradeAbleJobOpenHelper extends SQLiteOpenHelper {                             </span>
<span  style=""> 220                                                                                                                    </span>
<span class="-8909915190881222474" onmouseenter="enter('-8909915190881222474');" onmouseout="out('-8909915190881222474');" style=""> 221          private boolean mDatabaseCreated;                                                                         </span>
<span class="3412726656047304914" onmouseenter="enter('3412726656047304914');" onmouseout="out('3412726656047304914');" style=""> 222          private boolean mDatabaseUpgraded;                                                                        </span>
<span  style=""> 223                                                                                                                    </span>
<span class="-1761968994779065185" onmouseenter="enter('-1761968994779065185');" onmouseout="out('-1761968994779065185');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 224 -        UpgradeAbleJobOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {"> 224 -        UpgradeAbleJobOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) 🔵</abbr></span>
<span class="3607424091316687418" onmouseenter="enter('3607424091316687418');" onmouseout="out('3607424091316687418');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 225 -            super(context, name, factory, version);                                                               </span>
<span class="5056707048151623917" onmouseenter="enter('5056707048151623917');" onmouseout="out('5056707048151623917');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 226 +        UpgradeAbleJobOpenHelper(Context context, int version) {                                                  </span>
<span class="-5473051849250841027" onmouseenter="enter('-5473051849250841027');" onmouseout="out('-5473051849250841027');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 227 +            super(context, DATABASE_NAME, null, version);                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 228          }                                                                                                         </span>
<span  style=""> 229                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 230          @Override                                                                                                 </span>
<span class="6560321291136209336" onmouseenter="enter('6560321291136209336');" onmouseout="out('6560321291136209336');" style=""> 231          public final void onCreate(SQLiteDatabase db) {                                                           </span>
<span class="1670468275179411026" onmouseenter="enter('1670468275179411026');" onmouseout="out('1670468275179411026');" style=""> 232              onCreateInner(db);                                                                                    </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 233              mDatabaseCreated = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 234          }                                                                                                         </span>
<span  style=""> 235                                                                                                                    </span>
<span class="-2143216386073375288" onmouseenter="enter('-2143216386073375288');" onmouseout="out('-2143216386073375288');" style=""> 236          protected abstract void onCreateInner(SQLiteDatabase db);                                                 </span>
<span  style=""> 237                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 238          @Override                                                                                                 </span>
<span class="-5834488086690899465" onmouseenter="enter('-5834488086690899465');" onmouseout="out('-5834488086690899465');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 239 -        public final void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {              </span>
<span class="3258265368442769260" onmouseenter="enter('3258265368442769260');" onmouseout="out('3258265368442769260');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 240 -            onUpgradeInner(sqLiteDatabase, oldVersion, newVersion);                                               </span>
<span class="-1105106953054202382" onmouseenter="enter('-1105106953054202382');" onmouseout="out('-1105106953054202382');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 241 +        public final void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {                          </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 242 +            while (oldVersion &lt; newVersion) {                                                                     </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 243 +                switch (oldVersion) {                                                                             </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 244 +                    case 1:                                                                                       </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 245 +                        upgradeFrom1To2(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 246 +                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 247 +                        break;                                                                                    </span>
<span class="1568233748741705754" onmouseenter="enter('1568233748741705754');" onmouseout="out('1568233748741705754');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 248 +                    case 2:                                                                                       </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 249 +                        upgradeFrom2To3(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 250 +                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 251 +                        break;                                                                                    </span>
<span class="6137898315495918692" onmouseenter="enter('6137898315495918692');" onmouseout="out('6137898315495918692');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 252 +                    case 3:                                                                                       </span>
<span class="-5585272637305645377" onmouseenter="enter('-5585272637305645377');" onmouseout="out('-5585272637305645377');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 253 +                        upgradeFrom3To4(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 254 +                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 255 +                        break;                                                                                    </span>
<span class="-8733970842389302857" onmouseenter="enter('-8733970842389302857');" onmouseout="out('-8733970842389302857');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 256 +                    case 4:                                                                                       </span>
<span class="-8236232265808981910" onmouseenter="enter('-8236232265808981910');" onmouseout="out('-8236232265808981910');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 257 +                        upgradeFrom4To5(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 258 +                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 259 +                        break;                                                                                    </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +                    default:                                                                                      </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 261 +                        throw new IllegalStateException(&quot;not implemented&quot;);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 262 +                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 263 +            }                                                                                                     </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 264 +                                                                                                                  </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 265              mDatabaseCreated = true;                                                                              </span>
<span class="-5692231938642834292" onmouseenter="enter('-5692231938642834292');" onmouseout="out('-5692231938642834292');" style=""> 266              mDatabaseUpgraded = true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267          }                                                                                                         </span>
<span  style=""> 268                                                                                                                    </span>
<span class="6877865662777780617" onmouseenter="enter('6877865662777780617');" onmouseout="out('6877865662777780617');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 269 -        protected abstract void onUpgradeInner(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion);    </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 270 +        protected void upgradeFrom1To2(SQLiteDatabase db) {                                                       </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 271 +            // override me                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 272 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 273 +                                                                                                                  </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 274 +        protected void upgradeFrom2To3(SQLiteDatabase db) {                                                       </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 275 +            // override me                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 276 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 277 +                                                                                                                  </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 278 +        protected void upgradeFrom3To4(SQLiteDatabase db) {                                                       </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 279 +            // override me                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 280 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 281 +                                                                                                                  </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 282 +        protected void upgradeFrom4To5(SQLiteDatabase db) {                                                       </span>
<span class="1544028550532862728" onmouseenter="enter('1544028550532862728');" onmouseout="out('1544028550532862728');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 283 +            // override me                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 284 +        }                                                                                                         </span>
<span  style=""> 285                                                                                                                    </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 286          protected ContentValues createBaseContentValues(int id) {                                                 </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 287              ContentValues contentValues = new ContentValues();                                                    </span>
<span class="4882308526391357089" onmouseenter="enter('4882308526391357089');" onmouseout="out('4882308526391357089');" style=""> 288              contentValues.put(JobStorage.COLUMN_ID, id);                                                          </span>
<span class="5775313243864116582" onmouseenter="enter('5775313243864116582');" onmouseout="out('5775313243864116582');" style=""> 289              contentValues.put(JobStorage.COLUMN_TAG, &quot;Tag&quot;);                                                      </span>
<span  style=""> 290                                                                                                                    </span>
<span class="-1397772710560816545" onmouseenter="enter('-1397772710560816545');" onmouseout="out('-1397772710560816545');" style=""> 291              contentValues.put(JobStorage.COLUMN_START_MS, -1L);                                                   </span>
<span class="7859694369433916467" onmouseenter="enter('7859694369433916467');" onmouseout="out('7859694369433916467');" style=""> 292              contentValues.put(JobStorage.COLUMN_END_MS, -1L);                                                     </span>
<span  style=""> 293                                                                                                                    </span>
<span class="4756578937714418605" onmouseenter="enter('4756578937714418605');" onmouseout="out('4756578937714418605');" style=""> 294              contentValues.put(JobStorage.COLUMN_BACKOFF_MS, JobRequest.DEFAULT_BACKOFF_MS);                       </span>
<span class="-3535108724382731015" onmouseenter="enter('-3535108724382731015');" onmouseout="out('-3535108724382731015');" style=""> 295              contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toString());    </span>
<span  style=""> 296                                                                                                                    </span>
<span class="-221873649665451798" onmouseenter="enter('-221873649665451798');" onmouseout="out('-221873649665451798');" style=""> 297              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 0L);                                                 </span>
<span  style=""> 298                                                                                                                    </span>
<span class="3238647053561544333" onmouseenter="enter('3238647053561544333');" onmouseout="out('3238647053561544333');" style=""> 299              contentValues.put(JobStorage.COLUMN_REQUIREMENTS_ENFORCED, false);                                    </span>
<span class="4163033908339933383" onmouseenter="enter('4163033908339933383');" onmouseout="out('4163033908339933383');" style=""> 300              contentValues.put(JobStorage.COLUMN_REQUIRES_CHARGING, false);                                        </span>
<span class="-712540120190572793" onmouseenter="enter('-712540120190572793');" onmouseout="out('-712540120190572793');" style=""> 301              contentValues.put(JobStorage.COLUMN_REQUIRES_DEVICE_IDLE, false);                                     </span>
<span class="-7823228738452576568" onmouseenter="enter('-7823228738452576568');" onmouseout="out('-7823228738452576568');" style=""> 302              contentValues.put(JobStorage.COLUMN_EXACT, false);                                                    </span>
<span class="-2942693606785659568" onmouseenter="enter('-2942693606785659568');" onmouseout="out('-2942693606785659568');" style=""> 303              contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString());        </span>
<span  style=""> 304                                                                                                                    </span>
<span class="8168272757063627607" onmouseenter="enter('8168272757063627607');" onmouseout="out('8168272757063627607');" style=""> 305              contentValues.put(JobStorage.COLUMN_EXTRAS, new PersistableBundleCompat().saveToXml());               </span>
<span class="-6355573619334585191" onmouseenter="enter('-6355573619334585191');" onmouseout="out('-6355573619334585191');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 306 -            contentValues.put(JobStorage.COLUMN_PERSISTED, false);                                                </span>
<span class="8466664346323995437" onmouseenter="enter('8466664346323995437');" onmouseout="out('8466664346323995437');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 307 +            contentValues.put(&quot;persisted&quot;, false);                                                                </span>
<span  style=""> 308                                                                                                                    </span>
<span class="-7417777717518068918" onmouseenter="enter('-7417777717518068918');" onmouseout="out('-7417777717518068918');" style=""> 309              contentValues.put(JobStorage.COLUMN_NUM_FAILURES, 0);                                                 </span>
<span class="7656952325648715400" onmouseenter="enter('7656952325648715400');" onmouseout="out('7656952325648715400');" style=""> 310              contentValues.put(JobStorage.COLUMN_SCHEDULED_AT, System.currentTimeMillis());                        </span>
<span  style=""> 311                                                                                                                    </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 312              return contentValues;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314      }                                                                                                             </span>
<span  style=""> 315                                                                                                                    </span>
<span class="-6807776431408392642" onmouseenter="enter('-6807776431408392642');" onmouseout="out('-6807776431408392642');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 316 -    private static final class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                                  </span>
<span class="-8257407585372319397" onmouseenter="enter('-8257407585372319397');" onmouseout="out('-8257407585372319397');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 317 +    private static class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                                        </span>
<span  style=""> 318                                                                                                                    </span>
<span class="6289903625222490506" onmouseenter="enter('6289903625222490506');" onmouseout="out('6289903625222490506');" style=""> 319          JobOpenHelper1(Context context) {                                                                         </span>
<span class="4769073762000142345" onmouseenter="enter('4769073762000142345');" onmouseout="out('4769073762000142345');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 320 -            super(context, DATABASE_NAME, null, 1);                                                               </span>
<span class="8899764399061602443" onmouseenter="enter('8899764399061602443');" onmouseout="out('8899764399061602443');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 321 +            this(context, 1);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 322 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 323 +                                                                                                                  </span>
<span class="-8763496503173823657" onmouseenter="enter('-8763496503173823657');" onmouseout="out('-8763496503173823657');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 324 +        JobOpenHelper1(Context context, int version) {                                                            </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 325 +            super(context, version);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326          }                                                                                                         </span>
<span  style=""> 327                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 328          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 329          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 330 -            createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 331 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 332 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 333 -        @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 334 -        public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="1273999693274717344" onmouseenter="enter('1273999693274717344');" onmouseout="out('1273999693274717344');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 335 -            // not needed at the moment                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 336 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 337 -                                                                                                                  </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 338 -        private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 339              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 340                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 341                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 342                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 343                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 344                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 345                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 346                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 347                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 348                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 349                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 350                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 351                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 352                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 353 -                    + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 354 +                    + &quot;persisted&quot; + &quot; integer, &quot;                                                                  </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 355                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="6921224975730885774" onmouseenter="enter('6921224975730885774');" onmouseout="out('6921224975730885774');" style=""> 356                      + COLUMN_SCHEDULED_AT + &quot; integer);&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358      }                                                                                                             </span>
<span  style=""> 359                                                                                                                    </span>
<span class="-6998575642077152897" onmouseenter="enter('-6998575642077152897');" onmouseout="out('-6998575642077152897');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 360 -    private static final class JobOpenHelper2 extends UpgradeAbleJobOpenHelper {                                  </span>
<span class="-1799680125503209332" onmouseenter="enter('-1799680125503209332');" onmouseout="out('-1799680125503209332');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 361 +    private static class JobOpenHelper2 extends JobOpenHelper1 {                                                  </span>
<span  style=""> 362                                                                                                                    </span>
<span class="8075975699720832911" onmouseenter="enter('8075975699720832911');" onmouseout="out('8075975699720832911');" style=""> 363          JobOpenHelper2(Context context) {                                                                         </span>
<span class="828169276513811299" onmouseenter="enter('828169276513811299');" onmouseout="out('828169276513811299');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 364 -            super(context, DATABASE_NAME, null, 2);                                                               </span>
<span class="1744622821328669055" onmouseenter="enter('1744622821328669055');" onmouseout="out('1744622821328669055');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 365 +            this(context, 2);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 366 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 367 +                                                                                                                  </span>
<span class="-8276308285669648287" onmouseenter="enter('-8276308285669648287');" onmouseout="out('-8276308285669648287');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 368 +        JobOpenHelper2(Context context, int version) {                                                            </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 369 +            super(context, version);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370          }                                                                                                         </span>
<span  style=""> 371                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 372          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 373          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 374 -            createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 375 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 376 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 377 -        @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 378 -        public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="-3346734355682188533" onmouseenter="enter('-3346734355682188533');" onmouseout="out('-3346734355682188533');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 379 -            // with newer versions there should be a smarter way                                                  </span>
<span class="-5460671612085259135" onmouseenter="enter('-5460671612085259135');" onmouseout="out('-5460671612085259135');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 380 -            if (oldVersion == 1 &amp;&amp; newVersion == 2) {                                                             </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 381 -                upgradeFrom1To2(db);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 382 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 383 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 384 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 385 -        @Override                                                                                                 </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 386 -        protected ContentValues createBaseContentValues(int id) {                                                 </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 387 -            ContentValues contentValues = super.createBaseContentValues(id);                                      </span>
<span class="-3721037630698281955" onmouseenter="enter('-3721037630698281955');" onmouseout="out('-3721037630698281955');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 388 -            contentValues.put(JobStorage.COLUMN_TRANSIENT, false);                                                </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 389 -            return contentValues;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 390 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 391 -                                                                                                                  </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 392 -        private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 393              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 394                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 395                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 396                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 397                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 398                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 399                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 400                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 401                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 402                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 403                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 404                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 405                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 406                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 407 -                    + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 408 +                    + &quot;persisted&quot; + &quot; integer, &quot;                                                                  </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 409                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 410                      + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="7938490355566854898" onmouseenter="enter('7938490355566854898');" onmouseout="out('7938490355566854898');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 411 -                    + COLUMN_TRANSIENT + &quot; integer);&quot;);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 412 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 413 -                                                                                                                  </span>
<span class="-2777979328738628780" onmouseenter="enter('-2777979328738628780');" onmouseout="out('-2777979328738628780');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 414 -        private void upgradeFrom1To2(SQLiteDatabase db) {                                                         </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 415 -            db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 416 -        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 417 -    }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 418 -                                                                                                                  </span>
<span class="2169730806139410566" onmouseenter="enter('2169730806139410566');" onmouseout="out('2169730806139410566');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 419 -    private static final class JobOpenHelper3 extends UpgradeAbleJobOpenHelper {                                  </span>
<span class="4046566206463760837" onmouseenter="enter('4046566206463760837');" onmouseout="out('4046566206463760837');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 420 +                    + &quot;isTransient&quot; + &quot; integer);&quot;);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 421 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 422 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 423 +        @Override                                                                                                 </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 424 +        protected ContentValues createBaseContentValues(int id) {                                                 </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 425 +            ContentValues contentValues = super.createBaseContentValues(id);                                      </span>
<span class="-1949803251226030366" onmouseenter="enter('-1949803251226030366');" onmouseout="out('-1949803251226030366');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 426 +            contentValues.put(&quot;isTransient&quot;, false);                                                              </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 427 +            return contentValues;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 428 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 429 +                                                                                                                  </span>
<span class="8999170939862251615" onmouseenter="enter('8999170939862251615');" onmouseout="out('8999170939862251615');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 430 +        protected void upgradeFrom1To2(SQLiteDatabase db) {                                                       </span>
<span class="-3228115355492210751" onmouseenter="enter('-3228115355492210751');" onmouseout="out('-3228115355492210751');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 431 +            db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + &quot;isTransient&quot; + &quot; integer;&quot;);           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 432 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 433 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 434 +                                                                                                                  </span>
<span class="8423442546840742584" onmouseenter="enter('8423442546840742584');" onmouseout="out('8423442546840742584');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 435 +    private static class JobOpenHelper3 extends JobOpenHelper2 {                                                  </span>
<span  style=""> 436                                                                                                                    </span>
<span class="-8821174099914626838" onmouseenter="enter('-8821174099914626838');" onmouseout="out('-8821174099914626838');" style=""> 437          JobOpenHelper3(Context context) {                                                                         </span>
<span class="-1013541248737151123" onmouseenter="enter('-1013541248737151123');" onmouseout="out('-1013541248737151123');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 438 -            super(context, DATABASE_NAME, null, 3);                                                               </span>
<span class="-7753533204128695670" onmouseenter="enter('-7753533204128695670');" onmouseout="out('-7753533204128695670');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 439 +            this(context, 3);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 440 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 441 +                                                                                                                  </span>
<span class="-8659704277570525812" onmouseenter="enter('-8659704277570525812');" onmouseout="out('-8659704277570525812');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 442 +        JobOpenHelper3(Context context, int version) {                                                            </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 443 +            super(context, version);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 444          }                                                                                                         </span>
<span  style=""> 445                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 446          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 447          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 448 -            createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 449 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 450 -                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 451 -        @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 452 -        public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 453 -            while (oldVersion &lt; newVersion) {                                                                     </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 454 -                switch (oldVersion) {                                                                             </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 455 -                    case 1:                                                                                       </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 456 -                        upgradeFrom1To2(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 457 -                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 458 -                        break;                                                                                    </span>
<span class="1568233748741705754" onmouseenter="enter('1568233748741705754');" onmouseout="out('1568233748741705754');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 459 -                    case 2:                                                                                       </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 460 -                        upgradeFrom2To3(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 461 -                        oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 462 -                        break;                                                                                    </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 463 -                    default:                                                                                      </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 464 -                        throw new IllegalStateException(&quot;not implemented&quot;);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 465 -                }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 466 -            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 467 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 468 -                                                                                                                  </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 469 -        private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 470              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 471                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 472                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 473                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 474                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 475                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 476                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 477                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 478                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 479                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 480                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 481                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 482                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 483                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 484 -                    + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 485 +                    + &quot;persisted&quot; + &quot; integer, &quot;                                                                  </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 486                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 487                      + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="-1792467939526060695" onmouseenter="enter('-1792467939526060695');" onmouseout="out('-1792467939526060695');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 488 -                    + COLUMN_TRANSIENT + &quot; integer, &quot;                                                             </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 489 +                    + &quot;isTransient&quot; + &quot; integer, &quot;                                                                </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 490                      + COLUMN_FLEX_MS + &quot; integer, &quot;                                                               </span>
<span class="-6330248982531094647" onmouseenter="enter('-6330248982531094647');" onmouseout="out('-6330248982531094647');" style=""> 491                      + COLUMN_FLEX_SUPPORT + &quot; integer);&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492          }                                                                                                         </span>
<span  style=""> 493                                                                                                                    </span>
<span class="-2777979328738628780" onmouseenter="enter('-2777979328738628780');" onmouseout="out('-2777979328738628780');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 494 -        private void upgradeFrom1To2(SQLiteDatabase db) {                                                         </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 495 -            db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 496 -        }                                                                                                         </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 497 -                                                                                                                  </span>
<span class="-3527052295904972715" onmouseenter="enter('-3527052295904972715');" onmouseout="out('-3527052295904972715');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 498 -        private void upgradeFrom2To3(SQLiteDatabase db) {                                                         </span>
<span class="5610562369526228432" onmouseenter="enter('5610562369526228432');" onmouseout="out('5610562369526228432');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 499 +        protected void upgradeFrom2To3(SQLiteDatabase db) {                                                       </span>
<span class="5260702553356851671" onmouseenter="enter('5260702553356851671');" onmouseout="out('5260702553356851671');" style=""> 500              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_MS + &quot; integer;&quot;);          </span>
<span class="-3956491332147853939" onmouseenter="enter('-3956491332147853939');" onmouseout="out('-3956491332147853939');" style=""> 501              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer;&quot;);     </span>
<span  style=""> 502                                                                                                                    </span>
<span class="5986191296602121568" onmouseenter="enter('5986191296602121568');" onmouseout="out('5986191296602121568');" style=""> 503              // adjust interval to minimum value if necessary                                                      </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 504              ContentValues contentValues = new ContentValues();                                                    </span>
<span class="-8344433330599698983" onmouseenter="enter('-8344433330599698983');" onmouseout="out('-8344433330599698983');" style=""> 505              contentValues.put(COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                                       </span>
<span class="-8559731467279894779" onmouseenter="enter('-8559731467279894779');" onmouseout="out('-8559731467279894779');" style=""><abbr title=" 506              db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + JobRequest.MIN_INTERVAL, new String[0]);"> 506              db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + J🔵</abbr></span>
<span  style=""> 507                                                                                                                    </span>
<span class="-8691111557153291432" onmouseenter="enter('-8691111557153291432');" onmouseout="out('-8691111557153291432');" style=""> 508              // copy interval into flex column, that&#x27;s the default value and the flex support mode is not required </span>
<span class="-4034349801530717432" onmouseenter="enter('-4034349801530717432');" onmouseout="out('-4034349801530717432');" style=""> 509              db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS + &quot;;&quot;); </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 510          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 511      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 512 +                                                                                                                  </span>
<span class="-7968989855532865117" onmouseenter="enter('-7968989855532865117');" onmouseout="out('-7968989855532865117');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 513 +    private static class JobOpenHelper4 extends JobOpenHelper3 {                                                  </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 514 +                                                                                                                  </span>
<span class="-8503153155224786657" onmouseenter="enter('-8503153155224786657');" onmouseout="out('-8503153155224786657');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 515 +        JobOpenHelper4(Context context) {                                                                         </span>
<span class="-2332960594283753204" onmouseenter="enter('-2332960594283753204');" onmouseout="out('-2332960594283753204');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 516 +            this(context, 4);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 517 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 518 +                                                                                                                  </span>
<span class="178998481237037751" onmouseenter="enter('178998481237037751');" onmouseout="out('178998481237037751');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 519 +        JobOpenHelper4(Context context, int version) {                                                            </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 520 +            super(context, version);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 521 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 522 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 523 +        @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 524 +        public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 525 +            db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 526 +                    + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 527 +                    + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 528 +                    + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 529 +                    + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 530 +                    + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 531 +                    + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 532 +                    + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 533 +                    + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 534 +                    + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 535 +                    + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 536 +                    + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 537 +                    + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 538 +                    + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="3171333405201614313" onmouseenter="enter('3171333405201614313');" onmouseout="out('3171333405201614313');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 539 +                    + &quot;persisted&quot; + &quot; integer, &quot;                                                                  </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 540 +                    + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 541 +                    + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="6469055881280927172" onmouseenter="enter('6469055881280927172');" onmouseout="out('6469055881280927172');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 542 +                    + &quot;isTransient&quot; + &quot; integer, &quot;                                                                </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 543 +                    + COLUMN_FLEX_MS + &quot; integer, &quot;                                                               </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 544 +                    + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                          </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 545 +                    + COLUMN_LAST_RUN + &quot; integer);&quot;);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 546 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 547 +                                                                                                                  </span>
<span class="-7324084117917588194" onmouseenter="enter('-7324084117917588194');" onmouseout="out('-7324084117917588194');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 548 +        protected void upgradeFrom3To4(SQLiteDatabase db) {                                                       </span>
<span class="4590497324393124042" onmouseenter="enter('4590497324393124042');" onmouseout="out('4590497324393124042');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 549 +            db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_LAST_RUN + &quot; integer;&quot;);         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 550 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 551 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 552 +                                                                                                                  </span>
<span class="7736541084698587844" onmouseenter="enter('7736541084698587844');" onmouseout="out('7736541084698587844');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 553 +    private static final class JobOpenHelper5 extends JobOpenHelper4 {                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 554 +                                                                                                                  </span>
<span class="-8943693863595448540" onmouseenter="enter('-8943693863595448540');" onmouseout="out('-8943693863595448540');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 555 +        JobOpenHelper5(Context context) {                                                                         </span>
<span class="-1710563697557884000" onmouseenter="enter('-1710563697557884000');" onmouseout="out('-1710563697557884000');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 556 +            this(context, 5);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 557 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 558 +                                                                                                                  </span>
<span class="-676668996798949056" onmouseenter="enter('-676668996798949056');" onmouseout="out('-676668996798949056');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 559 +        JobOpenHelper5(Context context, int version) {                                                            </span>
<span class="-1446379898174126403" onmouseenter="enter('-1446379898174126403');" onmouseout="out('-1446379898174126403');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 560 +            super(context, version);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 561 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 562 +                                                                                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 563 +        @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 564 +        public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 565 +            db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 566 +                    + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 567 +                    + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 568 +                    + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 569 +                    + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 570 +                    + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 571 +                    + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 572 +                    + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 573 +                    + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 574 +                    + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 575 +                    + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 576 +                    + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 577 +                    + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 578 +                    + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 579 +                    + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 580 +                    + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 581 +                    + COLUMN_STARTED + &quot; integer, &quot;                                                               </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 582 +                    + COLUMN_FLEX_MS + &quot; integer, &quot;                                                               </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 583 +                    + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                          </span>
<span class="-7996364189451504416" onmouseenter="enter('-7996364189451504416');" onmouseout="out('-7996364189451504416');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 584 +                    + COLUMN_LAST_RUN + &quot; integer, &quot;                                                              </span>
<span class="7938490355566854898" onmouseenter="enter('7938490355566854898');" onmouseout="out('7938490355566854898');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 585 +                    + COLUMN_TRANSIENT + &quot; integer);&quot;);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 586 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 587 +                                                                                                                  </span>
<span class="-4064727090831863411" onmouseenter="enter('-4064727090831863411');" onmouseout="out('-4064727090831863411');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 588 +        @SuppressWarnings(&quot;deprecation&quot;)                                                                          </span>
<span class="-2214252097287545671" onmouseenter="enter('-2214252097287545671');" onmouseout="out('-2214252097287545671');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 589 +        protected void upgradeFrom4To5(SQLiteDatabase db) {                                                       </span>
<span class="5876533515833489412" onmouseenter="enter('5876533515833489412');" onmouseout="out('5876533515833489412');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 590 +            // remove &quot;persisted&quot; column and rename &quot;isTransient&quot; to &quot;started&quot;, add &quot;transient&quot; column for O      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 591 +            try {                                                                                                 </span>
<span class="3708563498510346203" onmouseenter="enter('3708563498510346203');" onmouseout="out('3708563498510346203');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 592 +                db.beginTransaction();                                                                            </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 593 +                                                                                                                  </span>
<span class="653804202733814199" onmouseenter="enter('653804202733814199');" onmouseout="out('653804202733814199');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 594 +                String newTable = JOB_TABLE_NAME + &quot;_new&quot;;                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 595 +                                                                                                                  </span>
<span class="1500933729782392479" onmouseenter="enter('1500933729782392479');" onmouseout="out('1500933729782392479');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 596 +                db.execSQL(&quot;create table &quot; + newTable + &quot; (&quot;                                                      </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 597 +                        + COLUMN_ID + &quot; integer primary key, &quot;                                                    </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 598 +                        + COLUMN_TAG + &quot; text not null, &quot;                                                         </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 599 +                        + COLUMN_START_MS + &quot; integer, &quot;                                                          </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 600 +                        + COLUMN_END_MS + &quot; integer, &quot;                                                            </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 601 +                        + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                        </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 602 +                        + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                              </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 603 +                        + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                       </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 604 +                        + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                             </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 605 +                        + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                 </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 606 +                        + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                              </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 607 +                        + COLUMN_EXACT + &quot; integer, &quot;                                                             </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 608 +                        + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 609 +                        + COLUMN_EXTRAS + &quot; text, &quot;                                                               </span>
<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 610 +                        + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                      </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 611 +                        + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                      </span>
<span class="-1311528239381119521" onmouseenter="enter('-1311528239381119521');" onmouseout="out('-1311528239381119521');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 612 +                        + COLUMN_STARTED + &quot; integer, &quot;                                                           </span>
<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 613 +                        + COLUMN_FLEX_MS + &quot; integer, &quot;                                                           </span>
<span class="6331408150621441469" onmouseenter="enter('6331408150621441469');" onmouseout="out('6331408150621441469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 614 +                        + COLUMN_FLEX_SUPPORT + &quot; integer, &quot;                                                      </span>
<span class="-8670688267443242198" onmouseenter="enter('-8670688267443242198');" onmouseout="out('-8670688267443242198');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 615 +                        + COLUMN_LAST_RUN + &quot; integer);&quot;);                                                        </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 616 +                                                                                                                  </span>
<span class="-8381971464716532513" onmouseenter="enter('-8381971464716532513');" onmouseout="out('-8381971464716532513');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 617 +                db.execSQL(&quot;INSERT INTO &quot; + newTable + &quot; SELECT &quot;                                                 </span>
<span class="2145389067042699623" onmouseenter="enter('2145389067042699623');" onmouseout="out('2145389067042699623');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 618 +                        + COLUMN_ID + &quot;,&quot;                                                                         </span>
<span class="6939904955978864372" onmouseenter="enter('6939904955978864372');" onmouseout="out('6939904955978864372');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 619 +                        + COLUMN_TAG + &quot;,&quot;                                                                        </span>
<span class="-442352486732208073" onmouseenter="enter('-442352486732208073');" onmouseout="out('-442352486732208073');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 620 +                        + COLUMN_START_MS + &quot;,&quot;                                                                   </span>
<span class="6290150828589848030" onmouseenter="enter('6290150828589848030');" onmouseout="out('6290150828589848030');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 621 +                        + COLUMN_END_MS + &quot;,&quot;                                                                     </span>
<span class="3345577236192859955" onmouseenter="enter('3345577236192859955');" onmouseout="out('3345577236192859955');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 622 +                        + COLUMN_BACKOFF_MS + &quot;,&quot;                                                                 </span>
<span class="-8415269749285188556" onmouseenter="enter('-8415269749285188556');" onmouseout="out('-8415269749285188556');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 623 +                        + COLUMN_BACKOFF_POLICY + &quot;,&quot;                                                             </span>
<span class="-3976989648946616616" onmouseenter="enter('-3976989648946616616');" onmouseout="out('-3976989648946616616');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 624 +                        + COLUMN_INTERVAL_MS + &quot;,&quot;                                                                </span>
<span class="8022630208849871608" onmouseenter="enter('8022630208849871608');" onmouseout="out('8022630208849871608');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 625 +                        + COLUMN_REQUIREMENTS_ENFORCED + &quot;,&quot;                                                      </span>
<span class="-635309740055477727" onmouseenter="enter('-635309740055477727');" onmouseout="out('-635309740055477727');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 626 +                        + COLUMN_REQUIRES_CHARGING + &quot;,&quot;                                                          </span>
<span class="-2746926730324751173" onmouseenter="enter('-2746926730324751173');" onmouseout="out('-2746926730324751173');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 627 +                        + COLUMN_REQUIRES_DEVICE_IDLE + &quot;,&quot;                                                       </span>
<span class="-1497680641671179246" onmouseenter="enter('-1497680641671179246');" onmouseout="out('-1497680641671179246');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 628 +                        + COLUMN_EXACT + &quot;,&quot;                                                                      </span>
<span class="4955302861618904764" onmouseenter="enter('4955302861618904764');" onmouseout="out('4955302861618904764');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 629 +                        + COLUMN_NETWORK_TYPE + &quot;,&quot;                                                               </span>
<span class="-2679892186903178987" onmouseenter="enter('-2679892186903178987');" onmouseout="out('-2679892186903178987');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 630 +                        + COLUMN_EXTRAS + &quot;,&quot;                                                                     </span>
<span class="8454743424027807430" onmouseenter="enter('8454743424027807430');" onmouseout="out('8454743424027807430');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 631 +                        + COLUMN_NUM_FAILURES + &quot;,&quot;                                                               </span>
<span class="3869399560199586063" onmouseenter="enter('3869399560199586063');" onmouseout="out('3869399560199586063');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 632 +                        + COLUMN_SCHEDULED_AT + &quot;,&quot;                                                               </span>
<span class="-7943762217260836564" onmouseenter="enter('-7943762217260836564');" onmouseout="out('-7943762217260836564');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 633 +                        + &quot;isTransient&quot; + &quot;,&quot;                                                                     </span>
<span class="9219499917803729685" onmouseenter="enter('9219499917803729685');" onmouseout="out('9219499917803729685');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 634 +                        + COLUMN_FLEX_MS + &quot;,&quot;                                                                    </span>
<span class="-5595592532529292800" onmouseenter="enter('-5595592532529292800');" onmouseout="out('-5595592532529292800');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 635 +                        + COLUMN_FLEX_SUPPORT + &quot;,&quot;                                                               </span>
<span class="5367222602638706075" onmouseenter="enter('5367222602638706075');" onmouseout="out('5367222602638706075');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 636 +                        + COLUMN_LAST_RUN + &quot; FROM &quot; + JOB_TABLE_NAME);                                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 637 +                                                                                                                  </span>
<span class="2469021147268720768" onmouseenter="enter('2469021147268720768');" onmouseout="out('2469021147268720768');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 638 +                db.execSQL(&quot;DROP TABLE &quot; + JOB_TABLE_NAME);                                                       </span>
<span class="7235297904850806327" onmouseenter="enter('7235297904850806327');" onmouseout="out('7235297904850806327');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 639 +                db.execSQL(&quot;ALTER TABLE &quot; + newTable + &quot; RENAME TO &quot; + JOB_TABLE_NAME);                           </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 640 +                                                                                                                  </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 641 +                db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);    </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 642 +                                                                                                                  </span>
<span class="-999133354836642717" onmouseenter="enter('-999133354836642717');" onmouseout="out('-999133354836642717');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 643 +                db.setTransactionSuccessful();                                                                    </span>
<span class="9062373144943479618" onmouseenter="enter('9062373144943479618');" onmouseout="out('9062373144943479618');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 644 +            } finally {                                                                                           </span>
<span class="4555482193573075626" onmouseenter="enter('4555482193573075626');" onmouseout="out('4555482193573075626');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 645 +                db.endTransaction();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 646 +            }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 647 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 648 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 649  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4675552543740820910" onmouseenter="enter('4675552543740820910');" onmouseout="out('4675552543740820910');" style="">   1  package com.evernote.android.job;                                                                                 </span>
<span  style="">   2                                                                                                                    </span>
<span class="3127723864207259776" onmouseenter="enter('3127723864207259776');" onmouseout="out('3127723864207259776');" style="">   3  import android.content.ContentValues;                                                                             </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-4895155655276492102" onmouseenter="enter('-4895155655276492102');" onmouseout="out('-4895155655276492102');" style="">   5  import android.database.sqlite.SQLiteDatabase;                                                                    </span>
<span class="6401548559697116088" onmouseenter="enter('6401548559697116088');" onmouseout="out('6401548559697116088');" style="">   6  import android.database.sqlite.SQLiteOpenHelper;                                                                  </span>
<span  style="">   7                                                                                                                    </span>
<span class="8419433942127740102" onmouseenter="enter('8419433942127740102');" onmouseout="out('8419433942127740102');" style="">   8  import com.evernote.android.job.test.JobRobolectricTestRunner;                                                    </span>
<span class="-4342977349897803725" onmouseenter="enter('-4342977349897803725');" onmouseout="out('-4342977349897803725');" style="">   9  import com.evernote.android.job.util.support.PersistableBundleCompat;                                             </span>
<span  style="">  10                                                                                                                    </span>
<span class="-7215078893573418740" onmouseenter="enter('-7215078893573418740');" onmouseout="out('-7215078893573418740');" style="">  11  import org.junit.FixMethodOrder;                                                                                  </span>
<span class="-5701544841389860871" onmouseenter="enter('-5701544841389860871');" onmouseout="out('-5701544841389860871');" style="">  12  import org.junit.Test;                                                                                            </span>
<span class="2094324412011607104" onmouseenter="enter('2094324412011607104');" onmouseout="out('2094324412011607104');" style="">  13  import org.junit.runner.RunWith;                                                                                  </span>
<span class="2332968182334407716" onmouseenter="enter('2332968182334407716');" onmouseout="out('2332968182334407716');" style="">  14  import org.junit.runners.MethodSorters;                                                                           </span>
<span class="-1744873477108319775" onmouseenter="enter('-1744873477108319775');" onmouseout="out('-1744873477108319775');" style="">  15  import org.robolectric.RuntimeEnvironment;                                                                        </span>
<span  style="">  16                                                                                                                    </span>
<span class="-6356287537734540725" onmouseenter="enter('-6356287537734540725');" onmouseout="out('-6356287537734540725');" style="">  17  import java.util.concurrent.TimeUnit;                                                                             </span>
<span  style="">  18                                                                                                                    </span>
<span class="603762941935801069" onmouseenter="enter('603762941935801069');" onmouseout="out('603762941935801069');" style="">  19  import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_MS;                                              </span>
<span class="3833510892529474021" onmouseenter="enter('3833510892529474021');" onmouseout="out('3833510892529474021');" style="">  20  import static com.evernote.android.job.JobStorage.COLUMN_BACKOFF_POLICY;                                          </span>
<span class="4027599808755331245" onmouseenter="enter('4027599808755331245');" onmouseout="out('4027599808755331245');" style="">  21  import static com.evernote.android.job.JobStorage.COLUMN_END_MS;                                                  </span>
<span class="-8680947723594007816" onmouseenter="enter('-8680947723594007816');" onmouseout="out('-8680947723594007816');" style="">  22  import static com.evernote.android.job.JobStorage.COLUMN_EXACT;                                                   </span>
<span class="-3578867012232505640" onmouseenter="enter('-3578867012232505640');" onmouseout="out('-3578867012232505640');" style="">  23  import static com.evernote.android.job.JobStorage.COLUMN_EXTRAS;                                                  </span>
<span class="8456540258204871098" onmouseenter="enter('8456540258204871098');" onmouseout="out('8456540258204871098');" style="">  24  import static com.evernote.android.job.JobStorage.COLUMN_FLEX_MS;                                                 </span>
<span class="3293064517228225203" onmouseenter="enter('3293064517228225203');" onmouseout="out('3293064517228225203');" style="">  25  import static com.evernote.android.job.JobStorage.COLUMN_FLEX_SUPPORT;                                            </span>
<span class="-8821316578677221936" onmouseenter="enter('-8821316578677221936');" onmouseout="out('-8821316578677221936');" style="">  26  import static com.evernote.android.job.JobStorage.COLUMN_ID;                                                      </span>
<span class="6206551323139207942" onmouseenter="enter('6206551323139207942');" onmouseout="out('6206551323139207942');" style="">  27  import static com.evernote.android.job.JobStorage.COLUMN_INTERVAL_MS;                                             </span>

<span class="-2394167415022712033" onmouseenter="enter('-2394167415022712033');" onmouseout="out('-2394167415022712033');" style="">  28  import static com.evernote.android.job.JobStorage.COLUMN_NETWORK_TYPE;                                            </span>
<span class="-7819177330857045077" onmouseenter="enter('-7819177330857045077');" onmouseout="out('-7819177330857045077');" style="">  29  import static com.evernote.android.job.JobStorage.COLUMN_NUM_FAILURES;                                            </span>
<span class="7263103035283430887" onmouseenter="enter('7263103035283430887');" onmouseout="out('7263103035283430887');" style="">  30  import static com.evernote.android.job.JobStorage.COLUMN_PERSISTED;                                               </span>
<span class="-6068815646617261361" onmouseenter="enter('-6068815646617261361');" onmouseout="out('-6068815646617261361');" style="">  31  import static com.evernote.android.job.JobStorage.COLUMN_REQUIREMENTS_ENFORCED;                                   </span>
<span class="-7192486015558249022" onmouseenter="enter('-7192486015558249022');" onmouseout="out('-7192486015558249022');" style="">  32  import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_CHARGING;                                       </span>
<span class="5011652326564991367" onmouseenter="enter('5011652326564991367');" onmouseout="out('5011652326564991367');" style="">  33  import static com.evernote.android.job.JobStorage.COLUMN_REQUIRES_DEVICE_IDLE;                                    </span>
<span class="-7434777597298704644" onmouseenter="enter('-7434777597298704644');" onmouseout="out('-7434777597298704644');" style="">  34  import static com.evernote.android.job.JobStorage.COLUMN_SCHEDULED_AT;                                            </span>

<span class="-5153747410473113617" onmouseenter="enter('-5153747410473113617');" onmouseout="out('-5153747410473113617');" style="">  35  import static com.evernote.android.job.JobStorage.COLUMN_START_MS;                                                </span>
<span class="5921810338082200242" onmouseenter="enter('5921810338082200242');" onmouseout="out('5921810338082200242');" style="">  36  import static com.evernote.android.job.JobStorage.COLUMN_TAG;                                                     </span>
<span class="-3879979238284195602" onmouseenter="enter('-3879979238284195602');" onmouseout="out('-3879979238284195602');" style="">  37  import static com.evernote.android.job.JobStorage.COLUMN_TRANSIENT;                                               </span>
<span class="5451688190070547980" onmouseenter="enter('5451688190070547980');" onmouseout="out('5451688190070547980');" style="">  38  import static com.evernote.android.job.JobStorage.DATABASE_NAME;                                                  </span>
<span class="6221508059079313748" onmouseenter="enter('6221508059079313748');" onmouseout="out('6221508059079313748');" style="">  39  import static com.evernote.android.job.JobStorage.JOB_TABLE_NAME;                                                 </span>
<span class="6917176970756584306" onmouseenter="enter('6917176970756584306');" onmouseout="out('6917176970756584306');" style="">  40  import static org.assertj.core.api.Java6Assertions.assertThat;                                                    </span>
<span  style="">  41                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  42  /**                                                                                                               </span>
<span class="-2541210092808878866" onmouseenter="enter('-2541210092808878866');" onmouseout="out('-2541210092808878866');" style="">  43   * @author rwondratschek                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  44   */                                                                                                               </span>
<span class="-3724190134194100898" onmouseenter="enter('-3724190134194100898');" onmouseout="out('-3724190134194100898');" style="">  45  @RunWith(JobRobolectricTestRunner.class)                                                                          </span>
<span class="-1424498044800854742" onmouseenter="enter('-1424498044800854742');" onmouseout="out('-1424498044800854742');" style="">  46  @FixMethodOrder(MethodSorters.JVM)                                                                                </span>

<span class="7354226050452146798" onmouseenter="enter('7354226050452146798');" onmouseout="out('7354226050452146798');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  47 -public class DatabaseManualUpgradeTest {                                                                          </span>
<span class="-8750077029846275552" onmouseenter="enter('-8750077029846275552');" onmouseout="out('-8750077029846275552');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  48 +public class DatabaseManualUpgradeTest extends BaseJobManagerTest {                                               </span>
<span  style="">  49                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  50      @Test                                                                                                         </span>
<span class="1762888303926530527" onmouseenter="enter('1762888303926530527');" onmouseout="out('1762888303926530527');" style="">  51      public void testDatabaseUpgrade1to4() {                                                                       </span>

<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  52          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  53          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  54                                                                                                                    </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  55          JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  56          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  57          createJobs(openHelper);                                                                                   </span>
<span  style="">  58                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  59 -        checkJob(context);                                                                                        </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  60 +        checkJob();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  61      }                                                                                                             </span>
<span  style="">  62                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  63      @Test                                                                                                         </span>
<span class="1431396573501627325" onmouseenter="enter('1431396573501627325');" onmouseout="out('1431396573501627325');" style="">  64      public void testDatabaseUpgrade2to4() {                                                                       </span>

<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  65          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  66          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  67                                                                                                                    </span>
<span class="4411649550964803937" onmouseenter="enter('4411649550964803937');" onmouseout="out('4411649550964803937');" style="">  68          JobOpenHelper2 openHelper = new JobOpenHelper2(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  69          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  70          createJobs(openHelper);                                                                                   </span>
<span  style="">  71                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  72 -        checkJob(context);                                                                                        </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  73 +        checkJob();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74      }                                                                                                             </span>
<span  style="">  75                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  76      @Test                                                                                                         </span>
<span class="-1782892245669827214" onmouseenter="enter('-1782892245669827214');" onmouseout="out('-1782892245669827214');" style="">  77      public void testDatabaseUpgrade3to4() {                                                                       </span>

<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  78          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  79          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  80                                                                                                                    </span>
<span class="7281318093140205120" onmouseenter="enter('7281318093140205120');" onmouseout="out('7281318093140205120');" style="">  81          JobOpenHelper3 openHelper = new JobOpenHelper3(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  82          createDatabase(openHelper, false);                                                                        </span>
<span class="5287035832222714528" onmouseenter="enter('5287035832222714528');" onmouseout="out('5287035832222714528');" style="">  83          createJobs(openHelper, true);                                                                             </span>
<span  style="">  84                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  85 -        checkJob(context);                                                                                        </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +        checkJob();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  87      }                                                                                                             </span>
<span  style="">  88                                                                                                                    </span>
<span class="-461607440103328343" onmouseenter="enter('-461607440103328343');" onmouseout="out('-461607440103328343');" style="">  89      @Test                                                                                                         </span>
<span class="2189463517521698422" onmouseenter="enter('2189463517521698422');" onmouseout="out('2189463517521698422');" style="">  90      public void testDatabaseUpgrade1to2to3to4() {                                                                 </span>













<span class="3330249767885596497" onmouseenter="enter('3330249767885596497');" onmouseout="out('3330249767885596497');" style="">  91          Context context = RuntimeEnvironment.application;                                                         </span>
<span class="293040395588404772" onmouseenter="enter('293040395588404772');" onmouseout="out('293040395588404772');" style="">  92          context.deleteDatabase(DATABASE_NAME);                                                                    </span>
<span  style="">  93                                                                                                                    </span>
<span class="1306949765734749074" onmouseenter="enter('1306949765734749074');" onmouseout="out('1306949765734749074');" style="">  94          JobOpenHelper1 openHelper = new JobOpenHelper1(context);                                                  </span>
<span class="5626518988062244240" onmouseenter="enter('5626518988062244240');" onmouseout="out('5626518988062244240');" style="">  95          createDatabase(openHelper, false);                                                                        </span>
<span class="6993729890148787985" onmouseenter="enter('6993729890148787985');" onmouseout="out('6993729890148787985');" style="">  96          createJobs(openHelper);                                                                                   </span>
<span  style="">  97                                                                                                                    </span>
<span class="-3107998161269137207" onmouseenter="enter('-3107998161269137207');" onmouseout="out('-3107998161269137207');" style="">  98          createDatabase(new JobOpenHelper2(context), true);                                                        </span>
<span class="4645358894871562455" onmouseenter="enter('4645358894871562455');" onmouseout="out('4645358894871562455');" style="">  99          createDatabase(new JobOpenHelper3(context), true);                                                        </span>

<span  style=""> 100                                                                                                                    </span>
<span class="-4627652084139068226" onmouseenter="enter('-4627652084139068226');" onmouseout="out('-4627652084139068226');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 101 -        checkJob(context);                                                                                        </span>
<span class="6681955389966934762" onmouseenter="enter('6681955389966934762');" onmouseout="out('6681955389966934762');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 102 +        checkJob();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 103      }                                                                                                             </span>
<span  style=""> 104                                                                                                                    </span>
<span class="6996371434327522485" onmouseenter="enter('6996371434327522485');" onmouseout="out('6996371434327522485');" style=""> 105      private void createDatabase(UpgradeAbleJobOpenHelper openHelper, boolean checkUpgraded) {                     </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 106          SQLiteDatabase database = openHelper.getWritableDatabase();                                               </span>
<span class="1002365188655809485" onmouseenter="enter('1002365188655809485');" onmouseout="out('1002365188655809485');" style=""> 107          assertThat(openHelper.mDatabaseCreated).isTrue();                                                         </span>
<span class="5166310250829210071" onmouseenter="enter('5166310250829210071');" onmouseout="out('5166310250829210071');" style=""> 108          if (checkUpgraded) {                                                                                      </span>
<span class="-3244344157917592976" onmouseenter="enter('-3244344157917592976');" onmouseout="out('-3244344157917592976');" style=""> 109              assertThat(openHelper.mDatabaseUpgraded).isTrue();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110          }                                                                                                         </span>
<span  style=""> 111                                                                                                                    </span>
<span class="-6329634734205163657" onmouseenter="enter('-6329634734205163657');" onmouseout="out('-6329634734205163657');" style=""> 112          database.close();                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span class="-5806806091316944782" onmouseenter="enter('-5806806091316944782');" onmouseout="out('-5806806091316944782');" style=""> 115      private void createJobs(UpgradeAbleJobOpenHelper openHelper) {                                                </span>
<span class="-2069402450894332507" onmouseenter="enter('-2069402450894332507');" onmouseout="out('-2069402450894332507');" style=""> 116          createJobs(openHelper, false);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117      }                                                                                                             </span>
<span  style=""> 118                                                                                                                    </span>
<span class="5336641715889036266" onmouseenter="enter('5336641715889036266');" onmouseout="out('5336641715889036266');" style=""> 119      private void createJobs(UpgradeAbleJobOpenHelper openHelper, boolean validInterval) {                         </span>
<span class="3464228565304223184" onmouseenter="enter('3464228565304223184');" onmouseout="out('3464228565304223184');" style=""> 120          SQLiteDatabase database = openHelper.getWritableDatabase();                                               </span>
<span  style=""> 121                                                                                                                    </span>
<span class="7171102425007369702" onmouseenter="enter('7171102425007369702');" onmouseout="out('7171102425007369702');" style=""> 122          ContentValues contentValues = openHelper.createBaseContentValues(1);                                      </span>
<span class="7771213206953710758" onmouseenter="enter('7771213206953710758');" onmouseout="out('7771213206953710758');" style=""> 123          contentValues.put(JobStorage.COLUMN_START_MS, 60_000L);                                                   </span>
<span class="-2958262627274538915" onmouseenter="enter('-2958262627274538915');" onmouseout="out('-2958262627274538915');" style=""> 124          contentValues.put(JobStorage.COLUMN_END_MS, 120_000L);                                                    </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 125          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span  style=""> 126                                                                                                                    </span>
<span class="-4763591133775733762" onmouseenter="enter('-4763591133775733762');" onmouseout="out('-4763591133775733762');" style=""> 127          contentValues = openHelper.createBaseContentValues(2);                                                    </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 128          if (validInterval) {                                                                                      </span>
<span class="8024022385027275123" onmouseenter="enter('8024022385027275123');" onmouseout="out('8024022385027275123');" style=""> 129              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                            </span>
<span class="689648826546990857" onmouseenter="enter('689648826546990857');" onmouseout="out('689648826546990857');" style=""> 130              contentValues.put(JobStorage.COLUMN_FLEX_MS, JobRequest.MIN_INTERVAL);                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 131          } else {                                                                                                  </span>
<span class="4648150240998657893" onmouseenter="enter('4648150240998657893');" onmouseout="out('4648150240998657893');" style=""> 132              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 60_000L);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 133          }                                                                                                         </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 134          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span  style=""> 135                                                                                                                    </span>
<span class="-8658084289334702477" onmouseenter="enter('-8658084289334702477');" onmouseout="out('-8658084289334702477');" style=""> 136          contentValues = openHelper.createBaseContentValues(3);                                                    </span>
<span class="-4361020577578448843" onmouseenter="enter('-4361020577578448843');" onmouseout="out('-4361020577578448843');" style=""> 137          contentValues.put(JobStorage.COLUMN_INTERVAL_MS, TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="6845068932714446454" onmouseenter="enter('6845068932714446454');" onmouseout="out('6845068932714446454');" style=""> 138          if (validInterval) {                                                                                      </span>
<span class="-9019177920160815678" onmouseenter="enter('-9019177920160815678');" onmouseout="out('-9019177920160815678');" style=""> 139              contentValues.put(JobStorage.COLUMN_FLEX_MS, TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 140          }                                                                                                         </span>
<span class="3340985374016288061" onmouseenter="enter('3340985374016288061');" onmouseout="out('3340985374016288061');" style=""> 141          database.insert(JobStorage.JOB_TABLE_NAME, null, contentValues);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142      }                                                                                                             </span>
<span  style=""> 143                                                                                                                    </span>
<span class="7559734220673163629" onmouseenter="enter('7559734220673163629');" onmouseout="out('7559734220673163629');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 144 -    private void checkJob(Context context) {                                                                      </span>
<span class="5765878640725474341" onmouseenter="enter('5765878640725474341');" onmouseout="out('5765878640725474341');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 145 -        JobManager.create(context).addJobCreator(new JobCreator() {                                               </span>
<span class="4372419731471540784" onmouseenter="enter('4372419731471540784');" onmouseout="out('4372419731471540784');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 146 +    private void checkJob() {                                                                                     </span>
<span class="-8433167734264440802" onmouseenter="enter('-8433167734264440802');" onmouseout="out('-8433167734264440802');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 147 +        createManager().addJobCreator(new JobCreator() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 148              @Override                                                                                             </span>
<span class="7413085031269617882" onmouseenter="enter('7413085031269617882');" onmouseout="out('7413085031269617882');" style=""> 149              public Job create(String tag) {                                                                       </span>
<span class="-3732568077477539923" onmouseenter="enter('-3732568077477539923');" onmouseout="out('-3732568077477539923');" style=""> 150                  return null;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151              }                                                                                                     </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 152          });                                                                                                       </span>
<span  style=""> 153                                                                                                                    </span>
<span class="7044483502815593372" onmouseenter="enter('7044483502815593372');" onmouseout="out('7044483502815593372');" style=""> 154          assertThat(JobManager.instance().getAllJobRequests()).hasSize(3);                                         </span>
<span  style=""> 155                                                                                                                    </span>
<span class="-6367395240800644145" onmouseenter="enter('-6367395240800644145');" onmouseout="out('-6367395240800644145');" style=""> 156          JobRequest jobRequest = JobManager.instance().getJobRequest(1);                                           </span>
<span class="331370784387769176" onmouseenter="enter('331370784387769176');" onmouseout="out('331370784387769176');" style=""> 157          assertThat(jobRequest.isPeriodic()).isFalse();                                                            </span>
<span class="-3828796550181305296" onmouseenter="enter('-3828796550181305296');" onmouseout="out('-3828796550181305296');" style=""> 158          assertThat(jobRequest.getStartMs()).isEqualTo(60_000L);                                                   </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 159          assertThat(jobRequest.isTransient()).isFalse();                                                           </span>

<span  style=""> 160                                                                                                                    </span>
<span class="-5488923739101217751" onmouseenter="enter('-5488923739101217751');" onmouseout="out('-5488923739101217751');" style=""> 161          jobRequest = JobManager.instance().getJobRequest(2);                                                      </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 162          assertThat(jobRequest.isPeriodic()).isTrue();                                                             </span>
<span class="-7082813526874644872" onmouseenter="enter('-7082813526874644872');" onmouseout="out('-7082813526874644872');" style=""> 163          assertThat(jobRequest.getIntervalMs()).isEqualTo(JobRequest.MIN_INTERVAL);                                </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 164          assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                                 </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 165          assertThat(jobRequest.isTransient()).isFalse();                                                           </span>

<span  style=""> 166                                                                                                                    </span>
<span class="7648225341830685156" onmouseenter="enter('7648225341830685156');" onmouseout="out('7648225341830685156');" style=""> 167          jobRequest = JobManager.instance().getJobRequest(3);                                                      </span>
<span class="7159877579664080619" onmouseenter="enter('7159877579664080619');" onmouseout="out('7159877579664080619');" style=""> 168          assertThat(jobRequest.isPeriodic()).isTrue();                                                             </span>
<span class="5459243978202920276" onmouseenter="enter('5459243978202920276');" onmouseout="out('5459243978202920276');" style=""> 169          assertThat(jobRequest.getIntervalMs()).isEqualTo(TimeUnit.MINUTES.toMillis(20));                          </span>
<span class="5954346488623330982" onmouseenter="enter('5954346488623330982');" onmouseout="out('5954346488623330982');" style=""> 170          assertThat(jobRequest.getFlexMs()).isEqualTo(jobRequest.getIntervalMs());                                 </span>

<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 171          assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span  style=""> 172                                                                                                                    </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 173          JobManager.instance().cancelAll();                                                                        </span>
<span  style=""> 174                                                                                                                    </span>
<span class="2697577271181147250" onmouseenter="enter('2697577271181147250');" onmouseout="out('2697577271181147250');" style=""> 175          int jobId = new JobRequest.Builder(&quot;Tag&quot;)                                                                 </span>
<span class="4020395291710759937" onmouseenter="enter('4020395291710759937');" onmouseout="out('4020395291710759937');" style=""> 176                  .setExact(90_000L)                                                                                </span>
<span class="3616109827455273093" onmouseenter="enter('3616109827455273093');" onmouseout="out('3616109827455273093');" style=""> 177                  .build()                                                                                          </span>
<span class="3259220377266979687" onmouseenter="enter('3259220377266979687');" onmouseout="out('3259220377266979687');" style=""> 178                  .schedule();                                                                                      </span>
<span  style=""> 179                                                                                                                    </span>
<span class="7322178915735505083" onmouseenter="enter('7322178915735505083');" onmouseout="out('7322178915735505083');" style=""> 180          assertThat(JobManager.instance().getAllJobRequests()).hasSize(1);                                         </span>
<span  style=""> 181                                                                                                                    </span>
<span class="6933301837681511298" onmouseenter="enter('6933301837681511298');" onmouseout="out('6933301837681511298');" style=""> 182          jobRequest = JobManager.instance().getJobRequest(jobId);                                                  </span>
<span class="4815077590101432110" onmouseenter="enter('4815077590101432110');" onmouseout="out('4815077590101432110');" style=""> 183          assertThat(jobRequest).isNotNull();                                                                       </span>
<span class="-5351133275591934375" onmouseenter="enter('-5351133275591934375');" onmouseout="out('-5351133275591934375');" style=""> 184          assertThat(jobRequest.isTransient()).isFalse();                                                           </span>
<span  style=""> 185                                                                                                                    </span>
<span class="-4363333329207446865" onmouseenter="enter('-4363333329207446865');" onmouseout="out('-4363333329207446865');" style=""> 186          jobRequest.setTransient(true);                                                                            </span>



<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 187          assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                          </span>
<span class="7562972542234846025" onmouseenter="enter('7562972542234846025');" onmouseout="out('7562972542234846025');" style=""> 188          assertThat(JobManager.instance().getJobStorage().getAllJobRequests(null, true)).hasSize(1);               </span>

<span  style=""> 189                                                                                                                    </span>
<span class="-4326765079930665994" onmouseenter="enter('-4326765079930665994');" onmouseout="out('-4326765079930665994');" style=""> 190          JobManager.instance().cancelAll();                                                                        </span>
<span  style=""> 191                                                                                                                    </span>
<span class="-3292475727063277135" onmouseenter="enter('-3292475727063277135');" onmouseout="out('-3292475727063277135');" style=""> 192          assertThat(JobManager.instance().getAllJobRequests()).isEmpty();                                          </span>
<span class="6147376474852419772" onmouseenter="enter('6147376474852419772');" onmouseout="out('6147376474852419772');" style=""> 193          assertThat(JobManager.instance().getJobStorage().getAllJobRequests(null, true)).isEmpty();                </span>

<span  style=""> 194                                                                                                                    </span>
<span class="3415915720659774680" onmouseenter="enter('3415915720659774680');" onmouseout="out('3415915720659774680');" style=""> 195          JobManager.instance().destroy();                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 196      }                                                                                                             </span>
<span  style=""> 197                                                                                                                    </span>
<span class="2705734111412390911" onmouseenter="enter('2705734111412390911');" onmouseout="out('2705734111412390911');" style=""> 198      private abstract static class UpgradeAbleJobOpenHelper extends SQLiteOpenHelper {                             </span>
<span  style=""> 199                                                                                                                    </span>
<span class="-8909915190881222474" onmouseenter="enter('-8909915190881222474');" onmouseout="out('-8909915190881222474');" style=""> 200          private boolean mDatabaseCreated;                                                                         </span>
<span class="3412726656047304914" onmouseenter="enter('3412726656047304914');" onmouseout="out('3412726656047304914');" style=""> 201          private boolean mDatabaseUpgraded;                                                                        </span>
<span  style=""> 202                                                                                                                    </span>
<span class="-1761968994779065185" onmouseenter="enter('-1761968994779065185');" onmouseout="out('-1761968994779065185');" style=""><abbr title=" 203          UpgradeAbleJobOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) {"> 203          UpgradeAbleJobOpenHelper(Context context, String name, SQLiteDatabase.CursorFactory factory, int version) 🔵</abbr></span>
<span class="3607424091316687418" onmouseenter="enter('3607424091316687418');" onmouseout="out('3607424091316687418');" style=""> 204              super(context, name, factory, version);                                                               </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 205          }                                                                                                         </span>
<span  style=""> 206                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 207          @Override                                                                                                 </span>
<span class="6560321291136209336" onmouseenter="enter('6560321291136209336');" onmouseout="out('6560321291136209336');" style=""> 208          public final void onCreate(SQLiteDatabase db) {                                                           </span>
<span class="1670468275179411026" onmouseenter="enter('1670468275179411026');" onmouseout="out('1670468275179411026');" style=""> 209              onCreateInner(db);                                                                                    </span>
<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 210              mDatabaseCreated = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 211          }                                                                                                         </span>
<span  style=""> 212                                                                                                                    </span>
<span class="-2143216386073375288" onmouseenter="enter('-2143216386073375288');" onmouseout="out('-2143216386073375288');" style=""> 213          protected abstract void onCreateInner(SQLiteDatabase db);                                                 </span>
<span  style=""> 214                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215          @Override                                                                                                 </span>
<span class="-5834488086690899465" onmouseenter="enter('-5834488086690899465');" onmouseout="out('-5834488086690899465');" style=""> 216          public final void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {              </span>
<span class="3258265368442769260" onmouseenter="enter('3258265368442769260');" onmouseout="out('3258265368442769260');" style=""> 217              onUpgradeInner(sqLiteDatabase, oldVersion, newVersion);                                               </span>
























<span class="-4112904267028482902" onmouseenter="enter('-4112904267028482902');" onmouseout="out('-4112904267028482902');" style=""> 218              mDatabaseCreated = true;                                                                              </span>
<span class="-5692231938642834292" onmouseenter="enter('-5692231938642834292');" onmouseout="out('-5692231938642834292');" style=""> 219              mDatabaseUpgraded = true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220          }                                                                                                         </span>
<span  style=""> 221                                                                                                                    </span>
<span class="6877865662777780617" onmouseenter="enter('6877865662777780617');" onmouseout="out('6877865662777780617');" style=""> 222          protected abstract void onUpgradeInner(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion);    </span>















<span  style=""> 223                                                                                                                    </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 224          protected ContentValues createBaseContentValues(int id) {                                                 </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 225              ContentValues contentValues = new ContentValues();                                                    </span>
<span class="4882308526391357089" onmouseenter="enter('4882308526391357089');" onmouseout="out('4882308526391357089');" style=""> 226              contentValues.put(JobStorage.COLUMN_ID, id);                                                          </span>
<span class="5775313243864116582" onmouseenter="enter('5775313243864116582');" onmouseout="out('5775313243864116582');" style=""> 227              contentValues.put(JobStorage.COLUMN_TAG, &quot;Tag&quot;);                                                      </span>
<span  style=""> 228                                                                                                                    </span>
<span class="-1397772710560816545" onmouseenter="enter('-1397772710560816545');" onmouseout="out('-1397772710560816545');" style=""> 229              contentValues.put(JobStorage.COLUMN_START_MS, -1L);                                                   </span>
<span class="7859694369433916467" onmouseenter="enter('7859694369433916467');" onmouseout="out('7859694369433916467');" style=""> 230              contentValues.put(JobStorage.COLUMN_END_MS, -1L);                                                     </span>
<span  style=""> 231                                                                                                                    </span>
<span class="4756578937714418605" onmouseenter="enter('4756578937714418605');" onmouseout="out('4756578937714418605');" style=""> 232              contentValues.put(JobStorage.COLUMN_BACKOFF_MS, JobRequest.DEFAULT_BACKOFF_MS);                       </span>
<span class="-3535108724382731015" onmouseenter="enter('-3535108724382731015');" onmouseout="out('-3535108724382731015');" style=""> 233              contentValues.put(JobStorage.COLUMN_BACKOFF_POLICY, JobRequest.DEFAULT_BACKOFF_POLICY.toString());    </span>
<span  style=""> 234                                                                                                                    </span>
<span class="-221873649665451798" onmouseenter="enter('-221873649665451798');" onmouseout="out('-221873649665451798');" style=""> 235              contentValues.put(JobStorage.COLUMN_INTERVAL_MS, 0L);                                                 </span>
<span  style=""> 236                                                                                                                    </span>
<span class="3238647053561544333" onmouseenter="enter('3238647053561544333');" onmouseout="out('3238647053561544333');" style=""> 237              contentValues.put(JobStorage.COLUMN_REQUIREMENTS_ENFORCED, false);                                    </span>
<span class="4163033908339933383" onmouseenter="enter('4163033908339933383');" onmouseout="out('4163033908339933383');" style=""> 238              contentValues.put(JobStorage.COLUMN_REQUIRES_CHARGING, false);                                        </span>
<span class="-712540120190572793" onmouseenter="enter('-712540120190572793');" onmouseout="out('-712540120190572793');" style=""> 239              contentValues.put(JobStorage.COLUMN_REQUIRES_DEVICE_IDLE, false);                                     </span>
<span class="-7823228738452576568" onmouseenter="enter('-7823228738452576568');" onmouseout="out('-7823228738452576568');" style=""> 240              contentValues.put(JobStorage.COLUMN_EXACT, false);                                                    </span>
<span class="-2942693606785659568" onmouseenter="enter('-2942693606785659568');" onmouseout="out('-2942693606785659568');" style=""> 241              contentValues.put(JobStorage.COLUMN_NETWORK_TYPE, JobRequest.DEFAULT_NETWORK_TYPE.toString());        </span>
<span  style=""> 242                                                                                                                    </span>
<span class="8168272757063627607" onmouseenter="enter('8168272757063627607');" onmouseout="out('8168272757063627607');" style=""> 243              contentValues.put(JobStorage.COLUMN_EXTRAS, new PersistableBundleCompat().saveToXml());               </span>
<span class="-6355573619334585191" onmouseenter="enter('-6355573619334585191');" onmouseout="out('-6355573619334585191');" style=""> 244              contentValues.put(JobStorage.COLUMN_PERSISTED, false);                                                </span>

<span  style=""> 245                                                                                                                    </span>
<span class="-7417777717518068918" onmouseenter="enter('-7417777717518068918');" onmouseout="out('-7417777717518068918');" style=""> 246              contentValues.put(JobStorage.COLUMN_NUM_FAILURES, 0);                                                 </span>
<span class="7656952325648715400" onmouseenter="enter('7656952325648715400');" onmouseout="out('7656952325648715400');" style=""> 247              contentValues.put(JobStorage.COLUMN_SCHEDULED_AT, System.currentTimeMillis());                        </span>
<span  style=""> 248                                                                                                                    </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 249              return contentValues;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251      }                                                                                                             </span>
<span  style=""> 252                                                                                                                    </span>
<span class="-6807776431408392642" onmouseenter="enter('-6807776431408392642');" onmouseout="out('-6807776431408392642');" style=""> 253      private static final class JobOpenHelper1 extends UpgradeAbleJobOpenHelper {                                  </span>

<span  style=""> 254                                                                                                                    </span>
<span class="6289903625222490506" onmouseenter="enter('6289903625222490506');" onmouseout="out('6289903625222490506');" style=""> 255          JobOpenHelper1(Context context) {                                                                         </span>
<span class="4769073762000142345" onmouseenter="enter('4769073762000142345');" onmouseout="out('4769073762000142345');" style=""> 256              super(context, DATABASE_NAME, null, 1);                                                               </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 257          }                                                                                                         </span>
<span  style=""> 258                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 259          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 260          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style=""> 261              createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262          }                                                                                                         </span>
<span  style=""> 263                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264          @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style=""> 265          public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="1273999693274717344" onmouseenter="enter('1273999693274717344');" onmouseout="out('1273999693274717344');" style=""> 266              // not needed at the moment                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267          }                                                                                                         </span>
<span  style=""> 268                                                                                                                    </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style=""> 269          private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 270              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 271                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 272                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 273                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 274                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 275                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 276                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 277                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 278                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 279                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 280                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 281                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 282                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 283                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style=""> 284                      + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>

<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 285                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="6921224975730885774" onmouseenter="enter('6921224975730885774');" onmouseout="out('6921224975730885774');" style=""> 286                      + COLUMN_SCHEDULED_AT + &quot; integer);&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288      }                                                                                                             </span>
<span  style=""> 289                                                                                                                    </span>
<span class="-6998575642077152897" onmouseenter="enter('-6998575642077152897');" onmouseout="out('-6998575642077152897');" style=""> 290      private static final class JobOpenHelper2 extends UpgradeAbleJobOpenHelper {                                  </span>

<span  style=""> 291                                                                                                                    </span>
<span class="8075975699720832911" onmouseenter="enter('8075975699720832911');" onmouseout="out('8075975699720832911');" style=""> 292          JobOpenHelper2(Context context) {                                                                         </span>
<span class="828169276513811299" onmouseenter="enter('828169276513811299');" onmouseout="out('828169276513811299');" style=""> 293              super(context, DATABASE_NAME, null, 2);                                                               </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294          }                                                                                                         </span>
<span  style=""> 295                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 296          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 297          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style=""> 298              createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299          }                                                                                                         </span>
<span  style=""> 300                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 301          @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style=""> 302          public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="-3346734355682188533" onmouseenter="enter('-3346734355682188533');" onmouseout="out('-3346734355682188533');" style=""> 303              // with newer versions there should be a smarter way                                                  </span>
<span class="-5460671612085259135" onmouseenter="enter('-5460671612085259135');" onmouseout="out('-5460671612085259135');" style=""> 304              if (oldVersion == 1 &amp;&amp; newVersion == 2) {                                                             </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style=""> 305                  upgradeFrom1To2(db);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 307          }                                                                                                         </span>
<span  style=""> 308                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 309          @Override                                                                                                 </span>
<span class="7746242348822222556" onmouseenter="enter('7746242348822222556');" onmouseout="out('7746242348822222556');" style=""> 310          protected ContentValues createBaseContentValues(int id) {                                                 </span>
<span class="-3015876553673707265" onmouseenter="enter('-3015876553673707265');" onmouseout="out('-3015876553673707265');" style=""> 311              ContentValues contentValues = super.createBaseContentValues(id);                                      </span>
<span class="-3721037630698281955" onmouseenter="enter('-3721037630698281955');" onmouseout="out('-3721037630698281955');" style=""> 312              contentValues.put(JobStorage.COLUMN_TRANSIENT, false);                                                </span>
<span class="-2664490004803699032" onmouseenter="enter('-2664490004803699032');" onmouseout="out('-2664490004803699032');" style=""> 313              return contentValues;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 314          }                                                                                                         </span>
<span  style=""> 315                                                                                                                    </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style=""> 316          private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 317              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 318                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 319                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 320                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 321                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 322                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 323                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 324                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 325                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 326                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 327                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 328                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 329                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 330                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style=""> 331                      + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>

<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 332                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 333                      + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="7938490355566854898" onmouseenter="enter('7938490355566854898');" onmouseout="out('7938490355566854898');" style=""> 334                      + COLUMN_TRANSIENT + &quot; integer);&quot;);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335          }                                                                                                         </span>
<span  style=""> 336                                                                                                                    </span>
<span class="-2777979328738628780" onmouseenter="enter('-2777979328738628780');" onmouseout="out('-2777979328738628780');" style=""> 337          private void upgradeFrom1To2(SQLiteDatabase db) {                                                         </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style=""> 338              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="2169730806139410566" onmouseenter="enter('2169730806139410566');" onmouseout="out('2169730806139410566');" style=""> 342      private static final class JobOpenHelper3 extends UpgradeAbleJobOpenHelper {                                  </span>
















<span  style=""> 343                                                                                                                    </span>
<span class="-8821174099914626838" onmouseenter="enter('-8821174099914626838');" onmouseout="out('-8821174099914626838');" style=""> 344          JobOpenHelper3(Context context) {                                                                         </span>
<span class="-1013541248737151123" onmouseenter="enter('-1013541248737151123');" onmouseout="out('-1013541248737151123');" style=""> 345              super(context, DATABASE_NAME, null, 3);                                                               </span>





<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 346          }                                                                                                         </span>
<span  style=""> 347                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 348          @Override                                                                                                 </span>
<span class="8198713565407014863" onmouseenter="enter('8198713565407014863');" onmouseout="out('8198713565407014863');" style=""> 349          public void onCreateInner(SQLiteDatabase db) {                                                            </span>
<span class="3675678860195979182" onmouseenter="enter('3675678860195979182');" onmouseout="out('3675678860195979182');" style=""> 350              createJobTable(db);                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 351          }                                                                                                         </span>
<span  style=""> 352                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 353          @Override                                                                                                 </span>
<span class="-5710641375544861101" onmouseenter="enter('-5710641375544861101');" onmouseout="out('-5710641375544861101');" style=""> 354          public void onUpgradeInner(SQLiteDatabase db, int oldVersion, int newVersion) {                           </span>
<span class="2524676400216970319" onmouseenter="enter('2524676400216970319');" onmouseout="out('2524676400216970319');" style=""> 355              while (oldVersion &lt; newVersion) {                                                                     </span>
<span class="-2644200031636506022" onmouseenter="enter('-2644200031636506022');" onmouseout="out('-2644200031636506022');" style=""> 356                  switch (oldVersion) {                                                                             </span>
<span class="-1101904192611917292" onmouseenter="enter('-1101904192611917292');" onmouseout="out('-1101904192611917292');" style=""> 357                      case 1:                                                                                       </span>
<span class="-6664515367900128376" onmouseenter="enter('-6664515367900128376');" onmouseout="out('-6664515367900128376');" style=""> 358                          upgradeFrom1To2(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 359                          oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 360                          break;                                                                                    </span>
<span class="1568233748741705754" onmouseenter="enter('1568233748741705754');" onmouseout="out('1568233748741705754');" style=""> 361                      case 2:                                                                                       </span>
<span class="-8626060137941055838" onmouseenter="enter('-8626060137941055838');" onmouseout="out('-8626060137941055838');" style=""> 362                          upgradeFrom2To3(db);                                                                      </span>
<span class="-4869799616798581689" onmouseenter="enter('-4869799616798581689');" onmouseout="out('-4869799616798581689');" style=""> 363                          oldVersion++;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 364                          break;                                                                                    </span>
<span class="-8178136317704390296" onmouseenter="enter('-8178136317704390296');" onmouseout="out('-8178136317704390296');" style=""> 365                      default:                                                                                      </span>
<span class="3630837704546175647" onmouseenter="enter('3630837704546175647');" onmouseout="out('3630837704546175647');" style=""> 366                          throw new IllegalStateException(&quot;not implemented&quot;);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369          }                                                                                                         </span>
<span  style=""> 370                                                                                                                    </span>
<span class="6188770209634244529" onmouseenter="enter('6188770209634244529');" onmouseout="out('6188770209634244529');" style=""> 371          private void createJobTable(SQLiteDatabase db) {                                                          </span>
<span class="-782343613149443026" onmouseenter="enter('-782343613149443026');" onmouseout="out('-782343613149443026');" style=""> 372              db.execSQL(&quot;create table &quot; + JOB_TABLE_NAME + &quot; (&quot;                                                    </span>
<span class="1619651023227296595" onmouseenter="enter('1619651023227296595');" onmouseout="out('1619651023227296595');" style=""> 373                      + COLUMN_ID + &quot; integer primary key, &quot;                                                        </span>
<span class="1615876528438797472" onmouseenter="enter('1615876528438797472');" onmouseout="out('1615876528438797472');" style=""> 374                      + COLUMN_TAG + &quot; text not null, &quot;                                                             </span>
<span class="1650473216663039799" onmouseenter="enter('1650473216663039799');" onmouseout="out('1650473216663039799');" style=""> 375                      + COLUMN_START_MS + &quot; integer, &quot;                                                              </span>
<span class="-5364349812674498093" onmouseenter="enter('-5364349812674498093');" onmouseout="out('-5364349812674498093');" style=""> 376                      + COLUMN_END_MS + &quot; integer, &quot;                                                                </span>
<span class="-7132632786302548490" onmouseenter="enter('-7132632786302548490');" onmouseout="out('-7132632786302548490');" style=""> 377                      + COLUMN_BACKOFF_MS + &quot; integer, &quot;                                                            </span>
<span class="4762111779826726958" onmouseenter="enter('4762111779826726958');" onmouseout="out('4762111779826726958');" style=""> 378                      + COLUMN_BACKOFF_POLICY + &quot; text not null, &quot;                                                  </span>
<span class="4669779888273516908" onmouseenter="enter('4669779888273516908');" onmouseout="out('4669779888273516908');" style=""> 379                      + COLUMN_INTERVAL_MS + &quot; integer, &quot;                                                           </span>
<span class="-3125139090443019626" onmouseenter="enter('-3125139090443019626');" onmouseout="out('-3125139090443019626');" style=""> 380                      + COLUMN_REQUIREMENTS_ENFORCED + &quot; integer, &quot;                                                 </span>
<span class="-1367002426959120339" onmouseenter="enter('-1367002426959120339');" onmouseout="out('-1367002426959120339');" style=""> 381                      + COLUMN_REQUIRES_CHARGING + &quot; integer, &quot;                                                     </span>
<span class="-3938853039857233915" onmouseenter="enter('-3938853039857233915');" onmouseout="out('-3938853039857233915');" style=""> 382                      + COLUMN_REQUIRES_DEVICE_IDLE + &quot; integer, &quot;                                                  </span>
<span class="-3292000544210815605" onmouseenter="enter('-3292000544210815605');" onmouseout="out('-3292000544210815605');" style=""> 383                      + COLUMN_EXACT + &quot; integer, &quot;                                                                 </span>
<span class="8220633810262687545" onmouseenter="enter('8220633810262687545');" onmouseout="out('8220633810262687545');" style=""> 384                      + COLUMN_NETWORK_TYPE + &quot; text not null, &quot;                                                    </span>
<span class="7299149189216502480" onmouseenter="enter('7299149189216502480');" onmouseout="out('7299149189216502480');" style=""> 385                      + COLUMN_EXTRAS + &quot; text, &quot;                                                                   </span>
<span class="5670009809470630955" onmouseenter="enter('5670009809470630955');" onmouseout="out('5670009809470630955');" style=""> 386                      + COLUMN_PERSISTED + &quot; integer, &quot;                                                             </span>

<span class="-1764581784183854170" onmouseenter="enter('-1764581784183854170');" onmouseout="out('-1764581784183854170');" style=""> 387                      + COLUMN_NUM_FAILURES + &quot; integer, &quot;                                                          </span>
<span class="4007950815316876299" onmouseenter="enter('4007950815316876299');" onmouseout="out('4007950815316876299');" style=""> 388                      + COLUMN_SCHEDULED_AT + &quot; integer, &quot;                                                          </span>
<span class="-1792467939526060695" onmouseenter="enter('-1792467939526060695');" onmouseout="out('-1792467939526060695');" style=""> 389                      + COLUMN_TRANSIENT + &quot; integer, &quot;                                                             </span>

<span class="2851534823110489476" onmouseenter="enter('2851534823110489476');" onmouseout="out('2851534823110489476');" style=""> 390                      + COLUMN_FLEX_MS + &quot; integer, &quot;                                                               </span>
<span class="-6330248982531094647" onmouseenter="enter('-6330248982531094647');" onmouseout="out('-6330248982531094647');" style=""> 391                      + COLUMN_FLEX_SUPPORT + &quot; integer);&quot;);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392          }                                                                                                         </span>
<span  style=""> 393                                                                                                                    </span>
<span class="-2777979328738628780" onmouseenter="enter('-2777979328738628780');" onmouseout="out('-2777979328738628780');" style=""> 394          private void upgradeFrom1To2(SQLiteDatabase db) {                                                         </span>
<span class="-7326824357619724012" onmouseenter="enter('-7326824357619724012');" onmouseout="out('-7326824357619724012');" style=""> 395              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_TRANSIENT + &quot; integer;&quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396          }                                                                                                         </span>
<span  style=""> 397                                                                                                                    </span>
<span class="-3527052295904972715" onmouseenter="enter('-3527052295904972715');" onmouseout="out('-3527052295904972715');" style=""> 398          private void upgradeFrom2To3(SQLiteDatabase db) {                                                         </span>

<span class="5260702553356851671" onmouseenter="enter('5260702553356851671');" onmouseout="out('5260702553356851671');" style=""> 399              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_MS + &quot; integer;&quot;);          </span>
<span class="-3956491332147853939" onmouseenter="enter('-3956491332147853939');" onmouseout="out('-3956491332147853939');" style=""> 400              db.execSQL(&quot;alter table &quot; + JOB_TABLE_NAME + &quot; add column &quot; + COLUMN_FLEX_SUPPORT + &quot; integer;&quot;);     </span>
<span  style=""> 401                                                                                                                    </span>
<span class="5986191296602121568" onmouseenter="enter('5986191296602121568');" onmouseout="out('5986191296602121568');" style=""> 402              // adjust interval to minimum value if necessary                                                      </span>
<span class="-5253156436052304150" onmouseenter="enter('-5253156436052304150');" onmouseout="out('-5253156436052304150');" style=""> 403              ContentValues contentValues = new ContentValues();                                                    </span>
<span class="-8344433330599698983" onmouseenter="enter('-8344433330599698983');" onmouseout="out('-8344433330599698983');" style=""> 404              contentValues.put(COLUMN_INTERVAL_MS, JobRequest.MIN_INTERVAL);                                       </span>
<span class="-8559731467279894779" onmouseenter="enter('-8559731467279894779');" onmouseout="out('-8559731467279894779');" style=""><abbr title=" 405              db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + JobRequest.MIN_INTERVAL, new String[0]);"> 405              db.update(JOB_TABLE_NAME, contentValues, COLUMN_INTERVAL_MS + &quot;&gt;0 AND &quot; + COLUMN_INTERVAL_MS + &quot;&lt;&quot; + J🔵</abbr></span>
<span  style=""> 406                                                                                                                    </span>
<span class="-8691111557153291432" onmouseenter="enter('-8691111557153291432');" onmouseout="out('-8691111557153291432');" style=""> 407              // copy interval into flex column, that&#x27;s the default value and the flex support mode is not required </span>
<span class="-4034349801530717432" onmouseenter="enter('-4034349801530717432');" onmouseout="out('-4034349801530717432');" style=""> 408              db.execSQL(&quot;update &quot; + JOB_TABLE_NAME + &quot; set &quot; + COLUMN_FLEX_MS + &quot; = &quot; + COLUMN_INTERVAL_MS + &quot;;&quot;); </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410      }                                                                                                             </span>









































































































































<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 411  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            