<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>181</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    181
                    <a href="180.html">prev</a>
                    <a href="182.html">next</a>
                    <a href="181_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    BroadleafCommerce/BroadleafCommerce_310203c9852593bd4f07481ea4d693d3096b6994_admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994^1:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;310203c9852593bd4f07481ea4d693d3096b6994^2:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\BroadleafCommerce\BroadleafCommerce show &quot;c2b9b7cebcb68adf6459f3932383315f3716ab81:admin/broadleaf-open-admin-platform/src/main/java/org/broadleafcommerce/openadmin/server/dao/DynamicEntityDaoImpl.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj], [s]], subset: [[bj], [s]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span  style="">  20                                                                                                          </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="">  36 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  37 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  38 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  39 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  40 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  41 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  42 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  43 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  44 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  45 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="-892446793207041130" onmouseenter="enter('-892446793207041130');" onmouseout="out('-892446793207041130');" style="">  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.BasicFieldMetadataProvider;          </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  47 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  48 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  48 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  49 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  50 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  51 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  52 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  53 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  54 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  55 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  56 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  57 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  58 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  59 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  60 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  61 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  62 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  63 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  64 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  65 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  66 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  67 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  68                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  69 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  70 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  71 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  72 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  73 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  74 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  75 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  76 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="1491934911577693694" onmouseenter="enter('1491934911577693694');" onmouseout="out('1491934911577693694');" style="">  77 import java.text.DecimalFormat;                                                                          </span>
<span class="-76499702739685611" onmouseenter="enter('-76499702739685611');" onmouseout="out('-76499702739685611');" style="">  78 import java.text.NumberFormat;                                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  79 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  80 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  81 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  82 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  83 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  84 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  85 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  86 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  87 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  88 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  89 import java.util.Set;                                                                                    </span>
<span  style="">  90                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  91 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  92 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  93 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  94 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  95 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  96 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  97 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  98 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  99                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 100 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style=""> 101  * @author jfischer                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 102  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 103 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 104 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 105 public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                 </span>
<span  style=""> 106                                                                                                          </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 107     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 108                                                                                                          </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 109     protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);  </span>
<span  style=""> 110                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 111     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 112      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 112      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 113      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 113      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 114      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 115      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 116     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 117                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 118     /*                                                                                                   </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 119      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 119      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 120      * from polymorphism                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121      */                                                                                                  </span>
<span  style=""> 122                                                                                                          </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 123     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 124                                                                                                          </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style=""> 125     @Resource(name = &quot;blMetadata&quot;)                                                                       </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 126     protected Metadata metadata;                                                                         </span>
<span  style=""> 127                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 128     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 129     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 130                                                                                                          </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 131     @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                         </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 132     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 134     @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                   </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 135     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 136                                                                                                          </span>
<span class="7601391799219903677" onmouseenter="enter('7601391799219903677');" onmouseout="out('7601391799219903677');" style=""> 137     @Resource(name = &quot;blBasicFieldMetadataProvider&quot;)                                                     </span>
<span class="4700597448441216293" onmouseenter="enter('4700597448441216293');" onmouseout="out('4700597448441216293');" style=""> 138     protected BasicFieldMetadataProvider basicFieldMetadataProvider;                                     </span>
<span  style=""> 139                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 140     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 141     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 142                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 143     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 144                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 145     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 146     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 147                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 148     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 149      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 149      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 150      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 151     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 152     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 153                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 154     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 155                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 156     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 157                                                                                                          </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 158     protected FieldManager fieldManager;                                                                 </span>
<span  style=""> 159                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 161     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 162         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 166     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 167         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 171     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 172         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 173         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 174         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 178     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 179         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180     }                                                                                                    </span>
<span  style=""> 181                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 183     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 184         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 185         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 186         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 190     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 191         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 195     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 196         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 200     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 201         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 205     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 206         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 210     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 211         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 212         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 216     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 217         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 220     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 221     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 222         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223     }                                                                                                    </span>
<span  style=""> 224                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 225     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 226     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 227         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 228             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 230         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 231             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 232         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 233             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 234                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 235                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 236                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 237                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 238                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 239                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 240             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 241                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244     }                                                                                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 247     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 248         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 252     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 252     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 253         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 253         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 257     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 258         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259     }                                                                                                    </span>
<span  style=""> 260                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 262     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 263         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 264         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 265             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 266         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 267             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 269         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 270             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 271                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 272             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 273                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 275             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 277         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278     }                                                                                                    </span>
<span  style=""> 279                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 280     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 281     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 282         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 283         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 284             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 285         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 286             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 288         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 289         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 290             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 291             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 293         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 294             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 294             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 296         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 297         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298     }                                                                                                    </span>
<span  style=""> 299                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 300     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 301     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 301     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 302         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 302         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 303         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 304         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 305         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 306         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 307         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 308         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 309                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 310         Path path = null;                                                                                </span>
<span  style=""> 311                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 312         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 313         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 314             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 315             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 316                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 317                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 318                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 319                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 322         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 323             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324         }                                                                                                </span>
<span  style=""> 325                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 326         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 327         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 328         //when we creating the new item identifier is not exists                                         </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 329         if (identifier != null) {                                                                        </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 330             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331         }                                                                                                </span>
<span  style=""> 332                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 333         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 334             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 334             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335         }                                                                                                </span>
<span  style=""> 336                                                                                                          </span>
<span class="-7694216774508171321" onmouseenter="enter('-7694216774508171321');" onmouseout="out('-7694216774508171321');" style=""> 337         criteria.where(restrictions.toArray(new Predicate[restrictions.size()]));                        </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 338         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 341     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 342     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 343         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344     }                                                                                                    </span>
<span  style=""> 345                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 346     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 347         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348     }                                                                                                    </span>
<span  style=""> 349                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 350     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 351         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 354     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 355         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 356         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 357             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 358         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 359             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 361         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 362             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 364         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 365             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 366             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 367             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 368         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 369             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 370                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 375     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 376         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 376         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 377         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 378             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 379             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 380                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 385     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 386     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 387         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 388         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 389             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 389             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 390             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 391                 String ceilingEntity = classPresentation.ceilingDisplayEntity();                         </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 392                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 393                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 394                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 398         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 399             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 400             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 401             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 402                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 403                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 404                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 406                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 408             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 409                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 410                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 411                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413         }                                                                                                </span>
<span  style=""> 414                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 415         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 416         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 417             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                       </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 418             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 419             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 420             for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                   </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 421                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 423             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 425         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426     }                                                                                                    </span>
<span  style=""> 427                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 428     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 429     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 430         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 431         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432     }                                                                                                    </span>
<span  style=""> 433                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 434     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 435     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 435     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 436         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 437         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 438             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 439         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 440             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 442         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 443             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 444                     entityName,                                                                          </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 445                     entityClasses,                                                                       </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 446                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 446                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 447                     persistencePerspective.getAdditionalNonPersistentProperties(),                       </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 448                     persistencePerspective.getAdditionalForeignKeys(),                                   </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 449                     MergedPropertyType.PRIMARY,                                                          </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 450                     persistencePerspective.getPopulateToOneFields(),                                     </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 451                     persistencePerspective.getIncludeFields(),                                           </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 452                     persistencePerspective.getExcludeFields(),                                           </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 453                     persistencePerspective.getConfigurationKey(),                                        </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 454                     &quot;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 455             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 456         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 457             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 458             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 459             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 460                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 461             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 462                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 464             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 464             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 465             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 466                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 467                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 468                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 469                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 470                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 471                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 472                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 473                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 473                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 474                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 475                                             property, null, false, 0, attributesMap, presentationAttribute,"> 475                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 476                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 476                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 477                                     mergedProperties);                                                   </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 478                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 479                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 481                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 482                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 485                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 486                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 486                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 487                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 487                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 488                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 489                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 489                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 490                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 491                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 491                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 492                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496             }                                                                                            </span>
<span  style=""> 497                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 498             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500     }                                                                                                    </span>
<span  style=""> 501                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 502     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 503     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 504         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 505         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 506                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 507                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 508                 null,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 509                 new String[]{},                                                                          </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 510                 new ForeignKey[]{},                                                                      </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 511                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 512                 true,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 513                 new String[]{},                                                                          </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 514                 new String[]{},                                                                          </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 515                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 516                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 517         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518     }                                                                                                    </span>
<span  style=""> 519                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 520     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 521     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 522             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 523             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 524             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 525             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 526             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 527             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 528             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 529             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 530             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 531             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 532             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 533         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 534                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 535                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 536                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 537                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 538                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 539                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 540                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 541                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 542                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 543                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 544                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 545                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 546                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 547                 &quot;&quot;);                                                                                     </span>
<span  style=""> 548                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 549         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 550                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 551         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 552             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 552             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 553                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555         }                                                                                                </span>
<span  style=""> 556                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 557         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 558             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559         }                                                                                                </span>
<span  style=""> 560                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 561         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 561         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 562         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 562         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 563         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 564         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 565         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 566             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 567                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 567                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 568                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 569                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 570                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 571                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 571                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 572                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 573                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 575                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 576                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 579                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 580                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 583         }                                                                                                </span>
<span  style=""> 584                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 585         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586     }                                                                                                    </span>
<span  style=""> 587                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 588     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 589             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 590             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 591             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 592             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 593             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 594             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 595             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 596             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 597             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 598             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 599             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 600             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 601             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 602             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 603         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 604             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 605             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 606                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 607                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 608                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 609                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 610                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 611                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612                 }                                                                                        </span>
<span  style=""> 613                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 614                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 615                         entities,                                                                        </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 616                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 617                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 618                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 619                         mergedPropertyType,                                                              </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 620                         classAnnotatedPopulateManyToOneFields,                                           </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 621                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 622                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 623                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 624                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 625                         mergedProperties,                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 626                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 627                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 628                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 629                         parentPrefix);                                                                   </span>
<span  style=""> 630                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 631                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 632             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 633         };                                                                                               </span>
<span  style=""> 634                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 635         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 635         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 636         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 636         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 637         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 638                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 639         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640     }                                                                                                    </span>
<span  style=""> 641                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 642     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 642     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 643         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 644             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 645             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 646                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 647             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 648             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 649                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 650                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 651                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 652                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 653                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 656             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 657                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 658                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 659             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 660         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 661     }                                                                                                    </span>
<span  style=""> 662                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 663     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 663     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 664         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 665         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 666             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 667                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 668                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 669                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 670                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 671                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 671                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 672                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 673                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 674                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 675                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 676                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 676                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 677                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 678                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 681             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 682         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 683             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 684             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 685                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 686                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 687                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 688                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 689                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 689                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 690                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 691                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 692                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 693                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 694                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 694                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 695                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 699             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701     }                                                                                                    </span>
<span  style=""> 702                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 703     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 704         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 705         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 706             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 707         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 708         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709     }                                                                                                    </span>
<span  style=""> 710                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 711     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 711     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 712         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 713         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 714         sb.append(clazz.hashCode());                                                                     </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 715         sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                  </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 716         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 717         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 718         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 719             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 720                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 723         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 724             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 725                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 728         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 729         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 730                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 731         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 732         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 733             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 734             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 735             BigInteger number = new BigInteger(1, messageDigest);                                        </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 736             digest = number.toString(16);                                                                </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 737         } catch (NoSuchAlgorithmException e) {                                                           </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 738             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 739         }                                                                                                </span>
<span  style=""> 740                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 741         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 742                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 743         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 744             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 745         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 746         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 747     }                                                                                                    </span>
<span  style=""> 748                                                                                                          </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 749     protected void buildPropertiesFromPolymorphicEntities(                                               </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 750             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 751             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 752             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 753             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 754             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 755             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 756             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 757             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 758             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 759             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 760             Map&lt;String, FieldMetadata&gt; mergedProperties,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 761             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 762             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 763             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 764             String parentPrefix) {                                                                       </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 765         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 766             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 766             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span  style=""> 767                                                                                                          </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 768             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style=""> 769             synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                            </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 770                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 771                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 772                 }                                                                                        </span>
<span  style=""> 773                                                                                                          </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 774                 if (cacheData == null) {                                                                 </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 775                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                      </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 776                             clazz,                                                                       </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 777                             foreignField,                                                                </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 778                             additionalNonPersistentProperties,                                           </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 779                             additionalForeignFields,                                                     </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 780                             mergedPropertyType,                                                          </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 781                             populateManyToOneFields,                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 782                             includeFields,                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 783                             excludeFields,                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 784                             configurationKey,                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 785                             ceilingEntityFullyQualifiedClassname,                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 786                             parentClasses,                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 787                             prefix,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 788                             isParentExcluded,                                                            </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 789                             parentPrefix);                                                               </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""><abbr title=" 790                     //first check all the properties currently in there to see if my entity inherits from them"> 790                     //first check all the properties currently in there to see if my entity inherits fromðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 791                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 792                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 793                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 794                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 795                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 796                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 796                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 797                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 797                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 798                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 799                                     }                                                                    </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 800                                 } catch (ClassNotFoundException e) {                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 801                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 802                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 804                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 805                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 806                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span  style=""> 807                                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 808                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 809                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 809                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKeyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810                     }                                                                                    </span>
<span  style=""> 811                                                                                                          </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 812                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 813                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 814                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 815                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 816                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 817                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 818                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 818                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 819                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 820                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 821                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 822                     }                                                                                    </span>
<span  style=""> 823                                                                                                          </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 824                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 825                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 826                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 827                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 827                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 828                     }                                                                                    </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 829 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-501850328574122245" onmouseenter="enter('-501850328574122245');" onmouseout="out('-501850328574122245');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 830                     //in case of MT different sites can potentially have different data driven enums, as we don&#x27;t take into account"> 830                     //in case of MT different sites can potentially have different data driven enums, as ðŸ”µ</abbr></span>
<span class="3536487786926857167" onmouseenter="enter('3536487786926857167');" onmouseout="out('3536487786926857167');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 831                     //site during cache key calculation(have metadata per-site is overkill) we want to refresh data driven enums"> 831                     //site during cache key calculation(have metadata per-site is overkill) we want to reðŸ”µ</abbr></span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 832                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="-6317931462130244294" onmouseenter="enter('-6317931462130244294');" onmouseout="out('-6317931462130244294');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 833                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetadata)value).getOptionListEntity())){"> 833                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetaðŸ”µ</abbr></span>
<span class="5758214601511037981" onmouseenter="enter('5758214601511037981');" onmouseout="out('5758214601511037981');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 834                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata) value);"> 834                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 835 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 836             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 837             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 838                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 839             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 840             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 841         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 842     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 843                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 844     @Override                                                                                            </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 845 =======                                                                                                  </span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 846                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="3662529019461774815" onmouseenter="enter('3662529019461774815');" onmouseout="out('3662529019461774815');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 847                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttl=-1) and you cache metadata for en locale"> 847                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttðŸ”µ</abbr></span>
<span class="1220507139995640855" onmouseenter="enter('1220507139995640855');" onmouseout="out('1220507139995640855');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 848                         //then switch to FR that has comma as decimal separator                          </span>
<span class="5382883375622517459" onmouseenter="enter('5382883375622517459');" onmouseout="out('5382883375622517459');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 849                         if (value instanceof BasicFieldMetadata) {                                       </span>
<span class="-2436744243394205199" onmouseenter="enter('-2436744243394205199');" onmouseout="out('-2436744243394205199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 850                             BasicFieldMetadata v = (BasicFieldMetadata) value;                           </span>
<span class="935841697909025262" onmouseenter="enter('935841697909025262');" onmouseout="out('935841697909025262');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 851                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldType.INTEGER.equals(v.getSecondaryType())"> 851                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldðŸ”µ</abbr></span>
<span class="-7075527813897367563" onmouseenter="enter('-7075527813897367563');" onmouseout="out('-7075527813897367563');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 852                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFieldType.DECIMAL.equals(v.getFieldType())) {"> 852                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFiðŸ”µ</abbr></span>
<span class="-3634274925625102709" onmouseenter="enter('-3634274925625102709');" onmouseout="out('-3634274925625102709');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 853                                 refreshDecimalDefaultValue(v);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 854                             }                                                                            </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 855 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 856                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 857                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 858                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 859             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 860             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 861             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 862             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 863                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 864             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 865             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 867     }                                                                                                    </span>
<span  style=""> 868                                                                                                          </span>
<span class="8505499912833096604" onmouseenter="enter('8505499912833096604');" onmouseout="out('8505499912833096604');" style=""> 869     public void refreshDecimalDefaultValue(BasicFieldMetadata value) {                                   </span>
<span class="-2790325521225507620" onmouseenter="enter('-2790325521225507620');" onmouseout="out('-2790325521225507620');" style=""><abbr title=" 870         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroadleafRequestContext().getJavaLocale());"> 870         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroaðŸ”µ</abbr></span>
<span class="-3570118291130740528" onmouseenter="enter('-3570118291130740528');" onmouseout="out('-3570118291130740528');" style=""><abbr title=" 871         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;.&#x27;){"> 871         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; inðŸ”µ</abbr></span>
<span class="5949056225755593517" onmouseenter="enter('5949056225755593517');" onmouseout="out('5949056225755593517');" style=""><abbr title=" 872             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 872             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-2534078363605262116" onmouseenter="enter('-2534078363605262116');" onmouseout="out('-2534078363605262116');" style=""><abbr title=" 873         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;,&#x27;){"> 873         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;)ðŸ”µ</abbr></span>
<span class="3383230747707669962" onmouseenter="enter('3383230747707669962');" onmouseout="out('3383230747707669962');" style=""><abbr title=" 874             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 874             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 875         }                                                                                                </span>
<span  style=""> 876                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 877     }                                                                                                    </span>
<span  style=""> 878                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 879     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 880     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 881         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 882         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 883         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 884         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 885             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 886             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 887             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 888                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 889             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 890                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 891             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 892         }                                                                                                </span>
<span  style=""> 893                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 894         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 895     }                                                                                                    </span>
<span  style=""> 896                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 897     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 898     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 899             String propertyName,                                                                         </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 900             String friendlyPropertyName,                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 901             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 902             Class&lt;?&gt; parentClass,                                                                        </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 903             MergedPropertyType mergedPropertyType                                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 904     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 905         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 906         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 907         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 908         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 909             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 910             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 911             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 911             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 912         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 913             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 914             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 915             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 915             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 916         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 917             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 918             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 919             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 919             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 920         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 921             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 922             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 923             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 923             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 924         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 925                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 926                         Integer.class.isAssignableFrom(targetClass) ||                                   </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 927                         Long.class.isAssignableFrom(targetClass) ||                                      </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 928                         Short.class.isAssignableFrom(targetClass)                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 929                 ) {                                                                                      </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 930             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 931             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 932             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 932             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 933         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 934                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 935                         BigDecimal.class.isAssignableFrom(targetClass)                                   </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 936                 ) {                                                                                      </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 937             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 938             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 939             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 939             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 940         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 941         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 942         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 943         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 944         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 945         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 946         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 947                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 948         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 949     }                                                                                                    </span>
<span  style=""> 950                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 951     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 952     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 953         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 954     }                                                                                                    </span>
<span  style=""> 955                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 956     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 957     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 958         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 959     }                                                                                                    </span>
<span  style=""> 960                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 961     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 962     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 963         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 964     }                                                                                                    </span>
<span  style=""> 965                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 966     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 967     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 968         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);           </span>
<span  style=""> 969                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 970         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 970         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 971         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 972         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 973                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 974         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 975     }                                                                                                    </span>
<span  style=""> 976                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 977     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 978         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 979                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 980         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 981             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 982             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 983                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 984                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 986         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 987         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 988     }                                                                                                    </span>
<span  style=""> 989                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 990     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 991             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 992             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 993             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 994             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 995             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 996             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 997             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 998             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 999             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1000             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1001             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1002             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1003             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1004             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title="1005         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);">1005         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1006         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style="">1007             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title="1008                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);">1008                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style="">1009                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1010             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1011         }                                                                                                </span>
<span  style="">1012                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style="">1013         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style="">1014         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style="">1015         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style="">1016         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style="">1017         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style="">1018         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style="">1019         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style="">1020         propertyTypes.add(idType);                                                                       </span>
<span  style="">1021                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1022         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style="">1023         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style="">1024         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1025                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1026         //check the properties for problems                                                              </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style="">1027         while (testIter.hasNext()) {                                                                     </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1028             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1029             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1030                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1030                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1031             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1032             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1033         }                                                                                                </span>
<span  style="">1034                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1035         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1036                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1037                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1038                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1039                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1040                 mergedPropertyType,                                                                      </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1041                 presentationAttributes,                                                                  </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1042                 propertyList,                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1043                 fields,                                                                                  </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1044                 propertyNames,                                                                           </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1045                 propertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1046                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1047                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1048                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1049                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1050                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1051                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1052                 parentClasses,                                                                           </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1053                 prefix,                                                                                  </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1054                 isParentExcluded,                                                                        </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1055                 false,                                                                                   </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1056                 parentPrefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1057         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1058         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1059         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1060         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1061         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1062             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1063             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1064                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1064                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1065                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1066                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1067                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1068                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1069                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1069                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1070                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1071                     //check all the polymorphic types on this target class to see if the end property exists">1071                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1072                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1073                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1074                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1075                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1076                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1077                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1078                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1079                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1080                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1081                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1082                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1083                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1084                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1085                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1086                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1087                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1088                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1089                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1090                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1090                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1091                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1092                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1093             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1094         }                                                                                                </span>
<span  style="">1095                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1096         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1097     }                                                                                                    </span>
<span  style="">1098                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1099     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1100             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1101             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1102             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1103             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1104             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1105             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1106             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1107             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1108             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1109             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1110             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1111             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1112             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1113             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1114             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1115             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1116             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1117             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1118             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1119             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1120             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1121         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1122         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1123             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1124             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1125                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1126                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1126                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1127                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1128                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1129                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1130             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1131         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1132         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1133         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1134                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1135         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1136             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1137             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1138             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1138             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1139             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1140             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1141             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1142                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1142                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1143                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1144             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1145             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1146                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1147                             isPropertyForeignKey ||                                                      </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1148                             additionalForeignKeyIndexPosition &gt;= 0 ||                                    </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style=""><abbr title="1149                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0">1149                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparatoðŸ”µ</abbr></span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1150                     ) {                                                                                  </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1151                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1152                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1153                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1154                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1155                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1156                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1157                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1158                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1159                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1159                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1160                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1161                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1161                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1162                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1162                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1163                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1164                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1165                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1166                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1167                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1168                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1169                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1170                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1171                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1172                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1172                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttribðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1173                                 componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1173                                 componentProperties, fields, idProperty, populateManyToOneFields, includeðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1174                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1174                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, paðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1175                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1175                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1176                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1177                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1178             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1179         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1180     }                                                                                                    </span>
<span  style="">1181                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1182     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1183         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1184                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1185         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1185         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1186                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1187     }                                                                                                    </span>
<span  style="">1188                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1189     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1190         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1191                 &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                             </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1192                 &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                 </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1193                 &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {    </span>
<span  style="">1194                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1195             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1196             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1197         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1198     }                                                                                                    </span>
<span  style="">1199                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1200     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1200     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1201                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1201                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1202                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1203         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1203         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1204                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1205                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1206         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1206         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1207                 parentPrefix, propertyName);                                                             </span>
<span  style="">1208                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1209         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1210     }                                                                                                    </span>
<span  style="">1211                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1212     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1212     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1213         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1214     }                                                                                                    </span>
<span  style="">1215                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1216     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1217             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1218                                                             isComponentPrefix) {                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1219         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1220         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1221         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1221         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1222         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1223             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1224             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1225                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1226                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1227                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1227                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1228                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1229                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1230                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1231                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1232                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1233                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1234                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1235                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1236                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1237                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1238                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1239                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1240                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1241                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1242                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1243                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1244                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1245                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1246                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1247                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1248                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1249             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1250             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1251         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1252         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1253     }                                                                                                    </span>
<span  style="">1254                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1255     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1255     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1256         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1257         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1258             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1259             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1260                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1261                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1262                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1263                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1264             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1265             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1265             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1266                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1267             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1268         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1269         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1270     }                                                                                                    </span>
<span  style="">1271                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1272     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1273             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1274             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1275             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1276             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1277             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1278             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1279             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1280             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1281             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1282             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1283             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1284             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1285             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1286             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1287             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1288             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1289             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1290             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1291             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1292             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1293             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1294             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1295             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1296             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1297         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1298         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1299         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1300                 ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                  </span>
<span  style="">1301                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1302         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1303         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1304             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1305         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1306         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1307         checkProp:                                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1308         {                                                                                                </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1309             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1310                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1311                         targetClass,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1312                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1313                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1314                         additionalNonPersistentProperties,                                               </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1315                         mergedPropertyType,                                                              </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1316                         fields,                                                                          </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1317                         idProperty,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1318                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1319                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1320                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1321                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1322                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1323                         propertyName,                                                                    </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1324                         type,                                                                            </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1325                         returnedClass,                                                                   </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1326                         parentClasses,                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1327                         amIExcluded,                                                                     </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1328                         prefix,                                                                          </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1329                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1330                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1331             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1332             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1333              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1334              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1335              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1336             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1337                     type.isEntityType() &amp;&amp;                                                               </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1338                             !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                              </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1339                             populateManyToOneFields &amp;&amp;                                                   </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1340                             includeField                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1341                     ) {                                                                                  </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1342                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1343                         fields,                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1344                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1345                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1346                         additionalNonPersistentProperties,                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1347                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1348                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1349                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1350                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1351                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1352                         propertyName,                                                                    </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1353                         returnedClass,                                                                   </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1354                         targetClass,                                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1355                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1356                         prefix,                                                                          </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1357                         amIExcluded,                                                                     </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1358                         parentPrefix                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1359                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1360                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1361             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1362         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1363         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1364         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1365             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1366                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1366                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1367                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1367                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1368                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1368                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1369                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1370         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1371     }                                                                                                    </span>
<span  style="">1372                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1373     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1374         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1375         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1376             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1377         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1378         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1379     }                                                                                                    </span>
<span  style="">1380                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1381     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1381     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1382         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1383         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1384             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1384             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1385                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1386                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1387                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1388                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1389             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1390         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1391         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1392     }                                                                                                    </span>
<span  style="">1393                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1394     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1395             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1396             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1397             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1398             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1399             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1400             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1401             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1402             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1403             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1404             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1405             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1406             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1407             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1408             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1409             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1410             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1411         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1412         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1413                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1414         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1415             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1416         }                                                                                                </span>
<span  style="">1417                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1418         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1419                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1420         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1421                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1422                 polymorphicEntities,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1423                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1424                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1425                 additionalForeignFields,                                                                 </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1426                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1427                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1428                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1429                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1430                 configurationKey,                                                                        </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1431                 clonedParentClasses,                                                                     </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1432                 prefix + propertyName + &#x27;.&#x27;,                                                             </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1433                 isParentExcluded,                                                                        </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1434                 parentPrefix);                                                                           </span>
<span  style="">1435                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1436         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1437                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1438         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1439             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1440             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1441         }                                                                                                </span>
<span  style="">1442                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1443         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1444                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1445         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1446             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1447             final String key = newField.getKey();                                                        </span>
<span  style="">1448                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1449             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1450                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1451             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1452                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1452                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1453                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1454                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1455                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1456                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1457                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1458                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1459                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1460                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1461                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1462                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1463                     }                                                                                    </span>
<span  style="">1464                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1465                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1465                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1466                         for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {        </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1467                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1468                                 final String value = config.getValue();                                  </span>
<span  style="">1469                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1470                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1471                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1472                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1473                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1474                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1475                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1476                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1477             }                                                                                            </span>
<span  style="">1478                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1479             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1480                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1481             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1482         }                                                                                                </span>
<span  style="">1483                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1484         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1485     }                                                                                                    </span>
<span  style="">1486                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1487     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1488         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1489                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1489                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1490                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1490                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1491     }                                                                                                    </span>
<span  style="">1492                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1493     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1494      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1495      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1496      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1497      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1498      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1499      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1500      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1501     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1501     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1502         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1502         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1503         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1504     }                                                                                                    </span>
<span  style="">1505                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1506     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1507             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1508             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1509             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1510             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1511             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1512             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1513             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1514             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1515             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1516             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1517             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1518             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1519             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1520             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1521             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1522             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1523             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1524             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1525             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1526         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1527         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1528         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1529         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1530         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1531                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1532         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1533         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1534                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1535         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1536             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1537             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1538         }                                                                                                </span>
<span  style="">1539                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1540         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1540         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1541                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1542         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1543             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1544                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1544                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1545                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1546             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1547         }                                                                                                </span>
<span  style="">1548                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1549         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1550         Property property;                                                                               </span>
<span  style="">1551                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1552         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1553             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1554         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1555             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1556         }                                                                                                </span>
<span  style="">1557                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1558         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1558         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1559         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1560                                                                                                          </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1561         while (componentPropertyIterator.hasNext()) {                                                    </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1562             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1563         }                                                                                                </span>
<span  style="">1564                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1565         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1566         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1567                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1568                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1569                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1570                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1571                 mergedPropertyType,                                                                      </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1572                 componentPresentationAttributes,                                                         </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1573                 componentPropertyList,                                                                   </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1574                 newFields,                                                                               </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1575                 componentPropertyNames,                                                                  </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1576                 componentPropertyTypes,                                                                  </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1577                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1578                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1579                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1580                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1581                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1582                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1583                 parentClasses,                                                                           </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1584                 propertyName + &quot;.&quot;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1585                 isParentExcluded,                                                                        </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1586                 true,                                                                                    </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1587                 parentPrefix + prefix                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1588         );                                                                                               </span>
<span  style="">1589                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1590         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1591                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1592         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1593             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1594             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1595                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1596             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1597                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1598             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1599         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1600         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1601     }                                                                                                    </span>
<span  style="">1602                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1603     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1604     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1605         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1606     }                                                                                                    </span>
<span  style="">1607                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1608     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1609     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1610         this.standardEntityManager = entityManager;                                                      </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1611         fieldManager = new FieldManager(entityConfiguration, entityManager);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1612     }                                                                                                    </span>
<span  style="">1613                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1614     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1615     public FieldManager getFieldManager() {                                                              </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="">1616         return this.getFieldManager(true);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1617     }                                                                                                    </span>
<span  style="">1618                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1619     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1620     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1621         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1622             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1623             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1624             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1625         } else if (cleanFieldManager){                                                                   </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1626             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1627         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1628         return fieldManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1629     }                                                                                                    </span>
<span  style="">1630                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1631     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1632     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1633         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1634     }                                                                                                    </span>
<span  style="">1635                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1636     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1637     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1638         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1639     }                                                                                                    </span>
<span  style="">1640                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1641     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1642     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1643         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1644     }                                                                                                    </span>
<span  style="">1645                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1646     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1647     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1648         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1649     }                                                                                                    </span>
<span  style="">1650                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1651     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1652         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1653     }                                                                                                    </span>
<span  style="">1654                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1655     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1656         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1657     }                                                                                                    </span>
<span  style="">1658                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1659     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1660     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1661         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1662     }                                                                                                    </span>
<span  style="">1663                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1664     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1665         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1666     }                                                                                                    </span>
<span  style="">1667                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1668     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1669         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1670     }                                                                                                    </span>
<span  style="">1671                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1672     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1673     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1674         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1675     }                                                                                                    </span>
<span  style="">1676                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1677     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1678         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1679     }                                                                                                    </span>
<span  style="">1680                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1681 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span  style="">  20                                                                                                          </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="">  36 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  37 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  38 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  39 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  40 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  41 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  42 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  43 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  44 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  45 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="-892446793207041130" onmouseenter="enter('-892446793207041130');" onmouseout="out('-892446793207041130');" style="">  46 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.BasicFieldMetadataProvider;          </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  47 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  48 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  48 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  49 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  50 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  51 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  52 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  53 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  54 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  55 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  56 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  57 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  58 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  59 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  60 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  61 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  62 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  63 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  64 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  65 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  66 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  67 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  68                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  69 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  70 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  71 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  72 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  73 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  74 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  75 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  76 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="1491934911577693694" onmouseenter="enter('1491934911577693694');" onmouseout="out('1491934911577693694');" style="">  77 import java.text.DecimalFormat;                                                                          </span>
<span class="-76499702739685611" onmouseenter="enter('-76499702739685611');" onmouseout="out('-76499702739685611');" style="">  78 import java.text.NumberFormat;                                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  79 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  80 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  81 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  82 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  83 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  84 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  85 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  86 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  87 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  88 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  89 import java.util.Set;                                                                                    </span>
<span  style="">  90                                                                                                          </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  91 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  92 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  93 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  94 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  95 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  96 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  97 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  98 import javax.persistence.criteria.Root;                                                                  </span>
<span  style="">  99                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 100 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style=""> 101  * @author jfischer                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 102  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 103 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 104 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 105 public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                 </span>
<span  style=""> 106                                                                                                          </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 107     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 108                                                                                                          </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 109     protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);  </span>
<span  style=""> 110                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 111     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 112      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 112      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 113      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 113      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 114      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 115      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 116     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 117                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 118     /*                                                                                                   </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 119      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 119      * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 120      * from polymorphism                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 121      */                                                                                                  </span>
<span  style=""> 122                                                                                                          </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 123     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 124                                                                                                          </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style=""> 125     @Resource(name = &quot;blMetadata&quot;)                                                                       </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 126     protected Metadata metadata;                                                                         </span>
<span  style=""> 127                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 128     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 129     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 130                                                                                                          </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 131     @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                         </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 132     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 134     @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                   </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 135     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 136                                                                                                          </span>
<span class="7601391799219903677" onmouseenter="enter('7601391799219903677');" onmouseout="out('7601391799219903677');" style=""> 137     @Resource(name = &quot;blBasicFieldMetadataProvider&quot;)                                                     </span>
<span class="4700597448441216293" onmouseenter="enter('4700597448441216293');" onmouseout="out('4700597448441216293');" style=""> 138     protected BasicFieldMetadataProvider basicFieldMetadataProvider;                                     </span>
<span  style=""> 139                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 140     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 141     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 142                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 143     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 144                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 145     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 146     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 147                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 148     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 149      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 149      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 150      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 151     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 152     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 153                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 154     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 155                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 156     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 157                                                                                                          </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 158     protected FieldManager fieldManager;                                                                 </span>
<span  style=""> 159                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 161     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 162         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 166     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 167         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 170     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 171     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 172         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 173         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 174         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 178     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 179         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180     }                                                                                                    </span>
<span  style=""> 181                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 183     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 184         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 185         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 186         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 190     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 191         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 195     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 196         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 200     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 201         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 205     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 206         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 207     }                                                                                                    </span>
<span  style=""> 208                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 209     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 210     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 211         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 212         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 216     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 217         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 220     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 221     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 222         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 223     }                                                                                                    </span>
<span  style=""> 224                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 225     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 226     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 227         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 228             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 230         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 231             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 232         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 233             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 234                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 235                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 236                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 237                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 238                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 239                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 240             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 241                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 242             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 243         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244     }                                                                                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 247     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 248         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 252     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 252     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 253         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 253         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 257     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 258         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 259     }                                                                                                    </span>
<span  style=""> 260                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 261     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 262     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 263         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 264         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 265             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 266         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 267             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 269         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 270             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 271                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 272             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 273                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 275             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 277         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 278     }                                                                                                    </span>
<span  style=""> 279                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 280     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 281     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 282         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 283         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 284             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 285         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 286             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 288         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 289         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 290             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 291             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 293         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 294             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 294             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 296         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 297         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 298     }                                                                                                    </span>
<span  style=""> 299                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 300     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 301     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 301     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 302         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 302         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 303         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 304         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 305         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 306         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 307         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 308         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 309                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 310         Path path = null;                                                                                </span>
<span  style=""> 311                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 312         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 313         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 314             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 315             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 316                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 317                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 318                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 319                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 322         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 323             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 324         }                                                                                                </span>
<span  style=""> 325                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 326         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 327         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 328         //when we creating the new item identifier is not exists                                         </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 329         if (identifier != null) {                                                                        </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 330             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331         }                                                                                                </span>
<span  style=""> 332                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 333         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 334             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 334             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335         }                                                                                                </span>
<span  style=""> 336                                                                                                          </span>
<span class="-7694216774508171321" onmouseenter="enter('-7694216774508171321');" onmouseout="out('-7694216774508171321');" style=""> 337         criteria.where(restrictions.toArray(new Predicate[restrictions.size()]));                        </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 338         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 341     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 342     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 343         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344     }                                                                                                    </span>
<span  style=""> 345                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 346     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 347         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348     }                                                                                                    </span>
<span  style=""> 349                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 350     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 351         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 352     }                                                                                                    </span>
<span  style=""> 353                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 354     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 355         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 356         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 357             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 358         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 359             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 361         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 362             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 363         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 364         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 365             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 366             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 367             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 368         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 369             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 370                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 371             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 372         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 373     }                                                                                                    </span>
<span  style=""> 374                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 375     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 376         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 376         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 377         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 378             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 379             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 380                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 381             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 382         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 383     }                                                                                                    </span>
<span  style=""> 384                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 385     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 386     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 387         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 388         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 389             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 389             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 390             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 391                 String ceilingEntity = classPresentation.ceilingDisplayEntity();                         </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 392                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 393                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 394                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 395                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 396             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 397         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 398         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 399             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 400             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 401             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 402                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 403                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 404                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 405                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 406                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 408             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 409                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 410                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 411                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 412             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 413         }                                                                                                </span>
<span  style=""> 414                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 415         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 416         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 417             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                       </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 418             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 419             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 420             for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                   </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 421                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 423             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 424         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 425         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 426     }                                                                                                    </span>
<span  style=""> 427                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 428     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 429     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 430         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 431         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 432     }                                                                                                    </span>
<span  style=""> 433                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 434     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 435     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 435     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 436         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 437         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 438             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 439         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 440             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 441         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 442         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 443             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 444                     entityName,                                                                          </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 445                     entityClasses,                                                                       </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 446                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 446                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 447                     persistencePerspective.getAdditionalNonPersistentProperties(),                       </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 448                     persistencePerspective.getAdditionalForeignKeys(),                                   </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 449                     MergedPropertyType.PRIMARY,                                                          </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 450                     persistencePerspective.getPopulateToOneFields(),                                     </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 451                     persistencePerspective.getIncludeFields(),                                           </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 452                     persistencePerspective.getExcludeFields(),                                           </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 453                     persistencePerspective.getConfigurationKey(),                                        </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 454                     &quot;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 455             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 456         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 457             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 458             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 459             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 460                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 461             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 462                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 463             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 464             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 464             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 465             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 466                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 467                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 468                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 469                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 470                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 471                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 472                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 473                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 473                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 474                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 475                                             property, null, false, 0, attributesMap, presentationAttribute,"> 475                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 476                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 476                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 477                                     mergedProperties);                                                   </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 478                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 479                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 481                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 482                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 483                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 484                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 485                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 486                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 486                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 487                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 487                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 488                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 489                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 489                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 490                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 491                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 491                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 492                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496             }                                                                                            </span>
<span  style=""> 497                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 498             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 499         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 500     }                                                                                                    </span>
<span  style=""> 501                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 502     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 503     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 504         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 505         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 506                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 507                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 508                 null,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 509                 new String[]{},                                                                          </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 510                 new ForeignKey[]{},                                                                      </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 511                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 512                 true,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 513                 new String[]{},                                                                          </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 514                 new String[]{},                                                                          </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 515                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 516                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 517         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 518     }                                                                                                    </span>
<span  style=""> 519                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 520     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 521     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 522             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 523             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 524             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 525             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 526             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 527             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 528             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 529             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 530             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 531             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 532             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 533         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 534                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 535                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 536                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 537                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 538                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 539                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 540                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 541                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 542                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 543                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 544                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 545                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 546                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 547                 &quot;&quot;);                                                                                     </span>
<span  style=""> 548                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 549         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 550                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 551         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 552             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 552             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 553                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555         }                                                                                                </span>
<span  style=""> 556                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 557         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 558             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 559         }                                                                                                </span>
<span  style=""> 560                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 561         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 561         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 562         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 562         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 563         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 564         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 565         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 566             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 567                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 567                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 568                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 569                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 570                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 571                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 571                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 572                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 573                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 575                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 576                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 579                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 580                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 583         }                                                                                                </span>
<span  style=""> 584                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 585         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 586     }                                                                                                    </span>
<span  style=""> 587                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 588     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 589             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 590             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 591             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 592             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 593             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 594             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 595             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 596             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 597             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 598             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 599             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 600             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 601             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 602             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 603         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 604             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 605             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 606                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 607                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 608                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 609                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 610                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 611                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 612                 }                                                                                        </span>
<span  style=""> 613                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 614                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 615                         entities,                                                                        </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 616                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 617                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 618                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 619                         mergedPropertyType,                                                              </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 620                         classAnnotatedPopulateManyToOneFields,                                           </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 621                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 622                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 623                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 624                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 625                         mergedProperties,                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 626                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 627                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 628                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 629                         parentPrefix);                                                                   </span>
<span  style=""> 630                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 631                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 632             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 633         };                                                                                               </span>
<span  style=""> 634                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 635         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 635         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 636         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 636         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 637         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 638                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 639         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 640     }                                                                                                    </span>
<span  style=""> 641                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 642     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 642     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 643         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 644             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 645             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 646                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 647             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 648             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 649                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 650                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 651                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 652                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 653                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 656             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 657                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 658                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 659             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 660         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 661     }                                                                                                    </span>
<span  style=""> 662                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 663     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 663     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 664         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 665         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 666             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 667                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 668                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 669                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 670                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 671                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 671                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 672                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 673                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 674                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 675                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 676                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 676                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 677                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 678                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 679                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 680                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 681             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 682         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 683             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 684             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 685                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 686                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 687                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 688                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 689                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 689                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 690                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 691                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 692                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 693                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 694                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 694                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 695                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 699             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 700         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 701     }                                                                                                    </span>
<span  style=""> 702                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 703     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 704         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 705         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 706             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 707         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 708         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 709     }                                                                                                    </span>
<span  style=""> 710                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 711     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 711     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 712         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 713         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 714         sb.append(clazz.hashCode());                                                                     </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 715         sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                  </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 716         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 717         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 718         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 719             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 720                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 723         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 724             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 725                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 726             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 727         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 728         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 729         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 730                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 731         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 732         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 733             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 734             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 735             BigInteger number = new BigInteger(1, messageDigest);                                        </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 736             digest = number.toString(16);                                                                </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 737         } catch (NoSuchAlgorithmException e) {                                                           </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 738             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 739         }                                                                                                </span>
<span  style=""> 740                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 741         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 742                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 743         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 744             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 745         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 746         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 747     }                                                                                                    </span>
<span  style=""> 748                                                                                                          </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 749     protected void buildPropertiesFromPolymorphicEntities(                                               </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 750             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 751             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 752             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 753             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 754             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 755             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 756             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 757             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 758             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 759             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 760             Map&lt;String, FieldMetadata&gt; mergedProperties,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 761             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 762             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 763             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 764             String parentPrefix) {                                                                       </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 765         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 766             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 766             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span  style=""> 767                                                                                                          </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 768             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style=""> 769             synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                            </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 770                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 771                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 772                 }                                                                                        </span>
<span  style=""> 773                                                                                                          </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 774                 if (cacheData == null) {                                                                 </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 775                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                      </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 776                             clazz,                                                                       </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 777                             foreignField,                                                                </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 778                             additionalNonPersistentProperties,                                           </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 779                             additionalForeignFields,                                                     </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 780                             mergedPropertyType,                                                          </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 781                             populateManyToOneFields,                                                     </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 782                             includeFields,                                                               </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 783                             excludeFields,                                                               </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 784                             configurationKey,                                                            </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 785                             ceilingEntityFullyQualifiedClassname,                                        </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 786                             parentClasses,                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 787                             prefix,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 788                             isParentExcluded,                                                            </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 789                             parentPrefix);                                                               </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""><abbr title=" 790                     //first check all the properties currently in there to see if my entity inherits from them"> 790                     //first check all the properties currently in there to see if my entity inherits fromðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 791                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 792                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 793                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 794                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 795                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 796                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 796                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 797                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 797                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 798                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 799                                     }                                                                    </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 800                                 } catch (ClassNotFoundException e) {                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 801                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 802                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 803                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 804                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 805                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 806                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span  style=""> 807                                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 808                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 809                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 809                         LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKeyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 810                     }                                                                                    </span>
<span  style=""> 811                                                                                                          </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 812                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 813                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 814                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 815                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 816                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 817                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 818                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 818                             String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 819                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 820                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 821                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 822                     }                                                                                    </span>
<span  style=""> 823                                                                                                          </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 824                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 825                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 826                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 827                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 827                         LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 828                     }                                                                                    </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 829 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-501850328574122245" onmouseenter="enter('-501850328574122245');" onmouseout="out('-501850328574122245');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 830                     //in case of MT different sites can potentially have different data driven enums, as we don&#x27;t take into account"> 830                     //in case of MT different sites can potentially have different data driven enums, as ðŸ”µ</abbr></span>
<span class="3536487786926857167" onmouseenter="enter('3536487786926857167');" onmouseout="out('3536487786926857167');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 831                     //site during cache key calculation(have metadata per-site is overkill) we want to refresh data driven enums"> 831                     //site during cache key calculation(have metadata per-site is overkill) we want to reðŸ”µ</abbr></span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 832                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="-6317931462130244294" onmouseenter="enter('-6317931462130244294');" onmouseout="out('-6317931462130244294');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 833                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetadata)value).getOptionListEntity())){"> 833                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetaðŸ”µ</abbr></span>
<span class="5758214601511037981" onmouseenter="enter('5758214601511037981');" onmouseout="out('5758214601511037981');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 834                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata) value);"> 834                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 835 ||||||| BASE                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 836                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 837             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 838             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 839             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 840             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 841                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 842             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 843             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 844 =======                                                                                                  </span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 845                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="3662529019461774815" onmouseenter="enter('3662529019461774815');" onmouseout="out('3662529019461774815');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 846                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttl=-1) and you cache metadata for en locale"> 846                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttðŸ”µ</abbr></span>
<span class="1220507139995640855" onmouseenter="enter('1220507139995640855');" onmouseout="out('1220507139995640855');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 847                         //then switch to FR that has comma as decimal separator                          </span>
<span class="5382883375622517459" onmouseenter="enter('5382883375622517459');" onmouseout="out('5382883375622517459');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 848                         if (value instanceof BasicFieldMetadata) {                                       </span>
<span class="-2436744243394205199" onmouseenter="enter('-2436744243394205199');" onmouseout="out('-2436744243394205199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 849                             BasicFieldMetadata v = (BasicFieldMetadata) value;                           </span>
<span class="935841697909025262" onmouseenter="enter('935841697909025262');" onmouseout="out('935841697909025262');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 850                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldType.INTEGER.equals(v.getSecondaryType())"> 850                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldðŸ”µ</abbr></span>
<span class="-7075527813897367563" onmouseenter="enter('-7075527813897367563');" onmouseout="out('-7075527813897367563');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 851                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFieldType.DECIMAL.equals(v.getFieldType())) {"> 851                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFiðŸ”µ</abbr></span>
<span class="-3634274925625102709" onmouseenter="enter('-3634274925625102709');" onmouseout="out('-3634274925625102709');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 852                                 refreshDecimalDefaultValue(v);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 853                             }                                                                            </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 854 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 855                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 856                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 857                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 858             }                                                                                            </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 859             //clone the metadata before passing to the system                                            </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 860             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 861             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 862                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 863             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 864             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 865         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 866     }                                                                                                    </span>
<span  style=""> 867                                                                                                          </span>
<span class="8505499912833096604" onmouseenter="enter('8505499912833096604');" onmouseout="out('8505499912833096604');" style=""> 868     public void refreshDecimalDefaultValue(BasicFieldMetadata value) {                                   </span>
<span class="-2790325521225507620" onmouseenter="enter('-2790325521225507620');" onmouseout="out('-2790325521225507620');" style=""><abbr title=" 869         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroadleafRequestContext().getJavaLocale());"> 869         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroaðŸ”µ</abbr></span>
<span class="-3570118291130740528" onmouseenter="enter('-3570118291130740528');" onmouseout="out('-3570118291130740528');" style=""><abbr title=" 870         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;.&#x27;){"> 870         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; inðŸ”µ</abbr></span>
<span class="5949056225755593517" onmouseenter="enter('5949056225755593517');" onmouseout="out('5949056225755593517');" style=""><abbr title=" 871             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 871             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-2534078363605262116" onmouseenter="enter('-2534078363605262116');" onmouseout="out('-2534078363605262116');" style=""><abbr title=" 872         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;,&#x27;){"> 872         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;)ðŸ”µ</abbr></span>
<span class="3383230747707669962" onmouseenter="enter('3383230747707669962');" onmouseout="out('3383230747707669962');" style=""><abbr title=" 873             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 873             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 874         }                                                                                                </span>
<span  style=""> 875                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 876     }                                                                                                    </span>
<span  style=""> 877                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 878     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 879     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 880         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 881         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 882         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 883         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 884             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 885             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 886             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 887                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 888             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 889                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 890             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 891         }                                                                                                </span>
<span  style=""> 892                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 893         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 894     }                                                                                                    </span>
<span  style=""> 895                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 896     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 897     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 898             String propertyName,                                                                         </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 899             String friendlyPropertyName,                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 900             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 901             Class&lt;?&gt; parentClass,                                                                        </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 902             MergedPropertyType mergedPropertyType                                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 903     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 904         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 905         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 906         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 907         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 908             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 909             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 910             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 910             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 911         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 912             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 913             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 914             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 914             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 915         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 916             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 917             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 918             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 918             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 919         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 920             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 921             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 922             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 922             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 923         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 924                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 925                         Integer.class.isAssignableFrom(targetClass) ||                                   </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 926                         Long.class.isAssignableFrom(targetClass) ||                                      </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 927                         Short.class.isAssignableFrom(targetClass)                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 928                 ) {                                                                                      </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 929             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 930             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 931             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 931             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 932         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 933                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 934                         BigDecimal.class.isAssignableFrom(targetClass)                                   </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 935                 ) {                                                                                      </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 936             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 937             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 938             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 938             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 939         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 940         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 941         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 942         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 943         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 944         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 945         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 946                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 947         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 948     }                                                                                                    </span>
<span  style=""> 949                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 950     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 951     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 952         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 953     }                                                                                                    </span>
<span  style=""> 954                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 955     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 956     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 957         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 958     }                                                                                                    </span>
<span  style=""> 959                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 960     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 961     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 962         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 963     }                                                                                                    </span>
<span  style=""> 964                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 965     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 966     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 967         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);           </span>
<span  style=""> 968                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 969         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 969         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 970         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 971         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 972                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 973         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 974     }                                                                                                    </span>
<span  style=""> 975                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 976     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 977         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 978                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 979         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 980             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 981             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 982                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 983                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 984             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 985         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 986         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 987     }                                                                                                    </span>
<span  style=""> 988                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 989     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 990             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 991             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 992             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 993             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 994             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 995             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 996             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 997             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 998             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 999             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1000             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1001             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1002             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1003             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title="1004         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);">1004         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1005         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style="">1006             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title="1007                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);">1007                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style="">1008                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1009             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1010         }                                                                                                </span>
<span  style="">1011                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style="">1012         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style="">1013         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style="">1014         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style="">1015         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style="">1016         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style="">1017         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style="">1018         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style="">1019         propertyTypes.add(idType);                                                                       </span>
<span  style="">1020                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1021         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style="">1022         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style="">1023         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1024                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1025         //check the properties for problems                                                              </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style="">1026         while (testIter.hasNext()) {                                                                     </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1027             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1028             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1029                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1029                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1030             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1031             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1032         }                                                                                                </span>
<span  style="">1033                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1034         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1035                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1036                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1037                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1038                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1039                 mergedPropertyType,                                                                      </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1040                 presentationAttributes,                                                                  </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1041                 propertyList,                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1042                 fields,                                                                                  </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1043                 propertyNames,                                                                           </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1044                 propertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1045                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1046                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1047                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1048                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1049                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1050                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1051                 parentClasses,                                                                           </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1052                 prefix,                                                                                  </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1053                 isParentExcluded,                                                                        </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1054                 false,                                                                                   </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1055                 parentPrefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1056         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1057         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1058         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1059         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1060         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1061             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1062             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1063                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1063                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1064                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1065                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1066                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1067                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1068                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1068                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1069                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1070                     //check all the polymorphic types on this target class to see if the end property exists">1070                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1071                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1072                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1073                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1074                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1075                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1076                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1077                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1078                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1079                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1080                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1081                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1082                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1083                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1084                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1085                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1086                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1087                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1088                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1089                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1089                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1090                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1091                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1092             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1093         }                                                                                                </span>
<span  style="">1094                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1095         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1096     }                                                                                                    </span>
<span  style="">1097                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1098     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1099             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1100             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1101             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1102             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1103             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1104             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1105             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1106             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1107             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1108             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1109             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1110             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1111             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1112             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1113             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1114             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1115             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1116             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1117             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1118             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1119             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1120         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1121         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1122             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1123             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1124                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1125                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1125                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1126                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1127                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1128                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1129             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1130         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1131         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1132         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1133                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1134         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1135             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1136             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1137             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1137             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1138             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1139             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1140             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1141                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1141                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1142                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1143             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1144             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1145                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1146                             isPropertyForeignKey ||                                                      </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1147                             additionalForeignKeyIndexPosition &gt;= 0 ||                                    </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style=""><abbr title="1148                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0">1148                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparatoðŸ”µ</abbr></span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1149                     ) {                                                                                  </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1150                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1151                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1152                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1153                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1154                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1155                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1156                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1157                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1158                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1158                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1159                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1160                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1160                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1161                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1161                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1162                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1163                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1164                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1165                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1166                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1167                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1168                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1169                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1170                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1171                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1171                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttribðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1172                                 componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1172                                 componentProperties, fields, idProperty, populateManyToOneFields, includeðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1173                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1173                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, paðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1174                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1174                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1175                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1176                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1177             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1178         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1179     }                                                                                                    </span>
<span  style="">1180                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1181     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1182         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1183                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1184         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1184         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1185                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1186     }                                                                                                    </span>
<span  style="">1187                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1188     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1189         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1190                 &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                             </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1191                 &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                 </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1192                 &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {    </span>
<span  style="">1193                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1194             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1195             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1196         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1197     }                                                                                                    </span>
<span  style="">1198                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1199     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1199     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1200                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1200                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1201                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1202         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1202         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1203                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1204                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1205         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1205         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1206                 parentPrefix, propertyName);                                                             </span>
<span  style="">1207                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1208         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1209     }                                                                                                    </span>
<span  style="">1210                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1211     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1211     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1212         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1213     }                                                                                                    </span>
<span  style="">1214                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1215     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1216             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1217                                                             isComponentPrefix) {                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1218         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1219         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1220         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1220         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1221         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1222             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1223             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1224                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1225                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1226                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1226                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1227                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1228                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1229                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1230                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1231                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1232                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1233                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1234                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1235                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1236                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1237                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1238                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1239                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1240                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1241                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1242                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1243                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1244                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1245                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1246                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1247                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1248             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1249             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1250         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1251         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1252     }                                                                                                    </span>
<span  style="">1253                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1254     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1254     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1255         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1256         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1257             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1258             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1259                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1260                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1261                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1262                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1263             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1264             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1264             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1265                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1266             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1267         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1268         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1269     }                                                                                                    </span>
<span  style="">1270                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1271     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1272             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1273             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1274             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1275             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1276             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1277             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1278             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1279             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1280             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1281             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1282             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1283             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1284             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1285             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1286             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1287             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1288             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1289             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1290             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1291             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1292             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1293             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1294             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1295             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1296         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1297         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1298         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1299                 ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                  </span>
<span  style="">1300                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1301         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1302         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1303             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1304         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1305         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1306         checkProp:                                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1307         {                                                                                                </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1308             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1309                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1310                         targetClass,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1311                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1312                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1313                         additionalNonPersistentProperties,                                               </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1314                         mergedPropertyType,                                                              </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1315                         fields,                                                                          </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1316                         idProperty,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1317                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1318                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1319                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1320                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1321                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1322                         propertyName,                                                                    </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1323                         type,                                                                            </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1324                         returnedClass,                                                                   </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1325                         parentClasses,                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1326                         amIExcluded,                                                                     </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1327                         prefix,                                                                          </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1328                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1329                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1330             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1331             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1332              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1333              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1334              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1335             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1336                     type.isEntityType() &amp;&amp;                                                               </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1337                             !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                              </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1338                             populateManyToOneFields &amp;&amp;                                                   </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1339                             includeField                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1340                     ) {                                                                                  </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1341                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1342                         fields,                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1343                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1344                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1345                         additionalNonPersistentProperties,                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1346                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1347                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1348                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1349                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1350                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1351                         propertyName,                                                                    </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1352                         returnedClass,                                                                   </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1353                         targetClass,                                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1354                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1355                         prefix,                                                                          </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1356                         amIExcluded,                                                                     </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1357                         parentPrefix                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1358                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1359                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1360             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1361         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1362         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1363         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1364             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1365                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1365                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1366                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1366                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1367                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1367                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1368                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1369         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1370     }                                                                                                    </span>
<span  style="">1371                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1372     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1373         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1374         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1375             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1376         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1377         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1378     }                                                                                                    </span>
<span  style="">1379                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1380     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1380     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1381         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1382         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1383             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1383             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1384                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1385                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1386                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1387                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1388             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1389         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1390         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1391     }                                                                                                    </span>
<span  style="">1392                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1393     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1394             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1395             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1396             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1397             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1398             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1399             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1400             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1401             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1402             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1403             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1404             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1405             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1406             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1407             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1408             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1409             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1410         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1411         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1412                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1413         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1414             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1415         }                                                                                                </span>
<span  style="">1416                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1417         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1418                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1419         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1420                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1421                 polymorphicEntities,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1422                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1423                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1424                 additionalForeignFields,                                                                 </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1425                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1426                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1427                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1428                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1429                 configurationKey,                                                                        </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1430                 clonedParentClasses,                                                                     </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1431                 prefix + propertyName + &#x27;.&#x27;,                                                             </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1432                 isParentExcluded,                                                                        </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1433                 parentPrefix);                                                                           </span>
<span  style="">1434                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1435         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1436                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1437         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1438             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1439             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1440         }                                                                                                </span>
<span  style="">1441                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1442         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1443                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1444         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1445             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1446             final String key = newField.getKey();                                                        </span>
<span  style="">1447                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1448             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1449                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1450             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1451                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1451                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1452                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1453                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1454                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1455                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1456                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1457                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1458                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1459                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1460                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1461                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1462                     }                                                                                    </span>
<span  style="">1463                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1464                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1464                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1465                         for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {        </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1466                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1467                                 final String value = config.getValue();                                  </span>
<span  style="">1468                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1469                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1470                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1471                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1472                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1473                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1474                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1475                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1476             }                                                                                            </span>
<span  style="">1477                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1478             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1479                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1480             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1481         }                                                                                                </span>
<span  style="">1482                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1483         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1484     }                                                                                                    </span>
<span  style="">1485                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1486     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1487         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1488                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1488                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1489                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1489                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1490     }                                                                                                    </span>
<span  style="">1491                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1492     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1493      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1494      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1495      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1496      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1497      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1498      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1499      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1500     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1500     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1501         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1501         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1502         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1503     }                                                                                                    </span>
<span  style="">1504                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1505     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1506             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1507             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1508             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1509             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1510             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1511             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1512             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1513             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1514             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1515             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1516             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1517             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1518             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1519             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1520             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1521             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1522             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1523             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1524             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1525         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1526         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1527         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1528         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1529         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1530                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1531         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1532         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1533                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1534         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1535             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1536             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1537         }                                                                                                </span>
<span  style="">1538                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1539         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1539         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1540                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1541         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1542             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1543                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1543                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1544                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1545             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1546         }                                                                                                </span>
<span  style="">1547                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1548         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1549         Property property;                                                                               </span>
<span  style="">1550                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1551         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1552             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1553         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1554             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1555         }                                                                                                </span>
<span  style="">1556                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1557         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1557         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1558         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1559                                                                                                          </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1560         while (componentPropertyIterator.hasNext()) {                                                    </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1561             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1562         }                                                                                                </span>
<span  style="">1563                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1564         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1565         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1566                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1567                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1568                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1569                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1570                 mergedPropertyType,                                                                      </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1571                 componentPresentationAttributes,                                                         </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1572                 componentPropertyList,                                                                   </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1573                 newFields,                                                                               </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1574                 componentPropertyNames,                                                                  </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1575                 componentPropertyTypes,                                                                  </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1576                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1577                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1578                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1579                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1580                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1581                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1582                 parentClasses,                                                                           </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1583                 propertyName + &quot;.&quot;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1584                 isParentExcluded,                                                                        </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1585                 true,                                                                                    </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1586                 parentPrefix + prefix                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1587         );                                                                                               </span>
<span  style="">1588                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1589         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1590                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1591         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1592             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1593             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1594                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1595             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1596                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1597             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1598         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1599         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1600     }                                                                                                    </span>
<span  style="">1601                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1602     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1603     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1604         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1605     }                                                                                                    </span>
<span  style="">1606                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1607     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1608     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1609         this.standardEntityManager = entityManager;                                                      </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1610         fieldManager = new FieldManager(entityConfiguration, entityManager);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1611     }                                                                                                    </span>
<span  style="">1612                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1613     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1614     public FieldManager getFieldManager() {                                                              </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="">1615         return this.getFieldManager(true);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1616     }                                                                                                    </span>
<span  style="">1617                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1618     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1619     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1620         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1621             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1622             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1623             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1624         } else if (cleanFieldManager){                                                                   </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1625             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1626         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1627         return fieldManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1628     }                                                                                                    </span>
<span  style="">1629                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1630     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1631     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1632         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1633     }                                                                                                    </span>
<span  style="">1634                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1635     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1636     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1637         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1638     }                                                                                                    </span>
<span  style="">1639                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1640     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1641     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1642         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1643     }                                                                                                    </span>
<span  style="">1644                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1645     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1646     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1647         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1648     }                                                                                                    </span>
<span  style="">1649                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1650     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1651         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1652     }                                                                                                    </span>
<span  style="">1653                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1654     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1655         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1656     }                                                                                                    </span>
<span  style="">1657                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1658     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1659     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1660         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1661     }                                                                                                    </span>
<span  style="">1662                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1663     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1664         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1665     }                                                                                                    </span>
<span  style="">1666                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1667     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1668         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1669     }                                                                                                    </span>
<span  style="">1670                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1671     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1672     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1673         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1674     }                                                                                                    </span>
<span  style="">1675                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1676     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1677         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1678     }                                                                                                    </span>
<span  style="">1679                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1680 }                                                                                                        </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2  * #%L                                                                                                   </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3  * BroadleafCommerce Open Admin Platform                                                                 </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4  * %%                                                                                                    </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5  * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6  * %%                                                                                                    </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7  * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                  </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8  * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)    </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9  * unless the restrictions on use therein are violated and require payment to Broadleaf in which case    </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10  * the Broadleaf End User License Agreement (EULA), Version 1.1                                          </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11  * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt) </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12  * shall apply.                                                                                          </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13  *                                                                                                       </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14  * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;CustomðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style=""><abbr title="  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.">  15  * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicableðŸ”µ</abbr></span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16  * #L%                                                                                                   </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17  */                                                                                                      </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18 package org.broadleafcommerce.openadmin.server.dao;                                                      </span>
<span  style="">  19                                                                                                          </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  20 import java.io.Serializable;                                                                             </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  21 import java.lang.reflect.Field;                                                                          </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  22 import java.lang.reflect.Method;                                                                         </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  23 import java.lang.reflect.Modifier;                                                                       </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  24 import java.math.BigDecimal;                                                                             </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  25 import java.math.BigInteger;                                                                             </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  26 import java.security.MessageDigest;                                                                      </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  27 import java.security.NoSuchAlgorithmException;                                                           </span>
<span class="1491934911577693694" onmouseenter="enter('1491934911577693694');" onmouseout="out('1491934911577693694');" style="">  28 import java.text.DecimalFormat;                                                                          </span>
<span class="-76499702739685611" onmouseenter="enter('-76499702739685611');" onmouseout="out('-76499702739685611');" style="">  29 import java.text.NumberFormat;                                                                           </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  30 import java.util.ArrayList;                                                                              </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  31 import java.util.Arrays;                                                                                 </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  32 import java.util.Collections;                                                                            </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  33 import java.util.Comparator;                                                                             </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  34 import java.util.Date;                                                                                   </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  35 import java.util.HashMap;                                                                                </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  36 import java.util.HashSet;                                                                                </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  37 import java.util.Iterator;                                                                               </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  38 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  39 import java.util.Map;                                                                                    </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  40 import java.util.Set;                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  41 import javax.annotation.Nonnull;                                                                         </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  42 import javax.annotation.Resource;                                                                        </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  43 import javax.persistence.EntityManager;                                                                  </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  44 import javax.persistence.criteria.CriteriaBuilder;                                                       </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  45 import javax.persistence.criteria.CriteriaQuery;                                                         </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  46 import javax.persistence.criteria.Path;                                                                  </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  47 import javax.persistence.criteria.Predicate;                                                             </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  48 import javax.persistence.criteria.Root;                                                                  </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  49 import org.apache.commons.collections4.map.LRUMap;                                                       </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  50 import org.apache.commons.lang.StringUtils;                                                              </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  51 import org.apache.commons.lang3.ArrayUtils;                                                              </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  52 import org.apache.commons.logging.Log;                                                                   </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  53 import org.apache.commons.logging.LogFactory;                                                            </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  54 import org.broadleafcommerce.common.money.Money;                                                         </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  55 import org.broadleafcommerce.common.persistence.EntityConfiguration;                                     </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  56 import org.broadleafcommerce.common.persistence.Status;                                                  </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  57 import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                 </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  58 import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                  </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  59 import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                              </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  60 import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                  </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  61 import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                           </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  62 import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                       </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  63 import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                   </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="">  64 import org.broadleafcommerce.common.web.BroadleafRequestContext;                                         </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  65 import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                      </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  66 import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                           </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  67 import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  68 import org.broadleafcommerce.openadmin.dto.ClassTree;                                                    </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  69 import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  70 import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                   </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  71 import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                           </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  72 import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                       </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  73 import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                  </span>
<span class="-892446793207041130" onmouseenter="enter('-892446793207041130');" onmouseout="out('-892446793207041130');" style="">  74 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.BasicFieldMetadataProvider;          </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  75 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;               </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style=""><abbr title="  76 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;">  76 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequeðŸ”µ</abbr></span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  77 import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest; </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  78 import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                   </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  79 import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator; </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  80 import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                     </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  81 import org.hibernate.Criteria;                                                                           </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  82 import org.hibernate.MappingException;                                                                   </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  83 import org.hibernate.Session;                                                                            </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  84 import org.hibernate.mapping.PersistentClass;                                                            </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  85 import org.hibernate.mapping.Property;                                                                   </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  86 import org.hibernate.type.ComponentType;                                                                 </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  87 import org.hibernate.type.Type;                                                                          </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  88 import org.springframework.beans.BeansException;                                                         </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  89 import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                  </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  90 import org.springframework.beans.factory.annotation.Value;                                               </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  91 import org.springframework.context.ApplicationContext;                                                   </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  92 import org.springframework.context.ApplicationContextAware;                                              </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  93 import org.springframework.context.annotation.Scope;                                                     </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  94 import org.springframework.core.annotation.AnnotationUtils;                                              </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  95 import org.springframework.stereotype.Component;                                                         </span>
<span  style="">  96                                                                                                          </span>
<span  style="">  97                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  98 /**                                                                                                      </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  99  * @author jfischer                                                                                      </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 100  */                                                                                                      </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 101 @Component(&quot;blDynamicEntityDao&quot;)                                                                         </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 102 @Scope(&quot;prototype&quot;)                                                                                      </span>
<span class="7001907767033041834" onmouseenter="enter('7001907767033041834');" onmouseout="out('7001907767033041834');" style=""> 103 public class DynamicEntityDaoImpl implements DynamicEntityDao , ApplicationContextAware {                </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 104     private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                        </span>
<span  style=""> 105                                                                                                          </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 106     protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);  </span>
<span  style=""> 107                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 108     /**                                                                                                  </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 109      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 109      * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we hðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 110      * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 110      * of the application. This should survive evictions from METADATA_CACHE because it is for the purposðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 111      * counts in METADATA_CACHE as a result of cache eviction                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 112      */                                                                                                  </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 113     protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                  </span>
<span  style=""> 114                                                                                                          </span>
<span class="-5744821178913305501" onmouseenter="enter('-5744821178913305501');" onmouseout="out('-5744821178913305501');" style=""><abbr title=" 115     /* This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 115     /* This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are absðŸ”µ</abbr></span>
<span class="1835203952780227111" onmouseenter="enter('1835203952780227111');" onmouseout="out('1835203952780227111');" style=""> 116     from polymorphism                                                                                    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 117      */                                                                                                  </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 118     protected EntityManager standardEntityManager;                                                       </span>
<span  style=""> 119                                                                                                          </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style=""> 120     @Resource(name = &quot;blMetadata&quot;)                                                                       </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 121     protected Metadata metadata;                                                                         </span>
<span  style=""> 122                                                                                                          </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 123     @Resource(name = &quot;blEntityConfiguration&quot;)                                                            </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 124     protected EntityConfiguration entityConfiguration;                                                   </span>
<span  style=""> 125                                                                                                          </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 126     @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                         </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 127     protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                    </span>
<span  style=""> 128                                                                                                          </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 129     @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                   </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 130     protected FieldMetadataProvider defaultFieldMetadataProvider;                                        </span>
<span  style=""> 131                                                                                                          </span>
<span class="7601391799219903677" onmouseenter="enter('7601391799219903677');" onmouseout="out('7601391799219903677');" style=""> 132     @Resource(name = &quot;blBasicFieldMetadataProvider&quot;)                                                     </span>
<span class="4700597448441216293" onmouseenter="enter('4700597448441216293');" onmouseout="out('4700597448441216293');" style=""> 133     protected BasicFieldMetadataProvider basicFieldMetadataProvider;                                     </span>
<span  style=""> 134                                                                                                          </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 135     @Resource(name = &quot;blAppConfigurationMap&quot;)                                                            </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 136     protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                              </span>
<span  style=""> 137                                                                                                          </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 138     protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                            </span>
<span  style=""> 139                                                                                                          </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 140     @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                           </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 141     protected int cacheEntityMetaDataTtl;                                                                </span>
<span  style=""> 142                                                                                                          </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 143     /**                                                                                                  </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""><abbr title=" 144      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application"> 144      * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the applicatioðŸ”µ</abbr></span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 145      */                                                                                                  </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 146     @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                     </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 147     protected boolean validateMetadataCacheSizes;                                                        </span>
<span  style=""> 148                                                                                                          </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 149     protected long lastCacheFlushTime = System.currentTimeMillis();                                      </span>
<span  style=""> 150                                                                                                          </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 151     protected ApplicationContext applicationContext;                                                     </span>
<span  style=""> 152                                                                                                          </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 153     protected FieldManager fieldManager;                                                                 </span>
<span  style=""> 154                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 155     @Override                                                                                            </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 156     public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {     </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 157         this.applicationContext = applicationContext;                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 158     }                                                                                                    </span>
<span  style=""> 159                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 160     @Override                                                                                            </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 161     public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                               </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 162         return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 165     @Override                                                                                            </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 166     public &lt;T&gt; T persist(T entity) {                                                                     </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 167         standardEntityManager.persist(entity);                                                           </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 168         standardEntityManager.flush();                                                                   </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 169         return entity;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 170     }                                                                                                    </span>
<span  style=""> 171                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 172     @Override                                                                                            </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 173     public Object find(Class&lt;?&gt; entityClass, Object key) {                                               </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 174         return standardEntityManager.find(entityClass, key);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 175     }                                                                                                    </span>
<span  style=""> 176                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 177     @Override                                                                                            </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 178     public &lt;T&gt; T merge(T entity) {                                                                       </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 179         T response = standardEntityManager.merge(entity);                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 180         standardEntityManager.flush();                                                                   </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 181         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 182     }                                                                                                    </span>
<span  style=""> 183                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 184     @Override                                                                                            </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 185     public void flush() {                                                                                </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 186         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187     }                                                                                                    </span>
<span  style=""> 188                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 189     @Override                                                                                            </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 190     public void detach(Serializable entity) {                                                            </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 191         standardEntityManager.detach(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192     }                                                                                                    </span>
<span  style=""> 193                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 194     @Override                                                                                            </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 195     public void refresh(Serializable entity) {                                                           </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 196         standardEntityManager.refresh(entity);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 197     }                                                                                                    </span>
<span  style=""> 198                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 199     @Override                                                                                            </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 200     public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                              </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 201         return (Serializable) standardEntityManager.find(entityClass, primaryKey);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202     }                                                                                                    </span>
<span  style=""> 203                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 204     @Override                                                                                            </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 205     public void remove(Serializable entity) {                                                            </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 206         standardEntityManager.remove(entity);                                                            </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 207         standardEntityManager.flush();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 208     }                                                                                                    </span>
<span  style=""> 209                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 210     @Override                                                                                            </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 211     public void clear() {                                                                                </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 212         standardEntityManager.clear();                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 213     }                                                                                                    </span>
<span  style=""> 214                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 215     @Override                                                                                            </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 216     public PersistentClass getPersistentClass(String targetClassName) {                                  </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 217         return HibernateMappingProvider.getMapping(targetClassName);                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 218     }                                                                                                    </span>
<span  style=""> 219                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 220     @Override                                                                                            </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 221     public boolean useCache() {                                                                          </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 222         if (cacheEntityMetaDataTtl &lt; 0) {                                                                </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 223             return true;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 224         }                                                                                                </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 225         if (cacheEntityMetaDataTtl == 0) {                                                               </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 226             return false;                                                                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 227         } else {                                                                                         </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 228             if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {            </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 229                 lastCacheFlushTime = System.currentTimeMillis();                                         </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 230                 METADATA_CACHE.clear();                                                                  </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 231                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                   </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 232                 DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                     </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 233                 LOG.trace(&quot;Metadata cache evicted&quot;);                                                     </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 234                 return true; // cache is empty                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 235             } else {                                                                                     </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 236                 return true;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 237             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span  style=""> 240                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 241     @Override                                                                                            </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 242     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                      </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 243         return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 244     }                                                                                                    </span>
<span  style=""> 245                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 246     @Override                                                                                            </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 247     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 247     public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 248         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 248         return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolyðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249     }                                                                                                    </span>
<span  style=""> 250                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 251     @Override                                                                                            </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 252     public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                         </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 253         return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 254     }                                                                                                    </span>
<span  style=""> 255                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 256     @Override                                                                                            </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 257     public Class&lt;?&gt; getImplClass(String className) {                                                     </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 258         Class&lt;?&gt; clazz = null;                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 259         try {                                                                                            </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 260             clazz = entityConfiguration.lookupEntityClass(className);                                    </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 261         } catch (NoSuchBeanDefinitionException e) {                                                      </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 262             //do nothing                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 263         }                                                                                                </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 264         if (clazz == null) {                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 265             try {                                                                                        </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 266                 clazz = Class.forName(className);                                                        </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 267             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 268                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269             }                                                                                            </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 270             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271         }                                                                                                </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 272         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273     }                                                                                                    </span>
<span  style=""> 274                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 275     @Override                                                                                            </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 276     public Class&lt;?&gt; getCeilingImplClass(String className) {                                              </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 277         Class&lt;?&gt; clazz;                                                                                  </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 278         try {                                                                                            </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 279             clazz = Class.forName(className);                                                            </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 280         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 281             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282         }                                                                                                </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 283         Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);              </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 284         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 285             clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);               </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 286             entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287         }                                                                                                </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 288         if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                             </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 289             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 289             throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for tðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 290         }                                                                                                </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 291         clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                     </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 292         return clazz;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 293     }                                                                                                    </span>
<span  style=""> 294                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 295     @Override                                                                                            </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 296     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 296     public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, StriðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""><abbr title=" 297         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());"> 297         Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass())ðŸ”µ</abbr></span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 298         CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                       </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 299         CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                  </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 300         Root root = criteria.from(clazz);                                                                </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 301         Path idField = root.get(this.getIdField(clazz).getName());                                       </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 302         criteria.select(idField.as(Long.class));                                                         </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 303         List&lt;Predicate&gt; restrictions = new ArrayList();                                                  </span>
<span  style=""> 304                                                                                                          </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 305         Path path = null;                                                                                </span>
<span  style=""> 306                                                                                                          </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 307         // Support property name such as &quot;defaultSku.name&quot;                                               </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 308         if (propertyName.contains(&quot;.&quot;)) {                                                                </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 309             String[] split = propertyName.split(&quot;\\.&quot;);                                                  </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 310             for (String splitResult : split) {                                                           </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 311                 if (path == null) {                                                                      </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 312                     path = root.get(splitResult);                                                        </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 313                 } else {                                                                                 </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 314                     path = path.get(splitResult);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 315                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316             }                                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 317         } else {                                                                                         </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 318             path = root.get(propertyName);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319         }                                                                                                </span>
<span  style=""> 320                                                                                                          </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 321         restrictions.add(builder.equal(path, value));                                                    </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 322         Serializable identifier = this.getIdentifier(instance);                                          </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 323         //when we creating the new item identifier is not exists                                         </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 324         if (identifier != null) {                                                                        </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 325             restrictions.add(builder.notEqual(idField, identifier));                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326         }                                                                                                </span>
<span  style=""> 327                                                                                                          </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 328         if (instance instanceof Status) {                                                                </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 329             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 329             restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), buildeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 330         }                                                                                                </span>
<span  style=""> 331                                                                                                          </span>
<span class="-7694216774508171321" onmouseenter="enter('-7694216774508171321');" onmouseout="out('-7694216774508171321');" style=""> 332         criteria.where(restrictions.toArray(new Predicate[restrictions.size()]));                        </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 333         return this.standardEntityManager.createQuery(criteria).getResultList();                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 334     }                                                                                                    </span>
<span  style=""> 335                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 336     @Override                                                                                            </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 337     public Serializable getIdentifier(Object entity) {                                                   </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 338         return dynamicDaoHelper.getIdentifier(entity);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 339     }                                                                                                    </span>
<span  style=""> 340                                                                                                          </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 341     protected Field getIdField(Class&lt;?&gt; clazz) {                                                         </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 342         return dynamicDaoHelper.getIdField(clazz);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 343     }                                                                                                    </span>
<span  style=""> 344                                                                                                          </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 345     public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                     </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 346         return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 347     }                                                                                                    </span>
<span  style=""> 348                                                                                                          </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 349     protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                      </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 350         Class&lt;?&gt; testClass;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 351         try {                                                                                            </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 352             testClass = Class.forName(tree.getFullyQualifiedClassname());                                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 353         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 354             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 355         }                                                                                                </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 356         if (clazz.equals(testClass)) {                                                                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 357             return;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 358         }                                                                                                </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 359         if (clazz.getSuperclass().equals(testClass)) {                                                   </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 360             ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));    </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 361             createClassTreeFromAnnotation(clazz, myTree);                                                </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 362             tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 363         } else {                                                                                         </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 364             for (ClassTree child : tree.getChildren()) {                                                 </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 365                 addClassToTree(clazz, child);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 366             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368     }                                                                                                    </span>
<span  style=""> 369                                                                                                          </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 370     protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                     </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 371         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 371         AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentatioðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 372         if (classPresentation != null) {                                                                 </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 373             String friendlyName = classPresentation.friendlyName();                                      </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 374             if (!StringUtils.isEmpty(friendlyName)) {                                                    </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 375                 myTree.setFriendlyName(friendlyName);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 376             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378     }                                                                                                    </span>
<span  style=""> 379                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 380     @Override                                                                                            </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 381     public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                       </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 382         String ceilingClass = null;                                                                      </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 383         for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                      </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 384             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 384             AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 385             if (classPresentation != null) {                                                             </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 386                 String ceilingEntity = classPresentation.ceilingDisplayEntity();                         </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 387                 if (!StringUtils.isEmpty(ceilingEntity)) {                                               </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 388                     ceilingClass = ceilingEntity;                                                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 389                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 390                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392         }                                                                                                </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 393         if (ceilingClass != null) {                                                                      </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 394             int pos = -1;                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 395             int j = 0;                                                                                   </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 396             for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                  </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 397                 if (clazz.getName().equals(ceilingClass)) {                                              </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 398                     pos = j;                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 399                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 400                 }                                                                                        </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 401                 j++;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402             }                                                                                            </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 403             if (pos &gt;= 0) {                                                                              </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 404                 Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                 </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 405                 System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                 </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 406                 polymorphicClasses = temp;                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 407             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408         }                                                                                                </span>
<span  style=""> 409                                                                                                          </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 410         ClassTree classTree = null;                                                                      </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 411         if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                   </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 412             Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                       </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 413             classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));     </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 414             createClassTreeFromAnnotation(topClass, classTree);                                          </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 415             for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                   </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 416                 addClassToTree(polymorphicClasses[j], classTree);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 417             }                                                                                            </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 418             classTree.finalizeStructure(1);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419         }                                                                                                </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 420         return classTree;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421     }                                                                                                    </span>
<span  style=""> 422                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 423     @Override                                                                                            </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 424     public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                    </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 425         Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                  </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 426         return getClassTree(sortedEntities);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 427     }                                                                                                    </span>
<span  style=""> 428                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 429     @Override                                                                                            </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 430     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 430     public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspectiveðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 431         Class&lt;?&gt;[] entityClasses;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 432         try {                                                                                            </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 433             entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 434         } catch (ClassNotFoundException e) {                                                             </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 435             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 436         }                                                                                                </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 437         if (!ArrayUtils.isEmpty(entityClasses)) {                                                        </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 438             return getMergedProperties(                                                                  </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 439                     entityName,                                                                          </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 440                     entityClasses,                                                                       </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 441                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 441                     (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 442                     persistencePerspective.getAdditionalNonPersistentProperties(),                       </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 443                     persistencePerspective.getAdditionalForeignKeys(),                                   </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 444                     MergedPropertyType.PRIMARY,                                                          </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 445                     persistencePerspective.getPopulateToOneFields(),                                     </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 446                     persistencePerspective.getIncludeFields(),                                           </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 447                     persistencePerspective.getExcludeFields(),                                           </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 448                     persistencePerspective.getConfigurationKey(),                                        </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 449                     &quot;&quot;                                                                                   </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 450             );                                                                                           </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 451         } else {                                                                                         </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 452             Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                               </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 453             Class&lt;?&gt; targetClass;                                                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 454             try {                                                                                        </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 455                 targetClass = Class.forName(entityName);                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 456             } catch (ClassNotFoundException e) {                                                         </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 457                 throw new RuntimeException(e);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 458             }                                                                                            </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 459             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 459             Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 460             for (String property : attributesMap.keySet()) {                                             </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 461                 FieldMetadata presentationAttribute = attributesMap.get(property);                       </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 462                 if (!presentationAttribute.getExcluded()) {                                              </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 463                     Field field = FieldManager.getSingleField(targetClass, property);                    </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 464                     if (!Modifier.isStatic(field.getModifiers())) {                                      </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 465                         boolean handled = false;                                                         </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 466                         for (FieldMetadataProvider provider : fieldMetadataProviders) {                  </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 467                             MetadataProviderResponse response = provider.addMetadataFromFieldType(       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 468                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 468                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 469                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                  </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""><abbr title=" 470                                             property, null, false, 0, attributesMap, presentationAttribute,"> 470                                             property, null, false, 0, attributesMap, presentationAttributðŸ”µ</abbr></span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 471                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 471                                             ((BasicFieldMetadata) presentationAttribute).getExplicitFieldðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 472                                     mergedProperties);                                                   </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 473                             if (MetadataProviderResponse.NOT_HANDLED != response) {                      </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 474                                 handled = true;                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 475                             }                                                                            </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 476                             if (MetadataProviderResponse.HANDLED_BREAK == response) {                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 477                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 478                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 479                         }                                                                                </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 480                         if (!handled) {                                                                  </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 481                             //this provider is not included in the provider list on purpose - it is designed to handle basic"> 481                             //this provider is not included in the provider list on purpose - it is desigðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""><abbr title=" 482                             //AdminPresentation fields, and those fields not admin presentation annotated at all"> 482                             //AdminPresentation fields, and those fields not admin presentation annotatedðŸ”µ</abbr></span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 483                             defaultFieldMetadataProvider.addMetadataFromFieldType(                       </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 484                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 484                                     new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 485                                             MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,        </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 486                                             null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 486                                             null, false, 0, attributesMap, presentationAttribute, ((BasicðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 487                                             field.getType(), this), mergedProperties);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 488                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491             }                                                                                            </span>
<span  style=""> 492                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 493             return mergedProperties;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 494         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495     }                                                                                                    </span>
<span  style=""> 496                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 497     @Override                                                                                            </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 498     public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                       </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 499         Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                         </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 500         return getMergedProperties(                                                                      </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 501                 cls.getName(),                                                                           </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 502                 polymorphicTypes,                                                                        </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 503                 null,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 504                 new String[]{},                                                                          </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 505                 new ForeignKey[]{},                                                                      </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 506                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 507                 true,                                                                                    </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 508                 new String[]{},                                                                          </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 509                 new String[]{},                                                                          </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 510                 null,                                                                                    </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 511                 &quot;&quot;                                                                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 512         );                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 513     }                                                                                                    </span>
<span  style=""> 514                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 515     @Override                                                                                            </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 516     public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                               </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 517             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 518             Class&lt;?&gt;[] entities,                                                                         </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 519             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 520             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 521             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 522             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 523             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 524             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 525             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 526             String configurationKey,                                                                     </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 527             String prefix) {                                                                             </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 528         Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 529                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 530                 entities,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 531                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 532                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 533                 additionalForeignFields,                                                                 </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 534                 mergedPropertyType,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 535                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 536                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 537                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 538                 configurationKey,                                                                        </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 539                 new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                               </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 540                 prefix,                                                                                  </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 541                 false,                                                                                   </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 542                 &quot;&quot;);                                                                                     </span>
<span  style=""> 543                                                                                                          </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 544         final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                               </span>
<span  style=""> 545                                                                                                          </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 546         for (final String key : mergedProperties.keySet()) {                                             </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""><abbr title=" 547             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {"> 547             if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded(ðŸ”µ</abbr></span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 548                 removeKeys.add(key);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 549             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550         }                                                                                                </span>
<span  style=""> 551                                                                                                          </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 552         for (String removeKey : removeKeys) {                                                            </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 553             mergedProperties.remove(removeKey);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 554         }                                                                                                </span>
<span  style=""> 555                                                                                                          </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 556         // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 556         // Allow field metadata providers to contribute additional fields here. These latestage handlers ðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 557         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 557         // after any cached lookups occur, and are ideal for adding in dynamic properties that are not glðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 558         // like properties gleaned from reflection typically are.                                        </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 559         Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                     </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 560         for (Class&lt;?&gt; targetClass : entities) {                                                          </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 561             for (String key : keys) {                                                                    </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 562                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 562                 LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass,ðŸ”µ</abbr></span>
<span  style=""> 563                                                                                                          </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 564                 boolean foundOneOrMoreHandlers = false;                                                  </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 565                 for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {             </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 566                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 566                     MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 567                     if (MetadataProviderResponse.NOT_HANDLED != response) {                              </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 568                         foundOneOrMoreHandlers = true;                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 569                     }                                                                                    </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 570                     if (MetadataProviderResponse.HANDLED_BREAK == response) {                            </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 571                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 572                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573                 }                                                                                        </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 574                 if (!foundOneOrMoreHandlers) {                                                           </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 575                     defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 576                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578         }                                                                                                </span>
<span  style=""> 579                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 580         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 581     }                                                                                                    </span>
<span  style=""> 582                                                                                                          </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 583     protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                 </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 584             final String ceilingEntityFullyQualifiedClassname,                                           </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 585             final Class&lt;?&gt;[] entities,                                                                   </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 586             final ForeignKey foreignField,                                                               </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 587             final String[] additionalNonPersistentProperties,                                            </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 588             final ForeignKey[] additionalForeignFields,                                                  </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 589             final MergedPropertyType mergedPropertyType,                                                 </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 590             final Boolean populateManyToOneFields,                                                       </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 591             final String[] includeFields,                                                                </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 592             final String[] excludeFields,                                                                </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 593             final String configurationKey,                                                               </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 594             final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                          </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 595             final String prefix,                                                                         </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 596             final Boolean isParentExcluded,                                                              </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 597             final String parentPrefix) {                                                                 </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 598         PropertyBuilder propertyBuilder = new PropertyBuilder() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 599             @Override                                                                                    </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 600             public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {               </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 601                 Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                           </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 602                 Boolean classAnnotatedPopulateManyToOneFields;                                           </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 603                 if (overridePopulateManyToOne != null) {                                                 </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 604                     classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 605                 } else {                                                                                 </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 606                     classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 607                 }                                                                                        </span>
<span  style=""> 608                                                                                                          </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 609                 buildPropertiesFromPolymorphicEntities(                                                  </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 610                         entities,                                                                        </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 611                         foreignField,                                                                    </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 612                         additionalNonPersistentProperties,                                               </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 613                         additionalForeignFields,                                                         </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 614                         mergedPropertyType,                                                              </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 615                         classAnnotatedPopulateManyToOneFields,                                           </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 616                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 617                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 618                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 619                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 620                         mergedProperties,                                                                </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 621                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 622                         prefix,                                                                          </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 623                         isParentExcluded,                                                                </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 624                         parentPrefix);                                                                   </span>
<span  style=""> 625                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 626                 return mergedProperties;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 627             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 628         };                                                                                               </span>
<span  style=""> 629                                                                                                          </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 630         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 630         Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilderðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""><abbr title=" 631         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);"> 631         applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedPropertiesðŸ”µ</abbr></span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 632         applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);              </span>
<span  style=""> 633                                                                                                          </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 634         return mergedProperties;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 635     }                                                                                                    </span>
<span  style=""> 636                                                                                                          </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 637     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 637     protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFieldðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 638         for (String key : mergedProperties.keySet()) {                                                   </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 639             boolean isForeign = false;                                                                   </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 640             if (foreignField != null) {                                                                  </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 641                 isForeign = foreignField.getManyToField().equals(key);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 642             }                                                                                            </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 643             if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                            </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 644                 for (ForeignKey foreignKey : additionalForeignFields) {                                  </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 645                     isForeign = foreignKey.getManyToField().equals(key);                                 </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 646                     if (isForeign) {                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 647                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 648                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 649                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650             }                                                                                            </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 651             if (isForeign) {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 652                 FieldMetadata metadata = mergedProperties.get(key);                                      </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 653                 metadata.setExcluded(false);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 654             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 656     }                                                                                                    </span>
<span  style=""> 657                                                                                                          </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 658     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 658     protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefixðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 659         //check includes                                                                                 </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 660         if (!ArrayUtils.isEmpty(includeFields)) {                                                        </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 661             for (String include : includeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 662                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 663                     String testKey = prefix + key;                                                       </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 664                     if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {               </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 665                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 666                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 666                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did ðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 667                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 668                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 669                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 670                         if (!isParentExcluded) {                                                         </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 671                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 671                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field apðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 672                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 673                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 676             }                                                                                            </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 677         } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                 </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 678             //check excludes                                                                             </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 679             for (String exclude : excludeFields) {                                                       </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 680                 for (String key : mergedProperties.keySet()) {                                           </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 681                     String testKey = prefix + key;                                                       </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 682                     if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                  </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 683                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 684                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 684                         LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appeðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 685                         metadata.setExcluded(true);                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 686                     } else {                                                                             </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 687                         FieldMetadata metadata = mergedProperties.get(key);                              </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 688                         if (!isParentExcluded) {                                                         </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 689                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 689                             LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field diðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 690                             metadata.setExcluded(false);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 691                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696     }                                                                                                    </span>
<span  style=""> 697                                                                                                          </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 698     protected String pad(String s, int length, char pad) {                                               </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 699         StringBuilder buffer = new StringBuilder(s);                                                     </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 700         while (buffer.length() &lt; length) {                                                               </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 701             buffer.insert(0, pad);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 702         }                                                                                                </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 703         return buffer.toString();                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 704     }                                                                                                    </span>
<span  style=""> 705                                                                                                          </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 706     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 706     protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, StðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 707         StringBuilder sb = new StringBuilder(150);                                                       </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 708         sb.append(ceilingEntityFullyQualifiedClassname);                                                 </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 709         sb.append(clazz.hashCode());                                                                     </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 710         sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                  </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 711         sb.append(configurationKey);                                                                     </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 712         sb.append(isParentExcluded);                                                                     </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 713         if (additionalNonPersistentProperties != null) {                                                 </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 714             for (String prop : additionalNonPersistentProperties) {                                      </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 715                 sb.append(prop);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 716             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717         }                                                                                                </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 718         if (additionalForeignFields != null) {                                                           </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 719             for (ForeignKey key : additionalForeignFields) {                                             </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 720                 sb.append(key.toString());                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 721             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722         }                                                                                                </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 723         sb.append(mergedPropertyType);                                                                   </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 724         sb.append(populateManyToOneFields);                                                              </span>
<span  style=""> 725                                                                                                          </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 726         String digest;                                                                                   </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 727         try {                                                                                            </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 728             MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                         </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 729             byte[] messageDigest = md.digest(sb.toString().getBytes());                                  </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 730             BigInteger number = new BigInteger(1, messageDigest);                                        </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 731             digest = number.toString(16);                                                                </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 732         } catch (NoSuchAlgorithmException e) {                                                           </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 733             throw new RuntimeException(e);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 734         }                                                                                                </span>
<span  style=""> 735                                                                                                          </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 736         String key = pad(digest, 32, &#x27;0&#x27;);                                                               </span>
<span  style=""> 737                                                                                                          </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 738         if (LOG.isDebugEnabled()) {                                                                      </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 739             LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 740         }                                                                                                </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 741         return key;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742     }                                                                                                    </span>
<span  style=""> 743                                                                                                          </span>
<span class="-3548919614427244026" onmouseenter="enter('-3548919614427244026');" onmouseout="out('-3548919614427244026');" style=""><abbr title=" 744     protected void buildPropertiesFromPolymorphicEntities(Class&lt;?&gt;[] entities, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, String[] includeFields, String[] excludeFields, String configurationKey, String ceilingEntityFullyQualifiedClassname, Map&lt;String, FieldMetadata&gt; mergedProperties, List&lt;Class&lt;?&gt;&gt; parentClasses, String prefix, Boolean isParentExcluded, String parentPrefix) {"> 744     protected void buildPropertiesFromPolymorphicEntities(Class&lt;?&gt;[] entities, ForeignKey foreignField, SðŸ”µ</abbr></span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 745         for (Class&lt;?&gt; clazz : entities) {                                                                </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 746             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 746             String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNðŸ”µ</abbr></span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 747             Map&lt;String, FieldMetadata&gt; cacheData = null;                                                 </span>
<span class="-4478904008704459763" onmouseenter="enter('-4478904008704459763');" onmouseout="out('-4478904008704459763');" style=""> 748             synchronized(DynamicDaoHelperImpl.LOCK_OBJECT) {                                             </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 749                 if (useCache()) {                                                                        </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 750                     cacheData = METADATA_CACHE.get(cacheKey);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 751                 }                                                                                        </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 752                 if (cacheData == null) {                                                                 </span>
<span class="2728374936012971898" onmouseenter="enter('2728374936012971898');" onmouseout="out('2728374936012971898');" style=""><abbr title=" 753                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(clazz, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, includeFields, excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses, prefix, isParentExcluded, parentPrefix);"> 753                     Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(clazz, foreignField, aðŸ”µ</abbr></span>
<span class="-2917156993333053765" onmouseenter="enter('-2917156993333053765');" onmouseout="out('-2917156993333053765');" style=""><abbr title=" 754                     // first check all the properties currently in there to see if my entity inherits from them"> 754                     // first check all the properties currently in there to see if my entity inherits froðŸ”µ</abbr></span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 755                     for (Class&lt;?&gt; clazz2 : entities) {                                                   </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 756                         if (!clazz2.getName().equals(clazz.getName())) {                                 </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 757                             for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {            </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 758                                 FieldMetadata metadata = entry.getValue();                               </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 759                                 try {                                                                    </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""><abbr title=" 760                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {"> 760                                     if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(cðŸ”µ</abbr></span>
<span class="-5079428119814937393" onmouseenter="enter('-5079428119814937393');" onmouseout="out('-5079428119814937393');" style=""><abbr title=" 761                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{ clazz2.getName() });"> 761                                         String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(),ðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 762                                         metadata.setAvailableToTypes(both);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 763                                     }                                                                    </span>
<span class="-4826617111900065805" onmouseenter="enter('-4826617111900065805');" onmouseout="out('-4826617111900065805');" style=""> 764                                 } catch (java.lang.ClassNotFoundException e) {                           </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 765                                     throw new RuntimeException(e);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 766                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 767                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 768                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 769                     }                                                                                    </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 770                     METADATA_CACHE.put(cacheKey, props);                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 771                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="8879727460279504211" onmouseenter="enter('8879727460279504211');" onmouseout="out('8879727460279504211');" style=""><abbr title=" 772                         LOG.trace(((((&quot;Added &quot; + props.size()) + &quot; to the metadata cache with key &quot;) + cacheKey) + &quot; for the class &quot;) + ceilingEntityFullyQualifiedClassname);"> 772                         LOG.trace(((((&quot;Added &quot; + props.size()) + &quot; to the metadata cache with key &quot;) + caðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 773                     }                                                                                    </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 774                     if (validateMetadataCacheSizes) {                                                    </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 775                         Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                       </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 776                         Integer currentSize = props.size();                                              </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 777                         if (previousSize == null) {                                                      </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 778                             METADATA_CACHE_SIZES.put(cacheKey, currentSize);                             </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 779                         } else if (!currentSize.equals(previousSize)) {                                  </span>
<span class="8050081737761360617" onmouseenter="enter('8050081737761360617');" onmouseout="out('8050081737761360617');" style=""><abbr title=" 780                             String msg = (((((&quot;Attempted to store &quot; + currentSize) + &quot; properties in the cache for the key &quot;) + cacheKey) + &quot; but we had previously stored &quot;) + previousSize) + &quot; properties&quot;;"> 780                             String msg = (((((&quot;Attempted to store &quot; + currentSize) + &quot; properties in the ðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 781                             LOG.error(msg);                                                              </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 782                             throw new RuntimeException(msg);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 783                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 784                     }                                                                                    </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 785                     cacheData = props;                                                                   </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 786                 } else {                                                                                 </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 787                     if (LOG.isTraceEnabled()) {                                                          </span>
<span class="3294183370068525634" onmouseenter="enter('3294183370068525634');" onmouseout="out('3294183370068525634');" style=""><abbr title=" 788                         LOG.trace(((((&quot;Read &quot; + cacheData.size()) + &quot; from the metada cache with key &quot;) + cacheKey) + &quot; for the class &quot;) + ceilingEntityFullyQualifiedClassname);"> 788                         LOG.trace(((((&quot;Read &quot; + cacheData.size()) + &quot; from the metada cache with key &quot;) +ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 789                     }                                                                                    </span>
<span  style=""> 790                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 791 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 792                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="-6317931462130244294" onmouseenter="enter('-6317931462130244294');" onmouseout="out('-6317931462130244294');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 793                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetadata)value).getOptionListEntity())){"> 793                         if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetaðŸ”µ</abbr></span>
<span class="5758214601511037981" onmouseenter="enter('5758214601511037981');" onmouseout="out('5758214601511037981');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"><abbr title=" 794                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata) value);"> 794                             basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 795                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 796                     }                                                                                    </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 797 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 798 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 798 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwðŸ”µ</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 799 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 800                                                                                                          </span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 801                     for (FieldMetadata value : cacheData.values()) {                                     </span>
<span class="3662529019461774815" onmouseenter="enter('3662529019461774815');" onmouseout="out('3662529019461774815');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 802                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttl=-1) and you cache metadata for en locale"> 802                         //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttðŸ”µ</abbr></span>
<span class="1220507139995640855" onmouseenter="enter('1220507139995640855');" onmouseout="out('1220507139995640855');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 803                         //then switch to FR that has comma as decimal separator                          </span>
<span class="5382883375622517459" onmouseenter="enter('5382883375622517459');" onmouseout="out('5382883375622517459');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 804                         if (value instanceof BasicFieldMetadata) {                                       </span>
<span class="-2436744243394205199" onmouseenter="enter('-2436744243394205199');" onmouseout="out('-2436744243394205199');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 805                             BasicFieldMetadata v = (BasicFieldMetadata) value;                           </span>
<span class="935841697909025262" onmouseenter="enter('935841697909025262');" onmouseout="out('935841697909025262');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 806                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldType.INTEGER.equals(v.getSecondaryType())"> 806                             if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldðŸ”µ</abbr></span>
<span class="-7075527813897367563" onmouseenter="enter('-7075527813897367563');" onmouseout="out('-7075527813897367563');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 807                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFieldType.DECIMAL.equals(v.getFieldType())) {"> 807                                     || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFiðŸ”µ</abbr></span>
<span class="-3634274925625102709" onmouseenter="enter('-3634274925625102709');" onmouseout="out('-3634274925625102709');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 808                                 refreshDecimalDefaultValue(v);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 809                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 810                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 811                     }                                                                                    </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 812 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style=""> 813                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 814                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 815             }                                                                                            </span>
<span class="-7524723415240744265" onmouseenter="enter('-7524723415240744265');" onmouseout="out('-7524723415240744265');" style=""> 816             // clone the metadata before passing to the system                                           </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 817             Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                    </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 818             for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                        </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 819                 clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 820             }                                                                                            </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 821             mergedProperties.putAll(clonedCache);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 822         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 823     }                                                                                                    </span>
<span  style=""> 824                                                                                                          </span>
<span class="8505499912833096604" onmouseenter="enter('8505499912833096604');" onmouseout="out('8505499912833096604');" style=""> 825     public void refreshDecimalDefaultValue(BasicFieldMetadata value) {                                   </span>
<span class="-2790325521225507620" onmouseenter="enter('-2790325521225507620');" onmouseout="out('-2790325521225507620');" style=""><abbr title=" 826         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroadleafRequestContext().getJavaLocale());"> 826         DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroaðŸ”µ</abbr></span>
<span class="-3570118291130740528" onmouseenter="enter('-3570118291130740528');" onmouseout="out('-3570118291130740528');" style=""><abbr title=" 827         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;.&#x27;){"> 827         if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; inðŸ”µ</abbr></span>
<span class="5949056225755593517" onmouseenter="enter('5949056225755593517');" onmouseout="out('5949056225755593517');" style=""><abbr title=" 828             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 828             value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-2534078363605262116" onmouseenter="enter('-2534078363605262116');" onmouseout="out('-2534078363605262116');" style=""><abbr title=" 829         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;,&#x27;){"> 829         }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;)ðŸ”µ</abbr></span>
<span class="3383230747707669962" onmouseenter="enter('3383230747707669962');" onmouseout="out('3383230747707669962');" style=""><abbr title=" 830             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 830             value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols()ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 831         }                                                                                                </span>
<span  style=""> 832                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833     }                                                                                                    </span>
<span  style=""> 834                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 835     @Override                                                                                            </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 836     public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                  </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 837         Field[] allFields = new Field[]{};                                                               </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 838         boolean eof = false;                                                                             </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 839         Class&lt;?&gt; currentClass = targetClass;                                                             </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 840         while (!eof) {                                                                                   </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 841             Field[] fields = currentClass.getDeclaredFields();                                           </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 842             allFields = ArrayUtils.addAll(allFields, fields);                                            </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 843             if (currentClass.getSuperclass() != null) {                                                  </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 844                 currentClass = currentClass.getSuperclass();                                             </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 845             } else {                                                                                     </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 846                 eof = true;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 847             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 848         }                                                                                                </span>
<span  style=""> 849                                                                                                          </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 850         return allFields;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 851     }                                                                                                    </span>
<span  style=""> 852                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 853     @Override                                                                                            </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 854     public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 855             String propertyName,                                                                         </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 856             String friendlyPropertyName,                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 857             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 858             Class&lt;?&gt; parentClass,                                                                        </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 859             MergedPropertyType mergedPropertyType                                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 860     ) {                                                                                                  </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 861         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 862         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 863         presentationAttribute.setFriendlyName(friendlyPropertyName);                                     </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 864         if (String.class.isAssignableFrom(targetClass)) {                                                </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 865             presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                       </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 866             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 867             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 867             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 868         } else if (Boolean.class.isAssignableFrom(targetClass)) {                                        </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 869             presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 870             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 871             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 871             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 872         } else if (Date.class.isAssignableFrom(targetClass)) {                                           </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 873             presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                         </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 874             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 875             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 875             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 876         } else if (Money.class.isAssignableFrom(targetClass)) {                                          </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 877             presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                        </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 878             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 879             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 879             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 880         } else if (                                                                                      </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 881                 Byte.class.isAssignableFrom(targetClass) ||                                              </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 882                         Integer.class.isAssignableFrom(targetClass) ||                                   </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 883                         Long.class.isAssignableFrom(targetClass) ||                                      </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 884                         Short.class.isAssignableFrom(targetClass)                                        </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 885                 ) {                                                                                      </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 886             presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 887             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 888             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 888             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 889         } else if (                                                                                      </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 890                 Double.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 891                         BigDecimal.class.isAssignableFrom(targetClass)                                   </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 892                 ) {                                                                                      </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 893             presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                      </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 894             presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                             </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 895             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 895             fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldTypeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 896         }                                                                                                </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 897         ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                  </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 898         ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                  </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 899         ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                               </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 900         ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                 </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 901         ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                   </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 902         ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                               </span>
<span  style=""> 903                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 904         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 905     }                                                                                                    </span>
<span  style=""> 906                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 907     @Override                                                                                            </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 908     public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                     </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 909         return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 910     }                                                                                                    </span>
<span  style=""> 911                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 912     @Override                                                                                            </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 913     public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                         </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 914         return dynamicDaoHelper.getPropertyNames(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 915     }                                                                                                    </span>
<span  style=""> 916                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 917     @Override                                                                                            </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 918     public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                           </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 919         return dynamicDaoHelper.getPropertyTypes(entityClass);                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 920     }                                                                                                    </span>
<span  style=""> 921                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 922     @Override                                                                                            </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 923     public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {     </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 924         Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);           </span>
<span  style=""> 925                                                                                                          </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""><abbr title=" 926         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);"> 926         Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entitiesðŸ”µ</abbr></span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 927         metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);       </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 928         metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);    </span>
<span  style=""> 929                                                                                                          </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 930         return mergedTabAndGroupMetadata;                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 931     }                                                                                                    </span>
<span  style=""> 932                                                                                                          </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 933     public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                   </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 934         Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                          </span>
<span  style=""> 935                                                                                                          </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 936         if (ceilingEntity != null) {                                                                     </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 937             entities = ArrayUtils.add(entities, ceilingEntity);                                          </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 938             while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 939                 entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                      </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 940                 ceilingEntity = ceilingEntity.getSuperclass();                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 941             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 942         }                                                                                                </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 943         return entities;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 944     }                                                                                                    </span>
<span  style=""> 945                                                                                                          </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 946     protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                    </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 947             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 948             ForeignKey foreignField,                                                                     </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 949             String[] additionalNonPersistentProperties,                                                  </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 950             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 951             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 952             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 953             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 954             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 955             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 956             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 957             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 958             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 959             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 960             String parentPrefix) {                                                                       </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 961         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 961         Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null,ðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 962         if (isParentExcluded) {                                                                          </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 963             for (String key : presentationAttributes.keySet()) {                                         </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""><abbr title=" 964                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);"> 964                 LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;ðŸ”µ</abbr></span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 965                 presentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 966             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 967         }                                                                                                </span>
<span  style=""> 968                                                                                                          </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 969         Map idMetadata = getIdMetadata(targetClass);                                                     </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 970         Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                             </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 971         String idProperty = (String) idMetadata.get(&quot;name&quot;);                                             </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 972         List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                      </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 973         propertyNames.add(idProperty);                                                                   </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 974         Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                     </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 975         List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                        </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 976         propertyTypes.add(idType);                                                                       </span>
<span  style=""> 977                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 978         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style=""> 979         Iterator testIter = persistentClass.getPropertyIterator();                                       </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style=""> 980         List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style=""> 981                                                                                                          </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style=""> 982         //check the properties for problems                                                              </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style=""> 983         while (testIter.hasNext()) {                                                                     </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style=""> 984             Property property = (Property) testIter.next();                                              </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style=""> 985             if (property.getName().contains(&quot;.&quot;)) {                                                      </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title=" 986                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);"> 986                 throw new IllegalArgumentException(&quot;Properties from entities that utilize a period characðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 987             }                                                                                            </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style=""> 988             propertyList.add(property);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989         }                                                                                                </span>
<span  style=""> 990                                                                                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style=""> 991         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style=""> 992                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 993                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 994                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 995                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 996                 mergedPropertyType,                                                                      </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style=""> 997                 presentationAttributes,                                                                  </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style=""> 998                 propertyList,                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style=""> 999                 fields,                                                                                  </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1000                 propertyNames,                                                                           </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1001                 propertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1002                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1003                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1004                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1005                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1006                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1007                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1008                 parentClasses,                                                                           </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1009                 prefix,                                                                                  </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1010                 isParentExcluded,                                                                        </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1011                 false,                                                                                   </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1012                 parentPrefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1013         );                                                                                               </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1014         BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                             </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1015         presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                           </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1016         presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                  </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1017         if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                    </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1018             Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                     </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1019             for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {           </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1020                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1020                 if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersisteðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1021                     String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;          </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1022                     //get final property if this is a dot delimited property                             </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1023                     int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                  </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1024                     if (finalDotPos &gt;= 0) {                                                              </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1025                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1025                         myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1026                     }                                                                                    </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style=""><abbr title="1027                     //check all the polymorphic types on this target class to see if the end property exists">1027                     //check all the polymorphic types on this target class to see if the end property exiðŸ”µ</abbr></span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1028                     Field testField = null;                                                              </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1029                     Method testMethod = null;                                                            </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1030                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1031                         try {                                                                            </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1032                             testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);             </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1033                             if (testMethod != null) {                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1034                                 break;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1035                             }                                                                            </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1036                         } catch (NoSuchMethodException e) {                                              </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1037                             //do nothing - method does not exist                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1038                         }                                                                                </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1039                         testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);</span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1040                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1041                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1042                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1043                     }                                                                                    </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1044                     //if the property exists, add it to the metadata for this class                      </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1045                     if (testField != null || testMethod != null) {                                       </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1046                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1046                         fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, addðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1047                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1048                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1049             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1050         }                                                                                                </span>
<span  style="">1051                                                                                                          </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1052         return fields;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1053     }                                                                                                    </span>
<span  style="">1054                                                                                                          </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1055     protected void buildProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1056             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1057             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1058             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1059             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1060             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1061             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1062             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1063             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1064             List&lt;String&gt; propertyNames,                                                                  </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1065             List&lt;Type&gt; propertyTypes,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1066             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1067             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1068             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1069             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1070             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1071             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1072             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1073             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1074             Boolean isParentExcluded,                                                                    </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1075             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1076             String parentPrefix) {                                                                       </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1077         int j = 0;                                                                                       </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1078         Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                               </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1079             @Override                                                                                    </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1080             public int compare(String o1, String o2) {                                                   </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1081                 //check for property name equality and for map field properties                          </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1082                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1082                 if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(ðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1083                     return 0;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1084                 }                                                                                        </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1085                 return o1.compareTo(o2);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1086             }                                                                                            </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1087         };                                                                                               </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1088         List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());             </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1089         Collections.sort(presentationKeyList);                                                           </span>
<span  style="">1090                                                                                                          </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1091         for (String propertyName : propertyNames) {                                                      </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1092             final Type type = propertyTypes.get(j);                                                      </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1093             boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);      </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1094             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1094             int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFieldsðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1095             j++;                                                                                         </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1096             Field myField = getFieldManager().getField(targetClass, propertyName);                       </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1097             if (myField == null) {                                                                       </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1098                 //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1098                 //try to get the field with the prefix - needed for advanced collections that appear in @ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1099                 myField = getFieldManager().getField(targetClass, prefix + propertyName);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1100             }                                                                                            </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1101             if (                                                                                         </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1102                     !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                     </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1103                             isPropertyForeignKey ||                                                      </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1104                             additionalForeignKeyIndexPosition &gt;= 0 ||                                    </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style=""><abbr title="1105                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0">1105                             Collections.binarySearch(presentationKeyList, propertyName, propertyComparatoðŸ”µ</abbr></span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1106                     ) {                                                                                  </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1107                 if (myField != null) {                                                                   </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1108                     boolean handled = false;                                                             </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1109                     for (FieldMetadataProvider provider : fieldMetadataProviders) {                      </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1110                         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);  </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1111                         if (presentationAttribute != null) {                                             </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1112                             setExcludedBasedOnShowIfProperty(presentationAttribute);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1113                         }                                                                                </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1114                         MetadataProviderResponse response = provider.addMetadataFromFieldType(           </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1115                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1115                                 new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, aðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1116                                         mergedPropertyType, componentProperties, idProperty, prefix,     </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1117                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1117                                         propertyName, type, isPropertyForeignKey, additionalForeignKeyIndðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1118                                         presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1118                                         presentationAttributes, presentationAttribute, null, type.getRetuðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1119                         if (MetadataProviderResponse.NOT_HANDLED != response) {                          </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1120                             handled = true;                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1121                         }                                                                                </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1122                         if (MetadataProviderResponse.HANDLED_BREAK == response) {                        </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1123                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1124                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1125                     }                                                                                    </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1126                     if (!handled) {                                                                      </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1127                         buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,  </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style=""><abbr title="1128                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,">1128                                 additionalNonPersistentProperties, mergedPropertyType, presentationAttribðŸ”µ</abbr></span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style=""><abbr title="1129                                 componentProperties, fields, idProperty, populateManyToOneFields, includeFields,">1129                                 componentProperties, fields, idProperty, populateManyToOneFields, includeðŸ”µ</abbr></span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1130                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1130                                 excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, paðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1131                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1131                                 prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1132                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1133                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1134             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1135         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1136     }                                                                                                    </span>
<span  style="">1137                                                                                                          </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1138     public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                          </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1139         setExcludedBasedOnShowIfProperty(presentationAttribute);                                         </span>
<span  style="">1140                                                                                                          </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1141         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1141         return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presenðŸ”µ</abbr></span>
<span  style="">1142                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1143     }                                                                                                    </span>
<span  style="">1144                                                                                                          </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1145     protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                       </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1146         if (fieldMetadata != null                                                                        </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1147                 &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                             </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1148                 &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                 </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1149                 &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {    </span>
<span  style="">1150                                                                                                          </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1151             //do not include this in the display if it returns false.                                    </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1152             fieldMetadata.setExcluded(true);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1153         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1154     }                                                                                                    </span>
<span  style="">1155                                                                                                          </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1156     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1156     protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyNðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1157                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1157                                             String ceilingEntityFullyQualifiedClassname, Boolean isComponðŸ”µ</abbr></span>
<span  style="">1158                                                                                                          </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1159         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1159         Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1160                 ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                </span>
<span  style="">1161                                                                                                          </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1162         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1162         Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isCompoðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1163                 parentPrefix, propertyName);                                                             </span>
<span  style="">1164                                                                                                          </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1165         return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1166     }                                                                                                    </span>
<span  style="">1167                                                                                                          </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1168     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1168     protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String ðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1169         return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1170     }                                                                                                    </span>
<span  style="">1171                                                                                                          </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1172     protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String  </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1173             propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean     </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1174                                                             isComponentPrefix) {                         </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1175         Boolean response = false;                                                                        </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1176         //don&#x27;t want to shun a self-referencing property in an @Embeddable                               </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1177         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1177         boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).lðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1178         if (shouldTest) {                                                                                </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1179             Field testField = getFieldManager().getField(targetClass, propertyName);                     </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1180             if (testField == null) {                                                                     </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1181                 Class&lt;?&gt;[] entities;                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1182                 try {                                                                                    </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1183                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1183                     entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualiðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1184                 } catch (ClassNotFoundException e) {                                                     </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1185                     throw new RuntimeException(e);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1186                 }                                                                                        </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1187                 for (Class&lt;?&gt; clazz : entities) {                                                        </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1188                     testField = getFieldManager().getField(clazz, propertyName);                         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1189                     if (testField != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1190                         break;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1191                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1192                 }                                                                                        </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1193                 String testProperty = prefix + propertyName;                                             </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1194                 if (testField == null) {                                                                 </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1195                     testField = getFieldManager().getField(targetClass, testProperty);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1196                 }                                                                                        </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1197                 if (testField == null) {                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1198                     for (Class&lt;?&gt; clazz : entities) {                                                    </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1199                         testField = getFieldManager().getField(clazz, testProperty);                     </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1200                         if (testField != null) {                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1201                             break;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1202                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1203                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1204                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1205             }                                                                                            </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1206             response = determineExclusionForField(parentClasses, targetClass, testField);                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1207         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1208         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1209     }                                                                                                    </span>
<span  style="">1210                                                                                                          </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1211     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1211     protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, FielðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1212         Boolean response = false;                                                                        </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1213         if (testField != null) {                                                                         </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1214             Class&lt;?&gt; testType = testField.getType();                                                     </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1215             for (Class&lt;?&gt; parentClass : parentClasses) {                                                 </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1216                 if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {  </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1217                     response = true;                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1218                     break;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1219                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1220             }                                                                                            </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style=""><abbr title="1221             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {">1221             if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetCðŸ”µ</abbr></span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1222                 response = true;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1223             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1224         }                                                                                                </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1225         return response;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1226     }                                                                                                    </span>
<span  style="">1227                                                                                                          </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1228     protected void buildBasicProperty(                                                                   </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1229             Field field,                                                                                 </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1230             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1231             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1232             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1233             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1234             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1235             Map&lt;String, FieldMetadata&gt; presentationAttributes,                                           </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1236             List&lt;Property&gt; componentProperties,                                                          </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1237             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1238             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1239             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1240             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1241             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1242             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1243             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1244             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1245             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1246             Boolean isParentExcluded,                                                                    </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1247             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1248             Type type,                                                                                   </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1249             boolean propertyForeignKey,                                                                  </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1250             int additionalForeignKeyIndexPosition,                                                       </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1251             Boolean isComponentPrefix,                                                                   </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1252             String parentPrefix) {                                                                       </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1253         FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                  </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1254         Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);         </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1255         Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,  </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1256                 ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                  </span>
<span  style="">1257                                                                                                          </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1258         SupportedFieldType explicitType = null;                                                          </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1259         if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {      </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1260             explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1261         }                                                                                                </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1262         Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1263         checkProp:                                                                                       </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1264         {                                                                                                </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1265             if (type.isComponentType() &amp;&amp; includeField) {                                                </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1266                 buildComponentProperties(                                                                </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1267                         targetClass,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1268                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1269                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1270                         additionalNonPersistentProperties,                                               </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1271                         mergedPropertyType,                                                              </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1272                         fields,                                                                          </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1273                         idProperty,                                                                      </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1274                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1275                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1276                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1277                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1278                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1279                         propertyName,                                                                    </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1280                         type,                                                                            </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1281                         returnedClass,                                                                   </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1282                         parentClasses,                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1283                         amIExcluded,                                                                     </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1284                         prefix,                                                                          </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1285                         parentPrefix);                                                                   </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1286                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1287             }                                                                                            </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1288             /*                                                                                           </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1289              * Currently we do not support ManyToOne fields whose class type is the same                 </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1290              * as the target type, since this forms an infinite loop and will cause a stack overflow.    </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1291              */                                                                                          </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1292             if (                                                                                         </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1293                     type.isEntityType() &amp;&amp;                                                               </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1294                             !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                              </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1295                             populateManyToOneFields &amp;&amp;                                                   </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1296                             includeField                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1297                     ) {                                                                                  </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1298                 buildEntityProperties(                                                                   </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1299                         fields,                                                                          </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1300                         foreignField,                                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1301                         additionalForeignFields,                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1302                         additionalNonPersistentProperties,                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1303                         populateManyToOneFields,                                                         </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1304                         includeFields,                                                                   </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1305                         excludeFields,                                                                   </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1306                         configurationKey,                                                                </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1307                         ceilingEntityFullyQualifiedClassname,                                            </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1308                         propertyName,                                                                    </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1309                         returnedClass,                                                                   </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1310                         targetClass,                                                                     </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1311                         parentClasses,                                                                   </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1312                         prefix,                                                                          </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1313                         amIExcluded,                                                                     </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1314                         parentPrefix                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1315                 );                                                                                       </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1316                 break checkProp;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1317             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1318         }                                                                                                </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1319         //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key</span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1320         if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {              </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1321             defaultFieldMetadataProvider.addMetadataFromFieldType(                                       </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style=""><abbr title="1322                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,">1322                     new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeiðŸ”µ</abbr></span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style=""><abbr title="1323                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,">1323                             mergedPropertyType, componentProperties, idProperty, prefix, propertyName, tyðŸ”µ</abbr></span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style=""><abbr title="1324                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,">1324                             propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributesðŸ”µ</abbr></span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1325                             presentationAttribute, explicitType, returnedClass, this), fields);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1326         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1327     }                                                                                                    </span>
<span  style="">1328                                                                                                          </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1329     protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) { </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1330         boolean isPropertyForeignKey = false;                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1331         if (foreignField != null) {                                                                      </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1332             isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1333         }                                                                                                </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1334         return isPropertyForeignKey;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1335     }                                                                                                    </span>
<span  style="">1336                                                                                                          </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1337     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1337     protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, StriðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1338         int additionalForeignKeyIndexPosition = -1;                                                      </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1339         if (additionalForeignFields != null) {                                                           </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1340             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1340             additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1341                 @Override                                                                                </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1342                 public int compare(ForeignKey o1, ForeignKey o2) {                                       </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1343                     return o1.getManyToField().compareTo(o2.getManyToField());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1344                 }                                                                                        </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1345             });                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1346         }                                                                                                </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1347         return additionalForeignKeyIndexPosition;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1348     }                                                                                                    </span>
<span  style="">1349                                                                                                          </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1350     protected void buildEntityProperties(                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1351             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1352             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1353             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1354             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1355             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1356             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1357             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1358             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1359             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1360             String propertyName,                                                                         </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1361             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1362             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1363             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1364             String prefix,                                                                               </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1365             Boolean isParentExcluded,                                                                    </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1366             String parentPrefix) {                                                                       </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1367         Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);            </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1368         List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                          </span>
<span  style="">1369                                                                                                          </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1370         for (Class&lt;?&gt; parentClass : parentClasses) {                                                     </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1371             clonedParentClasses.add(parentClass);                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1372         }                                                                                                </span>
<span  style="">1373                                                                                                          </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1374         clonedParentClasses.add(targetClass);                                                            </span>
<span  style="">1375                                                                                                          </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1376         Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                           </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1377                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1378                 polymorphicEntities,                                                                     </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1379                 foreignField,                                                                            </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1380                 additionalNonPersistentProperties,                                                       </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1381                 additionalForeignFields,                                                                 </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1382                 MergedPropertyType.PRIMARY,                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1383                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1384                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1385                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1386                 configurationKey,                                                                        </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1387                 clonedParentClasses,                                                                     </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1388                 prefix + propertyName + &#x27;.&#x27;,                                                             </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1389                 isParentExcluded,                                                                        </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1390                 parentPrefix);                                                                           </span>
<span  style="">1391                                                                                                          </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1392         final String targetClassName = targetClass.getName();                                            </span>
<span  style="">1393                                                                                                          </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1394         for (FieldMetadata newMetadata : newFields.values()) {                                           </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1395             newMetadata.setInheritedFromType(targetClassName);                                           </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1396             newMetadata.setAvailableToTypes(new String[]{targetClassName});                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1397         }                                                                                                </span>
<span  style="">1398                                                                                                          </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1399         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                    </span>
<span  style="">1400                                                                                                          </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1401         for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                         </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1402             final FieldMetadata fieldMetadata = newField.getValue();                                     </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1403             final String key = newField.getKey();                                                        </span>
<span  style="">1404                                                                                                          </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1405             convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                </span>
<span  style="">1406                                                                                                          </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1407             if (fieldMetadata instanceof BasicFieldMetadata) {                                           </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1408                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1408                 for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1409                     Class&lt;?&gt; validatorImpl = null;                                                       </span>
<span  style="">1410                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1411                     try {                                                                                </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1412                         validatorImpl = Class.forName(validationConfigurations.getKey());                </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1413                     } catch (ClassNotFoundException e) {                                                 </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1414                         Object bean = applicationContext.getBean(validationConfigurations.getKey());     </span>
<span  style="">1415                                                                                                          </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1416                         if (bean != null) {                                                              </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1417                             validatorImpl = bean.getClass();                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1418                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1419                     }                                                                                    </span>
<span  style="">1420                                                                                                          </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1421                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1421                     if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validaðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1422                         for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {        </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1423                             for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1424                                 final String value = config.getValue();                                  </span>
<span  style="">1425                                                                                                          </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1426                                 if (newFields.containsKey(value)) {                                      </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1427                                     config.setValue(propertyName + &quot;.&quot; + value);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1428                                 }                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1429                             }                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1430                         }                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1431                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1432                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1433             }                                                                                            </span>
<span  style="">1434                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1435             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1436                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1437             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1438         }                                                                                                </span>
<span  style="">1439                                                                                                          </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1440         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1441     }                                                                                                    </span>
<span  style="">1442                                                                                                          </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1443     protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                        </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1444         return fieldMetadata instanceof BasicCollectionMetadata                                          </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1445                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1445                 &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1446                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1446                 &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1447     }                                                                                                    </span>
<span  style="">1448                                                                                                          </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1449     /*                                                                                                   </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1450      * There may be multiple pathways to this foreign key which may have come from a cached source.      </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1451      * Since ForeignKey contains an originating field concept that is occurrence specific, we need       </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1452      * to make sure it is set appropriately here.                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1453      *                                                                                                   </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1454      * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                         </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1455      * owningSite.embeddableMultitenantSite.adminUsers.                                                  </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1456      */                                                                                                  </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1457     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1457     protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1458         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1458         ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePersðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1459         foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1460     }                                                                                                    </span>
<span  style="">1461                                                                                                          </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1462     protected void buildComponentProperties(                                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1463             Class&lt;?&gt; targetClass,                                                                        </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1464             ForeignKey foreignField,                                                                     </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1465             ForeignKey[] additionalForeignFields,                                                        </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1466             String[] additionalNonPersistentProperties,                                                  </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1467             MergedPropertyType mergedPropertyType,                                                       </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1468             Map&lt;String, FieldMetadata&gt; fields,                                                           </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1469             String idProperty,                                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1470             Boolean populateManyToOneFields,                                                             </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1471             String[] includeFields,                                                                      </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1472             String[] excludeFields,                                                                      </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1473             String configurationKey,                                                                     </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1474             String ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1475             String propertyName,                                                                         </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1476             Type type,                                                                                   </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1477             Class&lt;?&gt; returnedClass,                                                                      </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1478             List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1479             Boolean isParentExcluded,                                                                    </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1480             String prefix,                                                                               </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1481             String parentPrefix) {                                                                       </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1482         String[] componentProperties = ((ComponentType) type).getPropertyNames();                        </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1483         List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                        </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1484         Type[] componentTypes = ((ComponentType) type).getSubtypes();                                    </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1485         List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                               </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1486         String tempPrefix = &quot;&quot;;                                                                          </span>
<span  style="">1487                                                                                                          </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1488         int pos = prefix.indexOf(&quot;.&quot;);                                                                   </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1489         final int prefixLength = prefix.length();                                                        </span>
<span  style="">1490                                                                                                          </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1491         if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                         </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1492             //only use part of the prefix if it&#x27;s more than one layer deep                               </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1493             tempPrefix = prefix.substring(pos + 1, prefixLength);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1494         }                                                                                                </span>
<span  style="">1495                                                                                                          </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1496         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1496         Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClðŸ”µ</abbr></span>
<span  style="">1497                                                                                                          </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1498         if (isParentExcluded) {                                                                          </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1499             for (String key : componentPresentationAttributes.keySet()) {                                </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style=""><abbr title="1500                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);">1500                 LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excludedðŸ”µ</abbr></span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1501                 componentPresentationAttributes.get(key).setExcluded(true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1502             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1503         }                                                                                                </span>
<span  style="">1504                                                                                                          </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1505         PersistentClass persistentClass = getPersistentClass(targetClass.getName());                     </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1506         Property property;                                                                               </span>
<span  style="">1507                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1508         try {                                                                                            </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1509             property = persistentClass.getProperty(propertyName);                                        </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1510         } catch (MappingException e) {                                                                   </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1511             property = persistentClass.getProperty(prefix + propertyName);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1512         }                                                                                                </span>
<span  style="">1513                                                                                                          </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1514         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1514         Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1515         List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                        </span>
<span  style="">1516                                                                                                          </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1517         while (componentPropertyIterator.hasNext()) {                                                    </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1518             componentPropertyList.add((Property) componentPropertyIterator.next());                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1519         }                                                                                                </span>
<span  style="">1520                                                                                                          </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1521         Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                          </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1522         buildProperties(                                                                                 </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1523                 targetClass,                                                                             </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1524                 foreignField,                                                                            </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1525                 additionalForeignFields,                                                                 </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1526                 additionalNonPersistentProperties,                                                       </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1527                 mergedPropertyType,                                                                      </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1528                 componentPresentationAttributes,                                                         </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1529                 componentPropertyList,                                                                   </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1530                 newFields,                                                                               </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1531                 componentPropertyNames,                                                                  </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1532                 componentPropertyTypes,                                                                  </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1533                 idProperty,                                                                              </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1534                 populateManyToOneFields,                                                                 </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1535                 includeFields,                                                                           </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1536                 excludeFields,                                                                           </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1537                 configurationKey,                                                                        </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1538                 ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1539                 parentClasses,                                                                           </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1540                 propertyName + &quot;.&quot;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1541                 isParentExcluded,                                                                        </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1542                 true,                                                                                    </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1543                 parentPrefix + prefix                                                                    </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1544         );                                                                                               </span>
<span  style="">1545                                                                                                          </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1546         Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                    </span>
<span  style="">1547                                                                                                          </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1548         for (String key : newFields.keySet()) {                                                          </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1549             final FieldMetadata fieldMetadata = newFields.get(key);                                      </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1550             convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                </span>
<span  style="">1551                                                                                                          </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1552             if (isForeignKey(fieldMetadata)) {                                                           </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1553                 setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1554             }                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1555         }                                                                                                </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1556         fields.putAll(convertedFields);                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1557     }                                                                                                    </span>
<span  style="">1558                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1559     @Override                                                                                            </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1560     public EntityManager getStandardEntityManager() {                                                    </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1561         return standardEntityManager;                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1562     }                                                                                                    </span>
<span  style="">1563                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1564     @Override                                                                                            </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1565     public void setStandardEntityManager(EntityManager entityManager) {                                  </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1566         this.standardEntityManager = entityManager;                                                      </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1567         fieldManager = new FieldManager(entityConfiguration, entityManager);                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1568     }                                                                                                    </span>
<span  style="">1569                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1570     @Override                                                                                            </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1571     public FieldManager getFieldManager() {                                                              </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="">1572         return this.getFieldManager(true);                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1573     }                                                                                                    </span>
<span  style="">1574                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1575     @Override                                                                                            </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1576     public FieldManager getFieldManager(boolean cleanFieldManager) {                                     </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1577         if (fieldManager == null) {                                                                      </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1578             //keep in mind that getStandardEntityManager() can return null, this is in general OK,       </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1579             // we re-init fieldManager in setStandardEntityManager method                                </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1580             fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());            </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1581         } else if (cleanFieldManager){                                                                   </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1582             fieldManager.clearMiddleFields();                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1583         }                                                                                                </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1584         return fieldManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1585     }                                                                                                    </span>
<span  style="">1586                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1587     @Override                                                                                            </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1588     public EntityConfiguration getEntityConfiguration() {                                                </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1589         return entityConfiguration;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1590     }                                                                                                    </span>
<span  style="">1591                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1592     @Override                                                                                            </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1593     public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                        </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1594         this.entityConfiguration = entityConfiguration;                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1595     }                                                                                                    </span>
<span  style="">1596                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1597     @Override                                                                                            </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1598     public Metadata getMetadata() {                                                                      </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1599         return metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1600     }                                                                                                    </span>
<span  style="">1601                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1602     @Override                                                                                            </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1603     public void setMetadata(Metadata metadata) {                                                         </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1604         this.metadata = metadata;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1605     }                                                                                                    </span>
<span  style="">1606                                                                                                          </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1607     public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                     </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1608         return fieldMetadataProviders;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1609     }                                                                                                    </span>
<span  style="">1610                                                                                                          </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1611     public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {          </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1612         this.fieldMetadataProviders = fieldMetadataProviders;                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1613     }                                                                                                    </span>
<span  style="">1614                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1615     @Override                                                                                            </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1616     public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                     </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1617         return defaultFieldMetadataProvider;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1618     }                                                                                                    </span>
<span  style="">1619                                                                                                          </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1620     public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {    </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1621         this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1622     }                                                                                                    </span>
<span  style="">1623                                                                                                          </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1624     protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                   </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1625         return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1626     }                                                                                                    </span>
<span  style="">1627                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1628     @Override                                                                                            </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1629     public DynamicDaoHelper getDynamicDaoHelper() {                                                      </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1630         return dynamicDaoHelper;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1631     }                                                                                                    </span>
<span  style="">1632                                                                                                          </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1633     public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                 </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1634         this.dynamicDaoHelper = dynamicDaoHelper;                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1635     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1636 }                                                                                                        </span>











































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3   * BroadleafCommerce Open Admin Platform                                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18  package org.broadleafcommerce.openadmin.server.dao;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span  style="">  20                                                                                                                    </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21  import org.apache.commons.collections4.map.LRUMap;                                                                </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22  import org.apache.commons.lang.StringUtils;                                                                       </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23  import org.apache.commons.lang3.ArrayUtils;                                                                       </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24  import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25  import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26  import org.broadleafcommerce.common.money.Money;                                                                  </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29  import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                          </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30  import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                           </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31  import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                                       </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32  import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                           </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33  import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                                    </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35  import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                            </span>

<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  36  import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                               </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  37  import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                                    </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  38  import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                         </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  39  import org.broadleafcommerce.openadmin.dto.ClassTree;                                                             </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  40  import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                         </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  41  import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                            </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  42  import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                                    </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  43  import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                                </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  44  import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                           </span>
<span class="-892446793207041130" onmouseenter="enter('-892446793207041130');" onmouseout="out('-892446793207041130');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  45 +import org.broadleafcommerce.openadmin.server.dao.provider.metadata.BasicFieldMetadataProvider;                   </span>
<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  46  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;                        </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style="">  47  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;      </span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  48  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest;          </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  49  import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                            </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  50  import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator;          </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  51  import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                              </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  52  import org.hibernate.Criteria;                                                                                    </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  53  import org.hibernate.MappingException;                                                                            </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  54  import org.hibernate.Session;                                                                                     </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  55  import org.hibernate.mapping.PersistentClass;                                                                     </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  56  import org.hibernate.mapping.Property;                                                                            </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  57  import org.hibernate.type.ComponentType;                                                                          </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  58  import org.hibernate.type.Type;                                                                                   </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  59  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  60  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  61  import org.springframework.beans.factory.annotation.Value;                                                        </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  62  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  63  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  64  import org.springframework.context.annotation.Scope;                                                              </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  65  import org.springframework.core.annotation.AnnotationUtils;                                                       </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  66  import org.springframework.stereotype.Component;                                                                  </span>
<span  style="">  67                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  68  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  69  import java.lang.reflect.Field;                                                                                   </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  70  import java.lang.reflect.Method;                                                                                  </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  71  import java.lang.reflect.Modifier;                                                                                </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  72  import java.math.BigDecimal;                                                                                      </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  73  import java.math.BigInteger;                                                                                      </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  74  import java.security.MessageDigest;                                                                               </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  75  import java.security.NoSuchAlgorithmException;                                                                    </span>


<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  76  import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  77  import java.util.Arrays;                                                                                          </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  78  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  79  import java.util.Comparator;                                                                                      </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  80  import java.util.Date;                                                                                            </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  81  import java.util.HashMap;                                                                                         </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  82  import java.util.HashSet;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  83  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  84  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  85  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  86  import java.util.Set;                                                                                             </span>
<span  style="">  87                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  88  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  89  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  90  import javax.persistence.EntityManager;                                                                           </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  91  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  92  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  93  import javax.persistence.criteria.Path;                                                                           </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  94  import javax.persistence.criteria.Predicate;                                                                      </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  95  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  96                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  97  /**                                                                                                               </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style="">  98   * @author jfischer                                                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  99   */                                                                                                               </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 100  @Component(&quot;blDynamicEntityDao&quot;)                                                                                  </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 101  @Scope(&quot;prototype&quot;)                                                                                               </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 102  public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                          </span>
<span  style=""> 103                                                                                                                    </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 104      private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                                 </span>
<span  style=""> 105                                                                                                                    </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 106      protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);           </span>
<span  style=""> 107                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 108      /**                                                                                                           </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 109       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 109       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cacheðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 110       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 110       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 111       * counts in METADATA_CACHE as a result of cache eviction                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 112       */                                                                                                           </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 113      protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                           </span>
<span  style=""> 114                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 115      /*                                                                                                            </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 116       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 116       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or ðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 117       * from polymorphism                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 118       */                                                                                                           </span>
<span  style=""> 119                                                                                                                    </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 120      protected EntityManager standardEntityManager;                                                                </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style=""> 122      @Resource(name = &quot;blMetadata&quot;)                                                                                </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 123      protected Metadata metadata;                                                                                  </span>
<span  style=""> 124                                                                                                                    </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 125      @Resource(name = &quot;blEntityConfiguration&quot;)                                                                     </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 126      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style=""> 127                                                                                                                    </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 128      @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                                  </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 129      protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                             </span>
<span  style=""> 130                                                                                                                    </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 131      @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                            </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 132      protected FieldMetadataProvider defaultFieldMetadataProvider;                                                 </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 133 +                                                                                                                  </span>
<span class="7601391799219903677" onmouseenter="enter('7601391799219903677');" onmouseout="out('7601391799219903677');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 134 +    @Resource(name = &quot;blBasicFieldMetadataProvider&quot;)                                                              </span>
<span class="4700597448441216293" onmouseenter="enter('4700597448441216293');" onmouseout="out('4700597448441216293');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 135 +    protected BasicFieldMetadataProvider basicFieldMetadataProvider;                                              </span>
<span  style=""> 136                                                                                                                    </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 137      @Resource(name = &quot;blAppConfigurationMap&quot;)                                                                     </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 138      protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                                       </span>
<span  style=""> 139                                                                                                                    </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 140      protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                                     </span>
<span  style=""> 141                                                                                                                    </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 142      @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                                    </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 143      protected int cacheEntityMetaDataTtl;                                                                         </span>
<span  style=""> 144                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 145      /**                                                                                                           </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""> 146       * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 147       */                                                                                                           </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 148      @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                              </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 149      protected boolean validateMetadataCacheSizes;                                                                 </span>
<span  style=""> 150                                                                                                                    </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 151      protected long lastCacheFlushTime = System.currentTimeMillis();                                               </span>
<span  style=""> 152                                                                                                                    </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 153      protected ApplicationContext applicationContext;                                                              </span>
<span  style=""> 154                                                                                                                    </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 155      protected FieldManager fieldManager;                                                                          </span>
<span  style=""> 156                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 157      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 158      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 159          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160      }                                                                                                             </span>
<span  style=""> 161                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 162      @Override                                                                                                     </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 163      public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                                        </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 164          return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 165      }                                                                                                             </span>
<span  style=""> 166                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 167      @Override                                                                                                     </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 168      public &lt;T&gt; T persist(T entity) {                                                                              </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 169          standardEntityManager.persist(entity);                                                                    </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 170          standardEntityManager.flush();                                                                            </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 171          return entity;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172      }                                                                                                             </span>
<span  style=""> 173                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 174      @Override                                                                                                     </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 175      public Object find(Class&lt;?&gt; entityClass, Object key) {                                                        </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 176          return standardEntityManager.find(entityClass, key);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 177      }                                                                                                             </span>
<span  style=""> 178                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 179      @Override                                                                                                     </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 180      public &lt;T&gt; T merge(T entity) {                                                                                </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 181          T response = standardEntityManager.merge(entity);                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 182          standardEntityManager.flush();                                                                            </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 183          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span  style=""> 185                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 186      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 187      public void flush() {                                                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 188          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189      }                                                                                                             </span>
<span  style=""> 190                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 191      @Override                                                                                                     </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 192      public void detach(Serializable entity) {                                                                     </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 193          standardEntityManager.detach(entity);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 194      }                                                                                                             </span>
<span  style=""> 195                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 196      @Override                                                                                                     </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 197      public void refresh(Serializable entity) {                                                                    </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 198          standardEntityManager.refresh(entity);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span  style=""> 200                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 201      @Override                                                                                                     </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 202      public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                                       </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 203          return (Serializable) standardEntityManager.find(entityClass, primaryKey);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204      }                                                                                                             </span>
<span  style=""> 205                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 206      @Override                                                                                                     </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 207      public void remove(Serializable entity) {                                                                     </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 208          standardEntityManager.remove(entity);                                                                     </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 209          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 210      }                                                                                                             </span>
<span  style=""> 211                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 212      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 213      public void clear() {                                                                                         </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 214          standardEntityManager.clear();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215      }                                                                                                             </span>
<span  style=""> 216                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 217      @Override                                                                                                     </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 218      public PersistentClass getPersistentClass(String targetClassName) {                                           </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 219          return HibernateMappingProvider.getMapping(targetClassName);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 220      }                                                                                                             </span>
<span  style=""> 221                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 222      @Override                                                                                                     </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 223      public boolean useCache() {                                                                                   </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 224          if (cacheEntityMetaDataTtl &lt; 0) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 225              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 226          }                                                                                                         </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 227          if (cacheEntityMetaDataTtl == 0) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 228              return false;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 229          } else {                                                                                                  </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 230              if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {                     </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 231                  lastCacheFlushTime = System.currentTimeMillis();                                                  </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 232                  METADATA_CACHE.clear();                                                                           </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 233                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                            </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 234                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                              </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 235                  LOG.trace(&quot;Metadata cache evicted&quot;);                                                              </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 236                  return true; // cache is empty                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 237              } else {                                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 238                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241      }                                                                                                             </span>
<span  style=""> 242                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 243      @Override                                                                                                     </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 244      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                               </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 245          return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 246      }                                                                                                             </span>
<span  style=""> 247                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 248      @Override                                                                                                     </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 249      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 249      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymoðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 250          return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 250          return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEnðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 251      }                                                                                                             </span>
<span  style=""> 252                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 253      @Override                                                                                                     </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 254      public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                                  </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 255          return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 256      }                                                                                                             </span>
<span  style=""> 257                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 258      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 259      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 260          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 261          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 262              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 263          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 264              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 265          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 266          if (clazz == null) {                                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 267              try {                                                                                                 </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 268                  clazz = Class.forName(className);                                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 269              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 270                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 271              }                                                                                                     </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 272              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 273          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 274          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 275      }                                                                                                             </span>
<span  style=""> 276                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 277      @Override                                                                                                     </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 278      public Class&lt;?&gt; getCeilingImplClass(String className) {                                                       </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 279          Class&lt;?&gt; clazz;                                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 280          try {                                                                                                     </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 281              clazz = Class.forName(className);                                                                     </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 282          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 283              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 284          }                                                                                                         </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 285          Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                       </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 286          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 287              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 288              entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289          }                                                                                                         </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 290          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 291              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 291              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requesðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 292          }                                                                                                         </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 293          clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                              </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 294          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 295      }                                                                                                             </span>
<span  style=""> 296                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 297      @Override                                                                                                     </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 298      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 298      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value)ðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""> 299          Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());        </span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 300          CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                                </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 301          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 302          Root root = criteria.from(clazz);                                                                         </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 303          Path idField = root.get(this.getIdField(clazz).getName());                                                </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 304          criteria.select(idField.as(Long.class));                                                                  </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 305          List&lt;Predicate&gt; restrictions = new ArrayList();                                                           </span>
<span  style=""> 306                                                                                                                    </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 307          Path path = null;                                                                                         </span>
<span  style=""> 308                                                                                                                    </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 309          // Support property name such as &quot;defaultSku.name&quot;                                                        </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 310          if (propertyName.contains(&quot;.&quot;)) {                                                                         </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 311              String[] split = propertyName.split(&quot;\\.&quot;);                                                           </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 312              for (String splitResult : split) {                                                                    </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 313                  if (path == null) {                                                                               </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 314                      path = root.get(splitResult);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 315                  } else {                                                                                          </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 316                      path = path.get(splitResult);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 318              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 319          } else {                                                                                                  </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 320              path = root.get(propertyName);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321          }                                                                                                         </span>
<span  style=""> 322                                                                                                                    </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 323          restrictions.add(builder.equal(path, value));                                                             </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 324          Serializable identifier = this.getIdentifier(instance);                                                   </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 325          //when we creating the new item identifier is not exists                                                  </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 326          if (identifier != null) {                                                                                 </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 327              restrictions.add(builder.notEqual(idField, identifier));                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328          }                                                                                                         </span>
<span  style=""> 329                                                                                                                    </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 330          if (instance instanceof Status) {                                                                         </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 331              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 331              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(rðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 332          }                                                                                                         </span>
<span  style=""> 333                                                                                                                    </span>
<span class="-7694216774508171321" onmouseenter="enter('-7694216774508171321');" onmouseout="out('-7694216774508171321');" style=""> 334          criteria.where(restrictions.toArray(new Predicate[restrictions.size()]));                                 </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 335          return this.standardEntityManager.createQuery(criteria).getResultList();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 336      }                                                                                                             </span>
<span  style=""> 337                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 338      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 339      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 340          return dynamicDaoHelper.getIdentifier(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 341      }                                                                                                             </span>
<span  style=""> 342                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 343      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 344          return dynamicDaoHelper.getIdField(clazz);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 345      }                                                                                                             </span>
<span  style=""> 346                                                                                                                    </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 347      public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                              </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 348          return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 349      }                                                                                                             </span>
<span  style=""> 350                                                                                                                    </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 351      protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                               </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 352          Class&lt;?&gt; testClass;                                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 353          try {                                                                                                     </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 354              testClass = Class.forName(tree.getFullyQualifiedClassname());                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 355          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 356              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 357          }                                                                                                         </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 358          if (clazz.equals(testClass)) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 359              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 360          }                                                                                                         </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 361          if (clazz.getSuperclass().equals(testClass)) {                                                            </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 362              ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));             </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 363              createClassTreeFromAnnotation(clazz, myTree);                                                         </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 364              tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 365          } else {                                                                                                  </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 366              for (ClassTree child : tree.getChildren()) {                                                          </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 367                  addClassToTree(clazz, child);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 370      }                                                                                                             </span>
<span  style=""> 371                                                                                                                    </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 372      protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                              </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 373          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 373          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.clðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 374          if (classPresentation != null) {                                                                          </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 375              String friendlyName = classPresentation.friendlyName();                                               </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 376              if (!StringUtils.isEmpty(friendlyName)) {                                                             </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 377                  myTree.setFriendlyName(friendlyName);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 380      }                                                                                                             </span>
<span  style=""> 381                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 382      @Override                                                                                                     </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 383      public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                                </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 384          String ceilingClass = null;                                                                               </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 385          for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                               </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 386              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 386              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClasðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 387              if (classPresentation != null) {                                                                      </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 388                  String ceilingEntity = classPresentation.ceilingDisplayEntity();                                  </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 389                  if (!StringUtils.isEmpty(ceilingEntity)) {                                                        </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 390                      ceilingClass = ceilingEntity;                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 391                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 394          }                                                                                                         </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 395          if (ceilingClass != null) {                                                                               </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 396              int pos = -1;                                                                                         </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 397              int j = 0;                                                                                            </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 398              for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                           </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 399                  if (clazz.getName().equals(ceilingClass)) {                                                       </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 400                      pos = j;                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 401                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 402                  }                                                                                                 </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 403                  j++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 404              }                                                                                                     </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 405              if (pos &gt;= 0) {                                                                                       </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 406                  Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                          </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 407                  System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                          </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 408                  polymorphicClasses = temp;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 410          }                                                                                                         </span>
<span  style=""> 411                                                                                                                    </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 412          ClassTree classTree = null;                                                                               </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 413          if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                            </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 414              Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                                </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 415              classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));              </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 416              createClassTreeFromAnnotation(topClass, classTree);                                                   </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 417              for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                            </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 418                  addClassToTree(polymorphicClasses[j], classTree);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 419              }                                                                                                     </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 420              classTree.finalizeStructure(1);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 421          }                                                                                                         </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 422          return classTree;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 423      }                                                                                                             </span>
<span  style=""> 424                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 425      @Override                                                                                                     </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 426      public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                             </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 427          Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                           </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 428          return getClassTree(sortedEntities);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 429      }                                                                                                             </span>
<span  style=""> 430                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 431      @Override                                                                                                     </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 432      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 432      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persisteðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 433          Class&lt;?&gt;[] entityClasses;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 434          try {                                                                                                     </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 435              entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));                      </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 436          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 437              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 438          }                                                                                                         </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 439          if (!ArrayUtils.isEmpty(entityClasses)) {                                                                 </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 440              return getMergedProperties(                                                                           </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 441                      entityName,                                                                                   </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 442                      entityClasses,                                                                                </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 443                      (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 443                      (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectivðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 444                      persistencePerspective.getAdditionalNonPersistentProperties(),                                </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 445                      persistencePerspective.getAdditionalForeignKeys(),                                            </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 446                      MergedPropertyType.PRIMARY,                                                                   </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 447                      persistencePerspective.getPopulateToOneFields(),                                              </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 448                      persistencePerspective.getIncludeFields(),                                                    </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 449                      persistencePerspective.getExcludeFields(),                                                    </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 450                      persistencePerspective.getConfigurationKey(),                                                 </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 451                      &quot;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 452              );                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 453          } else {                                                                                                  </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 454              Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                        </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 455              Class&lt;?&gt; targetClass;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 456              try {                                                                                                 </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 457                  targetClass = Class.forName(entityName);                                                          </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 458              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 459                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 460              }                                                                                                     </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 461              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 461              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, ðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 462              for (String property : attributesMap.keySet()) {                                                      </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 463                  FieldMetadata presentationAttribute = attributesMap.get(property);                                </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 464                  if (!presentationAttribute.getExcluded()) {                                                       </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 465                      Field field = FieldManager.getSingleField(targetClass, property);                             </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 466                      if (!Modifier.isStatic(field.getModifiers())) {                                               </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 467                          boolean handled = false;                                                                  </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 468                          for (FieldMetadataProvider provider : fieldMetadataProviders) {                           </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 469                              MetadataProviderResponse response = provider.addMetadataFromFieldType(                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 470                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 470                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 471                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                           </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""> 472                                              property, null, false, 0, attributesMap, presentationAttribute,       </span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 473                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 473                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), fðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 474                                      mergedProperties);                                                            </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 475                              if (MetadataProviderResponse.NOT_HANDLED != response) {                               </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 476                                  handled = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 477                              }                                                                                     </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 478                              if (MetadataProviderResponse.HANDLED_BREAK == response) {                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 479                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 481                          }                                                                                         </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 482                          if (!handled) {                                                                           </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 483                              //this provider is not included in the provider list on purpose - it is designed to handle basic"> 483                              //this provider is not included in the provider list on purpose - it is designed to haðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""> 484                              //AdminPresentation fields, and those fields not admin presentation annotated at all  </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 485                              defaultFieldMetadataProvider.addMetadataFromFieldType(                                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 486                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 486                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 487                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,                 </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 488                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 488                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetaðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 489                                              field.getType(), this), mergedProperties);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 493              }                                                                                                     </span>
<span  style=""> 494                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 495              return mergedProperties;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 497      }                                                                                                             </span>
<span  style=""> 498                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 499      @Override                                                                                                     </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 500      public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                                </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 501          Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                                  </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 502          return getMergedProperties(                                                                               </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 503                  cls.getName(),                                                                                    </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 504                  polymorphicTypes,                                                                                 </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 505                  null,                                                                                             </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 506                  new String[]{},                                                                                   </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 507                  new ForeignKey[]{},                                                                               </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 508                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 509                  true,                                                                                             </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 510                  new String[]{},                                                                                   </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 511                  new String[]{},                                                                                   </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 512                  null,                                                                                             </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 513                  &quot;&quot;                                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 514          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 515      }                                                                                                             </span>
<span  style=""> 516                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 517      @Override                                                                                                     </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 518      public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                                        </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 519              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 520              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 521              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 522              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 523              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 524              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 525              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 526              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 527              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 528              String configurationKey,                                                                              </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 529              String prefix) {                                                                                      </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 530          Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 531                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 532                  entities,                                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 533                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 534                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 535                  additionalForeignFields,                                                                          </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 536                  mergedPropertyType,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 537                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 538                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 539                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 540                  configurationKey,                                                                                 </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 541                  new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 542                  prefix,                                                                                           </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 543                  false,                                                                                            </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 544                  &quot;&quot;);                                                                                              </span>
<span  style=""> 545                                                                                                                    </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 546          final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                                        </span>
<span  style=""> 547                                                                                                                    </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 548          for (final String key : mergedProperties.keySet()) {                                                      </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""> 549              if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {     </span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 550                  removeKeys.add(key);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 551              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 552          }                                                                                                         </span>
<span  style=""> 553                                                                                                                    </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 554          for (String removeKey : removeKeys) {                                                                     </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 555              mergedProperties.remove(removeKey);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 556          }                                                                                                         </span>
<span  style=""> 557                                                                                                                    </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 558          // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 558          // Allow field metadata providers to contribute additional fields here. These latestage handlers take placðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 559          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 559          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally caðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 560          // like properties gleaned from reflection typically are.                                                 </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 561          Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                              </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 562          for (Class&lt;?&gt; targetClass : entities) {                                                                   </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 563              for (String key : keys) {                                                                             </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 564                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 564                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;ðŸ”µ</abbr></span>
<span  style=""> 565                                                                                                                    </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 566                  boolean foundOneOrMoreHandlers = false;                                                           </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 567                  for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {                      </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 568                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 568                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedPropðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 569                      if (MetadataProviderResponse.NOT_HANDLED != response) {                                       </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 570                          foundOneOrMoreHandlers = true;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 571                      }                                                                                             </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 572                      if (MetadataProviderResponse.HANDLED_BREAK == response) {                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 573                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 575                  }                                                                                                 </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 576                  if (!foundOneOrMoreHandlers) {                                                                    </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 577                      defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 580          }                                                                                                         </span>
<span  style=""> 581                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 582          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 583      }                                                                                                             </span>
<span  style=""> 584                                                                                                                    </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 585      protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                          </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 586              final String ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 587              final Class&lt;?&gt;[] entities,                                                                            </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 588              final ForeignKey foreignField,                                                                        </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 589              final String[] additionalNonPersistentProperties,                                                     </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 590              final ForeignKey[] additionalForeignFields,                                                           </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 591              final MergedPropertyType mergedPropertyType,                                                          </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 592              final Boolean populateManyToOneFields,                                                                </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 593              final String[] includeFields,                                                                         </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 594              final String[] excludeFields,                                                                         </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 595              final String configurationKey,                                                                        </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 596              final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                   </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 597              final String prefix,                                                                                  </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 598              final Boolean isParentExcluded,                                                                       </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 599              final String parentPrefix) {                                                                          </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 600          PropertyBuilder propertyBuilder = new PropertyBuilder() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 601              @Override                                                                                             </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 602              public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {                        </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 603                  Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                    </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 604                  Boolean classAnnotatedPopulateManyToOneFields;                                                    </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 605                  if (overridePopulateManyToOne != null) {                                                          </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 606                      classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 607                  } else {                                                                                          </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 608                      classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 609                  }                                                                                                 </span>
<span  style=""> 610                                                                                                                    </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 611                  buildPropertiesFromPolymorphicEntities(                                                           </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 612                          entities,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 613                          foreignField,                                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 614                          additionalNonPersistentProperties,                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 615                          additionalForeignFields,                                                                  </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 616                          mergedPropertyType,                                                                       </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 617                          classAnnotatedPopulateManyToOneFields,                                                    </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 618                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 619                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 620                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 621                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 622                          mergedProperties,                                                                         </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 623                          parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 624                          prefix,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 625                          isParentExcluded,                                                                         </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 626                          parentPrefix);                                                                            </span>
<span  style=""> 627                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 628                  return mergedProperties;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 629              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 630          };                                                                                                        </span>
<span  style=""> 631                                                                                                                    </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 632          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 632          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix,ðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""> 633          applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);       </span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 634          applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);                       </span>
<span  style=""> 635                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 636          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 637      }                                                                                                             </span>
<span  style=""> 638                                                                                                                    </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 639      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 639      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;StðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 640          for (String key : mergedProperties.keySet()) {                                                            </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 641              boolean isForeign = false;                                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 642              if (foreignField != null) {                                                                           </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 643                  isForeign = foreignField.getManyToField().equals(key);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 644              }                                                                                                     </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 645              if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                                     </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 646                  for (ForeignKey foreignKey : additionalForeignFields) {                                           </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 647                      isForeign = foreignKey.getManyToField().equals(key);                                          </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 648                      if (isForeign) {                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 649                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 652              }                                                                                                     </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 653              if (isForeign) {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 654                  FieldMetadata metadata = mergedProperties.get(key);                                               </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 655                  metadata.setExcluded(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 656              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 657          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 658      }                                                                                                             </span>
<span  style=""> 659                                                                                                                    </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 660      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 660      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, BooleanðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 661          //check includes                                                                                          </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 662          if (!ArrayUtils.isEmpty(includeFields)) {                                                                 </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 663              for (String include : includeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 664                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 665                      String testKey = prefix + key;                                                                </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 666                      if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {                        </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 667                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 668                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 668                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appeaðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 669                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 670                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 671                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 672                          if (!isParentExcluded) {                                                                  </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 673                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 673                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in ðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 674                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 676                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 678              }                                                                                                     </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 679          } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                          </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 680              //check excludes                                                                                      </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 681              for (String exclude : excludeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 682                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 683                      String testKey = prefix + key;                                                                </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 684                      if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                           </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 685                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 686                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 686                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in thðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 687                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 688                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 689                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 690                          if (!isParentExcluded) {                                                                  </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 691                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 691                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 692                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 698      }                                                                                                             </span>
<span  style=""> 699                                                                                                                    </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 700      protected String pad(String s, int length, char pad) {                                                        </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 701          StringBuilder buffer = new StringBuilder(s);                                                              </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 702          while (buffer.length() &lt; length) {                                                                        </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 703              buffer.insert(0, pad);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 704          }                                                                                                         </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 705          return buffer.toString();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 706      }                                                                                                             </span>
<span  style=""> 707                                                                                                                    </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 708      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 708      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] adðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 709          StringBuilder sb = new StringBuilder(150);                                                                </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 710          sb.append(ceilingEntityFullyQualifiedClassname);                                                          </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 711          sb.append(clazz.hashCode());                                                                              </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 712          sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                           </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 713          sb.append(configurationKey);                                                                              </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 714          sb.append(isParentExcluded);                                                                              </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 715          if (additionalNonPersistentProperties != null) {                                                          </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 716              for (String prop : additionalNonPersistentProperties) {                                               </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 717                  sb.append(prop);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 719          }                                                                                                         </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 720          if (additionalForeignFields != null) {                                                                    </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 721              for (ForeignKey key : additionalForeignFields) {                                                      </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 722                  sb.append(key.toString());                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 724          }                                                                                                         </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 725          sb.append(mergedPropertyType);                                                                            </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 726          sb.append(populateManyToOneFields);                                                                       </span>
<span  style=""> 727                                                                                                                    </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 728          String digest;                                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 729          try {                                                                                                     </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 730              MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                                  </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 731              byte[] messageDigest = md.digest(sb.toString().getBytes());                                           </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 732              BigInteger number = new BigInteger(1, messageDigest);                                                 </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 733              digest = number.toString(16);                                                                         </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 734          } catch (NoSuchAlgorithmException e) {                                                                    </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 735              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 736          }                                                                                                         </span>
<span  style=""> 737                                                                                                                    </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 738          String key = pad(digest, 32, &#x27;0&#x27;);                                                                        </span>
<span  style=""> 739                                                                                                                    </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 740          if (LOG.isDebugEnabled()) {                                                                               </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 741              LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 742          }                                                                                                         </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 743          return key;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 744      }                                                                                                             </span>
<span  style=""> 745                                                                                                                    </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 746      protected void buildPropertiesFromPolymorphicEntities(                                                        </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 747              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 748              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 749              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 750              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 751              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 752              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 753              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 754              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 755              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 756              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 757              Map&lt;String, FieldMetadata&gt; mergedProperties,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 758              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 759              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 760              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 761              String parentPrefix) {                                                                                </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 762          for (Class&lt;?&gt; clazz : entities) {                                                                         </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 763              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 763              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistðŸ”µ</abbr></span>
<span  style=""> 764                                                                                                                    </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 765              Map&lt;String, FieldMetadata&gt; cacheData = null;                                                          </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style=""> 766              synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                                     </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 767                  if (useCache()) {                                                                                 </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 768                      cacheData = METADATA_CACHE.get(cacheKey);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 769                  }                                                                                                 </span>
<span  style=""> 770                                                                                                                    </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 771                  if (cacheData == null) {                                                                          </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 772                      Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                               </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 773                              clazz,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 774                              foreignField,                                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 775                              additionalNonPersistentProperties,                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 776                              additionalForeignFields,                                                              </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 777                              mergedPropertyType,                                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 778                              populateManyToOneFields,                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 779                              includeFields,                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 780                              excludeFields,                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 781                              configurationKey,                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 782                              ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 783                              parentClasses,                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 784                              prefix,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 785                              isParentExcluded,                                                                     </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 786                              parentPrefix);                                                                        </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""> 787                      //first check all the properties currently in there to see if my entity inherits from them    </span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 788                      for (Class&lt;?&gt; clazz2 : entities) {                                                            </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 789                          if (!clazz2.getName().equals(clazz.getName())) {                                          </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 790                              for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {                     </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 791                                  FieldMetadata metadata = entry.getValue();                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 792                                  try {                                                                             </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""> 793                                      if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {</span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 794                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 794                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new StriðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 795                                          metadata.setAvailableToTypes(both);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 796                                      }                                                                             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 797                                  } catch (ClassNotFoundException e) {                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 798                                      throw new RuntimeException(e);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 799                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 800                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 801                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 802                      }                                                                                             </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 803                      METADATA_CACHE.put(cacheKey, props);                                                          </span>
<span  style=""> 804                                                                                                                    </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 805                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 806                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 806                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 807                      }                                                                                             </span>
<span  style=""> 808                                                                                                                    </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 809                      if (validateMetadataCacheSizes) {                                                             </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 810                          Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                                </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 811                          Integer currentSize = props.size();                                                       </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 812                          if (previousSize == null) {                                                               </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 813                              METADATA_CACHE_SIZES.put(cacheKey, currentSize);                                      </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 814                          } else if (!currentSize.equals(previousSize)) {                                           </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 815                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 815                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the kðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 816                              LOG.error(msg);                                                                       </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 817                              throw new RuntimeException(msg);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 819                      }                                                                                             </span>
<span  style=""> 820                                                                                                                    </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 821                      cacheData = props;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 822                  } else {                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 823                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 824                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 824                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; fðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 825 +                    }                                                                                             </span>
<span class="-501850328574122245" onmouseenter="enter('-501850328574122245');" onmouseout="out('-501850328574122245');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 826 +                    //in case of MT different sites can potentially have different data driven enums, as we don&#x27;t take into account"> 826 +                    //in case of MT different sites can potentially have different data driven enums, as we don&#x27;t ðŸ”µ</abbr></span>
<span class="3536487786926857167" onmouseenter="enter('3536487786926857167');" onmouseout="out('3536487786926857167');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 827 +                    //site during cache key calculation(have metadata per-site is overkill) we want to refresh data driven enums"> 827 +                    //site during cache key calculation(have metadata per-site is overkill) we want to refresh datðŸ”µ</abbr></span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 828 +                    for (FieldMetadata value : cacheData.values()) {                                              </span>
<span class="-6317931462130244294" onmouseenter="enter('-6317931462130244294');" onmouseout="out('-6317931462130244294');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 829 +                        if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetadata)value).getOptionListEntity())){"> 829 +                        if(value instanceof BasicFieldMetadata &amp;&amp; StringUtils.isNotEmpty(((BasicFieldMetadata)valuðŸ”µ</abbr></span>
<span class="5758214601511037981" onmouseenter="enter('5758214601511037981');" onmouseout="out('5758214601511037981');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 830 +                            basicFieldMetadataProvider.refreshDataDrivenEnumMetadata((BasicFieldMetadata) value); </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 831 +                        }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 832                      }                                                                                             </span>











<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 833                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 834              }                                                                                                     </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 835              //clone the metadata before passing to the system                                                     </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 836              Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                             </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 837              for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                                 </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 838                  clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 839              }                                                                                                     </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 840              mergedProperties.putAll(clonedCache);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 841          }                                                                                                         </span>










<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 842      }                                                                                                             </span>
<span  style=""> 843                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 844      @Override                                                                                                     </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 845      public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                           </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 846          Field[] allFields = new Field[]{};                                                                        </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 847          boolean eof = false;                                                                                      </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 848          Class&lt;?&gt; currentClass = targetClass;                                                                      </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 849          while (!eof) {                                                                                            </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 850              Field[] fields = currentClass.getDeclaredFields();                                                    </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 851              allFields = ArrayUtils.addAll(allFields, fields);                                                     </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 852              if (currentClass.getSuperclass() != null) {                                                           </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 853                  currentClass = currentClass.getSuperclass();                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 854              } else {                                                                                              </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 855                  eof = true;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 856              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 857          }                                                                                                         </span>
<span  style=""> 858                                                                                                                    </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 859          return allFields;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 860      }                                                                                                             </span>
<span  style=""> 861                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 862      @Override                                                                                                     </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 863      public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 864              String propertyName,                                                                                  </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 865              String friendlyPropertyName,                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 866              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 867              Class&lt;?&gt; parentClass,                                                                                 </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 868              MergedPropertyType mergedPropertyType                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 869      ) {                                                                                                           </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 870          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 871          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 872          presentationAttribute.setFriendlyName(friendlyPropertyName);                                              </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 873          if (String.class.isAssignableFrom(targetClass)) {                                                         </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 874              presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 875              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 876              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 876              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, ðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 877          } else if (Boolean.class.isAssignableFrom(targetClass)) {                                                 </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 878              presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 879              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 880              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 880              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN,ðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 881          } else if (Date.class.isAssignableFrom(targetClass)) {                                                    </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 882              presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                                  </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 883              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 884              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 884              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, nuðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 885          } else if (Money.class.isAssignableFrom(targetClass)) {                                                   </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 886              presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                                 </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 887              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 888              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 888              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, nðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 889          } else if (                                                                                               </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 890                  Byte.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 891                          Integer.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 892                          Long.class.isAssignableFrom(targetClass) ||                                               </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 893                          Short.class.isAssignableFrom(targetClass)                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 894                  ) {                                                                                               </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 895              presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 896              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 897              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 897              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER,ðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 898          } else if (                                                                                               </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 899                  Double.class.isAssignableFrom(targetClass) ||                                                     </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 900                          BigDecimal.class.isAssignableFrom(targetClass)                                            </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 901                  ) {                                                                                               </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 902              presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 903              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 904              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 904              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL,ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 905          }                                                                                                         </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 906          ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                           </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 907          ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                           </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 908          ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                                        </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 909          ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                          </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 910          ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                            </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 911          ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                                        </span>
<span  style=""> 912                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 913          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 914      }                                                                                                             </span>
<span  style=""> 915                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 916      @Override                                                                                                     </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 917      public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                              </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 918          return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 919      }                                                                                                             </span>
<span  style=""> 920                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 921      @Override                                                                                                     </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 922      public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                                  </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 923          return dynamicDaoHelper.getPropertyNames(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 924      }                                                                                                             </span>
<span  style=""> 925                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 926      @Override                                                                                                     </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 927      public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                                    </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 928          return dynamicDaoHelper.getPropertyTypes(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 929      }                                                                                                             </span>
<span  style=""> 930                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 931      @Override                                                                                                     </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 932      public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {              </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 933          Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);                    </span>
<span  style=""> 934                                                                                                                    </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""> 935          Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);       </span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 936          metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);                </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 937          metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);             </span>
<span  style=""> 938                                                                                                                    </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 939          return mergedTabAndGroupMetadata;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 940      }                                                                                                             </span>
<span  style=""> 941                                                                                                                    </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 942      public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                            </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 943          Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                                   </span>
<span  style=""> 944                                                                                                                    </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 945          if (ceilingEntity != null) {                                                                              </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 946              entities = ArrayUtils.add(entities, ceilingEntity);                                                   </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 947              while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                         </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 948                  entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                               </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 949                  ceilingEntity = ceilingEntity.getSuperclass();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 950              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 951          }                                                                                                         </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 952          return entities;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 953      }                                                                                                             </span>
<span  style=""> 954                                                                                                                    </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 955      protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 956              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 957              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 958              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 959              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 960              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 961              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 962              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 963              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 964              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 965              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 966              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 967              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 968              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 969              String parentPrefix) {                                                                                </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 970          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 970          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 971          if (isParentExcluded) {                                                                                   </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 972              for (String key : presentationAttributes.keySet()) {                                                  </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""> 973                  LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);       </span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 974                  presentationAttributes.get(key).setExcluded(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 975              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 976          }                                                                                                         </span>
<span  style=""> 977                                                                                                                    </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 978          Map idMetadata = getIdMetadata(targetClass);                                                              </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 979          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 980          String idProperty = (String) idMetadata.get(&quot;name&quot;);                                                      </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 981          List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                               </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 982          propertyNames.add(idProperty);                                                                            </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 983          Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                              </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 984          List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                                 </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 985          propertyTypes.add(idType);                                                                                </span>
<span  style=""> 986                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style=""> 987          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style=""> 988          Iterator testIter = persistentClass.getPropertyIterator();                                                </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style=""> 989          List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                          </span>
<span  style=""> 990                                                                                                                    </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style=""> 991          //check the properties for problems                                                                       </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style=""> 992          while (testIter.hasNext()) {                                                                              </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style=""> 993              Property property = (Property) testIter.next();                                                       </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style=""> 994              if (property.getName().contains(&quot;.&quot;)) {                                                               </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title=" 995                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);"> 995                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 996              }                                                                                                     </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style=""> 997              propertyList.add(property);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 998          }                                                                                                         </span>
<span  style=""> 999                                                                                                                    </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1000          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1001                  targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1002                  foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1003                  additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1004                  additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1005                  mergedPropertyType,                                                                               </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1006                  presentationAttributes,                                                                           </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1007                  propertyList,                                                                                     </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1008                  fields,                                                                                           </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1009                  propertyNames,                                                                                    </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1010                  propertyTypes,                                                                                    </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1011                  idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1012                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1013                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1014                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1015                  configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1016                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1017                  parentClasses,                                                                                    </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1018                  prefix,                                                                                           </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1019                  isParentExcluded,                                                                                 </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1020                  false,                                                                                            </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1021                  parentPrefix                                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1022          );                                                                                                        </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1023          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1024          presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                    </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1025          presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                           </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1026          if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                             </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1027              Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                              </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1028              for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {                    </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1029                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1029                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentPropertðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1030                      String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;                   </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1031                      //get final property if this is a dot delimited property                                      </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1032                      int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                           </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1033                      if (finalDotPos &gt;= 0) {                                                                       </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1034                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1034                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1035                      }                                                                                             </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style="">1036                      //check all the polymorphic types on this target class to see if the end property exists      </span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1037                      Field testField = null;                                                                       </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1038                      Method testMethod = null;                                                                     </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1039                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1040                          try {                                                                                     </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1041                              testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);                      </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1042                              if (testMethod != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1043                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1044                              }                                                                                     </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1045                          } catch (NoSuchMethodException e) {                                                       </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1046                              //do nothing - method does not exist                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1047                          }                                                                                         </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1048                          testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1049                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1050                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1051                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1052                      }                                                                                             </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1053                      //if the property exists, add it to the metadata for this class                               </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1054                      if (testField != null || testMethod != null) {                                                </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1055                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1055                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1056                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1057                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1058              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1059          }                                                                                                         </span>
<span  style="">1060                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1061          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1062      }                                                                                                             </span>
<span  style="">1063                                                                                                                    </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1064      protected void buildProperties(                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1065              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1066              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1067              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1068              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1069              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1070              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1071              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1072              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1073              List&lt;String&gt; propertyNames,                                                                           </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1074              List&lt;Type&gt; propertyTypes,                                                                             </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1075              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1076              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1077              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1078              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1079              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1080              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1081              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1082              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1083              Boolean isParentExcluded,                                                                             </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1084              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1085              String parentPrefix) {                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1086          int j = 0;                                                                                                </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1087          Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1088              @Override                                                                                             </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1089              public int compare(String o1, String o2) {                                                            </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1090                  //check for property name equality and for map field properties                                   </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1091                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1091                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FielðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1092                      return 0;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1093                  }                                                                                                 </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1094                  return o1.compareTo(o2);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1095              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1096          };                                                                                                        </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1097          List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());                      </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1098          Collections.sort(presentationKeyList);                                                                    </span>
<span  style="">1099                                                                                                                    </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1100          for (String propertyName : propertyNames) {                                                               </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1101              final Type type = propertyTypes.get(j);                                                               </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1102              boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);               </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1103              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1103              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix,ðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1104              j++;                                                                                                  </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1105              Field myField = getFieldManager().getField(targetClass, propertyName);                                </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1106              if (myField == null) {                                                                                </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1107                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1107                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1108                  myField = getFieldManager().getField(targetClass, prefix + propertyName);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1109              }                                                                                                     </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1110              if (                                                                                                  </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1111                      !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                              </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1112                              isPropertyForeignKey ||                                                               </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1113                              additionalForeignKeyIndexPosition &gt;= 0 ||                                             </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="">1114                              Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0  </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1115                      ) {                                                                                           </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1116                  if (myField != null) {                                                                            </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1117                      boolean handled = false;                                                                      </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1118                      for (FieldMetadataProvider provider : fieldMetadataProviders) {                               </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1119                          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);           </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1120                          if (presentationAttribute != null) {                                                      </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1121                              setExcludedBasedOnShowIfProperty(presentationAttribute);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1122                          }                                                                                         </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1123                          MetadataProviderResponse response = provider.addMetadataFromFieldType(                    </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1124                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1124                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1125                                          mergedPropertyType, componentProperties, idProperty, prefix,              </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1126                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1126                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPositioðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1127                                          presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1127                                          presentationAttributes, presentationAttribute, null, type.getReturnedClassðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1128                          if (MetadataProviderResponse.NOT_HANDLED != response) {                                   </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1129                              handled = true;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1130                          }                                                                                         </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1131                          if (MetadataProviderResponse.HANDLED_BREAK == response) {                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1132                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1133                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1134                      }                                                                                             </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1135                      if (!handled) {                                                                               </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1136                          buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,           </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style="">1137                                  additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,    </span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style="">1138                                  componentProperties, fields, idProperty, populateManyToOneFields, includeFields,  </span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1139                                  excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1139                                  excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClassðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1140                                  prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1140                                  prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1141                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1142                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1143              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1144          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1145      }                                                                                                             </span>
<span  style="">1146                                                                                                                    </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1147      public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                                   </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1148          setExcludedBasedOnShowIfProperty(presentationAttribute);                                                  </span>
<span  style="">1149                                                                                                                    </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1150          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1150          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttðŸ”µ</abbr></span>
<span  style="">1151                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1152      }                                                                                                             </span>
<span  style="">1153                                                                                                                    </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1154      protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                                </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1155          if (fieldMetadata != null                                                                                 </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1156                  &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                      </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1157                  &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                          </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1158                  &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {             </span>
<span  style="">1159                                                                                                                    </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1160              //do not include this in the display if it returns false.                                             </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1161              fieldMetadata.setExcluded(true);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1162          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1163      }                                                                                                             </span>
<span  style="">1164                                                                                                                    </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1165      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1165      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, ClasðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1166                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1166                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefixðŸ”µ</abbr></span>
<span  style="">1167                                                                                                                    </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1168          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1168          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, tarðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1169                  ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                         </span>
<span  style="">1170                                                                                                                    </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1171          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1171          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefiðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1172                  parentPrefix, propertyName);                                                                      </span>
<span  style="">1173                                                                                                                    </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1174          return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1175      }                                                                                                             </span>
<span  style="">1176                                                                                                                    </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1177      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1177      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPreðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1178          return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1179      }                                                                                                             </span>
<span  style="">1180                                                                                                                    </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1181      protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String           </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1182              propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean              </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1183                                                              isComponentPrefix) {                                  </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1184          Boolean response = false;                                                                                 </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1185          //don&#x27;t want to shun a self-referencing property in an @Embeddable                                        </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1186          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1186          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1ðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1187          if (shouldTest) {                                                                                         </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1188              Field testField = getFieldManager().getField(targetClass, propertyName);                              </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1189              if (testField == null) {                                                                              </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1190                  Class&lt;?&gt;[] entities;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1191                  try {                                                                                             </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1192                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1192                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1193                  } catch (ClassNotFoundException e) {                                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1194                      throw new RuntimeException(e);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1195                  }                                                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1196                  for (Class&lt;?&gt; clazz : entities) {                                                                 </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1197                      testField = getFieldManager().getField(clazz, propertyName);                                  </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1198                      if (testField != null) {                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1199                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1200                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1201                  }                                                                                                 </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1202                  String testProperty = prefix + propertyName;                                                      </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1203                  if (testField == null) {                                                                          </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1204                      testField = getFieldManager().getField(targetClass, testProperty);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1205                  }                                                                                                 </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1206                  if (testField == null) {                                                                          </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1207                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1208                          testField = getFieldManager().getField(clazz, testProperty);                              </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1209                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1210                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1211                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1212                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1213                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1214              }                                                                                                     </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1215              response = determineExclusionForField(parentClasses, targetClass, testField);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1216          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1217          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1218      }                                                                                                             </span>
<span  style="">1219                                                                                                                    </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1220      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1220      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testFieðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1221          Boolean response = false;                                                                                 </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1222          if (testField != null) {                                                                                  </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1223              Class&lt;?&gt; testType = testField.getType();                                                              </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1224              for (Class&lt;?&gt; parentClass : parentClasses) {                                                          </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1225                  if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {           </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1226                      response = true;                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1227                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1228                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1229              }                                                                                                     </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style="">1230              if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {</span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1231                  response = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1232              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1233          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1234          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1235      }                                                                                                             </span>
<span  style="">1236                                                                                                                    </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1237      protected void buildBasicProperty(                                                                            </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1238              Field field,                                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1239              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1240              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1241              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1242              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1243              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1244              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1245              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1246              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1247              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1248              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1249              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1250              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1251              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1252              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1253              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1254              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1255              Boolean isParentExcluded,                                                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1256              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1257              Type type,                                                                                            </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1258              boolean propertyForeignKey,                                                                           </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1259              int additionalForeignKeyIndexPosition,                                                                </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1260              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1261              String parentPrefix) {                                                                                </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1262          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                           </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1263          Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);                  </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1264          Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,           </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1265                  ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                           </span>
<span  style="">1266                                                                                                                    </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1267          SupportedFieldType explicitType = null;                                                                   </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1268          if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {               </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1269              explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1270          }                                                                                                         </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1271          Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                         </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1272          checkProp:                                                                                                </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1273          {                                                                                                         </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1274              if (type.isComponentType() &amp;&amp; includeField) {                                                         </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1275                  buildComponentProperties(                                                                         </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1276                          targetClass,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1277                          foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1278                          additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1279                          additionalNonPersistentProperties,                                                        </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1280                          mergedPropertyType,                                                                       </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1281                          fields,                                                                                   </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1282                          idProperty,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1283                          populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1284                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1285                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1286                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1287                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1288                          propertyName,                                                                             </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1289                          type,                                                                                     </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1290                          returnedClass,                                                                            </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1291                          parentClasses,                                                                            </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1292                          amIExcluded,                                                                              </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1293                          prefix,                                                                                   </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1294                          parentPrefix);                                                                            </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1295                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1296              }                                                                                                     </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1297              /*                                                                                                    </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1298               * Currently we do not support ManyToOne fields whose class type is the same                          </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1299               * as the target type, since this forms an infinite loop and will cause a stack overflow.             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1300               */                                                                                                   </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1301              if (                                                                                                  </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1302                      type.isEntityType() &amp;&amp;                                                                        </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1303                              !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                       </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1304                              populateManyToOneFields &amp;&amp;                                                            </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1305                              includeField                                                                          </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1306                      ) {                                                                                           </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1307                  buildEntityProperties(                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1308                          fields,                                                                                   </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1309                          foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1310                          additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1311                          additionalNonPersistentProperties,                                                        </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1312                          populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1313                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1314                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1315                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1316                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1317                          propertyName,                                                                             </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1318                          returnedClass,                                                                            </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1319                          targetClass,                                                                              </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1320                          parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1321                          prefix,                                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1322                          amIExcluded,                                                                              </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1323                          parentPrefix                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1324                  );                                                                                                </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1325                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1326              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1327          }                                                                                                         </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1328          //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key         </span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1329          if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {                       </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1330              defaultFieldMetadataProvider.addMetadataFromFieldType(                                                </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style="">1331                      new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,</span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style="">1332                              mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,      </span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style="">1333                              propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,        </span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1334                              presentationAttribute, explicitType, returnedClass, this), fields);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1335          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1336      }                                                                                                             </span>
<span  style="">1337                                                                                                                    </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1338      protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) {          </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1339          boolean isPropertyForeignKey = false;                                                                     </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1340          if (foreignField != null) {                                                                               </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1341              isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1342          }                                                                                                         </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1343          return isPropertyForeignKey;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1344      }                                                                                                             </span>
<span  style="">1345                                                                                                                    </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1346      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1346      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String properðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1347          int additionalForeignKeyIndexPosition = -1;                                                               </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1348          if (additionalForeignFields != null) {                                                                    </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1349              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1349              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefixðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1350                  @Override                                                                                         </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1351                  public int compare(ForeignKey o1, ForeignKey o2) {                                                </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1352                      return o1.getManyToField().compareTo(o2.getManyToField());                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1353                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1354              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1355          }                                                                                                         </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1356          return additionalForeignKeyIndexPosition;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1357      }                                                                                                             </span>
<span  style="">1358                                                                                                                    </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1359      protected void buildEntityProperties(                                                                         </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1360              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1361              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1362              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1363              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1364              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1365              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1366              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1367              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1368              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1369              String propertyName,                                                                                  </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1370              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1371              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1372              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1373              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1374              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1375              String parentPrefix) {                                                                                </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1376          Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);                     </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1377          List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                                   </span>
<span  style="">1378                                                                                                                    </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1379          for (Class&lt;?&gt; parentClass : parentClasses) {                                                              </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1380              clonedParentClasses.add(parentClass);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1381          }                                                                                                         </span>
<span  style="">1382                                                                                                                    </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1383          clonedParentClasses.add(targetClass);                                                                     </span>
<span  style="">1384                                                                                                                    </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1385          Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1386                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1387                  polymorphicEntities,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1388                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1389                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1390                  additionalForeignFields,                                                                          </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1391                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1392                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1393                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1394                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1395                  configurationKey,                                                                                 </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1396                  clonedParentClasses,                                                                              </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1397                  prefix + propertyName + &#x27;.&#x27;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1398                  isParentExcluded,                                                                                 </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1399                  parentPrefix);                                                                                    </span>
<span  style="">1400                                                                                                                    </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1401          final String targetClassName = targetClass.getName();                                                     </span>
<span  style="">1402                                                                                                                    </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1403          for (FieldMetadata newMetadata : newFields.values()) {                                                    </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1404              newMetadata.setInheritedFromType(targetClassName);                                                    </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1405              newMetadata.setAvailableToTypes(new String[]{targetClassName});                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1406          }                                                                                                         </span>
<span  style="">1407                                                                                                                    </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1408          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                             </span>
<span  style="">1409                                                                                                                    </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1410          for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                                  </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1411              final FieldMetadata fieldMetadata = newField.getValue();                                              </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1412              final String key = newField.getKey();                                                                 </span>
<span  style="">1413                                                                                                                    </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1414              convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                         </span>
<span  style="">1415                                                                                                                    </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1416              if (fieldMetadata instanceof BasicFieldMetadata) {                                                    </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1417                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1417                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1418                      Class&lt;?&gt; validatorImpl = null;                                                                </span>
<span  style="">1419                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1420                      try {                                                                                         </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1421                          validatorImpl = Class.forName(validationConfigurations.getKey());                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1422                      } catch (ClassNotFoundException e) {                                                          </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1423                          Object bean = applicationContext.getBean(validationConfigurations.getKey());              </span>
<span  style="">1424                                                                                                                    </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1425                          if (bean != null) {                                                                       </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1426                              validatorImpl = bean.getClass();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1427                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1428                      }                                                                                             </span>
<span  style="">1429                                                                                                                    </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1430                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1430                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl))ðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1431                          for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {                 </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1432                              for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                         </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1433                                  final String value = config.getValue();                                           </span>
<span  style="">1434                                                                                                                    </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1435                                  if (newFields.containsKey(value)) {                                               </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1436                                      config.setValue(propertyName + &quot;.&quot; + value);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1437                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1438                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1439                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1440                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1441                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1442              }                                                                                                     </span>
<span  style="">1443                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1444              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1445                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1446              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1447          }                                                                                                         </span>
<span  style="">1448                                                                                                                    </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1449          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1450      }                                                                                                             </span>
<span  style="">1451                                                                                                                    </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1452      protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                                 </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1453          return fieldMetadata instanceof BasicCollectionMetadata                                                   </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1454                  &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1454                  &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectivðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1455                  &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1455                  &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1456      }                                                                                                             </span>
<span  style="">1457                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1458      /*                                                                                                            </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1459       * There may be multiple pathways to this foreign key which may have come from a cached source.               </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1460       * Since ForeignKey contains an originating field concept that is occurrence specific, we need                </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1461       * to make sure it is set appropriately here.                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1462       *                                                                                                            </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1463       * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                                  </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1464       * owningSite.embeddableMultitenantSite.adminUsers.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1465       */                                                                                                           </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1466      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1466      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) ðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1467          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1467          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective()ðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1468          foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1469      }                                                                                                             </span>
<span  style="">1470                                                                                                                    </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1471      protected void buildComponentProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1472              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1473              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1474              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1475              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1476              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1477              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1478              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1479              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1480              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1481              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1482              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1483              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1484              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1485              Type type,                                                                                            </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1486              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1487              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1488              Boolean isParentExcluded,                                                                             </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1489              String prefix,                                                                                        </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1490              String parentPrefix) {                                                                                </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1491          String[] componentProperties = ((ComponentType) type).getPropertyNames();                                 </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1492          List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                                 </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1493          Type[] componentTypes = ((ComponentType) type).getSubtypes();                                             </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1494          List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                                        </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1495          String tempPrefix = &quot;&quot;;                                                                                   </span>
<span  style="">1496                                                                                                                    </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1497          int pos = prefix.indexOf(&quot;.&quot;);                                                                            </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1498          final int prefixLength = prefix.length();                                                                 </span>
<span  style="">1499                                                                                                                    </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1500          if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                                  </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1501              //only use part of the prefix if it&#x27;s more than one layer deep                                        </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1502              tempPrefix = prefix.substring(pos + 1, prefixLength);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1503          }                                                                                                         </span>
<span  style="">1504                                                                                                                    </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1505          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1505          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targeðŸ”µ</abbr></span>
<span  style="">1506                                                                                                                    </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1507          if (isParentExcluded) {                                                                                   </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1508              for (String key : componentPresentationAttributes.keySet()) {                                         </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style="">1509                  LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);      </span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1510                  componentPresentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1511              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1512          }                                                                                                         </span>
<span  style="">1513                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1514          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1515          Property property;                                                                                        </span>
<span  style="">1516                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1517          try {                                                                                                     </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1518              property = persistentClass.getProperty(propertyName);                                                 </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1519          } catch (MappingException e) {                                                                            </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1520              property = persistentClass.getProperty(prefix + propertyName);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1521          }                                                                                                         </span>
<span  style="">1522                                                                                                                    </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1523          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1523          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyItðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1524          List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1525                                                                                                                    </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1526          while (componentPropertyIterator.hasNext()) {                                                             </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1527              componentPropertyList.add((Property) componentPropertyIterator.next());                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1528          }                                                                                                         </span>
<span  style="">1529                                                                                                                    </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1530          Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                                   </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1531          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1532                  targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1533                  foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1534                  additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1535                  additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1536                  mergedPropertyType,                                                                               </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1537                  componentPresentationAttributes,                                                                  </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1538                  componentPropertyList,                                                                            </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1539                  newFields,                                                                                        </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1540                  componentPropertyNames,                                                                           </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1541                  componentPropertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1542                  idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1543                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1544                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1545                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1546                  configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1547                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1548                  parentClasses,                                                                                    </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1549                  propertyName + &quot;.&quot;,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1550                  isParentExcluded,                                                                                 </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1551                  true,                                                                                             </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1552                  parentPrefix + prefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1553          );                                                                                                        </span>
<span  style="">1554                                                                                                                    </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1555          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                             </span>
<span  style="">1556                                                                                                                    </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1557          for (String key : newFields.keySet()) {                                                                   </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1558              final FieldMetadata fieldMetadata = newFields.get(key);                                               </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1559              convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                         </span>
<span  style="">1560                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1561              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1562                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1563              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1564          }                                                                                                         </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1565          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1566      }                                                                                                             </span>
<span  style="">1567                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1568      @Override                                                                                                     </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1569      public EntityManager getStandardEntityManager() {                                                             </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1570          return standardEntityManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1571      }                                                                                                             </span>
<span  style="">1572                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1573      @Override                                                                                                     </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1574      public void setStandardEntityManager(EntityManager entityManager) {                                           </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1575          this.standardEntityManager = entityManager;                                                               </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1576          fieldManager = new FieldManager(entityConfiguration, entityManager);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1577      }                                                                                                             </span>
<span  style="">1578                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1579      @Override                                                                                                     </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1580      public FieldManager getFieldManager() {                                                                       </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="">1581          return this.getFieldManager(true);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1582      }                                                                                                             </span>
<span  style="">1583                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1584      @Override                                                                                                     </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1585      public FieldManager getFieldManager(boolean cleanFieldManager) {                                              </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1586          if (fieldManager == null) {                                                                               </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1587              //keep in mind that getStandardEntityManager() can return null, this is in general OK,                </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1588              // we re-init fieldManager in setStandardEntityManager method                                         </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1589              fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());                     </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1590          } else if (cleanFieldManager){                                                                            </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1591              fieldManager.clearMiddleFields();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1592          }                                                                                                         </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1593          return fieldManager;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1594      }                                                                                                             </span>
<span  style="">1595                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1596      @Override                                                                                                     </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1597      public EntityConfiguration getEntityConfiguration() {                                                         </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1598          return entityConfiguration;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1599      }                                                                                                             </span>
<span  style="">1600                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1601      @Override                                                                                                     </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1602      public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                                 </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1603          this.entityConfiguration = entityConfiguration;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1604      }                                                                                                             </span>
<span  style="">1605                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1606      @Override                                                                                                     </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1607      public Metadata getMetadata() {                                                                               </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1608          return metadata;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1609      }                                                                                                             </span>
<span  style="">1610                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1611      @Override                                                                                                     </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1612      public void setMetadata(Metadata metadata) {                                                                  </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1613          this.metadata = metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1614      }                                                                                                             </span>
<span  style="">1615                                                                                                                    </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1616      public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                              </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1617          return fieldMetadataProviders;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1618      }                                                                                                             </span>
<span  style="">1619                                                                                                                    </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1620      public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {                   </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1621          this.fieldMetadataProviders = fieldMetadataProviders;                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1622      }                                                                                                             </span>
<span  style="">1623                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1624      @Override                                                                                                     </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1625      public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                              </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1626          return defaultFieldMetadataProvider;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1627      }                                                                                                             </span>
<span  style="">1628                                                                                                                    </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1629      public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {             </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1630          this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1631      }                                                                                                             </span>
<span  style="">1632                                                                                                                    </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1633      protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                            </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1634          return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1635      }                                                                                                             </span>
<span  style="">1636                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1637      @Override                                                                                                     </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1638      public DynamicDaoHelper getDynamicDaoHelper() {                                                               </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1639          return dynamicDaoHelper;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1640      }                                                                                                             </span>
<span  style="">1641                                                                                                                    </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1642      public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                          </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1643          this.dynamicDaoHelper = dynamicDaoHelper;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1644      }                                                                                                             </span>
<span  style="">1645                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1646  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="7283730021202772321" onmouseenter="enter('7283730021202772321');" onmouseout="out('7283730021202772321');" style="">   2   * #%L                                                                                                            </span>
<span class="-3339060969767811416" onmouseenter="enter('-3339060969767811416');" onmouseout="out('-3339060969767811416');" style="">   3   * BroadleafCommerce Open Admin Platform                                                                          </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   4   * %%                                                                                                             </span>
<span class="1978304592184257722" onmouseenter="enter('1978304592184257722');" onmouseout="out('1978304592184257722');" style="">   5   * Copyright (C) 2009 - 2016 Broadleaf Commerce                                                                   </span>
<span class="305149960078729975" onmouseenter="enter('305149960078729975');" onmouseout="out('305149960078729975');" style="">   6   * %%                                                                                                             </span>
<span class="4430451662992926684" onmouseenter="enter('4430451662992926684');" onmouseout="out('4430451662992926684');" style="">   7   * Licensed under the Broadleaf Fair Use License Agreement, Version 1.0                                           </span>
<span class="8206099442596739681" onmouseenter="enter('8206099442596739681');" onmouseout="out('8206099442596739681');" style="">   8   * (the &quot;Fair Use License&quot; located  at http://license.broadleafcommerce.org/fair_use_license-1.0.txt)             </span>
<span class="-4338570431005413339" onmouseenter="enter('-4338570431005413339');" onmouseout="out('-4338570431005413339');" style="">   9   * unless the restrictions on use therein are violated and require payment to Broadleaf in which case             </span>
<span class="-5739615313038505012" onmouseenter="enter('-5739615313038505012');" onmouseout="out('-5739615313038505012');" style="">  10   * the Broadleaf End User License Agreement (EULA), Version 1.1                                                   </span>
<span class="-196756316119086558" onmouseenter="enter('-196756316119086558');" onmouseout="out('-196756316119086558');" style="">  11   * (the &quot;Commercial License&quot; located at http://license.broadleafcommerce.org/commercial_license-1.1.txt)          </span>
<span class="-3691518077331372763" onmouseenter="enter('-3691518077331372763');" onmouseout="out('-3691518077331372763');" style="">  12   * shall apply.                                                                                                   </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">  13   *                                                                                                                </span>
<span class="-3333434530440420199" onmouseenter="enter('-3333434530440420199');" onmouseout="out('-3333434530440420199');" style=""><abbr title="  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;)">  14   * Alternatively, the Commercial License may be replaced with a mutually agreed upon license (the &quot;Custom License&quot;ðŸ”µ</abbr></span>
<span class="-2556272520656899284" onmouseenter="enter('-2556272520656899284');" onmouseout="out('-2556272520656899284');" style="">  15   * between you and Broadleaf Commerce. You may not use this file except in compliance with the applicable license.</span>
<span class="3739716589509259313" onmouseenter="enter('3739716589509259313');" onmouseout="out('3739716589509259313');" style="">  16   * #L%                                                                                                            </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  17   */                                                                                                               </span>
<span class="-6799987620289079667" onmouseenter="enter('-6799987620289079667');" onmouseout="out('-6799987620289079667');" style="">  18  package org.broadleafcommerce.openadmin.server.dao;                                                               </span>
<span  style="">  19                                                                                                                    </span>
<span  style="">  20                                                                                                                    </span>
<span class="-7679380828743540561" onmouseenter="enter('-7679380828743540561');" onmouseout="out('-7679380828743540561');" style="">  21  import org.apache.commons.collections4.map.LRUMap;                                                                </span>
<span class="7952073036463698968" onmouseenter="enter('7952073036463698968');" onmouseout="out('7952073036463698968');" style="">  22  import org.apache.commons.lang.StringUtils;                                                                       </span>
<span class="2359514128542055982" onmouseenter="enter('2359514128542055982');" onmouseout="out('2359514128542055982');" style="">  23  import org.apache.commons.lang3.ArrayUtils;                                                                       </span>
<span class="494203924075255110" onmouseenter="enter('494203924075255110');" onmouseout="out('494203924075255110');" style="">  24  import org.apache.commons.logging.Log;                                                                            </span>
<span class="-8227491862907452788" onmouseenter="enter('-8227491862907452788');" onmouseout="out('-8227491862907452788');" style="">  25  import org.apache.commons.logging.LogFactory;                                                                     </span>
<span class="-274639712180431568" onmouseenter="enter('-274639712180431568');" onmouseout="out('-274639712180431568');" style="">  26  import org.broadleafcommerce.common.money.Money;                                                                  </span>
<span class="4111478795314305516" onmouseenter="enter('4111478795314305516');" onmouseout="out('4111478795314305516');" style="">  27  import org.broadleafcommerce.common.persistence.EntityConfiguration;                                              </span>
<span class="-3000952286328699753" onmouseenter="enter('-3000952286328699753');" onmouseout="out('-3000952286328699753');" style="">  28  import org.broadleafcommerce.common.persistence.Status;                                                           </span>
<span class="5942951047712687553" onmouseenter="enter('5942951047712687553');" onmouseout="out('5942951047712687553');" style="">  29  import org.broadleafcommerce.common.presentation.AdminPresentationClass;                                          </span>
<span class="7296089998360266547" onmouseenter="enter('7296089998360266547');" onmouseout="out('7296089998360266547');" style="">  30  import org.broadleafcommerce.common.presentation.client.PersistencePerspectiveItemType;                           </span>
<span class="1362364260528215152" onmouseenter="enter('1362364260528215152');" onmouseout="out('1362364260528215152');" style="">  31  import org.broadleafcommerce.common.presentation.client.SupportedFieldType;                                       </span>
<span class="-7583443881845767348" onmouseenter="enter('-7583443881845767348');" onmouseout="out('-7583443881845767348');" style="">  32  import org.broadleafcommerce.common.presentation.client.VisibilityEnum;                                           </span>
<span class="5951235614759861305" onmouseenter="enter('5951235614759861305');" onmouseout="out('5951235614759861305');" style="">  33  import org.broadleafcommerce.common.util.dao.DynamicDaoHelper;                                                    </span>
<span class="2901117953480421393" onmouseenter="enter('2901117953480421393');" onmouseout="out('2901117953480421393');" style="">  34  import org.broadleafcommerce.common.util.dao.DynamicDaoHelperImpl;                                                </span>
<span class="5417513218856323097" onmouseenter="enter('5417513218856323097');" onmouseout="out('5417513218856323097');" style="">  35  import org.broadleafcommerce.common.util.dao.HibernateMappingProvider;                                            </span>
<span class="8689743329875302887" onmouseenter="enter('8689743329875302887');" onmouseout="out('8689743329875302887');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  36 +import org.broadleafcommerce.common.web.BroadleafRequestContext;                                                  </span>
<span class="-6140296335181984013" onmouseenter="enter('-6140296335181984013');" onmouseout="out('-6140296335181984013');" style="">  37  import org.broadleafcommerce.openadmin.dto.BasicCollectionMetadata;                                               </span>
<span class="4427537537958608766" onmouseenter="enter('4427537537958608766');" onmouseout="out('4427537537958608766');" style="">  38  import org.broadleafcommerce.openadmin.dto.BasicFieldMetadata;                                                    </span>
<span class="-1607559599739253077" onmouseenter="enter('-1607559599739253077');" onmouseout="out('-1607559599739253077');" style="">  39  import org.broadleafcommerce.openadmin.dto.ClassMetadata;                                                         </span>
<span class="5550564421881377532" onmouseenter="enter('5550564421881377532');" onmouseout="out('5550564421881377532');" style="">  40  import org.broadleafcommerce.openadmin.dto.ClassTree;                                                             </span>
<span class="-8829499667991596741" onmouseenter="enter('-8829499667991596741');" onmouseout="out('-8829499667991596741');" style="">  41  import org.broadleafcommerce.openadmin.dto.FieldMetadata;                                                         </span>
<span class="-2271266034558779994" onmouseenter="enter('-2271266034558779994');" onmouseout="out('-2271266034558779994');" style="">  42  import org.broadleafcommerce.openadmin.dto.ForeignKey;                                                            </span>
<span class="7333603239996951733" onmouseenter="enter('7333603239996951733');" onmouseout="out('7333603239996951733');" style="">  43  import org.broadleafcommerce.openadmin.dto.MergedPropertyType;                                                    </span>
<span class="8079401142601162613" onmouseenter="enter('8079401142601162613');" onmouseout="out('8079401142601162613');" style="">  44  import org.broadleafcommerce.openadmin.dto.PersistencePerspective;                                                </span>
<span class="5662236005419086618" onmouseenter="enter('5662236005419086618');" onmouseout="out('5662236005419086618');" style="">  45  import org.broadleafcommerce.openadmin.dto.TabMetadata;                                                           </span>

<span class="1983427873053032777" onmouseenter="enter('1983427873053032777');" onmouseout="out('1983427873053032777');" style="">  46  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.FieldMetadataProvider;                        </span>
<span class="5371765766715175908" onmouseenter="enter('5371765766715175908');" onmouseout="out('5371765766715175908');" style="">  47  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.AddMetadataFromFieldTypeRequest;      </span>
<span class="-9165483564523261979" onmouseenter="enter('-9165483564523261979');" onmouseout="out('-9165483564523261979');" style="">  48  import org.broadleafcommerce.openadmin.server.dao.provider.metadata.request.LateStageAddMetadataRequest;          </span>
<span class="6020321283788374630" onmouseenter="enter('6020321283788374630');" onmouseout="out('6020321283788374630');" style="">  49  import org.broadleafcommerce.openadmin.server.service.persistence.module.FieldManager;                            </span>
<span class="6924899367480835082" onmouseenter="enter('6924899367480835082');" onmouseout="out('6924899367480835082');" style="">  50  import org.broadleafcommerce.openadmin.server.service.persistence.validation.FieldNamePropertyValidator;          </span>
<span class="5692608280904331276" onmouseenter="enter('5692608280904331276');" onmouseout="out('5692608280904331276');" style="">  51  import org.broadleafcommerce.openadmin.server.service.type.MetadataProviderResponse;                              </span>
<span class="-8778834899520613749" onmouseenter="enter('-8778834899520613749');" onmouseout="out('-8778834899520613749');" style="">  52  import org.hibernate.Criteria;                                                                                    </span>
<span class="5836185489930382163" onmouseenter="enter('5836185489930382163');" onmouseout="out('5836185489930382163');" style="">  53  import org.hibernate.MappingException;                                                                            </span>
<span class="-1504015732959009083" onmouseenter="enter('-1504015732959009083');" onmouseout="out('-1504015732959009083');" style="">  54  import org.hibernate.Session;                                                                                     </span>
<span class="3166107731338102505" onmouseenter="enter('3166107731338102505');" onmouseout="out('3166107731338102505');" style="">  55  import org.hibernate.mapping.PersistentClass;                                                                     </span>
<span class="-1602637021447643940" onmouseenter="enter('-1602637021447643940');" onmouseout="out('-1602637021447643940');" style="">  56  import org.hibernate.mapping.Property;                                                                            </span>
<span class="-1659109426099639795" onmouseenter="enter('-1659109426099639795');" onmouseout="out('-1659109426099639795');" style="">  57  import org.hibernate.type.ComponentType;                                                                          </span>
<span class="-8880811180875514232" onmouseenter="enter('-8880811180875514232');" onmouseout="out('-8880811180875514232');" style="">  58  import org.hibernate.type.Type;                                                                                   </span>
<span class="-6968089101617569818" onmouseenter="enter('-6968089101617569818');" onmouseout="out('-6968089101617569818');" style="">  59  import org.springframework.beans.BeansException;                                                                  </span>
<span class="4412650647810815777" onmouseenter="enter('4412650647810815777');" onmouseout="out('4412650647810815777');" style="">  60  import org.springframework.beans.factory.NoSuchBeanDefinitionException;                                           </span>
<span class="-7404358339654927739" onmouseenter="enter('-7404358339654927739');" onmouseout="out('-7404358339654927739');" style="">  61  import org.springframework.beans.factory.annotation.Value;                                                        </span>
<span class="1015650858128177541" onmouseenter="enter('1015650858128177541');" onmouseout="out('1015650858128177541');" style="">  62  import org.springframework.context.ApplicationContext;                                                            </span>
<span class="5490156850800899437" onmouseenter="enter('5490156850800899437');" onmouseout="out('5490156850800899437');" style="">  63  import org.springframework.context.ApplicationContextAware;                                                       </span>
<span class="2368474895564125270" onmouseenter="enter('2368474895564125270');" onmouseout="out('2368474895564125270');" style="">  64  import org.springframework.context.annotation.Scope;                                                              </span>
<span class="-7198504260474480100" onmouseenter="enter('-7198504260474480100');" onmouseout="out('-7198504260474480100');" style="">  65  import org.springframework.core.annotation.AnnotationUtils;                                                       </span>
<span class="8406454220154166073" onmouseenter="enter('8406454220154166073');" onmouseout="out('8406454220154166073');" style="">  66  import org.springframework.stereotype.Component;                                                                  </span>
<span  style="">  67                                                                                                                    </span>
<span class="5998602906817463685" onmouseenter="enter('5998602906817463685');" onmouseout="out('5998602906817463685');" style="">  68  import java.io.Serializable;                                                                                      </span>
<span class="507320133330553151" onmouseenter="enter('507320133330553151');" onmouseout="out('507320133330553151');" style="">  69  import java.lang.reflect.Field;                                                                                   </span>
<span class="3877996116863688216" onmouseenter="enter('3877996116863688216');" onmouseout="out('3877996116863688216');" style="">  70  import java.lang.reflect.Method;                                                                                  </span>
<span class="1546464639948964552" onmouseenter="enter('1546464639948964552');" onmouseout="out('1546464639948964552');" style="">  71  import java.lang.reflect.Modifier;                                                                                </span>
<span class="2075466404860203191" onmouseenter="enter('2075466404860203191');" onmouseout="out('2075466404860203191');" style="">  72  import java.math.BigDecimal;                                                                                      </span>
<span class="-40197902381950972" onmouseenter="enter('-40197902381950972');" onmouseout="out('-40197902381950972');" style="">  73  import java.math.BigInteger;                                                                                      </span>
<span class="6381430938828950472" onmouseenter="enter('6381430938828950472');" onmouseout="out('6381430938828950472');" style="">  74  import java.security.MessageDigest;                                                                               </span>
<span class="-1748023591259675388" onmouseenter="enter('-1748023591259675388');" onmouseout="out('-1748023591259675388');" style="">  75  import java.security.NoSuchAlgorithmException;                                                                    </span>
<span class="1491934911577693694" onmouseenter="enter('1491934911577693694');" onmouseout="out('1491934911577693694');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  76 +import java.text.DecimalFormat;                                                                                   </span>
<span class="-76499702739685611" onmouseenter="enter('-76499702739685611');" onmouseout="out('-76499702739685611');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  77 +import java.text.NumberFormat;                                                                                    </span>
<span class="9191247685397773893" onmouseenter="enter('9191247685397773893');" onmouseout="out('9191247685397773893');" style="">  78  import java.util.ArrayList;                                                                                       </span>
<span class="-28465676010609596" onmouseenter="enter('-28465676010609596');" onmouseout="out('-28465676010609596');" style="">  79  import java.util.Arrays;                                                                                          </span>
<span class="2187055016371707860" onmouseenter="enter('2187055016371707860');" onmouseout="out('2187055016371707860');" style="">  80  import java.util.Collections;                                                                                     </span>
<span class="4561244361960433187" onmouseenter="enter('4561244361960433187');" onmouseout="out('4561244361960433187');" style="">  81  import java.util.Comparator;                                                                                      </span>
<span class="1748005127055838442" onmouseenter="enter('1748005127055838442');" onmouseout="out('1748005127055838442');" style="">  82  import java.util.Date;                                                                                            </span>
<span class="4169599896190320038" onmouseenter="enter('4169599896190320038');" onmouseout="out('4169599896190320038');" style="">  83  import java.util.HashMap;                                                                                         </span>
<span class="-1320562196372945707" onmouseenter="enter('-1320562196372945707');" onmouseout="out('-1320562196372945707');" style="">  84  import java.util.HashSet;                                                                                         </span>
<span class="7112180775387943933" onmouseenter="enter('7112180775387943933');" onmouseout="out('7112180775387943933');" style="">  85  import java.util.Iterator;                                                                                        </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  86  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  87  import java.util.Map;                                                                                             </span>
<span class="3384353015976675773" onmouseenter="enter('3384353015976675773');" onmouseout="out('3384353015976675773');" style="">  88  import java.util.Set;                                                                                             </span>
<span  style="">  89                                                                                                                    </span>
<span class="7280106484222490565" onmouseenter="enter('7280106484222490565');" onmouseout="out('7280106484222490565');" style="">  90  import javax.annotation.Nonnull;                                                                                  </span>
<span class="-5292076237369528758" onmouseenter="enter('-5292076237369528758');" onmouseout="out('-5292076237369528758');" style="">  91  import javax.annotation.Resource;                                                                                 </span>
<span class="7911938180110628123" onmouseenter="enter('7911938180110628123');" onmouseout="out('7911938180110628123');" style="">  92  import javax.persistence.EntityManager;                                                                           </span>
<span class="8485852916582699615" onmouseenter="enter('8485852916582699615');" onmouseout="out('8485852916582699615');" style="">  93  import javax.persistence.criteria.CriteriaBuilder;                                                                </span>
<span class="9191540725958216337" onmouseenter="enter('9191540725958216337');" onmouseout="out('9191540725958216337');" style="">  94  import javax.persistence.criteria.CriteriaQuery;                                                                  </span>
<span class="5773424155764142692" onmouseenter="enter('5773424155764142692');" onmouseout="out('5773424155764142692');" style="">  95  import javax.persistence.criteria.Path;                                                                           </span>
<span class="7244103982108254428" onmouseenter="enter('7244103982108254428');" onmouseout="out('7244103982108254428');" style="">  96  import javax.persistence.criteria.Predicate;                                                                      </span>
<span class="5782830673162504954" onmouseenter="enter('5782830673162504954');" onmouseout="out('5782830673162504954');" style="">  97  import javax.persistence.criteria.Root;                                                                           </span>
<span  style="">  98                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style="">  99  /**                                                                                                               </span>
<span class="3104529581940833663" onmouseenter="enter('3104529581940833663');" onmouseout="out('3104529581940833663');" style=""> 100   * @author jfischer                                                                                               </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 101   */                                                                                                               </span>
<span class="5108930605889212759" onmouseenter="enter('5108930605889212759');" onmouseout="out('5108930605889212759');" style=""> 102  @Component(&quot;blDynamicEntityDao&quot;)                                                                                  </span>
<span class="-3657083271113190387" onmouseenter="enter('-3657083271113190387');" onmouseout="out('-3657083271113190387');" style=""> 103  @Scope(&quot;prototype&quot;)                                                                                               </span>
<span class="-8967310827191898805" onmouseenter="enter('-8967310827191898805');" onmouseout="out('-8967310827191898805');" style=""> 104  public class DynamicEntityDaoImpl implements DynamicEntityDao, ApplicationContextAware {                          </span>
<span  style=""> 105                                                                                                                    </span>
<span class="-3914559577352061544" onmouseenter="enter('-3914559577352061544');" onmouseout="out('-3914559577352061544');" style=""> 106      private static final Log LOG = LogFactory.getLog(DynamicEntityDaoImpl.class);                                 </span>
<span  style=""> 107                                                                                                                    </span>
<span class="7549743511096177453" onmouseenter="enter('7549743511096177453');" onmouseout="out('7549743511096177453');" style=""> 108      protected static final Map&lt;String, Map&lt;String, FieldMetadata&gt;&gt; METADATA_CACHE = new LRUMap&lt;&gt;(1000);           </span>
<span  style=""> 109                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 110      /**                                                                                                           </span>
<span class="-3987128253277431410" onmouseenter="enter('-3987128253277431410');" onmouseout="out('-3987128253277431410');" style=""><abbr title=" 111       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cached in METADATA_CACHE over the lifetime"> 111       * Lifetime cache for the existence of DynamicEntityDaoImpl that just stores how many properties we have cacheðŸ”µ</abbr></span>
<span class="1897233929376208309" onmouseenter="enter('1897233929376208309');" onmouseout="out('1897233929376208309');" style=""><abbr title=" 112       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagnosing when we store different property"> 112       * of the application. This should survive evictions from METADATA_CACHE because it is for the purpose of diagðŸ”µ</abbr></span>
<span class="8688963878880317515" onmouseenter="enter('8688963878880317515');" onmouseout="out('8688963878880317515');" style=""> 113       * counts in METADATA_CACHE as a result of cache eviction                                                     </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 114       */                                                                                                           </span>
<span class="-916226387485023732" onmouseenter="enter('-916226387485023732');" onmouseout="out('-916226387485023732');" style=""> 115      protected static final Map&lt;String, Integer&gt; METADATA_CACHE_SIZES = new HashMap&lt;&gt;();                           </span>
<span  style=""> 116                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style=""> 117      /*                                                                                                            </span>
<span class="227497620618851725" onmouseenter="enter('227497620618851725');" onmouseout="out('227497620618851725');" style=""><abbr title=" 118       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or have been marked for exclusion"> 118       * This is the same as POLYMORPHIC_ENTITY_CACHE, except that it does not contain classes that are abstract or ðŸ”µ</abbr></span>
<span class="6079612507349088428" onmouseenter="enter('6079612507349088428');" onmouseout="out('6079612507349088428');" style=""> 119       * from polymorphism                                                                                          </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 120       */                                                                                                           </span>
<span  style=""> 121                                                                                                                    </span>
<span class="-5097641254060455271" onmouseenter="enter('-5097641254060455271');" onmouseout="out('-5097641254060455271');" style=""> 122      protected EntityManager standardEntityManager;                                                                </span>
<span  style=""> 123                                                                                                                    </span>
<span class="-6532130265563446915" onmouseenter="enter('-6532130265563446915');" onmouseout="out('-6532130265563446915');" style=""> 124      @Resource(name = &quot;blMetadata&quot;)                                                                                </span>
<span class="-4878285074182838091" onmouseenter="enter('-4878285074182838091');" onmouseout="out('-4878285074182838091');" style=""> 125      protected Metadata metadata;                                                                                  </span>
<span  style=""> 126                                                                                                                    </span>
<span class="6650882675825573659" onmouseenter="enter('6650882675825573659');" onmouseout="out('6650882675825573659');" style=""> 127      @Resource(name = &quot;blEntityConfiguration&quot;)                                                                     </span>
<span class="-8812870795397979367" onmouseenter="enter('-8812870795397979367');" onmouseout="out('-8812870795397979367');" style=""> 128      protected EntityConfiguration entityConfiguration;                                                            </span>
<span  style=""> 129                                                                                                                    </span>
<span class="3306602206693592695" onmouseenter="enter('3306602206693592695');" onmouseout="out('3306602206693592695');" style=""> 130      @Resource(name = &quot;blFieldMetadataProviders&quot;)                                                                  </span>
<span class="7240258726285566161" onmouseenter="enter('7240258726285566161');" onmouseout="out('7240258726285566161');" style=""> 131      protected List&lt;FieldMetadataProvider&gt; fieldMetadataProviders = new ArrayList&lt;&gt;();                             </span>
<span  style=""> 132                                                                                                                    </span>
<span class="6169160625934658032" onmouseenter="enter('6169160625934658032');" onmouseout="out('6169160625934658032');" style=""> 133      @Resource(name = &quot;blDefaultFieldMetadataProvider&quot;)                                                            </span>
<span class="-1374531946575550778" onmouseenter="enter('-1374531946575550778');" onmouseout="out('-1374531946575550778');" style=""> 134      protected FieldMetadataProvider defaultFieldMetadataProvider;                                                 </span>



<span  style=""> 135                                                                                                                    </span>
<span class="-4523408899232422883" onmouseenter="enter('-4523408899232422883');" onmouseout="out('-4523408899232422883');" style=""> 136      @Resource(name = &quot;blAppConfigurationMap&quot;)                                                                     </span>
<span class="5052027193174380146" onmouseenter="enter('5052027193174380146');" onmouseout="out('5052027193174380146');" style=""> 137      protected Map&lt;String, String&gt; propertyConfigurations = new HashMap&lt;&gt;();                                       </span>
<span  style=""> 138                                                                                                                    </span>
<span class="6769863436851689394" onmouseenter="enter('6769863436851689394');" onmouseout="out('6769863436851689394');" style=""> 139      protected DynamicDaoHelper dynamicDaoHelper = new DynamicDaoHelperImpl();                                     </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-4247701584902769829" onmouseenter="enter('-4247701584902769829');" onmouseout="out('-4247701584902769829');" style=""> 141      @Value(&quot;${cache.entity.dao.metadata.ttl}&quot;)                                                                    </span>
<span class="3974012814802547628" onmouseenter="enter('3974012814802547628');" onmouseout="out('3974012814802547628');" style=""> 142      protected int cacheEntityMetaDataTtl;                                                                         </span>
<span  style=""> 143                                                                                                                    </span>
<span class="1188357178855945174" onmouseenter="enter('1188357178855945174');" onmouseout="out('1188357178855945174');" style=""> 144      /**                                                                                                           </span>
<span class="1042650999345782712" onmouseenter="enter('1042650999345782712');" onmouseout="out('1042650999345782712');" style=""> 145       * Whether or not we should use {@link #METADATA_CACHE_SIZES} in the normal runtime of the application        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style=""> 146       */                                                                                                           </span>
<span class="-255035635783133655" onmouseenter="enter('-255035635783133655');" onmouseout="out('-255035635783133655');" style=""> 147      @Value(&quot;${validate.metadata.cache.sizes:false}&quot;)                                                              </span>
<span class="4747664934518965501" onmouseenter="enter('4747664934518965501');" onmouseout="out('4747664934518965501');" style=""> 148      protected boolean validateMetadataCacheSizes;                                                                 </span>
<span  style=""> 149                                                                                                                    </span>
<span class="3976490671395931297" onmouseenter="enter('3976490671395931297');" onmouseout="out('3976490671395931297');" style=""> 150      protected long lastCacheFlushTime = System.currentTimeMillis();                                               </span>
<span  style=""> 151                                                                                                                    </span>
<span class="-4770133548193901777" onmouseenter="enter('-4770133548193901777');" onmouseout="out('-4770133548193901777');" style=""> 152      protected ApplicationContext applicationContext;                                                              </span>
<span  style=""> 153                                                                                                                    </span>
<span class="406787344558334895" onmouseenter="enter('406787344558334895');" onmouseout="out('406787344558334895');" style=""> 154      protected FieldManager fieldManager;                                                                          </span>
<span  style=""> 155                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 156      @Override                                                                                                     </span>
<span class="396918709943054648" onmouseenter="enter('396918709943054648');" onmouseout="out('396918709943054648');" style=""> 157      public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {              </span>
<span class="-8767252978178914531" onmouseenter="enter('-8767252978178914531');" onmouseout="out('-8767252978178914531');" style=""> 158          this.applicationContext = applicationContext;                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159      }                                                                                                             </span>
<span  style=""> 160                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 161      @Override                                                                                                     </span>
<span class="-4959288216777407587" onmouseenter="enter('-4959288216777407587');" onmouseout="out('-4959288216777407587');" style=""> 162      public Criteria createCriteria(Class&lt;?&gt; entityClass) {                                                        </span>
<span class="-2694575290148031657" onmouseenter="enter('-2694575290148031657');" onmouseout="out('-2694575290148031657');" style=""> 163          return getStandardEntityManager().unwrap(Session.class).createCriteria(entityClass);                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164      }                                                                                                             </span>
<span  style=""> 165                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 166      @Override                                                                                                     </span>
<span class="-1189247088327426783" onmouseenter="enter('-1189247088327426783');" onmouseout="out('-1189247088327426783');" style=""> 167      public &lt;T&gt; T persist(T entity) {                                                                              </span>
<span class="8493098216085408469" onmouseenter="enter('8493098216085408469');" onmouseout="out('8493098216085408469');" style=""> 168          standardEntityManager.persist(entity);                                                                    </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 169          standardEntityManager.flush();                                                                            </span>
<span class="-7572797105708032926" onmouseenter="enter('-7572797105708032926');" onmouseout="out('-7572797105708032926');" style=""> 170          return entity;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span  style=""> 172                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 173      @Override                                                                                                     </span>
<span class="3996429931935097759" onmouseenter="enter('3996429931935097759');" onmouseout="out('3996429931935097759');" style=""> 174      public Object find(Class&lt;?&gt; entityClass, Object key) {                                                        </span>
<span class="-3996748675461157792" onmouseenter="enter('-3996748675461157792');" onmouseout="out('-3996748675461157792');" style=""> 175          return standardEntityManager.find(entityClass, key);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span  style=""> 177                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 178      @Override                                                                                                     </span>
<span class="-807929007574760332" onmouseenter="enter('-807929007574760332');" onmouseout="out('-807929007574760332');" style=""> 179      public &lt;T&gt; T merge(T entity) {                                                                                </span>
<span class="-1729589959655447665" onmouseenter="enter('-1729589959655447665');" onmouseout="out('-1729589959655447665');" style=""> 180          T response = standardEntityManager.merge(entity);                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 181          standardEntityManager.flush();                                                                            </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style=""> 182          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 183      }                                                                                                             </span>
<span  style=""> 184                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 185      @Override                                                                                                     </span>
<span class="-7844477306615293891" onmouseenter="enter('-7844477306615293891');" onmouseout="out('-7844477306615293891');" style=""> 186      public void flush() {                                                                                         </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 187          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 188      }                                                                                                             </span>
<span  style=""> 189                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 190      @Override                                                                                                     </span>
<span class="-5078655175480625004" onmouseenter="enter('-5078655175480625004');" onmouseout="out('-5078655175480625004');" style=""> 191      public void detach(Serializable entity) {                                                                     </span>
<span class="-8496324779004504823" onmouseenter="enter('-8496324779004504823');" onmouseout="out('-8496324779004504823');" style=""> 192          standardEntityManager.detach(entity);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 193      }                                                                                                             </span>
<span  style=""> 194                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 195      @Override                                                                                                     </span>
<span class="-6540324886763118309" onmouseenter="enter('-6540324886763118309');" onmouseout="out('-6540324886763118309');" style=""> 196      public void refresh(Serializable entity) {                                                                    </span>
<span class="7067753528376675933" onmouseenter="enter('7067753528376675933');" onmouseout="out('7067753528376675933');" style=""> 197          standardEntityManager.refresh(entity);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 198      }                                                                                                             </span>
<span  style=""> 199                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 200      @Override                                                                                                     </span>
<span class="-3624751548123564154" onmouseenter="enter('-3624751548123564154');" onmouseout="out('-3624751548123564154');" style=""> 201      public Serializable retrieve(Class&lt;?&gt; entityClass, Object primaryKey) {                                       </span>
<span class="8944565581325696208" onmouseenter="enter('8944565581325696208');" onmouseout="out('8944565581325696208');" style=""> 202          return (Serializable) standardEntityManager.find(entityClass, primaryKey);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203      }                                                                                                             </span>
<span  style=""> 204                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 205      @Override                                                                                                     </span>
<span class="-1096053049900443196" onmouseenter="enter('-1096053049900443196');" onmouseout="out('-1096053049900443196');" style=""> 206      public void remove(Serializable entity) {                                                                     </span>
<span class="-995600065449436497" onmouseenter="enter('-995600065449436497');" onmouseout="out('-995600065449436497');" style=""> 207          standardEntityManager.remove(entity);                                                                     </span>
<span class="-4714302817616608127" onmouseenter="enter('-4714302817616608127');" onmouseout="out('-4714302817616608127');" style=""> 208          standardEntityManager.flush();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 209      }                                                                                                             </span>
<span  style=""> 210                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 211      @Override                                                                                                     </span>
<span class="8383369073942967129" onmouseenter="enter('8383369073942967129');" onmouseout="out('8383369073942967129');" style=""> 212      public void clear() {                                                                                         </span>
<span class="-2998837363411014602" onmouseenter="enter('-2998837363411014602');" onmouseout="out('-2998837363411014602');" style=""> 213          standardEntityManager.clear();                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214      }                                                                                                             </span>
<span  style=""> 215                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 216      @Override                                                                                                     </span>
<span class="-8625474217257639590" onmouseenter="enter('-8625474217257639590');" onmouseout="out('-8625474217257639590');" style=""> 217      public PersistentClass getPersistentClass(String targetClassName) {                                           </span>
<span class="-8480869046184037850" onmouseenter="enter('-8480869046184037850');" onmouseout="out('-8480869046184037850');" style=""> 218          return HibernateMappingProvider.getMapping(targetClassName);                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 219      }                                                                                                             </span>
<span  style=""> 220                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 221      @Override                                                                                                     </span>
<span class="3479548027736491942" onmouseenter="enter('3479548027736491942');" onmouseout="out('3479548027736491942');" style=""> 222      public boolean useCache() {                                                                                   </span>
<span class="5768217079707809390" onmouseenter="enter('5768217079707809390');" onmouseout="out('5768217079707809390');" style=""> 223          if (cacheEntityMetaDataTtl &lt; 0) {                                                                         </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 224              return true;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 225          }                                                                                                         </span>
<span class="3112373022577655353" onmouseenter="enter('3112373022577655353');" onmouseout="out('3112373022577655353');" style=""> 226          if (cacheEntityMetaDataTtl == 0) {                                                                        </span>
<span class="-5432226360745882584" onmouseenter="enter('-5432226360745882584');" onmouseout="out('-5432226360745882584');" style=""> 227              return false;                                                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 228          } else {                                                                                                  </span>
<span class="1252092653716885567" onmouseenter="enter('1252092653716885567');" onmouseout="out('1252092653716885567');" style=""> 229              if ((System.currentTimeMillis() - lastCacheFlushTime) &gt; cacheEntityMetaDataTtl) {                     </span>
<span class="7091746958803326027" onmouseenter="enter('7091746958803326027');" onmouseout="out('7091746958803326027');" style=""> 230                  lastCacheFlushTime = System.currentTimeMillis();                                                  </span>
<span class="7989491135166139517" onmouseenter="enter('7989491135166139517');" onmouseout="out('7989491135166139517');" style=""> 231                  METADATA_CACHE.clear();                                                                           </span>
<span class="3796707679225415320" onmouseenter="enter('3796707679225415320');" onmouseout="out('3796707679225415320');" style=""> 232                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE.clear();                                            </span>
<span class="8239266678821941851" onmouseenter="enter('8239266678821941851');" onmouseout="out('8239266678821941851');" style=""> 233                  DynamicDaoHelperImpl.POLYMORPHIC_ENTITY_CACHE_WO_EXCLUSIONS.clear();                              </span>
<span class="1941659596642080510" onmouseenter="enter('1941659596642080510');" onmouseout="out('1941659596642080510');" style=""> 234                  LOG.trace(&quot;Metadata cache evicted&quot;);                                                              </span>
<span class="5494374287783786426" onmouseenter="enter('5494374287783786426');" onmouseout="out('5494374287783786426');" style=""> 235                  return true; // cache is empty                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 236              } else {                                                                                              </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 237                  return true;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 238              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240      }                                                                                                             </span>
<span  style=""> 241                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 242      @Override                                                                                                     </span>
<span class="1001887662675167933" onmouseenter="enter('1001887662675167933');" onmouseout="out('1001887662675167933');" style=""> 243      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass) {                               </span>
<span class="3185243636076534684" onmouseenter="enter('3185243636076534684');" onmouseout="out('3185243636076534684');" style=""> 244          return getAllPolymorphicEntitiesFromCeiling(ceilingClass, true);                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 245      }                                                                                                             </span>
<span  style=""> 246                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 247      @Override                                                                                                     </span>
<span class="-8762337828422695967" onmouseenter="enter('-8762337828422695967');" onmouseout="out('-8762337828422695967');" style=""><abbr title=" 248      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymorphicEntities) {"> 248      public Class&lt;?&gt;[] getAllPolymorphicEntitiesFromCeiling(Class&lt;?&gt; ceilingClass, boolean includeUnqualifiedPolymoðŸ”µ</abbr></span>
<span class="-5153107486601114825" onmouseenter="enter('-5153107486601114825');" onmouseout="out('-5153107486601114825');" style=""><abbr title=" 249          return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEntities, useCache());"> 249          return dynamicDaoHelper.getAllPolymorphicEntitiesFromCeiling(ceilingClass, includeUnqualifiedPolymorphicEnðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 250      }                                                                                                             </span>
<span  style=""> 251                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 252      @Override                                                                                                     </span>
<span class="-2049375081196435375" onmouseenter="enter('-2049375081196435375');" onmouseout="out('-2049375081196435375');" style=""> 253      public Class&lt;?&gt;[] getUpDownInheritance(Class&lt;?&gt; testClass) {                                                  </span>
<span class="-3366667691166401678" onmouseenter="enter('-3366667691166401678');" onmouseout="out('-3366667691166401678');" style=""> 254          return dynamicDaoHelper.getUpDownInheritance(testClass, true, useCache());                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 255      }                                                                                                             </span>
<span  style=""> 256                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 257      @Override                                                                                                     </span>
<span class="1068376310929449313" onmouseenter="enter('1068376310929449313');" onmouseout="out('1068376310929449313');" style=""> 258      public Class&lt;?&gt; getImplClass(String className) {                                                              </span>
<span class="-6715415270183450311" onmouseenter="enter('-6715415270183450311');" onmouseout="out('-6715415270183450311');" style=""> 259          Class&lt;?&gt; clazz = null;                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 260          try {                                                                                                     </span>
<span class="-7854693278377744029" onmouseenter="enter('-7854693278377744029');" onmouseout="out('-7854693278377744029');" style=""> 261              clazz = entityConfiguration.lookupEntityClass(className);                                             </span>
<span class="-2668827466321084622" onmouseenter="enter('-2668827466321084622');" onmouseout="out('-2668827466321084622');" style=""> 262          } catch (NoSuchBeanDefinitionException e) {                                                               </span>
<span class="860828310248678739" onmouseenter="enter('860828310248678739');" onmouseout="out('860828310248678739');" style=""> 263              //do nothing                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 264          }                                                                                                         </span>
<span class="-383724341201788870" onmouseenter="enter('-383724341201788870');" onmouseout="out('-383724341201788870');" style=""> 265          if (clazz == null) {                                                                                      </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 266              try {                                                                                                 </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 267                  clazz = Class.forName(className);                                                                 </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 268              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 269                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 270              }                                                                                                     </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 271              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272          }                                                                                                         </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 273          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274      }                                                                                                             </span>
<span  style=""> 275                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 276      @Override                                                                                                     </span>
<span class="-4020564018901994438" onmouseenter="enter('-4020564018901994438');" onmouseout="out('-4020564018901994438');" style=""> 277      public Class&lt;?&gt; getCeilingImplClass(String className) {                                                       </span>
<span class="-1482207026423407472" onmouseenter="enter('-1482207026423407472');" onmouseout="out('-1482207026423407472');" style=""> 278          Class&lt;?&gt; clazz;                                                                                           </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 279          try {                                                                                                     </span>
<span class="-5216749470282906392" onmouseenter="enter('-5216749470282906392');" onmouseout="out('-5216749470282906392');" style=""> 280              clazz = Class.forName(className);                                                                     </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 281          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 282              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283          }                                                                                                         </span>
<span class="-1213937701324200520" onmouseenter="enter('-1213937701324200520');" onmouseout="out('-1213937701324200520');" style=""> 284          Class&lt;?&gt;[] entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                       </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 285          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="8073091633341184515" onmouseenter="enter('8073091633341184515');" onmouseout="out('8073091633341184515');" style=""> 286              clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(clazz);                        </span>
<span class="5596922751224211350" onmouseenter="enter('5596922751224211350');" onmouseout="out('5596922751224211350');" style=""> 287              entitiesFromCeiling = getAllPolymorphicEntitiesFromCeiling(clazz, true);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288          }                                                                                                         </span>
<span class="2553443756186201345" onmouseenter="enter('2553443756186201345');" onmouseout="out('2553443756186201345');" style=""> 289          if (entitiesFromCeiling == null || entitiesFromCeiling.length &lt; 1) {                                      </span>
<span class="-6140109382679903899" onmouseenter="enter('-6140109382679903899');" onmouseout="out('-6140109382679903899');" style=""><abbr title=" 290              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requested class name (%s)&quot;, className));"> 290              throw new IllegalArgumentException(String.format(&quot;Unable to find ceiling implementation for the requesðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 291          }                                                                                                         </span>
<span class="756964007871076387" onmouseenter="enter('756964007871076387');" onmouseout="out('756964007871076387');" style=""> 292          clazz = entitiesFromCeiling[entitiesFromCeiling.length - 1];                                              </span>
<span class="-7741883253080507198" onmouseenter="enter('-7741883253080507198');" onmouseout="out('-7741883253080507198');" style=""> 293          return clazz;                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 294      }                                                                                                             </span>
<span  style=""> 295                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 296      @Override                                                                                                     </span>
<span class="5468500650616238934" onmouseenter="enter('5468500650616238934');" onmouseout="out('5468500650616238934');" style=""><abbr title=" 297      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value) {"> 297      public List&lt;Long&gt; readOtherEntitiesWithPropertyValue(Serializable instance, String propertyName, String value)ðŸ”µ</abbr></span>
<span class="-7871705872039424259" onmouseenter="enter('-7871705872039424259');" onmouseout="out('-7871705872039424259');" style=""> 298          Class clazz = DynamicDaoHelperImpl.getNonProxyImplementationClassIfNecessary(instance.getClass());        </span>
<span class="8926937932566912240" onmouseenter="enter('8926937932566912240');" onmouseout="out('8926937932566912240');" style=""> 299          CriteriaBuilder builder = this.standardEntityManager.getCriteriaBuilder();                                </span>
<span class="1553585152448885012" onmouseenter="enter('1553585152448885012');" onmouseout="out('1553585152448885012');" style=""> 300          CriteriaQuery&lt;Long&gt; criteria = builder.createQuery(Long.class);                                           </span>
<span class="1656519449273936669" onmouseenter="enter('1656519449273936669');" onmouseout="out('1656519449273936669');" style=""> 301          Root root = criteria.from(clazz);                                                                         </span>
<span class="-2752280634948538598" onmouseenter="enter('-2752280634948538598');" onmouseout="out('-2752280634948538598');" style=""> 302          Path idField = root.get(this.getIdField(clazz).getName());                                                </span>
<span class="-5375346565970475986" onmouseenter="enter('-5375346565970475986');" onmouseout="out('-5375346565970475986');" style=""> 303          criteria.select(idField.as(Long.class));                                                                  </span>
<span class="-30774708077013366" onmouseenter="enter('-30774708077013366');" onmouseout="out('-30774708077013366');" style=""> 304          List&lt;Predicate&gt; restrictions = new ArrayList();                                                           </span>
<span  style=""> 305                                                                                                                    </span>
<span class="-3524678403579252416" onmouseenter="enter('-3524678403579252416');" onmouseout="out('-3524678403579252416');" style=""> 306          Path path = null;                                                                                         </span>
<span  style=""> 307                                                                                                                    </span>
<span class="6608310333319333583" onmouseenter="enter('6608310333319333583');" onmouseout="out('6608310333319333583');" style=""> 308          // Support property name such as &quot;defaultSku.name&quot;                                                        </span>
<span class="-4471312176558876108" onmouseenter="enter('-4471312176558876108');" onmouseout="out('-4471312176558876108');" style=""> 309          if (propertyName.contains(&quot;.&quot;)) {                                                                         </span>
<span class="-1667787354408594845" onmouseenter="enter('-1667787354408594845');" onmouseout="out('-1667787354408594845');" style=""> 310              String[] split = propertyName.split(&quot;\\.&quot;);                                                           </span>
<span class="-7545701314954676975" onmouseenter="enter('-7545701314954676975');" onmouseout="out('-7545701314954676975');" style=""> 311              for (String splitResult : split) {                                                                    </span>
<span class="8334342339632412369" onmouseenter="enter('8334342339632412369');" onmouseout="out('8334342339632412369');" style=""> 312                  if (path == null) {                                                                               </span>
<span class="-736563947398128856" onmouseenter="enter('-736563947398128856');" onmouseout="out('-736563947398128856');" style=""> 313                      path = root.get(splitResult);                                                                 </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 314                  } else {                                                                                          </span>
<span class="-6346911869805460418" onmouseenter="enter('-6346911869805460418');" onmouseout="out('-6346911869805460418');" style=""> 315                      path = path.get(splitResult);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 316                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317              }                                                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 318          } else {                                                                                                  </span>
<span class="8455748794202294062" onmouseenter="enter('8455748794202294062');" onmouseout="out('8455748794202294062');" style=""> 319              path = root.get(propertyName);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320          }                                                                                                         </span>
<span  style=""> 321                                                                                                                    </span>
<span class="-4014508964751998389" onmouseenter="enter('-4014508964751998389');" onmouseout="out('-4014508964751998389');" style=""> 322          restrictions.add(builder.equal(path, value));                                                             </span>
<span class="1677631419344869129" onmouseenter="enter('1677631419344869129');" onmouseout="out('1677631419344869129');" style=""> 323          Serializable identifier = this.getIdentifier(instance);                                                   </span>
<span class="8272577798538667021" onmouseenter="enter('8272577798538667021');" onmouseout="out('8272577798538667021');" style=""> 324          //when we creating the new item identifier is not exists                                                  </span>
<span class="-7245607102272548957" onmouseenter="enter('-7245607102272548957');" onmouseout="out('-7245607102272548957');" style=""> 325          if (identifier != null) {                                                                                 </span>
<span class="-3423320401762188348" onmouseenter="enter('-3423320401762188348');" onmouseout="out('-3423320401762188348');" style=""> 326              restrictions.add(builder.notEqual(idField, identifier));                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327          }                                                                                                         </span>
<span  style=""> 328                                                                                                                    </span>
<span class="-4691216919832055390" onmouseenter="enter('-4691216919832055390');" onmouseout="out('-4691216919832055390');" style=""> 329          if (instance instanceof Status) {                                                                         </span>
<span class="-8348309287131546726" onmouseenter="enter('-8348309287131546726');" onmouseout="out('-8348309287131546726');" style=""><abbr title=" 330              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;), &#x27;N&#x27;)));"> 330              restrictions.add(builder.or(builder.isNull(root.get(&quot;archiveStatus&quot;).get(&quot;archived&quot;)), builder.equal(rðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 331          }                                                                                                         </span>
<span  style=""> 332                                                                                                                    </span>
<span class="-7694216774508171321" onmouseenter="enter('-7694216774508171321');" onmouseout="out('-7694216774508171321');" style=""> 333          criteria.where(restrictions.toArray(new Predicate[restrictions.size()]));                                 </span>
<span class="2696343304953924284" onmouseenter="enter('2696343304953924284');" onmouseout="out('2696343304953924284');" style=""> 334          return this.standardEntityManager.createQuery(criteria).getResultList();                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 335      }                                                                                                             </span>
<span  style=""> 336                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 337      @Override                                                                                                     </span>
<span class="650374997933875819" onmouseenter="enter('650374997933875819');" onmouseout="out('650374997933875819');" style=""> 338      public Serializable getIdentifier(Object entity) {                                                            </span>
<span class="4148833128417174336" onmouseenter="enter('4148833128417174336');" onmouseout="out('4148833128417174336');" style=""> 339          return dynamicDaoHelper.getIdentifier(entity);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 340      }                                                                                                             </span>
<span  style=""> 341                                                                                                                    </span>
<span class="4446223701175615312" onmouseenter="enter('4446223701175615312');" onmouseout="out('4446223701175615312');" style=""> 342      protected Field getIdField(Class&lt;?&gt; clazz) {                                                                  </span>
<span class="214655471117201307" onmouseenter="enter('214655471117201307');" onmouseout="out('214655471117201307');" style=""> 343          return dynamicDaoHelper.getIdField(clazz);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 344      }                                                                                                             </span>
<span  style=""> 345                                                                                                                    </span>
<span class="4372115094193490222" onmouseenter="enter('4372115094193490222');" onmouseout="out('4372115094193490222');" style=""> 346      public Class&lt;?&gt;[] sortEntities(Class&lt;?&gt; ceilingClass, List&lt;Class&lt;?&gt;&gt; entities) {                              </span>
<span class="1239420199542612010" onmouseenter="enter('1239420199542612010');" onmouseout="out('1239420199542612010');" style=""> 347          return dynamicDaoHelper.sortEntities(ceilingClass, entities);                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 348      }                                                                                                             </span>
<span  style=""> 349                                                                                                                    </span>
<span class="1822115692213268383" onmouseenter="enter('1822115692213268383');" onmouseout="out('1822115692213268383');" style=""> 350      protected void addClassToTree(Class&lt;?&gt; clazz, ClassTree tree) {                                               </span>
<span class="121991070650089297" onmouseenter="enter('121991070650089297');" onmouseout="out('121991070650089297');" style=""> 351          Class&lt;?&gt; testClass;                                                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 352          try {                                                                                                     </span>
<span class="-3094994357353541919" onmouseenter="enter('-3094994357353541919');" onmouseout="out('-3094994357353541919');" style=""> 353              testClass = Class.forName(tree.getFullyQualifiedClassname());                                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 354          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 355              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 356          }                                                                                                         </span>
<span class="5999447294202914638" onmouseenter="enter('5999447294202914638');" onmouseout="out('5999447294202914638');" style=""> 357          if (clazz.equals(testClass)) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 358              return;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 359          }                                                                                                         </span>
<span class="7751191202870662422" onmouseenter="enter('7751191202870662422');" onmouseout="out('7751191202870662422');" style=""> 360          if (clazz.getSuperclass().equals(testClass)) {                                                            </span>
<span class="-6008839782295305773" onmouseenter="enter('-6008839782295305773');" onmouseout="out('-6008839782295305773');" style=""> 361              ClassTree myTree = new ClassTree(clazz.getName(), isExcludeClassFromPolymorphism(clazz));             </span>
<span class="-5987832886838142983" onmouseenter="enter('-5987832886838142983');" onmouseout="out('-5987832886838142983');" style=""> 362              createClassTreeFromAnnotation(clazz, myTree);                                                         </span>
<span class="5247272825234118898" onmouseenter="enter('5247272825234118898');" onmouseout="out('5247272825234118898');" style=""> 363              tree.setChildren(ArrayUtils.add(tree.getChildren(), myTree));                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 364          } else {                                                                                                  </span>
<span class="-5123174176674484606" onmouseenter="enter('-5123174176674484606');" onmouseout="out('-5123174176674484606');" style=""> 365              for (ClassTree child : tree.getChildren()) {                                                          </span>
<span class="1400717859225767668" onmouseenter="enter('1400717859225767668');" onmouseout="out('1400717859225767668');" style=""> 366                  addClassToTree(clazz, child);                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 367              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 368          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 369      }                                                                                                             </span>
<span  style=""> 370                                                                                                                    </span>
<span class="4903423954456621363" onmouseenter="enter('4903423954456621363');" onmouseout="out('4903423954456621363');" style=""> 371      protected void createClassTreeFromAnnotation(Class&lt;?&gt; clazz, ClassTree myTree) {                              </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 372          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 372          AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.clðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 373          if (classPresentation != null) {                                                                          </span>
<span class="-1555383356786600028" onmouseenter="enter('-1555383356786600028');" onmouseout="out('-1555383356786600028');" style=""> 374              String friendlyName = classPresentation.friendlyName();                                               </span>
<span class="615073280933989352" onmouseenter="enter('615073280933989352');" onmouseout="out('615073280933989352');" style=""> 375              if (!StringUtils.isEmpty(friendlyName)) {                                                             </span>
<span class="3857351102191496427" onmouseenter="enter('3857351102191496427');" onmouseout="out('3857351102191496427');" style=""> 376                  myTree.setFriendlyName(friendlyName);                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 377              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 378          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 379      }                                                                                                             </span>
<span  style=""> 380                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 381      @Override                                                                                                     </span>
<span class="5768455995364958167" onmouseenter="enter('5768455995364958167');" onmouseout="out('5768455995364958167');" style=""> 382      public ClassTree getClassTree(Class&lt;?&gt;[] polymorphicClasses) {                                                </span>
<span class="6501076012541443565" onmouseenter="enter('6501076012541443565');" onmouseout="out('6501076012541443565');" style=""> 383          String ceilingClass = null;                                                                               </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 384          for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                               </span>
<span class="4315837036260308809" onmouseenter="enter('4315837036260308809');" onmouseout="out('4315837036260308809');" style=""><abbr title=" 385              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClass.class);"> 385              AdminPresentationClass classPresentation = AnnotationUtils.findAnnotation(clazz, AdminPresentationClasðŸ”µ</abbr></span>
<span class="4454628940123281031" onmouseenter="enter('4454628940123281031');" onmouseout="out('4454628940123281031');" style=""> 386              if (classPresentation != null) {                                                                      </span>
<span class="6856513085935686397" onmouseenter="enter('6856513085935686397');" onmouseout="out('6856513085935686397');" style=""> 387                  String ceilingEntity = classPresentation.ceilingDisplayEntity();                                  </span>
<span class="-6565680655184287822" onmouseenter="enter('-6565680655184287822');" onmouseout="out('-6565680655184287822');" style=""> 388                  if (!StringUtils.isEmpty(ceilingEntity)) {                                                        </span>
<span class="6116302734809926758" onmouseenter="enter('6116302734809926758');" onmouseout="out('6116302734809926758');" style=""> 389                      ceilingClass = ceilingEntity;                                                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 390                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 391                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 392              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 393          }                                                                                                         </span>
<span class="793793963118428113" onmouseenter="enter('793793963118428113');" onmouseout="out('793793963118428113');" style=""> 394          if (ceilingClass != null) {                                                                               </span>
<span class="-26822961639025432" onmouseenter="enter('-26822961639025432');" onmouseout="out('-26822961639025432');" style=""> 395              int pos = -1;                                                                                         </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style=""> 396              int j = 0;                                                                                            </span>
<span class="-6336320524217838037" onmouseenter="enter('-6336320524217838037');" onmouseout="out('-6336320524217838037');" style=""> 397              for (Class&lt;?&gt; clazz : polymorphicClasses) {                                                           </span>
<span class="-1216355110085145283" onmouseenter="enter('-1216355110085145283');" onmouseout="out('-1216355110085145283');" style=""> 398                  if (clazz.getName().equals(ceilingClass)) {                                                       </span>
<span class="-3594329940402392319" onmouseenter="enter('-3594329940402392319');" onmouseout="out('-3594329940402392319');" style=""> 399                      pos = j;                                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 400                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 401                  }                                                                                                 </span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style=""> 402                  j++;                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 403              }                                                                                                     </span>
<span class="949070930423258344" onmouseenter="enter('949070930423258344');" onmouseout="out('949070930423258344');" style=""> 404              if (pos &gt;= 0) {                                                                                       </span>
<span class="-415485856634065697" onmouseenter="enter('-415485856634065697');" onmouseout="out('-415485856634065697');" style=""> 405                  Class&lt;?&gt;[] temp = new Class&lt;?&gt;[pos + 1];                                                          </span>
<span class="3138959749885048411" onmouseenter="enter('3138959749885048411');" onmouseout="out('3138959749885048411');" style=""> 406                  System.arraycopy(polymorphicClasses, 0, temp, 0, j + 1);                                          </span>
<span class="403309580043462981" onmouseenter="enter('403309580043462981');" onmouseout="out('403309580043462981');" style=""> 407                  polymorphicClasses = temp;                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 408              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 409          }                                                                                                         </span>
<span  style=""> 410                                                                                                                    </span>
<span class="6694901811000910447" onmouseenter="enter('6694901811000910447');" onmouseout="out('6694901811000910447');" style=""> 411          ClassTree classTree = null;                                                                               </span>
<span class="4728682685018235503" onmouseenter="enter('4728682685018235503');" onmouseout="out('4728682685018235503');" style=""> 412          if (!ArrayUtils.isEmpty(polymorphicClasses)) {                                                            </span>
<span class="-2573418927406086687" onmouseenter="enter('-2573418927406086687');" onmouseout="out('-2573418927406086687');" style=""> 413              Class&lt;?&gt; topClass = polymorphicClasses[polymorphicClasses.length - 1];                                </span>
<span class="-3827361236868560967" onmouseenter="enter('-3827361236868560967');" onmouseout="out('-3827361236868560967');" style=""> 414              classTree = new ClassTree(topClass.getName(), isExcludeClassFromPolymorphism(topClass));              </span>
<span class="7781023456404219351" onmouseenter="enter('7781023456404219351');" onmouseout="out('7781023456404219351');" style=""> 415              createClassTreeFromAnnotation(topClass, classTree);                                                   </span>
<span class="8024680820817190256" onmouseenter="enter('8024680820817190256');" onmouseout="out('8024680820817190256');" style=""> 416              for (int j = polymorphicClasses.length - 1; j &gt;= 0; j--) {                                            </span>
<span class="-8514088221771957440" onmouseenter="enter('-8514088221771957440');" onmouseout="out('-8514088221771957440');" style=""> 417                  addClassToTree(polymorphicClasses[j], classTree);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 418              }                                                                                                     </span>
<span class="319564108065683982" onmouseenter="enter('319564108065683982');" onmouseout="out('319564108065683982');" style=""> 419              classTree.finalizeStructure(1);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 420          }                                                                                                         </span>
<span class="5949781872888437773" onmouseenter="enter('5949781872888437773');" onmouseout="out('5949781872888437773');" style=""> 421          return classTree;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 422      }                                                                                                             </span>
<span  style=""> 423                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 424      @Override                                                                                                     </span>
<span class="-7765859353017679370" onmouseenter="enter('-7765859353017679370');" onmouseout="out('-7765859353017679370');" style=""> 425      public ClassTree getClassTreeFromCeiling(Class&lt;?&gt; ceilingClass) {                                             </span>
<span class="5833321593594865894" onmouseenter="enter('5833321593594865894');" onmouseout="out('5833321593594865894');" style=""> 426          Class&lt;?&gt;[] sortedEntities = getAllPolymorphicEntitiesFromCeiling(ceilingClass);                           </span>
<span class="4099229397918454543" onmouseenter="enter('4099229397918454543');" onmouseout="out('4099229397918454543');" style=""> 427          return getClassTree(sortedEntities);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 428      }                                                                                                             </span>
<span  style=""> 429                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 430      @Override                                                                                                     </span>
<span class="-8278894720012200265" onmouseenter="enter('-8278894720012200265');" onmouseout="out('-8278894720012200265');" style=""><abbr title=" 431      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persistencePerspective) {"> 431      public Map&lt;String, FieldMetadata&gt; getSimpleMergedProperties(String entityName, PersistencePerspective persisteðŸ”µ</abbr></span>
<span class="6562561551182742333" onmouseenter="enter('6562561551182742333');" onmouseout="out('6562561551182742333');" style=""> 432          Class&lt;?&gt;[] entityClasses;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 433          try {                                                                                                     </span>
<span class="7088223428445172140" onmouseenter="enter('7088223428445172140');" onmouseout="out('7088223428445172140');" style=""> 434              entityClasses = getAllPolymorphicEntitiesFromCeiling(Class.forName(entityName));                      </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 435          } catch (ClassNotFoundException e) {                                                                      </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 436              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 437          }                                                                                                         </span>
<span class="-8166295310491757437" onmouseenter="enter('-8166295310491757437');" onmouseout="out('-8166295310491757437');" style=""> 438          if (!ArrayUtils.isEmpty(entityClasses)) {                                                                 </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 439              return getMergedProperties(                                                                           </span>
<span class="5035138532945046574" onmouseenter="enter('5035138532945046574');" onmouseout="out('5035138532945046574');" style=""> 440                      entityName,                                                                                   </span>
<span class="-4167629264073507558" onmouseenter="enter('-4167629264073507558');" onmouseout="out('-4167629264073507558');" style=""> 441                      entityClasses,                                                                                </span>
<span class="2672253840392185137" onmouseenter="enter('2672253840392185137');" onmouseout="out('2672253840392185137');" style=""><abbr title=" 442                      (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY),"> 442                      (ForeignKey) persistencePerspective.getPersistencePerspectiveItems().get(PersistencePerspectivðŸ”µ</abbr></span>
<span class="-511081153909681017" onmouseenter="enter('-511081153909681017');" onmouseout="out('-511081153909681017');" style=""> 443                      persistencePerspective.getAdditionalNonPersistentProperties(),                                </span>
<span class="-8097424273297448867" onmouseenter="enter('-8097424273297448867');" onmouseout="out('-8097424273297448867');" style=""> 444                      persistencePerspective.getAdditionalForeignKeys(),                                            </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 445                      MergedPropertyType.PRIMARY,                                                                   </span>
<span class="4909382021697039943" onmouseenter="enter('4909382021697039943');" onmouseout="out('4909382021697039943');" style=""> 446                      persistencePerspective.getPopulateToOneFields(),                                              </span>
<span class="-3161949951730306138" onmouseenter="enter('-3161949951730306138');" onmouseout="out('-3161949951730306138');" style=""> 447                      persistencePerspective.getIncludeFields(),                                                    </span>
<span class="-5136584035020426097" onmouseenter="enter('-5136584035020426097');" onmouseout="out('-5136584035020426097');" style=""> 448                      persistencePerspective.getExcludeFields(),                                                    </span>
<span class="-8790411051451712235" onmouseenter="enter('-8790411051451712235');" onmouseout="out('-8790411051451712235');" style=""> 449                      persistencePerspective.getConfigurationKey(),                                                 </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 450                      &quot;&quot;                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 451              );                                                                                                    </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 452          } else {                                                                                                  </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 453              Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                        </span>
<span class="-9142614421649390301" onmouseenter="enter('-9142614421649390301');" onmouseout="out('-9142614421649390301');" style=""> 454              Class&lt;?&gt; targetClass;                                                                                 </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 455              try {                                                                                                 </span>
<span class="5771132904002337253" onmouseenter="enter('5771132904002337253');" onmouseout="out('5771132904002337253');" style=""> 456                  targetClass = Class.forName(entityName);                                                          </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 457              } catch (ClassNotFoundException e) {                                                                  </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 458                  throw new RuntimeException(e);                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 459              }                                                                                                     </span>
<span class="-3441080438366088384" onmouseenter="enter('-3441080438366088384');" onmouseout="out('-3441080438366088384');" style=""><abbr title=" 460              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 460              Map&lt;String, FieldMetadata&gt; attributesMap = metadata.getFieldMetadataForTargetClass(null, targetClass, ðŸ”µ</abbr></span>
<span class="-8274808234686516504" onmouseenter="enter('-8274808234686516504');" onmouseout="out('-8274808234686516504');" style=""> 461              for (String property : attributesMap.keySet()) {                                                      </span>
<span class="5910529749858673327" onmouseenter="enter('5910529749858673327');" onmouseout="out('5910529749858673327');" style=""> 462                  FieldMetadata presentationAttribute = attributesMap.get(property);                                </span>
<span class="-1607547947712606764" onmouseenter="enter('-1607547947712606764');" onmouseout="out('-1607547947712606764');" style=""> 463                  if (!presentationAttribute.getExcluded()) {                                                       </span>
<span class="-8071734904718919521" onmouseenter="enter('-8071734904718919521');" onmouseout="out('-8071734904718919521');" style=""> 464                      Field field = FieldManager.getSingleField(targetClass, property);                             </span>
<span class="2215334239672037801" onmouseenter="enter('2215334239672037801');" onmouseout="out('2215334239672037801');" style=""> 465                      if (!Modifier.isStatic(field.getModifiers())) {                                               </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style=""> 466                          boolean handled = false;                                                                  </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style=""> 467                          for (FieldMetadataProvider provider : fieldMetadataProviders) {                           </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style=""> 468                              MetadataProviderResponse response = provider.addMetadataFromFieldType(                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 469                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 469                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="5873441338272935524" onmouseenter="enter('5873441338272935524');" onmouseout="out('5873441338272935524');" style=""> 470                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;,                           </span>
<span class="-5031729451821779197" onmouseenter="enter('-5031729451821779197');" onmouseout="out('-5031729451821779197');" style=""> 471                                              property, null, false, 0, attributesMap, presentationAttribute,       </span>
<span class="-3914878092021640274" onmouseenter="enter('-3914878092021640274');" onmouseout="out('-3914878092021640274');" style=""><abbr title=" 472                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), field.getType(), this),"> 472                                              ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(), fðŸ”µ</abbr></span>
<span class="-5775864004372365918" onmouseenter="enter('-5775864004372365918');" onmouseout="out('-5775864004372365918');" style=""> 473                                      mergedProperties);                                                            </span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 474                              if (MetadataProviderResponse.NOT_HANDLED != response) {                               </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style=""> 475                                  handled = true;                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 476                              }                                                                                     </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 477                              if (MetadataProviderResponse.HANDLED_BREAK == response) {                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 478                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 479                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 480                          }                                                                                         </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style=""> 481                          if (!handled) {                                                                           </span>
<span class="-7622391937512856392" onmouseenter="enter('-7622391937512856392');" onmouseout="out('-7622391937512856392');" style=""><abbr title=" 482                              //this provider is not included in the provider list on purpose - it is designed to handle basic"> 482                              //this provider is not included in the provider list on purpose - it is designed to haðŸ”µ</abbr></span>
<span class="-3738388329766618942" onmouseenter="enter('-3738388329766618942');" onmouseout="out('-3738388329766618942');" style=""> 483                              //AdminPresentation fields, and those fields not admin presentation annotated at all  </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style=""> 484                              defaultFieldMetadataProvider.addMetadataFromFieldType(                                </span>
<span class="-1999676048932904279" onmouseenter="enter('-1999676048932904279');" onmouseout="out('-1999676048932904279');" style=""><abbr title=" 485                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]{},"> 485                                      new AddMetadataFromFieldTypeRequest(field, targetClass, null, new ForeignKey[]ðŸ”µ</abbr></span>
<span class="-3187852174915871950" onmouseenter="enter('-3187852174915871950');" onmouseout="out('-3187852174915871950');" style=""> 486                                              MergedPropertyType.PRIMARY, null, null, &quot;&quot;, property,                 </span>
<span class="1201384578999451132" onmouseenter="enter('1201384578999451132');" onmouseout="out('1201384578999451132');" style=""><abbr title=" 487                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType(),"> 487                                              null, false, 0, attributesMap, presentationAttribute, ((BasicFieldMetaðŸ”µ</abbr></span>
<span class="3321208403613017272" onmouseenter="enter('3321208403613017272');" onmouseout="out('3321208403613017272');" style=""> 488                                              field.getType(), this), mergedProperties);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 489                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 490                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 491                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 492              }                                                                                                     </span>
<span  style=""> 493                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 494              return mergedProperties;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 495          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 496      }                                                                                                             </span>
<span  style=""> 497                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 498      @Override                                                                                                     </span>
<span class="-6984634137798291887" onmouseenter="enter('-6984634137798291887');" onmouseout="out('-6984634137798291887');" style=""> 499      public Map&lt;String, FieldMetadata&gt; getMergedProperties(@Nonnull Class&lt;?&gt; cls) {                                </span>
<span class="2706918200687295449" onmouseenter="enter('2706918200687295449');" onmouseout="out('2706918200687295449');" style=""> 500          Class&lt;?&gt;[] polymorphicTypes = getAllPolymorphicEntitiesFromCeiling(cls);                                  </span>
<span class="-6961663767749195845" onmouseenter="enter('-6961663767749195845');" onmouseout="out('-6961663767749195845');" style=""> 501          return getMergedProperties(                                                                               </span>
<span class="6176291188661874678" onmouseenter="enter('6176291188661874678');" onmouseout="out('6176291188661874678');" style=""> 502                  cls.getName(),                                                                                    </span>
<span class="-8235722698687045150" onmouseenter="enter('-8235722698687045150');" onmouseout="out('-8235722698687045150');" style=""> 503                  polymorphicTypes,                                                                                 </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 504                  null,                                                                                             </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 505                  new String[]{},                                                                                   </span>
<span class="-145139174237894659" onmouseenter="enter('-145139174237894659');" onmouseout="out('-145139174237894659');" style=""> 506                  new ForeignKey[]{},                                                                               </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style=""> 507                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style=""> 508                  true,                                                                                             </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 509                  new String[]{},                                                                                   </span>
<span class="-1703439538542114181" onmouseenter="enter('-1703439538542114181');" onmouseout="out('-1703439538542114181');" style=""> 510                  new String[]{},                                                                                   </span>
<span class="-6501782133959337215" onmouseenter="enter('-6501782133959337215');" onmouseout="out('-6501782133959337215');" style=""> 511                  null,                                                                                             </span>
<span class="7887690425633568697" onmouseenter="enter('7887690425633568697');" onmouseout="out('7887690425633568697');" style=""> 512                  &quot;&quot;                                                                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 513          );                                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 514      }                                                                                                             </span>
<span  style=""> 515                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 516      @Override                                                                                                     </span>
<span class="6911945127406402508" onmouseenter="enter('6911945127406402508');" onmouseout="out('6911945127406402508');" style=""> 517      public Map&lt;String, FieldMetadata&gt; getMergedProperties(                                                        </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 518              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 519              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 520              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 521              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 522              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 523              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 524              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 525              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 526              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 527              String configurationKey,                                                                              </span>
<span class="-827553539575081564" onmouseenter="enter('-827553539575081564');" onmouseout="out('-827553539575081564');" style=""> 528              String prefix) {                                                                                      </span>
<span class="-6203480973461250810" onmouseenter="enter('-6203480973461250810');" onmouseout="out('-6203480973461250810');" style=""> 529          Map&lt;String, FieldMetadata&gt; mergedProperties = getMergedPropertiesRecursively(                             </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 530                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 531                  entities,                                                                                         </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 532                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 533                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 534                  additionalForeignFields,                                                                          </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 535                  mergedPropertyType,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 536                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 537                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 538                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 539                  configurationKey,                                                                                 </span>
<span class="-3967496061263878924" onmouseenter="enter('-3967496061263878924');" onmouseout="out('-3967496061263878924');" style=""> 540                  new ArrayList&lt;Class&lt;?&gt;&gt;(),                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 541                  prefix,                                                                                           </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style=""> 542                  false,                                                                                            </span>
<span class="-6405418981163978800" onmouseenter="enter('-6405418981163978800');" onmouseout="out('-6405418981163978800');" style=""> 543                  &quot;&quot;);                                                                                              </span>
<span  style=""> 544                                                                                                                    </span>
<span class="-3387273293793103733" onmouseenter="enter('-3387273293793103733');" onmouseout="out('-3387273293793103733');" style=""> 545          final List&lt;String&gt; removeKeys = new ArrayList&lt;&gt;();                                                        </span>
<span  style=""> 546                                                                                                                    </span>
<span class="5510180721451309738" onmouseenter="enter('5510180721451309738');" onmouseout="out('5510180721451309738');" style=""> 547          for (final String key : mergedProperties.keySet()) {                                                      </span>
<span class="-138453265249486277" onmouseenter="enter('-138453265249486277');" onmouseout="out('-138453265249486277');" style=""> 548              if (mergedProperties.get(key).getExcluded() != null &amp;&amp; mergedProperties.get(key).getExcluded()) {     </span>
<span class="1496002324513535332" onmouseenter="enter('1496002324513535332');" onmouseout="out('1496002324513535332');" style=""> 549                  removeKeys.add(key);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 550              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 551          }                                                                                                         </span>
<span  style=""> 552                                                                                                                    </span>
<span class="7925962848224625040" onmouseenter="enter('7925962848224625040');" onmouseout="out('7925962848224625040');" style=""> 553          for (String removeKey : removeKeys) {                                                                     </span>
<span class="-7564896334109760660" onmouseenter="enter('-7564896334109760660');" onmouseout="out('-7564896334109760660');" style=""> 554              mergedProperties.remove(removeKey);                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 555          }                                                                                                         </span>
<span  style=""> 556                                                                                                                    </span>
<span class="-147876518411670284" onmouseenter="enter('-147876518411670284');" onmouseout="out('-147876518411670284');" style=""><abbr title=" 557          // Allow field metadata providers to contribute additional fields here. These latestage handlers take place"> 557          // Allow field metadata providers to contribute additional fields here. These latestage handlers take placðŸ”µ</abbr></span>
<span class="3703883096124208315" onmouseenter="enter('3703883096124208315');" onmouseout="out('3703883096124208315');" style=""><abbr title=" 558          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally cacheable"> 558          // after any cached lookups occur, and are ideal for adding in dynamic properties that are not globally caðŸ”µ</abbr></span>
<span class="-1743014388588318726" onmouseenter="enter('-1743014388588318726');" onmouseout="out('-1743014388588318726');" style=""> 559          // like properties gleaned from reflection typically are.                                                 </span>
<span class="1475563993651642760" onmouseenter="enter('1475563993651642760');" onmouseout="out('1475563993651642760');" style=""> 560          Set&lt;String&gt; keys = new HashSet&lt;&gt;(mergedProperties.keySet());                                              </span>
<span class="3626844968075263825" onmouseenter="enter('3626844968075263825');" onmouseout="out('3626844968075263825');" style=""> 561          for (Class&lt;?&gt; targetClass : entities) {                                                                   </span>
<span class="-5841525186174834007" onmouseenter="enter('-5841525186174834007');" onmouseout="out('-5841525186174834007');" style=""> 562              for (String key : keys) {                                                                             </span>
<span class="4169924203167232106" onmouseenter="enter('4169924203167232106');" onmouseout="out('4169924203167232106');" style=""><abbr title=" 563                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;);"> 563                  LateStageAddMetadataRequest amr = new LateStageAddMetadataRequest(key, null, targetClass, this, &quot;&quot;ðŸ”µ</abbr></span>
<span  style=""> 564                                                                                                                    </span>
<span class="3499481358704524986" onmouseenter="enter('3499481358704524986');" onmouseout="out('3499481358704524986');" style=""> 565                  boolean foundOneOrMoreHandlers = false;                                                           </span>
<span class="-2496623810045205668" onmouseenter="enter('-2496623810045205668');" onmouseout="out('-2496623810045205668');" style=""> 566                  for (FieldMetadataProvider fieldMetadataProvider : fieldMetadataProviders) {                      </span>
<span class="-4849792673676522061" onmouseenter="enter('-4849792673676522061');" onmouseout="out('-4849792673676522061');" style=""><abbr title=" 567                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);"> 567                      MetadataProviderResponse response = fieldMetadataProvider.lateStageAddMetadata(amr, mergedPropðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style=""> 568                      if (MetadataProviderResponse.NOT_HANDLED != response) {                                       </span>
<span class="-2043418119751163400" onmouseenter="enter('-2043418119751163400');" onmouseout="out('-2043418119751163400');" style=""> 569                          foundOneOrMoreHandlers = true;                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 570                      }                                                                                             </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style=""> 571                      if (MetadataProviderResponse.HANDLED_BREAK == response) {                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 572                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 573                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 574                  }                                                                                                 </span>
<span class="3058655674214183755" onmouseenter="enter('3058655674214183755');" onmouseout="out('3058655674214183755');" style=""> 575                  if (!foundOneOrMoreHandlers) {                                                                    </span>
<span class="-9083611672392209691" onmouseenter="enter('-9083611672392209691');" onmouseout="out('-9083611672392209691');" style=""> 576                      defaultFieldMetadataProvider.lateStageAddMetadata(amr, mergedProperties);                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 577                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 578              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 579          }                                                                                                         </span>
<span  style=""> 580                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 581          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 582      }                                                                                                             </span>
<span  style=""> 583                                                                                                                    </span>
<span class="-2438912300368242201" onmouseenter="enter('-2438912300368242201');" onmouseout="out('-2438912300368242201');" style=""> 584      protected Map&lt;String, FieldMetadata&gt; getMergedPropertiesRecursively(                                          </span>
<span class="1473964014374934741" onmouseenter="enter('1473964014374934741');" onmouseout="out('1473964014374934741');" style=""> 585              final String ceilingEntityFullyQualifiedClassname,                                                    </span>
<span class="-7028867757440407160" onmouseenter="enter('-7028867757440407160');" onmouseout="out('-7028867757440407160');" style=""> 586              final Class&lt;?&gt;[] entities,                                                                            </span>
<span class="2510854229769196466" onmouseenter="enter('2510854229769196466');" onmouseout="out('2510854229769196466');" style=""> 587              final ForeignKey foreignField,                                                                        </span>
<span class="-6720492849959790770" onmouseenter="enter('-6720492849959790770');" onmouseout="out('-6720492849959790770');" style=""> 588              final String[] additionalNonPersistentProperties,                                                     </span>
<span class="-2087930577341732296" onmouseenter="enter('-2087930577341732296');" onmouseout="out('-2087930577341732296');" style=""> 589              final ForeignKey[] additionalForeignFields,                                                           </span>
<span class="-5060541903489294329" onmouseenter="enter('-5060541903489294329');" onmouseout="out('-5060541903489294329');" style=""> 590              final MergedPropertyType mergedPropertyType,                                                          </span>
<span class="1907991323743872683" onmouseenter="enter('1907991323743872683');" onmouseout="out('1907991323743872683');" style=""> 591              final Boolean populateManyToOneFields,                                                                </span>
<span class="-2028874490395166793" onmouseenter="enter('-2028874490395166793');" onmouseout="out('-2028874490395166793');" style=""> 592              final String[] includeFields,                                                                         </span>
<span class="-6078363463610046553" onmouseenter="enter('-6078363463610046553');" onmouseout="out('-6078363463610046553');" style=""> 593              final String[] excludeFields,                                                                         </span>
<span class="-38672515547020954" onmouseenter="enter('-38672515547020954');" onmouseout="out('-38672515547020954');" style=""> 594              final String configurationKey,                                                                        </span>
<span class="-6528060899611167704" onmouseenter="enter('-6528060899611167704');" onmouseout="out('-6528060899611167704');" style=""> 595              final List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                   </span>
<span class="3938593744002247051" onmouseenter="enter('3938593744002247051');" onmouseout="out('3938593744002247051');" style=""> 596              final String prefix,                                                                                  </span>
<span class="-326927282324606972" onmouseenter="enter('-326927282324606972');" onmouseout="out('-326927282324606972');" style=""> 597              final Boolean isParentExcluded,                                                                       </span>
<span class="8256980088826851217" onmouseenter="enter('8256980088826851217');" onmouseout="out('8256980088826851217');" style=""> 598              final String parentPrefix) {                                                                          </span>
<span class="2079679010159747139" onmouseenter="enter('2079679010159747139');" onmouseout="out('2079679010159747139');" style=""> 599          PropertyBuilder propertyBuilder = new PropertyBuilder() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 600              @Override                                                                                             </span>
<span class="3504996522624516996" onmouseenter="enter('3504996522624516996');" onmouseout="out('3504996522624516996');" style=""> 601              public Map&lt;String, FieldMetadata&gt; execute(Boolean overridePopulateManyToOne) {                        </span>
<span class="-8415995574187966720" onmouseenter="enter('-8415995574187966720');" onmouseout="out('-8415995574187966720');" style=""> 602                  Map&lt;String, FieldMetadata&gt; mergedProperties = new HashMap&lt;&gt;();                                    </span>
<span class="5361653715962193435" onmouseenter="enter('5361653715962193435');" onmouseout="out('5361653715962193435');" style=""> 603                  Boolean classAnnotatedPopulateManyToOneFields;                                                    </span>
<span class="-7767311910567709326" onmouseenter="enter('-7767311910567709326');" onmouseout="out('-7767311910567709326');" style=""> 604                  if (overridePopulateManyToOne != null) {                                                          </span>
<span class="4867842220506504744" onmouseenter="enter('4867842220506504744');" onmouseout="out('4867842220506504744');" style=""> 605                      classAnnotatedPopulateManyToOneFields = overridePopulateManyToOne;                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 606                  } else {                                                                                          </span>
<span class="7526077266259416341" onmouseenter="enter('7526077266259416341');" onmouseout="out('7526077266259416341');" style=""> 607                      classAnnotatedPopulateManyToOneFields = populateManyToOneFields;                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 608                  }                                                                                                 </span>
<span  style=""> 609                                                                                                                    </span>
<span class="2305508868232713000" onmouseenter="enter('2305508868232713000');" onmouseout="out('2305508868232713000');" style=""> 610                  buildPropertiesFromPolymorphicEntities(                                                           </span>
<span class="-583385414269598767" onmouseenter="enter('-583385414269598767');" onmouseout="out('-583385414269598767');" style=""> 611                          entities,                                                                                 </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 612                          foreignField,                                                                             </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 613                          additionalNonPersistentProperties,                                                        </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 614                          additionalForeignFields,                                                                  </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 615                          mergedPropertyType,                                                                       </span>
<span class="-2110284566734819683" onmouseenter="enter('-2110284566734819683');" onmouseout="out('-2110284566734819683');" style=""> 616                          classAnnotatedPopulateManyToOneFields,                                                    </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 617                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 618                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 619                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 620                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-1846724285183804870" onmouseenter="enter('-1846724285183804870');" onmouseout="out('-1846724285183804870');" style=""> 621                          mergedProperties,                                                                         </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 622                          parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 623                          prefix,                                                                                   </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 624                          isParentExcluded,                                                                         </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 625                          parentPrefix);                                                                            </span>
<span  style=""> 626                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 627                  return mergedProperties;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 628              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style=""> 629          };                                                                                                        </span>
<span  style=""> 630                                                                                                                    </span>
<span class="5245197045451403214" onmouseenter="enter('5245197045451403214');" onmouseout="out('5245197045451403214');" style=""><abbr title=" 631          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix, isParentExcluded, ceilingEntityFullyQualifiedClassname, configurationKey, this);"> 631          Map&lt;String, FieldMetadata&gt; mergedProperties = metadata.overrideMetadata(entities, propertyBuilder, prefix,ðŸ”µ</abbr></span>
<span class="-1677048395020873058" onmouseenter="enter('-1677048395020873058');" onmouseout="out('-1677048395020873058');" style=""> 632          applyIncludesAndExcludes(includeFields, excludeFields, prefix, isParentExcluded, mergedProperties);       </span>
<span class="1745337709916519344" onmouseenter="enter('1745337709916519344');" onmouseout="out('1745337709916519344');" style=""> 633          applyForeignKeyPrecedence(foreignField, additionalForeignFields, mergedProperties);                       </span>
<span  style=""> 634                                                                                                                    </span>
<span class="513114689449481379" onmouseenter="enter('513114689449481379');" onmouseout="out('513114689449481379');" style=""> 635          return mergedProperties;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 636      }                                                                                                             </span>
<span  style=""> 637                                                                                                                    </span>
<span class="7329071127864978502" onmouseenter="enter('7329071127864978502');" onmouseout="out('7329071127864978502');" style=""><abbr title=" 638      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 638      protected void applyForeignKeyPrecedence(ForeignKey foreignField, ForeignKey[] additionalForeignFields, Map&lt;StðŸ”µ</abbr></span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 639          for (String key : mergedProperties.keySet()) {                                                            </span>
<span class="8352971381628178457" onmouseenter="enter('8352971381628178457');" onmouseout="out('8352971381628178457');" style=""> 640              boolean isForeign = false;                                                                            </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style=""> 641              if (foreignField != null) {                                                                           </span>
<span class="7321505645741970478" onmouseenter="enter('7321505645741970478');" onmouseout="out('7321505645741970478');" style=""> 642                  isForeign = foreignField.getManyToField().equals(key);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 643              }                                                                                                     </span>
<span class="1828043346713255531" onmouseenter="enter('1828043346713255531');" onmouseout="out('1828043346713255531');" style=""> 644              if (!isForeign &amp;&amp; !ArrayUtils.isEmpty(additionalForeignFields)) {                                     </span>
<span class="-7737598334102466452" onmouseenter="enter('-7737598334102466452');" onmouseout="out('-7737598334102466452');" style=""> 645                  for (ForeignKey foreignKey : additionalForeignFields) {                                           </span>
<span class="-2757422985541426493" onmouseenter="enter('-2757422985541426493');" onmouseout="out('-2757422985541426493');" style=""> 646                      isForeign = foreignKey.getManyToField().equals(key);                                          </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 647                      if (isForeign) {                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 648                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 649                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 650                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 651              }                                                                                                     </span>
<span class="6040191858049543583" onmouseenter="enter('6040191858049543583');" onmouseout="out('6040191858049543583');" style=""> 652              if (isForeign) {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 653                  FieldMetadata metadata = mergedProperties.get(key);                                               </span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 654                  metadata.setExcluded(false);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 655              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 656          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 657      }                                                                                                             </span>
<span  style=""> 658                                                                                                                    </span>
<span class="783991203850867498" onmouseenter="enter('783991203850867498');" onmouseout="out('783991203850867498');" style=""><abbr title=" 659      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, Boolean isParentExcluded, Map&lt;String, FieldMetadata&gt; mergedProperties) {"> 659      protected void applyIncludesAndExcludes(String[] includeFields, String[] excludeFields, String prefix, BooleanðŸ”µ</abbr></span>
<span class="-7770638043727974025" onmouseenter="enter('-7770638043727974025');" onmouseout="out('-7770638043727974025');" style=""> 660          //check includes                                                                                          </span>
<span class="-3384693926533678213" onmouseenter="enter('-3384693926533678213');" onmouseout="out('-3384693926533678213');" style=""> 661          if (!ArrayUtils.isEmpty(includeFields)) {                                                                 </span>
<span class="-2878653285877159732" onmouseenter="enter('-2878653285877159732');" onmouseout="out('-2878653285877159732');" style=""> 662              for (String include : includeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 663                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 664                      String testKey = prefix + key;                                                                </span>
<span class="2231258859568369338" onmouseenter="enter('2231258859568369338');" onmouseout="out('2231258859568369338');" style=""> 665                      if (!(testKey.startsWith(include + &quot;.&quot;) || testKey.equals(include))) {                        </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 666                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="-3171007090868984479" onmouseenter="enter('-3171007090868984479');" onmouseout="out('-3171007090868984479');" style=""><abbr title=" 667                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appear in the explicit includeFields list&quot;);"> 667                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field did not appeaðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 668                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 669                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 670                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 671                          if (!isParentExcluded) {                                                                  </span>
<span class="-5903643948230642193" onmouseenter="enter('-5903643948230642193');" onmouseout="out('-5903643948230642193');" style=""><abbr title=" 672                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in the explicit includeFields list&quot;);"> 672                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field appears in ðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 673                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 674                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 675                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 676                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 677              }                                                                                                     </span>
<span class="7249467269158825236" onmouseenter="enter('7249467269158825236');" onmouseout="out('7249467269158825236');" style=""> 678          } else if (!ArrayUtils.isEmpty(excludeFields)) {                                                          </span>
<span class="-8401434772781849087" onmouseenter="enter('-8401434772781849087');" onmouseout="out('-8401434772781849087');" style=""> 679              //check excludes                                                                                      </span>
<span class="-7190035858453098979" onmouseenter="enter('-7190035858453098979');" onmouseout="out('-7190035858453098979');" style=""> 680              for (String exclude : excludeFields) {                                                                </span>
<span class="5425185093693889044" onmouseenter="enter('5425185093693889044');" onmouseout="out('5425185093693889044');" style=""> 681                  for (String key : mergedProperties.keySet()) {                                                    </span>
<span class="4438688661933722039" onmouseenter="enter('4438688661933722039');" onmouseout="out('4438688661933722039');" style=""> 682                      String testKey = prefix + key;                                                                </span>
<span class="6056794726434792549" onmouseenter="enter('6056794726434792549');" onmouseout="out('6056794726434792549');" style=""> 683                      if (testKey.startsWith(exclude + &quot;.&quot;) || testKey.equals(exclude)) {                           </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 684                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="153963743928698641" onmouseenter="enter('153963743928698641');" onmouseout="out('153963743928698641');" style=""><abbr title=" 685                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in the explicit excludeFields list&quot;);"> 685                          LOG.debug(&quot;applyIncludesAndExcludes:Excluding &quot; + key + &quot; because this field appears in thðŸ”µ</abbr></span>
<span class="429115398485742105" onmouseenter="enter('429115398485742105');" onmouseout="out('429115398485742105');" style=""> 686                          metadata.setExcluded(true);                                                               </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 687                      } else {                                                                                      </span>
<span class="7723085184905147969" onmouseenter="enter('7723085184905147969');" onmouseout="out('7723085184905147969');" style=""> 688                          FieldMetadata metadata = mergedProperties.get(key);                                       </span>
<span class="8856440000429775080" onmouseenter="enter('8856440000429775080');" onmouseout="out('8856440000429775080');" style=""> 689                          if (!isParentExcluded) {                                                                  </span>
<span class="7607834578878672700" onmouseenter="enter('7607834578878672700');" onmouseout="out('7607834578878672700');" style=""><abbr title=" 690                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appear in the explicit excludeFields list&quot;);"> 690                              LOG.debug(&quot;applyIncludesAndExcludes:Showing &quot; + key + &quot; because this field did not appðŸ”µ</abbr></span>
<span class="1490187626391501881" onmouseenter="enter('1490187626391501881');" onmouseout="out('1490187626391501881');" style=""> 691                              metadata.setExcluded(false);                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 692                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 693                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 694                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 695              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 696          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 697      }                                                                                                             </span>
<span  style=""> 698                                                                                                                    </span>
<span class="3889823321692711159" onmouseenter="enter('3889823321692711159');" onmouseout="out('3889823321692711159');" style=""> 699      protected String pad(String s, int length, char pad) {                                                        </span>
<span class="445211846679573021" onmouseenter="enter('445211846679573021');" onmouseout="out('445211846679573021');" style=""> 700          StringBuilder buffer = new StringBuilder(s);                                                              </span>
<span class="-1767419613255418829" onmouseenter="enter('-1767419613255418829');" onmouseout="out('-1767419613255418829');" style=""> 701          while (buffer.length() &lt; length) {                                                                        </span>
<span class="5619102104931061603" onmouseenter="enter('5619102104931061603');" onmouseout="out('5619102104931061603');" style=""> 702              buffer.insert(0, pad);                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 703          }                                                                                                         </span>
<span class="-2038716794812902958" onmouseenter="enter('-2038716794812902958');" onmouseout="out('-2038716794812902958');" style=""> 704          return buffer.toString();                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 705      }                                                                                                             </span>
<span  style=""> 706                                                                                                                    </span>
<span class="3884563274585045714" onmouseenter="enter('3884563274585045714');" onmouseout="out('3884563274585045714');" style=""><abbr title=" 707      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] additionalNonPersistentProperties, ForeignKey[] additionalForeignFields, MergedPropertyType mergedPropertyType, Boolean populateManyToOneFields, Class&lt;?&gt; clazz, String configurationKey, Boolean isParentExcluded) {"> 707      protected String getCacheKey(String ceilingEntityFullyQualifiedClassname, ForeignKey foreignField, String[] adðŸ”µ</abbr></span>
<span class="-8171684567582740523" onmouseenter="enter('-8171684567582740523');" onmouseout="out('-8171684567582740523');" style=""> 708          StringBuilder sb = new StringBuilder(150);                                                                </span>
<span class="2305362316033364503" onmouseenter="enter('2305362316033364503');" onmouseout="out('2305362316033364503');" style=""> 709          sb.append(ceilingEntityFullyQualifiedClassname);                                                          </span>
<span class="-7200689926840894497" onmouseenter="enter('-7200689926840894497');" onmouseout="out('-7200689926840894497');" style=""> 710          sb.append(clazz.hashCode());                                                                              </span>
<span class="897254265268459193" onmouseenter="enter('897254265268459193');" onmouseout="out('897254265268459193');" style=""> 711          sb.append(foreignField == null ? &quot;&quot; : foreignField.toString());                                           </span>
<span class="4272565887700803395" onmouseenter="enter('4272565887700803395');" onmouseout="out('4272565887700803395');" style=""> 712          sb.append(configurationKey);                                                                              </span>
<span class="-4147065556484659506" onmouseenter="enter('-4147065556484659506');" onmouseout="out('-4147065556484659506');" style=""> 713          sb.append(isParentExcluded);                                                                              </span>
<span class="-6878684414049542852" onmouseenter="enter('-6878684414049542852');" onmouseout="out('-6878684414049542852');" style=""> 714          if (additionalNonPersistentProperties != null) {                                                          </span>
<span class="-660858738704708443" onmouseenter="enter('-660858738704708443');" onmouseout="out('-660858738704708443');" style=""> 715              for (String prop : additionalNonPersistentProperties) {                                               </span>
<span class="-5670377428753890920" onmouseenter="enter('-5670377428753890920');" onmouseout="out('-5670377428753890920');" style=""> 716                  sb.append(prop);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 717              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 718          }                                                                                                         </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style=""> 719          if (additionalForeignFields != null) {                                                                    </span>
<span class="478204628824598437" onmouseenter="enter('478204628824598437');" onmouseout="out('478204628824598437');" style=""> 720              for (ForeignKey key : additionalForeignFields) {                                                      </span>
<span class="-7165247723092303864" onmouseenter="enter('-7165247723092303864');" onmouseout="out('-7165247723092303864');" style=""> 721                  sb.append(key.toString());                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 722              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 723          }                                                                                                         </span>
<span class="-4539776363223820126" onmouseenter="enter('-4539776363223820126');" onmouseout="out('-4539776363223820126');" style=""> 724          sb.append(mergedPropertyType);                                                                            </span>
<span class="7338528535732321282" onmouseenter="enter('7338528535732321282');" onmouseout="out('7338528535732321282');" style=""> 725          sb.append(populateManyToOneFields);                                                                       </span>
<span  style=""> 726                                                                                                                    </span>
<span class="-3611986260301585228" onmouseenter="enter('-3611986260301585228');" onmouseout="out('-3611986260301585228');" style=""> 727          String digest;                                                                                            </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 728          try {                                                                                                     </span>
<span class="-6955618976542935940" onmouseenter="enter('-6955618976542935940');" onmouseout="out('-6955618976542935940');" style=""> 729              MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);                                                  </span>
<span class="-1369839328593170913" onmouseenter="enter('-1369839328593170913');" onmouseout="out('-1369839328593170913');" style=""> 730              byte[] messageDigest = md.digest(sb.toString().getBytes());                                           </span>
<span class="-8545273925870020991" onmouseenter="enter('-8545273925870020991');" onmouseout="out('-8545273925870020991');" style=""> 731              BigInteger number = new BigInteger(1, messageDigest);                                                 </span>
<span class="5844706554126289727" onmouseenter="enter('5844706554126289727');" onmouseout="out('5844706554126289727');" style=""> 732              digest = number.toString(16);                                                                         </span>
<span class="-7636130466757008337" onmouseenter="enter('-7636130466757008337');" onmouseout="out('-7636130466757008337');" style=""> 733          } catch (NoSuchAlgorithmException e) {                                                                    </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 734              throw new RuntimeException(e);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 735          }                                                                                                         </span>
<span  style=""> 736                                                                                                                    </span>
<span class="-3113406584105971422" onmouseenter="enter('-3113406584105971422');" onmouseout="out('-3113406584105971422');" style=""> 737          String key = pad(digest, 32, &#x27;0&#x27;);                                                                        </span>
<span  style=""> 738                                                                                                                    </span>
<span class="4800026243591222227" onmouseenter="enter('4800026243591222227');" onmouseout="out('4800026243591222227');" style=""> 739          if (LOG.isDebugEnabled()) {                                                                               </span>
<span class="-2437175351833983181" onmouseenter="enter('-2437175351833983181');" onmouseout="out('-2437175351833983181');" style=""> 740              LOG.debug(&quot;Created cache key: &quot; + key + &quot; from the following string: &quot; + sb.toString());              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 741          }                                                                                                         </span>
<span class="5738733750165622395" onmouseenter="enter('5738733750165622395');" onmouseout="out('5738733750165622395');" style=""> 742          return key;                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 743      }                                                                                                             </span>
<span  style=""> 744                                                                                                                    </span>
<span class="-2288402615901169884" onmouseenter="enter('-2288402615901169884');" onmouseout="out('-2288402615901169884');" style=""> 745      protected void buildPropertiesFromPolymorphicEntities(                                                        </span>
<span class="5545033557024812691" onmouseenter="enter('5545033557024812691');" onmouseout="out('5545033557024812691');" style=""> 746              Class&lt;?&gt;[] entities,                                                                                  </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 747              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 748              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 749              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 750              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 751              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 752              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 753              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 754              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 755              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="6038912173101861557" onmouseenter="enter('6038912173101861557');" onmouseout="out('6038912173101861557');" style=""> 756              Map&lt;String, FieldMetadata&gt; mergedProperties,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 757              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 758              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 759              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 760              String parentPrefix) {                                                                                </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style=""> 761          for (Class&lt;?&gt; clazz : entities) {                                                                         </span>
<span class="7727477277723853901" onmouseenter="enter('7727477277723853901');" onmouseout="out('7727477277723853901');" style=""><abbr title=" 762              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistentProperties, additionalForeignFields, mergedPropertyType, populateManyToOneFields, clazz, configurationKey, isParentExcluded);"> 762              String cacheKey = getCacheKey(ceilingEntityFullyQualifiedClassname, foreignField, additionalNonPersistðŸ”µ</abbr></span>
<span  style=""> 763                                                                                                                    </span>
<span class="1745274060575492470" onmouseenter="enter('1745274060575492470');" onmouseout="out('1745274060575492470');" style=""> 764              Map&lt;String, FieldMetadata&gt; cacheData = null;                                                          </span>
<span class="-4272128368465670476" onmouseenter="enter('-4272128368465670476');" onmouseout="out('-4272128368465670476');" style=""> 765              synchronized (DynamicDaoHelperImpl.LOCK_OBJECT) {                                                     </span>
<span class="6919545595316206019" onmouseenter="enter('6919545595316206019');" onmouseout="out('6919545595316206019');" style=""> 766                  if (useCache()) {                                                                                 </span>
<span class="6419682552111526598" onmouseenter="enter('6419682552111526598');" onmouseout="out('6419682552111526598');" style=""> 767                      cacheData = METADATA_CACHE.get(cacheKey);                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 768                  }                                                                                                 </span>
<span  style=""> 769                                                                                                                    </span>
<span class="9074792177951490533" onmouseenter="enter('9074792177951490533');" onmouseout="out('9074792177951490533');" style=""> 770                  if (cacheData == null) {                                                                          </span>
<span class="-2338119416843923363" onmouseenter="enter('-2338119416843923363');" onmouseout="out('-2338119416843923363');" style=""> 771                      Map&lt;String, FieldMetadata&gt; props = getPropertiesForEntityClass(                               </span>
<span class="-3253988657934395767" onmouseenter="enter('-3253988657934395767');" onmouseout="out('-3253988657934395767');" style=""> 772                              clazz,                                                                                </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style=""> 773                              foreignField,                                                                         </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style=""> 774                              additionalNonPersistentProperties,                                                    </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style=""> 775                              additionalForeignFields,                                                              </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style=""> 776                              mergedPropertyType,                                                                   </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style=""> 777                              populateManyToOneFields,                                                              </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style=""> 778                              includeFields,                                                                        </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style=""> 779                              excludeFields,                                                                        </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style=""> 780                              configurationKey,                                                                     </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style=""> 781                              ceilingEntityFullyQualifiedClassname,                                                 </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style=""> 782                              parentClasses,                                                                        </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style=""> 783                              prefix,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style=""> 784                              isParentExcluded,                                                                     </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style=""> 785                              parentPrefix);                                                                        </span>
<span class="7570489015185944765" onmouseenter="enter('7570489015185944765');" onmouseout="out('7570489015185944765');" style=""> 786                      //first check all the properties currently in there to see if my entity inherits from them    </span>
<span class="-8983488926402161948" onmouseenter="enter('-8983488926402161948');" onmouseout="out('-8983488926402161948');" style=""> 787                      for (Class&lt;?&gt; clazz2 : entities) {                                                            </span>
<span class="-6329817549654789588" onmouseenter="enter('-6329817549654789588');" onmouseout="out('-6329817549654789588');" style=""> 788                          if (!clazz2.getName().equals(clazz.getName())) {                                          </span>
<span class="-1142150578540156554" onmouseenter="enter('-1142150578540156554');" onmouseout="out('-1142150578540156554');" style=""> 789                              for (Map.Entry&lt;String, FieldMetadata&gt; entry : props.entrySet()) {                     </span>
<span class="3870816225234997270" onmouseenter="enter('3870816225234997270');" onmouseout="out('3870816225234997270');" style=""> 790                                  FieldMetadata metadata = entry.getValue();                                        </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 791                                  try {                                                                             </span>
<span class="2667280274843455600" onmouseenter="enter('2667280274843455600');" onmouseout="out('2667280274843455600');" style=""> 792                                      if (Class.forName(metadata.getInheritedFromType()).isAssignableFrom(clazz2)) {</span>
<span class="6326342372478569942" onmouseenter="enter('6326342372478569942');" onmouseout="out('6326342372478569942');" style=""><abbr title=" 793                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new String[]{clazz2.getName()});"> 793                                          String[] both = ArrayUtils.addAll(metadata.getAvailableToTypes(), new StriðŸ”µ</abbr></span>
<span class="-2142612567157355556" onmouseenter="enter('-2142612567157355556');" onmouseout="out('-2142612567157355556');" style=""> 794                                          metadata.setAvailableToTypes(both);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 795                                      }                                                                             </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style=""> 796                                  } catch (ClassNotFoundException e) {                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style=""> 797                                      throw new RuntimeException(e);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 798                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 799                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 800                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 801                      }                                                                                             </span>
<span class="-8218614764145445414" onmouseenter="enter('-8218614764145445414');" onmouseout="out('-8218614764145445414');" style=""> 802                      METADATA_CACHE.put(cacheKey, props);                                                          </span>
<span  style=""> 803                                                                                                                    </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 804                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="6553052071073656439" onmouseenter="enter('6553052071073656439');" onmouseout="out('6553052071073656439');" style=""><abbr title=" 805                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 805                          LOG.trace(&quot;Added &quot; + props.size() + &quot; to the metadata cache with key &quot; + cacheKey + &quot; for ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 806                      }                                                                                             </span>
<span  style=""> 807                                                                                                                    </span>
<span class="-1959905670451364955" onmouseenter="enter('-1959905670451364955');" onmouseout="out('-1959905670451364955');" style=""> 808                      if (validateMetadataCacheSizes) {                                                             </span>
<span class="-6028386710359612670" onmouseenter="enter('-6028386710359612670');" onmouseout="out('-6028386710359612670');" style=""> 809                          Integer previousSize = METADATA_CACHE_SIZES.get(cacheKey);                                </span>
<span class="-5949871254775181744" onmouseenter="enter('-5949871254775181744');" onmouseout="out('-5949871254775181744');" style=""> 810                          Integer currentSize = props.size();                                                       </span>
<span class="-6053486415797526830" onmouseenter="enter('-6053486415797526830');" onmouseout="out('-6053486415797526830');" style=""> 811                          if (previousSize == null) {                                                               </span>
<span class="6212812118135105855" onmouseenter="enter('6212812118135105855');" onmouseout="out('6212812118135105855');" style=""> 812                              METADATA_CACHE_SIZES.put(cacheKey, currentSize);                                      </span>
<span class="-2863380838025648602" onmouseenter="enter('-2863380838025648602');" onmouseout="out('-2863380838025648602');" style=""> 813                          } else if (!currentSize.equals(previousSize)) {                                           </span>
<span class="8287734310862120658" onmouseenter="enter('8287734310862120658');" onmouseout="out('8287734310862120658');" style=""><abbr title=" 814                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the key &quot; + cacheKey + &quot; but we had previously stored &quot; + previousSize + &quot; properties&quot;;"> 814                              String msg = &quot;Attempted to store &quot; + currentSize + &quot; properties in the cache for the kðŸ”µ</abbr></span>
<span class="4339245929318812534" onmouseenter="enter('4339245929318812534');" onmouseout="out('4339245929318812534');" style=""> 815                              LOG.error(msg);                                                                       </span>
<span class="6435659278545406484" onmouseenter="enter('6435659278545406484');" onmouseout="out('6435659278545406484');" style=""> 816                              throw new RuntimeException(msg);                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 817                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 818                      }                                                                                             </span>
<span  style=""> 819                                                                                                                    </span>
<span class="5883462218451148036" onmouseenter="enter('5883462218451148036');" onmouseout="out('5883462218451148036');" style=""> 820                      cacheData = props;                                                                            </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 821                  } else {                                                                                          </span>
<span class="1446253227197554536" onmouseenter="enter('1446253227197554536');" onmouseout="out('1446253227197554536');" style=""> 822                      if (LOG.isTraceEnabled()) {                                                                   </span>
<span class="-8248378699039219333" onmouseenter="enter('-8248378699039219333');" onmouseout="out('-8248378699039219333');" style=""><abbr title=" 823                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; for the class &quot; + ceilingEntityFullyQualifiedClassname);"> 823                          LOG.trace(&quot;Read &quot; + cacheData.size() + &quot; from the metada cache with key &quot; + cacheKey + &quot; fðŸ”µ</abbr></span>







<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 824                      }                                                                                             </span>
<span class="-4066456328072124576" onmouseenter="enter('-4066456328072124576');" onmouseout="out('-4066456328072124576');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 825 +                    for (FieldMetadata value : cacheData.values()) {                                              </span>
<span class="3662529019461774815" onmouseenter="enter('3662529019461774815');" onmouseout="out('3662529019461774815');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 826 +                        //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttl=-1) and you cache metadata for en locale"> 826 +                        //that&#x27;s for the case when metadata cache is enabled(cache.entity.dao.metadata.ttl=-1) andðŸ”µ</abbr></span>
<span class="1220507139995640855" onmouseenter="enter('1220507139995640855');" onmouseout="out('1220507139995640855');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 827 +                        //then switch to FR that has comma as decimal separator                                   </span>
<span class="5382883375622517459" onmouseenter="enter('5382883375622517459');" onmouseout="out('5382883375622517459');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 828 +                        if (value instanceof BasicFieldMetadata) {                                                </span>
<span class="-2436744243394205199" onmouseenter="enter('-2436744243394205199');" onmouseout="out('-2436744243394205199');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 829 +                            BasicFieldMetadata v = (BasicFieldMetadata) value;                                    </span>
<span class="935841697909025262" onmouseenter="enter('935841697909025262');" onmouseout="out('935841697909025262');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 830 +                            if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldType.INTEGER.equals(v.getSecondaryType())"> 830 +                            if (SupportedFieldType.DECIMAL.equals(v.getSecondaryType()) || SupportedFieldType.INTEðŸ”µ</abbr></span>
<span class="-7075527813897367563" onmouseenter="enter('-7075527813897367563');" onmouseout="out('-7075527813897367563');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 831 +                                    || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFieldType.DECIMAL.equals(v.getFieldType())) {"> 831 +                                    || SupportedFieldType.INTEGER.equals(v.getFieldType()) || SupportedFieldType.DðŸ”µ</abbr></span>
<span class="-3634274925625102709" onmouseenter="enter('-3634274925625102709');" onmouseout="out('-3634274925625102709');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 832 +                                refreshDecimalDefaultValue(v);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 833 +                            }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 834 +                        }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 835 +                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 836                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 837              }                                                                                                     </span>
<span class="-38588985663825257" onmouseenter="enter('-38588985663825257');" onmouseout="out('-38588985663825257');" style=""> 838              //clone the metadata before passing to the system                                                     </span>
<span class="-8773919458370893273" onmouseenter="enter('-8773919458370893273');" onmouseout="out('-8773919458370893273');" style=""> 839              Map&lt;String, FieldMetadata&gt; clonedCache = new HashMap&lt;&gt;(cacheData.size());                             </span>
<span class="-3144151195601312076" onmouseenter="enter('-3144151195601312076');" onmouseout="out('-3144151195601312076');" style=""> 840              for (Map.Entry&lt;String, FieldMetadata&gt; entry : cacheData.entrySet()) {                                 </span>
<span class="4151130604731623450" onmouseenter="enter('4151130604731623450');" onmouseout="out('4151130604731623450');" style=""> 841                  clonedCache.put(entry.getKey(), entry.getValue().cloneFieldMetadata());                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 842              }                                                                                                     </span>
<span class="5987876630201622050" onmouseenter="enter('5987876630201622050');" onmouseout="out('5987876630201622050');" style=""> 843              mergedProperties.putAll(clonedCache);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 844          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 845 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 846 +                                                                                                                  </span>
<span class="8505499912833096604" onmouseenter="enter('8505499912833096604');" onmouseout="out('8505499912833096604');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 847 +    public void refreshDecimalDefaultValue(BasicFieldMetadata value) {                                            </span>
<span class="-2790325521225507620" onmouseenter="enter('-2790325521225507620');" onmouseout="out('-2790325521225507620');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 848 +        DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroadleafRequestContext().getJavaLocale());"> 848 +        DecimalFormat instance = (DecimalFormat) NumberFormat.getInstance(BroadleafRequestContext.getBroadleafRequðŸ”µ</abbr></span>
<span class="-3570118291130740528" onmouseenter="enter('-3570118291130740528');" onmouseout="out('-3570118291130740528');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 849 +        if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;.&#x27;){"> 849 +        if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;.&quot;) &amp;&amp; instance.geðŸ”µ</abbr></span>
<span class="5949056225755593517" onmouseenter="enter('5949056225755593517');" onmouseout="out('5949056225755593517');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 850 +            value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 850 +            value.setDefaultValue(value.getDefaultValue().replace(&#x27;.&#x27;, instance.getDecimalFormatSymbols().getDecimðŸ”µ</abbr></span>
<span class="-2534078363605262116" onmouseenter="enter('-2534078363605262116');" onmouseout="out('-2534078363605262116');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 851 +        }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;) &amp;&amp; instance.getDecimalFormatSymbols().getDecimalSeparator()!=&#x27;,&#x27;){"> 851 +        }else if(StringUtils.isNotEmpty(value.getDefaultValue()) &amp;&amp; value.getDefaultValue().contains(&quot;,&quot;) &amp;&amp; instaðŸ”µ</abbr></span>
<span class="3383230747707669962" onmouseenter="enter('3383230747707669962');" onmouseout="out('3383230747707669962');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"><abbr title=" 852 +            value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols().getDecimalSeparator()));"> 852 +            value.setDefaultValue(value.getDefaultValue().replace(&#x27;,&#x27;, instance.getDecimalFormatSymbols().getDecimðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 853 +        }                                                                                                         </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 854 +                                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 855      }                                                                                                             </span>
<span  style=""> 856                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 857      @Override                                                                                                     </span>
<span class="8493774766811296191" onmouseenter="enter('8493774766811296191');" onmouseout="out('8493774766811296191');" style=""> 858      public Field[] getAllFields(Class&lt;?&gt; targetClass) {                                                           </span>
<span class="-6532504046917726766" onmouseenter="enter('-6532504046917726766');" onmouseout="out('-6532504046917726766');" style=""> 859          Field[] allFields = new Field[]{};                                                                        </span>
<span class="-4875040428911372888" onmouseenter="enter('-4875040428911372888');" onmouseout="out('-4875040428911372888');" style=""> 860          boolean eof = false;                                                                                      </span>
<span class="8511347622755364582" onmouseenter="enter('8511347622755364582');" onmouseout="out('8511347622755364582');" style=""> 861          Class&lt;?&gt; currentClass = targetClass;                                                                      </span>
<span class="-5429533219939196813" onmouseenter="enter('-5429533219939196813');" onmouseout="out('-5429533219939196813');" style=""> 862          while (!eof) {                                                                                            </span>
<span class="-1829339753192988564" onmouseenter="enter('-1829339753192988564');" onmouseout="out('-1829339753192988564');" style=""> 863              Field[] fields = currentClass.getDeclaredFields();                                                    </span>
<span class="-3444825084542934511" onmouseenter="enter('-3444825084542934511');" onmouseout="out('-3444825084542934511');" style=""> 864              allFields = ArrayUtils.addAll(allFields, fields);                                                     </span>
<span class="-79128616994943984" onmouseenter="enter('-79128616994943984');" onmouseout="out('-79128616994943984');" style=""> 865              if (currentClass.getSuperclass() != null) {                                                           </span>
<span class="-2064612269187183664" onmouseenter="enter('-2064612269187183664');" onmouseout="out('-2064612269187183664');" style=""> 866                  currentClass = currentClass.getSuperclass();                                                      </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 867              } else {                                                                                              </span>
<span class="-3626391356886992318" onmouseenter="enter('-3626391356886992318');" onmouseout="out('-3626391356886992318');" style=""> 868                  eof = true;                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 869              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 870          }                                                                                                         </span>
<span  style=""> 871                                                                                                                    </span>
<span class="-6720154219173365416" onmouseenter="enter('-6720154219173365416');" onmouseout="out('-6720154219173365416');" style=""> 872          return allFields;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 873      }                                                                                                             </span>
<span  style=""> 874                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 875      @Override                                                                                                     </span>
<span class="-7729101017608394183" onmouseenter="enter('-7729101017608394183');" onmouseout="out('-7729101017608394183');" style=""> 876      public Map&lt;String, FieldMetadata&gt; getPropertiesForPrimitiveClass(                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style=""> 877              String propertyName,                                                                                  </span>
<span class="7981003974964171369" onmouseenter="enter('7981003974964171369');" onmouseout="out('7981003974964171369');" style=""> 878              String friendlyPropertyName,                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 879              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="3679189159258358608" onmouseenter="enter('3679189159258358608');" onmouseout="out('3679189159258358608');" style=""> 880              Class&lt;?&gt; parentClass,                                                                                 </span>
<span class="-2688803231879245794" onmouseenter="enter('-2688803231879245794');" onmouseout="out('-2688803231879245794');" style=""> 881              MergedPropertyType mergedPropertyType                                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 882      ) {                                                                                                           </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 883          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style=""> 884          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="8817601559210789773" onmouseenter="enter('8817601559210789773');" onmouseout="out('8817601559210789773');" style=""> 885          presentationAttribute.setFriendlyName(friendlyPropertyName);                                              </span>
<span class="6667865216011454815" onmouseenter="enter('6667865216011454815');" onmouseout="out('6667865216011454815');" style=""> 886          if (String.class.isAssignableFrom(targetClass)) {                                                         </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style=""> 887              presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 888              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-3559288140614742995" onmouseenter="enter('-3559288140614742995');" onmouseout="out('-3559288140614742995');" style=""><abbr title=" 889              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 889              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.STRING, ðŸ”µ</abbr></span>
<span class="4862706860671913823" onmouseenter="enter('4862706860671913823');" onmouseout="out('4862706860671913823');" style=""> 890          } else if (Boolean.class.isAssignableFrom(targetClass)) {                                                 </span>
<span class="4768354191695680531" onmouseenter="enter('4768354191695680531');" onmouseout="out('4768354191695680531');" style=""> 891              presentationAttribute.setExplicitFieldType(SupportedFieldType.BOOLEAN);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 892              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="8509524595451710370" onmouseenter="enter('8509524595451710370');" onmouseout="out('8509524595451710370');" style=""><abbr title=" 893              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 893              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.BOOLEAN,ðŸ”µ</abbr></span>
<span class="-5527063245004200939" onmouseenter="enter('-5527063245004200939');" onmouseout="out('-5527063245004200939');" style=""> 894          } else if (Date.class.isAssignableFrom(targetClass)) {                                                    </span>
<span class="1369715823851408295" onmouseenter="enter('1369715823851408295');" onmouseout="out('1369715823851408295');" style=""> 895              presentationAttribute.setExplicitFieldType(SupportedFieldType.DATE);                                  </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 896              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-7758654838192565074" onmouseenter="enter('-7758654838192565074');" onmouseout="out('-7758654838192565074');" style=""><abbr title=" 897              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 897              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DATE, nuðŸ”µ</abbr></span>
<span class="-8072667877135648786" onmouseenter="enter('-8072667877135648786');" onmouseout="out('-8072667877135648786');" style=""> 898          } else if (Money.class.isAssignableFrom(targetClass)) {                                                   </span>
<span class="-4982688935414489511" onmouseenter="enter('-4982688935414489511');" onmouseout="out('-4982688935414489511');" style=""> 899              presentationAttribute.setExplicitFieldType(SupportedFieldType.MONEY);                                 </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 900              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-4381175407239312339" onmouseenter="enter('-4381175407239312339');" onmouseout="out('-4381175407239312339');" style=""><abbr title=" 901              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 901              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.MONEY, nðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 902          } else if (                                                                                               </span>
<span class="-7739370519888028954" onmouseenter="enter('-7739370519888028954');" onmouseout="out('-7739370519888028954');" style=""> 903                  Byte.class.isAssignableFrom(targetClass) ||                                                       </span>
<span class="-8990592165862338072" onmouseenter="enter('-8990592165862338072');" onmouseout="out('-8990592165862338072');" style=""> 904                          Integer.class.isAssignableFrom(targetClass) ||                                            </span>
<span class="-5989715937208373139" onmouseenter="enter('-5989715937208373139');" onmouseout="out('-5989715937208373139');" style=""> 905                          Long.class.isAssignableFrom(targetClass) ||                                               </span>
<span class="-6715324150114970554" onmouseenter="enter('-6715324150114970554');" onmouseout="out('-6715324150114970554');" style=""> 906                          Short.class.isAssignableFrom(targetClass)                                                 </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 907                  ) {                                                                                               </span>
<span class="-1759998484348654033" onmouseenter="enter('-1759998484348654033');" onmouseout="out('-1759998484348654033');" style=""> 908              presentationAttribute.setExplicitFieldType(SupportedFieldType.INTEGER);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 909              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="5798108433286098523" onmouseenter="enter('5798108433286098523');" onmouseout="out('5798108433286098523');" style=""><abbr title=" 910              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 910              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.INTEGER,ðŸ”µ</abbr></span>
<span class="7292047081518015782" onmouseenter="enter('7292047081518015782');" onmouseout="out('7292047081518015782');" style=""> 911          } else if (                                                                                               </span>
<span class="-8947489013281589603" onmouseenter="enter('-8947489013281589603');" onmouseout="out('-8947489013281589603');" style=""> 912                  Double.class.isAssignableFrom(targetClass) ||                                                     </span>
<span class="-2191516421573297947" onmouseenter="enter('-2191516421573297947');" onmouseout="out('-2191516421573297947');" style=""> 913                          BigDecimal.class.isAssignableFrom(targetClass)                                            </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style=""> 914                  ) {                                                                                               </span>
<span class="3517715919414147552" onmouseenter="enter('3517715919414147552');" onmouseout="out('3517715919414147552');" style=""> 915              presentationAttribute.setExplicitFieldType(SupportedFieldType.DECIMAL);                               </span>
<span class="-1649798479535841370" onmouseenter="enter('-1649798479535841370');" onmouseout="out('-1649798479535841370');" style=""> 916              presentationAttribute.setVisibility(VisibilityEnum.VISIBLE_ALL);                                      </span>
<span class="-5728727573441372608" onmouseenter="enter('-5728727573441372608');" onmouseout="out('-5728727573441372608');" style=""><abbr title=" 917              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL, null, parentClass, presentationAttribute, mergedPropertyType, this));"> 917              fields.put(propertyName, metadata.getFieldMetadata(&quot;&quot;, propertyName, null, SupportedFieldType.DECIMAL,ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 918          }                                                                                                         </span>
<span class="4893763271741713012" onmouseenter="enter('4893763271741713012');" onmouseout="out('4893763271741713012');" style=""> 919          ((BasicFieldMetadata) fields.get(propertyName)).setLength(255);                                           </span>
<span class="140958002535317122" onmouseenter="enter('140958002535317122');" onmouseout="out('140958002535317122');" style=""> 920          ((BasicFieldMetadata) fields.get(propertyName)).setForeignKeyCollection(false);                           </span>
<span class="7360733129825415879" onmouseenter="enter('7360733129825415879');" onmouseout="out('7360733129825415879');" style=""> 921          ((BasicFieldMetadata) fields.get(propertyName)).setRequired(true);                                        </span>
<span class="8037061161116304407" onmouseenter="enter('8037061161116304407');" onmouseout="out('8037061161116304407');" style=""> 922          ((BasicFieldMetadata) fields.get(propertyName)).setUnique(true);                                          </span>
<span class="-5421928511301346009" onmouseenter="enter('-5421928511301346009');" onmouseout="out('-5421928511301346009');" style=""> 923          ((BasicFieldMetadata) fields.get(propertyName)).setScale(100);                                            </span>
<span class="-7342578355341775179" onmouseenter="enter('-7342578355341775179');" onmouseout="out('-7342578355341775179');" style=""> 924          ((BasicFieldMetadata) fields.get(propertyName)).setPrecision(100);                                        </span>
<span  style=""> 925                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style=""> 926          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 927      }                                                                                                             </span>
<span  style=""> 928                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 929      @Override                                                                                                     </span>
<span class="-9088410405247378839" onmouseenter="enter('-9088410405247378839');" onmouseout="out('-9088410405247378839');" style=""> 930      public Map&lt;String, Object&gt; getIdMetadata(Class&lt;?&gt; entityClass) {                                              </span>
<span class="1148139044537941550" onmouseenter="enter('1148139044537941550');" onmouseout="out('1148139044537941550');" style=""> 931          return dynamicDaoHelper.getIdMetadata(entityClass, standardEntityManager);                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 932      }                                                                                                             </span>
<span  style=""> 933                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 934      @Override                                                                                                     </span>
<span class="-1577937916719588449" onmouseenter="enter('-1577937916719588449');" onmouseout="out('-1577937916719588449');" style=""> 935      public List&lt;String&gt; getPropertyNames(Class&lt;?&gt; entityClass) {                                                  </span>
<span class="-1022266927594690068" onmouseenter="enter('-1022266927594690068');" onmouseout="out('-1022266927594690068');" style=""> 936          return dynamicDaoHelper.getPropertyNames(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 937      }                                                                                                             </span>
<span  style=""> 938                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 939      @Override                                                                                                     </span>
<span class="-5563957744281041759" onmouseenter="enter('-5563957744281041759');" onmouseout="out('-5563957744281041759');" style=""> 940      public List&lt;Type&gt; getPropertyTypes(Class&lt;?&gt; entityClass) {                                                    </span>
<span class="-5913762342663754716" onmouseenter="enter('-5913762342663754716');" onmouseout="out('-5913762342663754716');" style=""> 941          return dynamicDaoHelper.getPropertyTypes(entityClass);                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 942      }                                                                                                             </span>
<span  style=""> 943                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 944      @Override                                                                                                     </span>
<span class="-8688376059616020968" onmouseenter="enter('-8688376059616020968');" onmouseout="out('-8688376059616020968');" style=""> 945      public Map&lt;String, TabMetadata&gt; getTabAndGroupMetadata(Class&lt;?&gt;[] entities, ClassMetadata cmd) {              </span>
<span class="8704790465852273120" onmouseenter="enter('8704790465852273120');" onmouseout="out('8704790465852273120');" style=""> 946          Class&lt;?&gt;[] superClassEntities = getSuperClassHierarchy(entities[entities.length - 1]);                    </span>
<span  style=""> 947                                                                                                                    </span>
<span class="-4760290240851092428" onmouseenter="enter('-4760290240851092428');" onmouseout="out('-4760290240851092428');" style=""> 948          Map&lt;String, TabMetadata&gt; mergedTabAndGroupMetadata = metadata.getBaseTabAndGroupMetadata(entities);       </span>
<span class="-6750038492507651670" onmouseenter="enter('-6750038492507651670');" onmouseout="out('-6750038492507651670');" style=""> 949          metadata.applyTabAndGroupMetadataOverrides(superClassEntities, mergedTabAndGroupMetadata);                </span>
<span class="-3313352845140832776" onmouseenter="enter('-3313352845140832776');" onmouseout="out('-3313352845140832776');" style=""> 950          metadata.buildAdditionalTabAndGroupMetadataFromCmdProperties(cmd, mergedTabAndGroupMetadata);             </span>
<span  style=""> 951                                                                                                                    </span>
<span class="-1972443390304285695" onmouseenter="enter('-1972443390304285695');" onmouseout="out('-1972443390304285695');" style=""> 952          return mergedTabAndGroupMetadata;                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 953      }                                                                                                             </span>
<span  style=""> 954                                                                                                                    </span>
<span class="4461712818592534415" onmouseenter="enter('4461712818592534415');" onmouseout="out('4461712818592534415');" style=""> 955      public Class&lt;?&gt;[] getSuperClassHierarchy(Class&lt;?&gt; ceilingEntity) {                                            </span>
<span class="-7886273841811291449" onmouseenter="enter('-7886273841811291449');" onmouseout="out('-7886273841811291449');" style=""> 956          Class&lt;?&gt;[] entities = new Class&lt;?&gt;[]{};                                                                   </span>
<span  style=""> 957                                                                                                                    </span>
<span class="-6351532212981318146" onmouseenter="enter('-6351532212981318146');" onmouseout="out('-6351532212981318146');" style=""> 958          if (ceilingEntity != null) {                                                                              </span>
<span class="-7005465167076982323" onmouseenter="enter('-7005465167076982323');" onmouseout="out('-7005465167076982323');" style=""> 959              entities = ArrayUtils.add(entities, ceilingEntity);                                                   </span>
<span class="-70022857106421769" onmouseenter="enter('-70022857106421769');" onmouseout="out('-70022857106421769');" style=""> 960              while (!ceilingEntity.getSuperclass().equals(Object.class)) {                                         </span>
<span class="-3813106682267316212" onmouseenter="enter('-3813106682267316212');" onmouseout="out('-3813106682267316212');" style=""> 961                  entities = ArrayUtils.add(entities, ceilingEntity.getSuperclass());                               </span>
<span class="-699567364114795650" onmouseenter="enter('-699567364114795650');" onmouseout="out('-699567364114795650');" style=""> 962                  ceilingEntity = ceilingEntity.getSuperclass();                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 963              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 964          }                                                                                                         </span>
<span class="-7616126935915446236" onmouseenter="enter('-7616126935915446236');" onmouseout="out('-7616126935915446236');" style=""> 965          return entities;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 966      }                                                                                                             </span>
<span  style=""> 967                                                                                                                    </span>
<span class="5668536943967484644" onmouseenter="enter('5668536943967484644');" onmouseout="out('5668536943967484644');" style=""> 968      protected Map&lt;String, FieldMetadata&gt; getPropertiesForEntityClass(                                             </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style=""> 969              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style=""> 970              ForeignKey foreignField,                                                                              </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style=""> 971              String[] additionalNonPersistentProperties,                                                           </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style=""> 972              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style=""> 973              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style=""> 974              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style=""> 975              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style=""> 976              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style=""> 977              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style=""> 978              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style=""> 979              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style=""> 980              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style=""> 981              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style=""> 982              String parentPrefix) {                                                                                </span>
<span class="2318901373660374696" onmouseenter="enter('2318901373660374696');" onmouseout="out('2318901373660374696');" style=""><abbr title=" 983          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClass, this, &quot;&quot;);"> 983          Map&lt;String, FieldMetadata&gt; presentationAttributes = metadata.getFieldMetadataForTargetClass(null, targetClðŸ”µ</abbr></span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style=""> 984          if (isParentExcluded) {                                                                                   </span>
<span class="-3755417642025189870" onmouseenter="enter('-3755417642025189870');" onmouseout="out('-3755417642025189870');" style=""> 985              for (String key : presentationAttributes.keySet()) {                                                  </span>
<span class="6854620150924154659" onmouseenter="enter('6854620150924154659');" onmouseout="out('6854620150924154659');" style=""> 986                  LOG.debug(&quot;getPropertiesForEntityClass:Excluding &quot; + key + &quot; because parent is excluded.&quot;);       </span>
<span class="3152126370607516684" onmouseenter="enter('3152126370607516684');" onmouseout="out('3152126370607516684');" style=""> 987                  presentationAttributes.get(key).setExcluded(true);                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 988              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 989          }                                                                                                         </span>
<span  style=""> 990                                                                                                                    </span>
<span class="1658074508865470032" onmouseenter="enter('1658074508865470032');" onmouseout="out('1658074508865470032');" style=""> 991          Map idMetadata = getIdMetadata(targetClass);                                                              </span>
<span class="-3971199638655440030" onmouseenter="enter('-3971199638655440030');" onmouseout="out('-3971199638655440030');" style=""> 992          Map&lt;String, FieldMetadata&gt; fields = new HashMap&lt;&gt;();                                                      </span>
<span class="4304840081799399914" onmouseenter="enter('4304840081799399914');" onmouseout="out('4304840081799399914');" style=""> 993          String idProperty = (String) idMetadata.get(&quot;name&quot;);                                                      </span>
<span class="-6168085401949936703" onmouseenter="enter('-6168085401949936703');" onmouseout="out('-6168085401949936703');" style=""> 994          List&lt;String&gt; propertyNames = getPropertyNames(targetClass);                                               </span>
<span class="-2922933913265122433" onmouseenter="enter('-2922933913265122433');" onmouseout="out('-2922933913265122433');" style=""> 995          propertyNames.add(idProperty);                                                                            </span>
<span class="684918217376822205" onmouseenter="enter('684918217376822205');" onmouseout="out('684918217376822205');" style=""> 996          Type idType = (Type) idMetadata.get(&quot;type&quot;);                                                              </span>
<span class="6310950967388856708" onmouseenter="enter('6310950967388856708');" onmouseout="out('6310950967388856708');" style=""> 997          List&lt;Type&gt; propertyTypes = getPropertyTypes(targetClass);                                                 </span>
<span class="8890819553236960157" onmouseenter="enter('8890819553236960157');" onmouseout="out('8890819553236960157');" style=""> 998          propertyTypes.add(idType);                                                                                </span>
<span  style=""> 999                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1000          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="6909555873768717709" onmouseenter="enter('6909555873768717709');" onmouseout="out('6909555873768717709');" style="">1001          Iterator testIter = persistentClass.getPropertyIterator();                                                </span>
<span class="5587908377971682788" onmouseenter="enter('5587908377971682788');" onmouseout="out('5587908377971682788');" style="">1002          List&lt;Property&gt; propertyList = new ArrayList&lt;&gt;();                                                          </span>
<span  style="">1003                                                                                                                    </span>
<span class="-2845207099503701507" onmouseenter="enter('-2845207099503701507');" onmouseout="out('-2845207099503701507');" style="">1004          //check the properties for problems                                                                       </span>
<span class="7653822827986770755" onmouseenter="enter('7653822827986770755');" onmouseout="out('7653822827986770755');" style="">1005          while (testIter.hasNext()) {                                                                              </span>
<span class="-752109822166884209" onmouseenter="enter('-752109822166884209');" onmouseout="out('-752109822166884209');" style="">1006              Property property = (Property) testIter.next();                                                       </span>
<span class="1630474738562482683" onmouseenter="enter('1630474738562482683');" onmouseout="out('1630474738562482683');" style="">1007              if (property.getName().contains(&quot;.&quot;)) {                                                               </span>
<span class="6795957360917827176" onmouseenter="enter('6795957360917827176');" onmouseout="out('6795957360917827176');" style=""><abbr title="1008                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;) in their name are incompatible with this system. The property name in question is: (&quot; + property.getName() + &quot;) from the class: (&quot; + targetClass.getName() + &quot;)&quot;);">1008                  throw new IllegalArgumentException(&quot;Properties from entities that utilize a period character (&#x27;.&#x27;)ðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1009              }                                                                                                     </span>
<span class="-2069584506932667276" onmouseenter="enter('-2069584506932667276');" onmouseout="out('-2069584506932667276');" style="">1010              propertyList.add(property);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1011          }                                                                                                         </span>
<span  style="">1012                                                                                                                    </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1013          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1014                  targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1015                  foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1016                  additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1017                  additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1018                  mergedPropertyType,                                                                               </span>
<span class="-2274992128727830564" onmouseenter="enter('-2274992128727830564');" onmouseout="out('-2274992128727830564');" style="">1019                  presentationAttributes,                                                                           </span>
<span class="-1890089055913682397" onmouseenter="enter('-1890089055913682397');" onmouseout="out('-1890089055913682397');" style="">1020                  propertyList,                                                                                     </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1021                  fields,                                                                                           </span>
<span class="3554360647437070185" onmouseenter="enter('3554360647437070185');" onmouseout="out('3554360647437070185');" style="">1022                  propertyNames,                                                                                    </span>
<span class="4364293802930450171" onmouseenter="enter('4364293802930450171');" onmouseout="out('4364293802930450171');" style="">1023                  propertyTypes,                                                                                    </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1024                  idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1025                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1026                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1027                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1028                  configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1029                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1030                  parentClasses,                                                                                    </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1031                  prefix,                                                                                           </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1032                  isParentExcluded,                                                                                 </span>
<span class="-4700024638272652244" onmouseenter="enter('-4700024638272652244');" onmouseout="out('-4700024638272652244');" style="">1033                  false,                                                                                            </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1034                  parentPrefix                                                                                      </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1035          );                                                                                                        </span>
<span class="8338445312938335589" onmouseenter="enter('8338445312938335589');" onmouseout="out('8338445312938335589');" style="">1036          BasicFieldMetadata presentationAttribute = new BasicFieldMetadata();                                      </span>
<span class="-3628335718148348903" onmouseenter="enter('-3628335718148348903');" onmouseout="out('-3628335718148348903');" style="">1037          presentationAttribute.setExplicitFieldType(SupportedFieldType.STRING);                                    </span>
<span class="2041023113001259141" onmouseenter="enter('2041023113001259141');" onmouseout="out('2041023113001259141');" style="">1038          presentationAttribute.setVisibility(VisibilityEnum.HIDDEN_ALL);                                           </span>
<span class="-5541238798934922370" onmouseenter="enter('-5541238798934922370');" onmouseout="out('-5541238798934922370');" style="">1039          if (!ArrayUtils.isEmpty(additionalNonPersistentProperties)) {                                             </span>
<span class="5403648950284712585" onmouseenter="enter('5403648950284712585');" onmouseout="out('5403648950284712585');" style="">1040              Class&lt;?&gt;[] entities = getAllPolymorphicEntitiesFromCeiling(targetClass);                              </span>
<span class="4326319125186525849" onmouseenter="enter('4326319125186525849');" onmouseout="out('4326319125186525849');" style="">1041              for (String additionalNonPersistentProperty : additionalNonPersistentProperties) {                    </span>
<span class="-6550031843774038604" onmouseenter="enter('-6550031843774038604');" onmouseout="out('-6550031843774038604');" style=""><abbr title="1042                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentProperty.startsWith(prefix))) {">1042                  if (StringUtils.isEmpty(prefix) || (!StringUtils.isEmpty(prefix) &amp;&amp; additionalNonPersistentPropertðŸ”µ</abbr></span>
<span class="3710294681560993109" onmouseenter="enter('3710294681560993109');" onmouseout="out('3710294681560993109');" style="">1043                      String myAdditionalNonPersistentProperty = additionalNonPersistentProperty;                   </span>
<span class="3373058579984016457" onmouseenter="enter('3373058579984016457');" onmouseout="out('3373058579984016457');" style="">1044                      //get final property if this is a dot delimited property                                      </span>
<span class="1847561099391108714" onmouseenter="enter('1847561099391108714');" onmouseout="out('1847561099391108714');" style="">1045                      int finalDotPos = additionalNonPersistentProperty.lastIndexOf(&#x27;.&#x27;);                           </span>
<span class="6864731239984745007" onmouseenter="enter('6864731239984745007');" onmouseout="out('6864731239984745007');" style="">1046                      if (finalDotPos &gt;= 0) {                                                                       </span>
<span class="7094725899953824176" onmouseenter="enter('7094725899953824176');" onmouseout="out('7094725899953824176');" style=""><abbr title="1047                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPos + 1, myAdditionalNonPersistentProperty.length());">1047                          myAdditionalNonPersistentProperty = myAdditionalNonPersistentProperty.substring(finalDotPoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1048                      }                                                                                             </span>
<span class="5106406984196961535" onmouseenter="enter('5106406984196961535');" onmouseout="out('5106406984196961535');" style="">1049                      //check all the polymorphic types on this target class to see if the end property exists      </span>
<span class="-4299902544014309017" onmouseenter="enter('-4299902544014309017');" onmouseout="out('-4299902544014309017');" style="">1050                      Field testField = null;                                                                       </span>
<span class="-5449408933038381540" onmouseenter="enter('-5449408933038381540');" onmouseout="out('-5449408933038381540');" style="">1051                      Method testMethod = null;                                                                     </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1052                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1053                          try {                                                                                     </span>
<span class="-3022505319037047734" onmouseenter="enter('-3022505319037047734');" onmouseout="out('-3022505319037047734');" style="">1054                              testMethod = clazz.getMethod(myAdditionalNonPersistentProperty);                      </span>
<span class="-7105273272781599062" onmouseenter="enter('-7105273272781599062');" onmouseout="out('-7105273272781599062');" style="">1055                              if (testMethod != null) {                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1056                                  break;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1057                              }                                                                                     </span>
<span class="-4617077893838138158" onmouseenter="enter('-4617077893838138158');" onmouseout="out('-4617077893838138158');" style="">1058                          } catch (NoSuchMethodException e) {                                                       </span>
<span class="-6757896410707883651" onmouseenter="enter('-6757896410707883651');" onmouseout="out('-6757896410707883651');" style="">1059                              //do nothing - method does not exist                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1060                          }                                                                                         </span>
<span class="9064987117529741948" onmouseenter="enter('9064987117529741948');" onmouseout="out('9064987117529741948');" style="">1061                          testField = getFieldManager().getField(clazz, myAdditionalNonPersistentProperty);         </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1062                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1063                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1064                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1065                      }                                                                                             </span>
<span class="5400042078379611613" onmouseenter="enter('5400042078379611613');" onmouseout="out('5400042078379611613');" style="">1066                      //if the property exists, add it to the metadata for this class                               </span>
<span class="6508195562280822445" onmouseenter="enter('6508195562280822445');" onmouseout="out('6508195562280822445');" style="">1067                      if (testField != null || testMethod != null) {                                                </span>
<span class="1056933284582785594" onmouseenter="enter('1056933284582785594');" onmouseout="out('1056933284582785594');" style=""><abbr title="1068                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNonPersistentProperty, propertyList, SupportedFieldType.STRING, null, targetClass, presentationAttribute, mergedPropertyType, this));">1068                          fields.put(additionalNonPersistentProperty, metadata.getFieldMetadata(prefix, additionalNoðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1069                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1070                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1071              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1072          }                                                                                                         </span>
<span  style="">1073                                                                                                                    </span>
<span class="6411008885041196710" onmouseenter="enter('6411008885041196710');" onmouseout="out('6411008885041196710');" style="">1074          return fields;                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1075      }                                                                                                             </span>
<span  style="">1076                                                                                                                    </span>
<span class="-8053940189674935837" onmouseenter="enter('-8053940189674935837');" onmouseout="out('-8053940189674935837');" style="">1077      protected void buildProperties(                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1078              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1079              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1080              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1081              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1082              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1083              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1084              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1085              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="6368876816510362587" onmouseenter="enter('6368876816510362587');" onmouseout="out('6368876816510362587');" style="">1086              List&lt;String&gt; propertyNames,                                                                           </span>
<span class="-2798401889065139234" onmouseenter="enter('-2798401889065139234');" onmouseout="out('-2798401889065139234');" style="">1087              List&lt;Type&gt; propertyTypes,                                                                             </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1088              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1089              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1090              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1091              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1092              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1093              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1094              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1095              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1096              Boolean isParentExcluded,                                                                             </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1097              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1098              String parentPrefix) {                                                                                </span>
<span class="-3238093963120777374" onmouseenter="enter('-3238093963120777374');" onmouseout="out('-3238093963120777374');" style="">1099          int j = 0;                                                                                                </span>
<span class="-3717668654224670664" onmouseenter="enter('-3717668654224670664');" onmouseout="out('-3717668654224670664');" style="">1100          Comparator&lt;String&gt; propertyComparator = new Comparator&lt;String&gt;() {                                        </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1101              @Override                                                                                             </span>
<span class="5768428341033121493" onmouseenter="enter('5768428341033121493');" onmouseout="out('5768428341033121493');" style="">1102              public int compare(String o1, String o2) {                                                            </span>
<span class="5299523614290548251" onmouseenter="enter('5299523614290548251');" onmouseout="out('5299523614290548251');" style="">1103                  //check for property name equality and for map field properties                                   </span>
<span class="5242149499884717193" onmouseenter="enter('5242149499884717193');" onmouseout="out('5242149499884717193');" style=""><abbr title="1104                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FieldManager.MAPFIELDSEPARATOR)) {">1104                  if (o1.equals(o2) || o1.startsWith(o2 + FieldManager.MAPFIELDSEPARATOR) || o2.startsWith(o1 + FielðŸ”µ</abbr></span>
<span class="-8269198090232257590" onmouseenter="enter('-8269198090232257590');" onmouseout="out('-8269198090232257590');" style="">1105                      return 0;                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1106                  }                                                                                                 </span>
<span class="2724953365966983375" onmouseenter="enter('2724953365966983375');" onmouseout="out('2724953365966983375');" style="">1107                  return o1.compareTo(o2);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1108              }                                                                                                     </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">1109          };                                                                                                        </span>
<span class="-3343668933075067060" onmouseenter="enter('-3343668933075067060');" onmouseout="out('-3343668933075067060');" style="">1110          List&lt;String&gt; presentationKeyList = new ArrayList&lt;&gt;(presentationAttributes.keySet());                      </span>
<span class="1889949578636952191" onmouseenter="enter('1889949578636952191');" onmouseout="out('1889949578636952191');" style="">1111          Collections.sort(presentationKeyList);                                                                    </span>
<span  style="">1112                                                                                                                    </span>
<span class="-7323286769467281074" onmouseenter="enter('-7323286769467281074');" onmouseout="out('-7323286769467281074');" style="">1113          for (String propertyName : propertyNames) {                                                               </span>
<span class="4728929332895262501" onmouseenter="enter('4728929332895262501');" onmouseout="out('4728929332895262501');" style="">1114              final Type type = propertyTypes.get(j);                                                               </span>
<span class="-8639770774803423915" onmouseenter="enter('-8639770774803423915');" onmouseout="out('-8639770774803423915');" style="">1115              boolean isPropertyForeignKey = testForeignProperty(foreignField, prefix, propertyName);               </span>
<span class="-1405196871210174600" onmouseenter="enter('-1405196871210174600');" onmouseout="out('-1405196871210174600');" style=""><abbr title="1116              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix, propertyName);">1116              int additionalForeignKeyIndexPosition = findAdditionalForeignKeyIndex(additionalForeignFields, prefix,ðŸ”µ</abbr></span>
<span class="-5688619574901767370" onmouseenter="enter('-5688619574901767370');" onmouseout="out('-5688619574901767370');" style="">1117              j++;                                                                                                  </span>
<span class="-5683836408743484633" onmouseenter="enter('-5683836408743484633');" onmouseout="out('-5683836408743484633');" style="">1118              Field myField = getFieldManager().getField(targetClass, propertyName);                                </span>
<span class="-5999408896856987935" onmouseenter="enter('-5999408896856987935');" onmouseout="out('-5999408896856987935');" style="">1119              if (myField == null) {                                                                                </span>
<span class="1943956419820058263" onmouseenter="enter('1943956419820058263');" onmouseout="out('1943956419820058263');" style=""><abbr title="1120                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded classes">1120                  //try to get the field with the prefix - needed for advanced collections that appear in @Embedded ðŸ”µ</abbr></span>
<span class="6157028223345528611" onmouseenter="enter('6157028223345528611');" onmouseout="out('6157028223345528611');" style="">1121                  myField = getFieldManager().getField(targetClass, prefix + propertyName);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1122              }                                                                                                     </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1123              if (                                                                                                  </span>
<span class="-2312280397094329227" onmouseenter="enter('-2312280397094329227');" onmouseout="out('-2312280397094329227');" style="">1124                      !type.isAnyType() &amp;&amp; !type.isCollectionType() ||                                              </span>
<span class="-5673475595235252119" onmouseenter="enter('-5673475595235252119');" onmouseout="out('-5673475595235252119');" style="">1125                              isPropertyForeignKey ||                                                               </span>
<span class="2440789965607212603" onmouseenter="enter('2440789965607212603');" onmouseout="out('2440789965607212603');" style="">1126                              additionalForeignKeyIndexPosition &gt;= 0 ||                                             </span>
<span class="-6878245748696149824" onmouseenter="enter('-6878245748696149824');" onmouseout="out('-6878245748696149824');" style="">1127                              Collections.binarySearch(presentationKeyList, propertyName, propertyComparator) &gt;= 0  </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1128                      ) {                                                                                           </span>
<span class="-954343166993381791" onmouseenter="enter('-954343166993381791');" onmouseout="out('-954343166993381791');" style="">1129                  if (myField != null) {                                                                            </span>
<span class="-2571070256044572115" onmouseenter="enter('-2571070256044572115');" onmouseout="out('-2571070256044572115');" style="">1130                      boolean handled = false;                                                                      </span>
<span class="7425802895726518310" onmouseenter="enter('7425802895726518310');" onmouseout="out('7425802895726518310');" style="">1131                      for (FieldMetadataProvider provider : fieldMetadataProviders) {                               </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1132                          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);           </span>
<span class="7315322076735717203" onmouseenter="enter('7315322076735717203');" onmouseout="out('7315322076735717203');" style="">1133                          if (presentationAttribute != null) {                                                      </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1134                              setExcludedBasedOnShowIfProperty(presentationAttribute);                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1135                          }                                                                                         </span>
<span class="-6390012033282152431" onmouseenter="enter('-6390012033282152431');" onmouseout="out('-6390012033282152431');" style="">1136                          MetadataProviderResponse response = provider.addMetadataFromFieldType(                    </span>
<span class="249328415590631776" onmouseenter="enter('249328415590631776');" onmouseout="out('249328415590631776');" style=""><abbr title="1137                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalForeignFields,">1137                                  new AddMetadataFromFieldTypeRequest(myField, targetClass, foreignField, additionalðŸ”µ</abbr></span>
<span class="-7776816895373421034" onmouseenter="enter('-7776816895373421034');" onmouseout="out('-7776816895373421034');" style="">1138                                          mergedPropertyType, componentProperties, idProperty, prefix,              </span>
<span class="7841818115430490823" onmouseenter="enter('7841818115430490823');" onmouseout="out('7841818115430490823');" style=""><abbr title="1139                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition,">1139                                          propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPositioðŸ”µ</abbr></span>
<span class="6061175025681856368" onmouseenter="enter('6061175025681856368');" onmouseout="out('6061175025681856368');" style=""><abbr title="1140                                          presentationAttributes, presentationAttribute, null, type.getReturnedClass(), this), fields);">1140                                          presentationAttributes, presentationAttribute, null, type.getReturnedClassðŸ”µ</abbr></span>
<span class="8559454943472111437" onmouseenter="enter('8559454943472111437');" onmouseout="out('8559454943472111437');" style="">1141                          if (MetadataProviderResponse.NOT_HANDLED != response) {                                   </span>
<span class="1499405865428993019" onmouseenter="enter('1499405865428993019');" onmouseout="out('1499405865428993019');" style="">1142                              handled = true;                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1143                          }                                                                                         </span>
<span class="1946339943699358363" onmouseenter="enter('1946339943699358363');" onmouseout="out('1946339943699358363');" style="">1144                          if (MetadataProviderResponse.HANDLED_BREAK == response) {                                 </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1145                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1146                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1147                      }                                                                                             </span>
<span class="6122548445509025326" onmouseenter="enter('6122548445509025326');" onmouseout="out('6122548445509025326');" style="">1148                      if (!handled) {                                                                               </span>
<span class="-7286637430157813759" onmouseenter="enter('-7286637430157813759');" onmouseout="out('-7286637430157813759');" style="">1149                          buildBasicProperty(myField, targetClass, foreignField, additionalForeignFields,           </span>
<span class="6642269829819494348" onmouseenter="enter('6642269829819494348');" onmouseout="out('6642269829819494348');" style="">1150                                  additionalNonPersistentProperties, mergedPropertyType, presentationAttributes,    </span>
<span class="-7276142050353691955" onmouseenter="enter('-7276142050353691955');" onmouseout="out('-7276142050353691955');" style="">1151                                  componentProperties, fields, idProperty, populateManyToOneFields, includeFields,  </span>
<span class="3646040456919395051" onmouseenter="enter('3646040456919395051');" onmouseout="out('3646040456919395051');" style=""><abbr title="1152                                  excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClasses,">1152                                  excludeFields, configurationKey, ceilingEntityFullyQualifiedClassname, parentClassðŸ”µ</abbr></span>
<span class="2796712333508298536" onmouseenter="enter('2796712333508298536');" onmouseout="out('2796712333508298536');" style=""><abbr title="1153                                  prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeignKeyIndexPosition, isComponentPrefix, parentPrefix);">1153                                  prefix, isParentExcluded, propertyName, type, isPropertyForeignKey, additionalForeðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1154                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1155                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1156              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1157          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1158      }                                                                                                             </span>
<span  style="">1159                                                                                                                    </span>
<span class="87352619102396694" onmouseenter="enter('87352619102396694');" onmouseout="out('87352619102396694');" style="">1160      public Boolean testPropertyInclusion(FieldMetadata presentationAttribute) {                                   </span>
<span class="2128093752345676052" onmouseenter="enter('2128093752345676052');" onmouseout="out('2128093752345676052');" style="">1161          setExcludedBasedOnShowIfProperty(presentationAttribute);                                                  </span>
<span  style="">1162                                                                                                                    </span>
<span class="793298144506161268" onmouseenter="enter('793298144506161268');" onmouseout="out('793298144506161268');" style=""><abbr title="1163          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttribute.getExcluded()) || (presentationAttribute.getChildrenExcluded() != null &amp;&amp; presentationAttribute.getChildrenExcluded())));">1163          return !(presentationAttribute != null &amp;&amp; ((presentationAttribute.getExcluded() != null &amp;&amp; presentationAttðŸ”µ</abbr></span>
<span  style="">1164                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1165      }                                                                                                             </span>
<span  style="">1166                                                                                                                    </span>
<span class="-3032148422031168441" onmouseenter="enter('-3032148422031168441');" onmouseout="out('-3032148422031168441');" style="">1167      protected void setExcludedBasedOnShowIfProperty(FieldMetadata fieldMetadata) {                                </span>
<span class="-5073418798336671101" onmouseenter="enter('-5073418798336671101');" onmouseout="out('-5073418798336671101');" style="">1168          if (fieldMetadata != null                                                                                 </span>
<span class="4640895930676462020" onmouseenter="enter('4640895930676462020');" onmouseout="out('4640895930676462020');" style="">1169                  &amp;&amp; StringUtils.isNotEmpty(fieldMetadata.getShowIfProperty())                                      </span>
<span class="8326014921688492499" onmouseenter="enter('8326014921688492499');" onmouseout="out('8326014921688492499');" style="">1170                  &amp;&amp; propertyConfigurations.get(fieldMetadata.getShowIfProperty()) != null                          </span>
<span class="2725263754263363441" onmouseenter="enter('2725263754263363441');" onmouseout="out('2725263754263363441');" style="">1171                  &amp;&amp; !Boolean.valueOf(propertyConfigurations.get(fieldMetadata.getShowIfProperty()))) {             </span>
<span  style="">1172                                                                                                                    </span>
<span class="8817470317510362982" onmouseenter="enter('8817470317510362982');" onmouseout="out('8817470317510362982');" style="">1173              //do not include this in the display if it returns false.                                             </span>
<span class="8981691973994339378" onmouseenter="enter('8981691973994339378');" onmouseout="out('8981691973994339378');" style="">1174              fieldMetadata.setExcluded(true);                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1175          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1176      }                                                                                                             </span>
<span  style="">1177                                                                                                                    </span>
<span class="-9139518915207386501" onmouseenter="enter('-9139518915207386501');" onmouseout="out('-9139518915207386501');" style=""><abbr title="1178      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, Class&lt;?&gt; targetClass,">1178      protected Boolean testPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String propertyName, ClasðŸ”µ</abbr></span>
<span class="-4014254124607268714" onmouseenter="enter('-4014254124607268714');" onmouseout="out('-4014254124607268714');" style=""><abbr title="1179                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefix, String parentPrefix) {">1179                                              String ceilingEntityFullyQualifiedClassname, Boolean isComponentPrefixðŸ”µ</abbr></span>
<span  style="">1180                                                                                                                    </span>
<span class="-3391378144198420794" onmouseenter="enter('-3391378144198420794');" onmouseout="out('-3391378144198420794');" style=""><abbr title="1181          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, targetClass,">1181          Boolean standardRecursionDetected = testStandardPropertyRecursion(prefix, parentClasses, propertyName, tarðŸ”µ</abbr></span>
<span class="2714526847303942895" onmouseenter="enter('2714526847303942895');" onmouseout="out('2714526847303942895');" style="">1182                  ceilingEntityFullyQualifiedClassname, isComponentPrefix);                                         </span>
<span  style="">1183                                                                                                                    </span>
<span class="-5897128628530721255" onmouseenter="enter('-5897128628530721255');" onmouseout="out('-5897128628530721255');" style=""><abbr title="1184          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefix,">1184          Boolean multiLevelEmbeddableRecursionDetected = testMultiLevelEmbeddableRecursion(prefix, isComponentPrefiðŸ”µ</abbr></span>
<span class="7486810078506735647" onmouseenter="enter('7486810078506735647');" onmouseout="out('7486810078506735647');" style="">1185                  parentPrefix, propertyName);                                                                      </span>
<span  style="">1186                                                                                                                    </span>
<span class="223711397897581655" onmouseenter="enter('223711397897581655');" onmouseout="out('223711397897581655');" style="">1187          return standardRecursionDetected || multiLevelEmbeddableRecursionDetected;                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1188      }                                                                                                             </span>
<span  style="">1189                                                                                                                    </span>
<span class="6775750364614336985" onmouseenter="enter('6775750364614336985');" onmouseout="out('6775750364614336985');" style=""><abbr title="1190      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPrefix, String propertyName) {">1190      protected Boolean testMultiLevelEmbeddableRecursion(String prefix, Boolean isComponentPrefix, String parentPreðŸ”µ</abbr></span>
<span class="-3517902177779247784" onmouseenter="enter('-3517902177779247784');" onmouseout="out('-3517902177779247784');" style="">1191          return isComponentPrefix &amp;&amp; parentPrefix.contains(&quot;.&quot; + prefix + propertyName);                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1192      }                                                                                                             </span>
<span  style="">1193                                                                                                                    </span>
<span class="7061071742287964129" onmouseenter="enter('7061071742287964129');" onmouseout="out('7061071742287964129');" style="">1194      protected Boolean testStandardPropertyRecursion(String prefix, List&lt;Class&lt;?&gt;&gt; parentClasses, String           </span>
<span class="-1252590606080228106" onmouseenter="enter('-1252590606080228106');" onmouseout="out('-1252590606080228106');" style="">1195              propertyName, Class&lt;?&gt; targetClass, String ceilingEntityFullyQualifiedClassname, Boolean              </span>
<span class="8932010890459043583" onmouseenter="enter('8932010890459043583');" onmouseout="out('8932010890459043583');" style="">1196                                                              isComponentPrefix) {                                  </span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1197          Boolean response = false;                                                                                 </span>
<span class="-5027488868516397855" onmouseenter="enter('-5027488868516397855');" onmouseout="out('-5027488868516397855');" style="">1198          //don&#x27;t want to shun a self-referencing property in an @Embeddable                                        </span>
<span class="-9056900287261546941" onmouseenter="enter('-9056900287261546941');" onmouseout="out('-9056900287261546941');" style=""><abbr title="1199          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1);">1199          boolean shouldTest = !StringUtils.isEmpty(prefix) &amp;&amp; (!isComponentPrefix || prefix.split(&quot;\\.&quot;).length &gt; 1ðŸ”µ</abbr></span>
<span class="-6841291152261777832" onmouseenter="enter('-6841291152261777832');" onmouseout="out('-6841291152261777832');" style="">1200          if (shouldTest) {                                                                                         </span>
<span class="3876876518876243377" onmouseenter="enter('3876876518876243377');" onmouseout="out('3876876518876243377');" style="">1201              Field testField = getFieldManager().getField(targetClass, propertyName);                              </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1202              if (testField == null) {                                                                              </span>
<span class="-4953100857991498369" onmouseenter="enter('-4953100857991498369');" onmouseout="out('-4953100857991498369');" style="">1203                  Class&lt;?&gt;[] entities;                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1204                  try {                                                                                             </span>
<span class="3996265005940488533" onmouseenter="enter('3996265005940488533');" onmouseout="out('3996265005940488533');" style=""><abbr title="1205                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassname));">1205                      entities = getAllPolymorphicEntitiesFromCeiling(Class.forName(ceilingEntityFullyQualifiedClassðŸ”µ</abbr></span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1206                  } catch (ClassNotFoundException e) {                                                              </span>
<span class="5897285764286536997" onmouseenter="enter('5897285764286536997');" onmouseout="out('5897285764286536997');" style="">1207                      throw new RuntimeException(e);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1208                  }                                                                                                 </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1209                  for (Class&lt;?&gt; clazz : entities) {                                                                 </span>
<span class="8767245063374506867" onmouseenter="enter('8767245063374506867');" onmouseout="out('8767245063374506867');" style="">1210                      testField = getFieldManager().getField(clazz, propertyName);                                  </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1211                      if (testField != null) {                                                                      </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1212                          break;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1213                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1214                  }                                                                                                 </span>
<span class="301127607651828855" onmouseenter="enter('301127607651828855');" onmouseout="out('301127607651828855');" style="">1215                  String testProperty = prefix + propertyName;                                                      </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1216                  if (testField == null) {                                                                          </span>
<span class="2329140212321442683" onmouseenter="enter('2329140212321442683');" onmouseout="out('2329140212321442683');" style="">1217                      testField = getFieldManager().getField(targetClass, testProperty);                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1218                  }                                                                                                 </span>
<span class="-4360624846056259845" onmouseenter="enter('-4360624846056259845');" onmouseout="out('-4360624846056259845');" style="">1219                  if (testField == null) {                                                                          </span>
<span class="7480800064014281422" onmouseenter="enter('7480800064014281422');" onmouseout="out('7480800064014281422');" style="">1220                      for (Class&lt;?&gt; clazz : entities) {                                                             </span>
<span class="-3109167710110983295" onmouseenter="enter('-3109167710110983295');" onmouseout="out('-3109167710110983295');" style="">1221                          testField = getFieldManager().getField(clazz, testProperty);                              </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1222                          if (testField != null) {                                                                  </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1223                              break;                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1224                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1225                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1226                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1227              }                                                                                                     </span>
<span class="6972915012227096389" onmouseenter="enter('6972915012227096389');" onmouseout="out('6972915012227096389');" style="">1228              response = determineExclusionForField(parentClasses, targetClass, testField);                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1229          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1230          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1231      }                                                                                                             </span>
<span  style="">1232                                                                                                                    </span>
<span class="1068492567195659052" onmouseenter="enter('1068492567195659052');" onmouseout="out('1068492567195659052');" style=""><abbr title="1233      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testField) {">1233      protected Boolean determineExclusionForField(List&lt;Class&lt;?&gt;&gt; parentClasses, Class&lt;?&gt; targetClass, Field testFieðŸ”µ</abbr></span>
<span class="4249263195977497100" onmouseenter="enter('4249263195977497100');" onmouseout="out('4249263195977497100');" style="">1234          Boolean response = false;                                                                                 </span>
<span class="-8368397628777060901" onmouseenter="enter('-8368397628777060901');" onmouseout="out('-8368397628777060901');" style="">1235          if (testField != null) {                                                                                  </span>
<span class="7694041093857105800" onmouseenter="enter('7694041093857105800');" onmouseout="out('7694041093857105800');" style="">1236              Class&lt;?&gt; testType = testField.getType();                                                              </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1237              for (Class&lt;?&gt; parentClass : parentClasses) {                                                          </span>
<span class="3877679977402930014" onmouseenter="enter('3877679977402930014');" onmouseout="out('3877679977402930014');" style="">1238                  if (parentClass.isAssignableFrom(testType) || testType.isAssignableFrom(parentClass)) {           </span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1239                      response = true;                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style="">1240                      break;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1241                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1242              }                                                                                                     </span>
<span class="336947807848306083" onmouseenter="enter('336947807848306083');" onmouseout="out('336947807848306083');" style="">1243              if (!response &amp;&amp; (targetClass.isAssignableFrom(testType) || testType.isAssignableFrom(targetClass))) {</span>
<span class="-7568734358544125355" onmouseenter="enter('-7568734358544125355');" onmouseout="out('-7568734358544125355');" style="">1244                  response = true;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1245              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1246          }                                                                                                         </span>
<span class="-1838489616061912436" onmouseenter="enter('-1838489616061912436');" onmouseout="out('-1838489616061912436');" style="">1247          return response;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1248      }                                                                                                             </span>
<span  style="">1249                                                                                                                    </span>
<span class="-7084112609207668802" onmouseenter="enter('-7084112609207668802');" onmouseout="out('-7084112609207668802');" style="">1250      protected void buildBasicProperty(                                                                            </span>
<span class="8496160371333773686" onmouseenter="enter('8496160371333773686');" onmouseout="out('8496160371333773686');" style="">1251              Field field,                                                                                          </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1252              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1253              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1254              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1255              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1256              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="3593466157555935983" onmouseenter="enter('3593466157555935983');" onmouseout="out('3593466157555935983');" style="">1257              Map&lt;String, FieldMetadata&gt; presentationAttributes,                                                    </span>
<span class="5992135863657083848" onmouseenter="enter('5992135863657083848');" onmouseout="out('5992135863657083848');" style="">1258              List&lt;Property&gt; componentProperties,                                                                   </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1259              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1260              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1261              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1262              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1263              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1264              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1265              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1266              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1267              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1268              Boolean isParentExcluded,                                                                             </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1269              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1270              Type type,                                                                                            </span>
<span class="739600547438233198" onmouseenter="enter('739600547438233198');" onmouseout="out('739600547438233198');" style="">1271              boolean propertyForeignKey,                                                                           </span>
<span class="3017228384228116030" onmouseenter="enter('3017228384228116030');" onmouseout="out('3017228384228116030');" style="">1272              int additionalForeignKeyIndexPosition,                                                                </span>
<span class="-4840399525694106378" onmouseenter="enter('-4840399525694106378');" onmouseout="out('-4840399525694106378');" style="">1273              Boolean isComponentPrefix,                                                                            </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1274              String parentPrefix) {                                                                                </span>
<span class="-3723738913791859831" onmouseenter="enter('-3723738913791859831');" onmouseout="out('-3723738913791859831');" style="">1275          FieldMetadata presentationAttribute = presentationAttributes.get(propertyName);                           </span>
<span class="4443356472866463080" onmouseenter="enter('4443356472866463080');" onmouseout="out('4443356472866463080');" style="">1276          Boolean amIExcluded = isParentExcluded || !testPropertyInclusion(presentationAttribute);                  </span>
<span class="6661455747655861938" onmouseenter="enter('6661455747655861938');" onmouseout="out('6661455747655861938');" style="">1277          Boolean includeField = !testPropertyRecursion(prefix, parentClasses, propertyName, targetClass,           </span>
<span class="3498292853432823182" onmouseenter="enter('3498292853432823182');" onmouseout="out('3498292853432823182');" style="">1278                  ceilingEntityFullyQualifiedClassname, isComponentPrefix, parentPrefix);                           </span>
<span  style="">1279                                                                                                                    </span>
<span class="-5587590805367427630" onmouseenter="enter('-5587590805367427630');" onmouseout="out('-5587590805367427630');" style="">1280          SupportedFieldType explicitType = null;                                                                   </span>
<span class="-1384172832048040068" onmouseenter="enter('-1384172832048040068');" onmouseout="out('-1384172832048040068');" style="">1281          if (presentationAttribute != null &amp;&amp; presentationAttribute instanceof BasicFieldMetadata) {               </span>
<span class="-6594383051997403210" onmouseenter="enter('-6594383051997403210');" onmouseout="out('-6594383051997403210');" style="">1282              explicitType = ((BasicFieldMetadata) presentationAttribute).getExplicitFieldType();                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1283          }                                                                                                         </span>
<span class="-6821900105135902665" onmouseenter="enter('-6821900105135902665');" onmouseout="out('-6821900105135902665');" style="">1284          Class&lt;?&gt; returnedClass = type.getReturnedClass();                                                         </span>
<span class="2207743325082940799" onmouseenter="enter('2207743325082940799');" onmouseout="out('2207743325082940799');" style="">1285          checkProp:                                                                                                </span>
<span class="5677081435180812955" onmouseenter="enter('5677081435180812955');" onmouseout="out('5677081435180812955');" style="">1286          {                                                                                                         </span>
<span class="1499575756853352740" onmouseenter="enter('1499575756853352740');" onmouseout="out('1499575756853352740');" style="">1287              if (type.isComponentType() &amp;&amp; includeField) {                                                         </span>
<span class="-4634516257133541656" onmouseenter="enter('-4634516257133541656');" onmouseout="out('-4634516257133541656');" style="">1288                  buildComponentProperties(                                                                         </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1289                          targetClass,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1290                          foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1291                          additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1292                          additionalNonPersistentProperties,                                                        </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1293                          mergedPropertyType,                                                                       </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1294                          fields,                                                                                   </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1295                          idProperty,                                                                               </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1296                          populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1297                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1298                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1299                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1300                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1301                          propertyName,                                                                             </span>
<span class="-7299081523153034984" onmouseenter="enter('-7299081523153034984');" onmouseout="out('-7299081523153034984');" style="">1302                          type,                                                                                     </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1303                          returnedClass,                                                                            </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1304                          parentClasses,                                                                            </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1305                          amIExcluded,                                                                              </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1306                          prefix,                                                                                   </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1307                          parentPrefix);                                                                            </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1308                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1309              }                                                                                                     </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1310              /*                                                                                                    </span>
<span class="-7774688841212405441" onmouseenter="enter('-7774688841212405441');" onmouseout="out('-7774688841212405441');" style="">1311               * Currently we do not support ManyToOne fields whose class type is the same                          </span>
<span class="-7015933409860356411" onmouseenter="enter('-7015933409860356411');" onmouseout="out('-7015933409860356411');" style="">1312               * as the target type, since this forms an infinite loop and will cause a stack overflow.             </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1313               */                                                                                                   </span>
<span class="7717622633225589961" onmouseenter="enter('7717622633225589961');" onmouseout="out('7717622633225589961');" style="">1314              if (                                                                                                  </span>
<span class="-3627495422278988723" onmouseenter="enter('-3627495422278988723');" onmouseout="out('-3627495422278988723');" style="">1315                      type.isEntityType() &amp;&amp;                                                                        </span>
<span class="3812141441773925264" onmouseenter="enter('3812141441773925264');" onmouseout="out('3812141441773925264');" style="">1316                              !returnedClass.isAssignableFrom(targetClass) &amp;&amp;                                       </span>
<span class="-19414689995055117" onmouseenter="enter('-19414689995055117');" onmouseout="out('-19414689995055117');" style="">1317                              populateManyToOneFields &amp;&amp;                                                            </span>
<span class="600951885043496170" onmouseenter="enter('600951885043496170');" onmouseout="out('600951885043496170');" style="">1318                              includeField                                                                          </span>
<span class="-1344992967432647558" onmouseenter="enter('-1344992967432647558');" onmouseout="out('-1344992967432647558');" style="">1319                      ) {                                                                                           </span>
<span class="7374390368426310143" onmouseenter="enter('7374390368426310143');" onmouseout="out('7374390368426310143');" style="">1320                  buildEntityProperties(                                                                            </span>
<span class="-619960814135894308" onmouseenter="enter('-619960814135894308');" onmouseout="out('-619960814135894308');" style="">1321                          fields,                                                                                   </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1322                          foreignField,                                                                             </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1323                          additionalForeignFields,                                                                  </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1324                          additionalNonPersistentProperties,                                                        </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1325                          populateManyToOneFields,                                                                  </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1326                          includeFields,                                                                            </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1327                          excludeFields,                                                                            </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1328                          configurationKey,                                                                         </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1329                          ceilingEntityFullyQualifiedClassname,                                                     </span>
<span class="-6616977279164171744" onmouseenter="enter('-6616977279164171744');" onmouseout="out('-6616977279164171744');" style="">1330                          propertyName,                                                                             </span>
<span class="5449643648740963816" onmouseenter="enter('5449643648740963816');" onmouseout="out('5449643648740963816');" style="">1331                          returnedClass,                                                                            </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1332                          targetClass,                                                                              </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1333                          parentClasses,                                                                            </span>
<span class="-1489413832103175289" onmouseenter="enter('-1489413832103175289');" onmouseout="out('-1489413832103175289');" style="">1334                          prefix,                                                                                   </span>
<span class="78369408340381963" onmouseenter="enter('78369408340381963');" onmouseout="out('78369408340381963');" style="">1335                          amIExcluded,                                                                              </span>
<span class="3786696269900699340" onmouseenter="enter('3786696269900699340');" onmouseout="out('3786696269900699340');" style="">1336                          parentPrefix                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1337                  );                                                                                                </span>
<span class="-2889668582549729343" onmouseenter="enter('-2889668582549729343');" onmouseout="out('-2889668582549729343');" style="">1338                  break checkProp;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1339              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1340          }                                                                                                         </span>
<span class="5904543350074819492" onmouseenter="enter('5904543350074819492');" onmouseout="out('5904543350074819492');" style="">1341          //Don&#x27;t include this property if it failed manyToOne inclusion and is not a specified foreign key         </span>
<span class="-4969483882603085080" onmouseenter="enter('-4969483882603085080');" onmouseout="out('-4969483882603085080');" style="">1342          if (includeField || propertyForeignKey || additionalForeignKeyIndexPosition &gt;= 0) {                       </span>
<span class="-3751178206257554507" onmouseenter="enter('-3751178206257554507');" onmouseout="out('-3751178206257554507');" style="">1343              defaultFieldMetadataProvider.addMetadataFromFieldType(                                                </span>
<span class="305949027590492291" onmouseenter="enter('305949027590492291');" onmouseout="out('305949027590492291');" style="">1344                      new AddMetadataFromFieldTypeRequest(field, targetClass, foreignField, additionalForeignFields,</span>
<span class="8802930550791514003" onmouseenter="enter('8802930550791514003');" onmouseout="out('8802930550791514003');" style="">1345                              mergedPropertyType, componentProperties, idProperty, prefix, propertyName, type,      </span>
<span class="1485096215061898623" onmouseenter="enter('1485096215061898623');" onmouseout="out('1485096215061898623');" style="">1346                              propertyForeignKey, additionalForeignKeyIndexPosition, presentationAttributes,        </span>
<span class="6265649189298226870" onmouseenter="enter('6265649189298226870');" onmouseout="out('6265649189298226870');" style="">1347                              presentationAttribute, explicitType, returnedClass, this), fields);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1348          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1349      }                                                                                                             </span>
<span  style="">1350                                                                                                                    </span>
<span class="993319102832979454" onmouseenter="enter('993319102832979454');" onmouseout="out('993319102832979454');" style="">1351      protected boolean testForeignProperty(ForeignKey foreignField, String prefix, String propertyName) {          </span>
<span class="-4492649291845472453" onmouseenter="enter('-4492649291845472453');" onmouseout="out('-4492649291845472453');" style="">1352          boolean isPropertyForeignKey = false;                                                                     </span>
<span class="-3581233965334028643" onmouseenter="enter('-3581233965334028643');" onmouseout="out('-3581233965334028643');" style="">1353          if (foreignField != null) {                                                                               </span>
<span class="853969034527955866" onmouseenter="enter('853969034527955866');" onmouseout="out('853969034527955866');" style="">1354              isPropertyForeignKey = foreignField.getManyToField().equals(prefix + propertyName);                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1355          }                                                                                                         </span>
<span class="8822470178240626349" onmouseenter="enter('8822470178240626349');" onmouseout="out('8822470178240626349');" style="">1356          return isPropertyForeignKey;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1357      }                                                                                                             </span>
<span  style="">1358                                                                                                                    </span>
<span class="1904918329540983841" onmouseenter="enter('1904918329540983841');" onmouseout="out('1904918329540983841');" style=""><abbr title="1359      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String propertyName) {">1359      protected int findAdditionalForeignKeyIndex(ForeignKey[] additionalForeignFields, String prefix, String properðŸ”µ</abbr></span>
<span class="3771983009282502034" onmouseenter="enter('3771983009282502034');" onmouseout="out('3771983009282502034');" style="">1360          int additionalForeignKeyIndexPosition = -1;                                                               </span>
<span class="4718683735282040977" onmouseenter="enter('4718683735282040977');" onmouseout="out('4718683735282040977');" style="">1361          if (additionalForeignFields != null) {                                                                    </span>
<span class="-2199652462532916108" onmouseenter="enter('-2199652462532916108');" onmouseout="out('-2199652462532916108');" style=""><abbr title="1362              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefix + propertyName, null, null), new Comparator&lt;ForeignKey&gt;() {">1362              additionalForeignKeyIndexPosition = Arrays.binarySearch(additionalForeignFields, new ForeignKey(prefixðŸ”µ</abbr></span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1363                  @Override                                                                                         </span>
<span class="-4042882011620752792" onmouseenter="enter('-4042882011620752792');" onmouseout="out('-4042882011620752792');" style="">1364                  public int compare(ForeignKey o1, ForeignKey o2) {                                                </span>
<span class="8874527032794358750" onmouseenter="enter('8874527032794358750');" onmouseout="out('8874527032794358750');" style="">1365                      return o1.getManyToField().compareTo(o2.getManyToField());                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1366                  }                                                                                                 </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">1367              });                                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1368          }                                                                                                         </span>
<span class="7265965175836114157" onmouseenter="enter('7265965175836114157');" onmouseout="out('7265965175836114157');" style="">1369          return additionalForeignKeyIndexPosition;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1370      }                                                                                                             </span>
<span  style="">1371                                                                                                                    </span>
<span class="-4370882462284369977" onmouseenter="enter('-4370882462284369977');" onmouseout="out('-4370882462284369977');" style="">1372      protected void buildEntityProperties(                                                                         </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1373              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1374              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1375              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1376              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1377              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1378              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1379              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1380              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1381              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1382              String propertyName,                                                                                  </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1383              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1384              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1385              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1386              String prefix,                                                                                        </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1387              Boolean isParentExcluded,                                                                             </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1388              String parentPrefix) {                                                                                </span>
<span class="4311762796854705026" onmouseenter="enter('4311762796854705026');" onmouseout="out('4311762796854705026');" style="">1389          Class&lt;?&gt;[] polymorphicEntities = getAllPolymorphicEntitiesFromCeiling(returnedClass);                     </span>
<span class="-1583100557036526499" onmouseenter="enter('-1583100557036526499');" onmouseout="out('-1583100557036526499');" style="">1390          List&lt;Class&lt;?&gt;&gt; clonedParentClasses = new ArrayList&lt;&gt;();                                                   </span>
<span  style="">1391                                                                                                                    </span>
<span class="-2542452470493199291" onmouseenter="enter('-2542452470493199291');" onmouseout="out('-2542452470493199291');" style="">1392          for (Class&lt;?&gt; parentClass : parentClasses) {                                                              </span>
<span class="-3212207384306797131" onmouseenter="enter('-3212207384306797131');" onmouseout="out('-3212207384306797131');" style="">1393              clonedParentClasses.add(parentClass);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1394          }                                                                                                         </span>
<span  style="">1395                                                                                                                    </span>
<span class="6954214893298340791" onmouseenter="enter('6954214893298340791');" onmouseout="out('6954214893298340791');" style="">1396          clonedParentClasses.add(targetClass);                                                                     </span>
<span  style="">1397                                                                                                                    </span>
<span class="8426320016830278383" onmouseenter="enter('8426320016830278383');" onmouseout="out('8426320016830278383');" style="">1398          Map&lt;String, FieldMetadata&gt; newFields = getMergedPropertiesRecursively(                                    </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1399                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="3154967143417697321" onmouseenter="enter('3154967143417697321');" onmouseout="out('3154967143417697321');" style="">1400                  polymorphicEntities,                                                                              </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1401                  foreignField,                                                                                     </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1402                  additionalNonPersistentProperties,                                                                </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1403                  additionalForeignFields,                                                                          </span>
<span class="-4873414737121807493" onmouseenter="enter('-4873414737121807493');" onmouseout="out('-4873414737121807493');" style="">1404                  MergedPropertyType.PRIMARY,                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1405                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1406                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1407                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1408                  configurationKey,                                                                                 </span>
<span class="8535948218670292438" onmouseenter="enter('8535948218670292438');" onmouseout="out('8535948218670292438');" style="">1409                  clonedParentClasses,                                                                              </span>
<span class="5123195001778262005" onmouseenter="enter('5123195001778262005');" onmouseout="out('5123195001778262005');" style="">1410                  prefix + propertyName + &#x27;.&#x27;,                                                                      </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1411                  isParentExcluded,                                                                                 </span>
<span class="1596298882151327306" onmouseenter="enter('1596298882151327306');" onmouseout="out('1596298882151327306');" style="">1412                  parentPrefix);                                                                                    </span>
<span  style="">1413                                                                                                                    </span>
<span class="1506129216121153971" onmouseenter="enter('1506129216121153971');" onmouseout="out('1506129216121153971');" style="">1414          final String targetClassName = targetClass.getName();                                                     </span>
<span  style="">1415                                                                                                                    </span>
<span class="467266734916632761" onmouseenter="enter('467266734916632761');" onmouseout="out('467266734916632761');" style="">1416          for (FieldMetadata newMetadata : newFields.values()) {                                                    </span>
<span class="-3756598694650962550" onmouseenter="enter('-3756598694650962550');" onmouseout="out('-3756598694650962550');" style="">1417              newMetadata.setInheritedFromType(targetClassName);                                                    </span>
<span class="1261918328792666250" onmouseenter="enter('1261918328792666250');" onmouseout="out('1261918328792666250');" style="">1418              newMetadata.setAvailableToTypes(new String[]{targetClassName});                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1419          }                                                                                                         </span>
<span  style="">1420                                                                                                                    </span>
<span class="6048228633616123727" onmouseenter="enter('6048228633616123727');" onmouseout="out('6048228633616123727');" style="">1421          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;(newFields.size());                             </span>
<span  style="">1422                                                                                                                    </span>
<span class="-2022565797415809171" onmouseenter="enter('-2022565797415809171');" onmouseout="out('-2022565797415809171');" style="">1423          for (Map.Entry&lt;String, FieldMetadata&gt; newField : newFields.entrySet()) {                                  </span>
<span class="6676045628070043052" onmouseenter="enter('6676045628070043052');" onmouseout="out('6676045628070043052');" style="">1424              final FieldMetadata fieldMetadata = newField.getValue();                                              </span>
<span class="8455989349081597104" onmouseenter="enter('8455989349081597104');" onmouseout="out('8455989349081597104');" style="">1425              final String key = newField.getKey();                                                                 </span>
<span  style="">1426                                                                                                                    </span>
<span class="8244567811007626244" onmouseenter="enter('8244567811007626244');" onmouseout="out('8244567811007626244');" style="">1427              convertedFields.put(propertyName + &#x27;.&#x27; + key, fieldMetadata);                                         </span>
<span  style="">1428                                                                                                                    </span>
<span class="-638676474141600706" onmouseenter="enter('-638676474141600706');" onmouseout="out('-638676474141600706');" style="">1429              if (fieldMetadata instanceof BasicFieldMetadata) {                                                    </span>
<span class="7241903763948360120" onmouseenter="enter('7241903763948360120');" onmouseout="out('7241903763948360120');" style=""><abbr title="1430                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata) fieldMetadata).getValidationConfigurations().entrySet()) {">1430                  for (Map.Entry&lt;String, List&lt;Map&lt;String, String&gt;&gt;&gt; validationConfigurations : ((BasicFieldMetadata)ðŸ”µ</abbr></span>
<span class="1535081323538514608" onmouseenter="enter('1535081323538514608');" onmouseout="out('1535081323538514608');" style="">1431                      Class&lt;?&gt; validatorImpl = null;                                                                </span>
<span  style="">1432                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1433                      try {                                                                                         </span>
<span class="313019734000639086" onmouseenter="enter('313019734000639086');" onmouseout="out('313019734000639086');" style="">1434                          validatorImpl = Class.forName(validationConfigurations.getKey());                         </span>
<span class="1054888787890391626" onmouseenter="enter('1054888787890391626');" onmouseout="out('1054888787890391626');" style="">1435                      } catch (ClassNotFoundException e) {                                                          </span>
<span class="-8928187777030101510" onmouseenter="enter('-8928187777030101510');" onmouseout="out('-8928187777030101510');" style="">1436                          Object bean = applicationContext.getBean(validationConfigurations.getKey());              </span>
<span  style="">1437                                                                                                                    </span>
<span class="8661817807458939166" onmouseenter="enter('8661817807458939166');" onmouseout="out('8661817807458939166');" style="">1438                          if (bean != null) {                                                                       </span>
<span class="8910873804487554667" onmouseenter="enter('8910873804487554667');" onmouseout="out('8910873804487554667');" style="">1439                              validatorImpl = bean.getClass();                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1440                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1441                      }                                                                                             </span>
<span  style="">1442                                                                                                                    </span>
<span class="-734917790154624326" onmouseenter="enter('-734917790154624326');" onmouseout="out('-734917790154624326');" style=""><abbr title="1443                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl)) {">1443                      if (validatorImpl != null &amp;&amp; FieldNamePropertyValidator.class.isAssignableFrom(validatorImpl))ðŸ”µ</abbr></span>
<span class="5300576794627672643" onmouseenter="enter('5300576794627672643');" onmouseout="out('5300576794627672643');" style="">1444                          for (Map&lt;String, String&gt; configs : validationConfigurations.getValue()) {                 </span>
<span class="-4963505424886683473" onmouseenter="enter('-4963505424886683473');" onmouseout="out('-4963505424886683473');" style="">1445                              for (Map.Entry&lt;String, String&gt; config : configs.entrySet()) {                         </span>
<span class="8373000013606515112" onmouseenter="enter('8373000013606515112');" onmouseout="out('8373000013606515112');" style="">1446                                  final String value = config.getValue();                                           </span>
<span  style="">1447                                                                                                                    </span>
<span class="5106827011602770645" onmouseenter="enter('5106827011602770645');" onmouseout="out('5106827011602770645');" style="">1448                                  if (newFields.containsKey(value)) {                                               </span>
<span class="-637873752539871805" onmouseenter="enter('-637873752539871805');" onmouseout="out('-637873752539871805');" style="">1449                                      config.setValue(propertyName + &quot;.&quot; + value);                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1450                                  }                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1451                              }                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1452                          }                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1453                      }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1454                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1455              }                                                                                                     </span>
<span  style="">1456                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1457              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1458                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1459              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1460          }                                                                                                         </span>
<span  style="">1461                                                                                                                    </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1462          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1463      }                                                                                                             </span>
<span  style="">1464                                                                                                                    </span>
<span class="3168770792852713974" onmouseenter="enter('3168770792852713974');" onmouseout="out('3168770792852713974');" style="">1465      protected boolean isForeignKey(FieldMetadata fieldMetadata) {                                                 </span>
<span class="2507710375441895666" onmouseenter="enter('2507710375441895666');" onmouseout="out('2507710375441895666');" style="">1466          return fieldMetadata instanceof BasicCollectionMetadata                                                   </span>
<span class="2864948677305685198" onmouseenter="enter('2864948677305685198');" onmouseout="out('2864948677305685198');" style=""><abbr title="1467                  &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().isEmpty()">1467                  &amp;&amp; !((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectivðŸ”µ</abbr></span>
<span class="-2006934726851150543" onmouseenter="enter('-2006934726851150543');" onmouseout="out('-2006934726851150543');" style=""><abbr title="1468                  &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().containsKey(PersistencePerspectiveItemType.FOREIGNKEY);">1468                  &amp;&amp; ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveðŸ”µ</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1469      }                                                                                                             </span>
<span  style="">1470                                                                                                                    </span>
<span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">1471      /*                                                                                                            </span>
<span class="-8040261465888459222" onmouseenter="enter('-8040261465888459222');" onmouseout="out('-8040261465888459222');" style="">1472       * There may be multiple pathways to this foreign key which may have come from a cached source.               </span>
<span class="2512382219934428103" onmouseenter="enter('2512382219934428103');" onmouseout="out('2512382219934428103');" style="">1473       * Since ForeignKey contains an originating field concept that is occurrence specific, we need                </span>
<span class="-4745675218296506021" onmouseenter="enter('-4745675218296506021');" onmouseout="out('-4745675218296506021');" style="">1474       * to make sure it is set appropriately here.                                                                 </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">1475       *                                                                                                            </span>
<span class="-3598032781784424942" onmouseenter="enter('-3598032781784424942');" onmouseout="out('-3598032781784424942');" style="">1476       * A known use case is vendorPortal.embeddableMultitenantSite.adminUsers and                                  </span>
<span class="6933148621847265806" onmouseenter="enter('6933148621847265806');" onmouseout="out('6933148621847265806');" style="">1477       * owningSite.embeddableMultitenantSite.adminUsers.                                                           </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">1478       */                                                                                                           </span>
<span class="1153481931231894191" onmouseenter="enter('1153481931231894191');" onmouseout="out('1153481931231894191');" style=""><abbr title="1479      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) {">1479      protected void setOriginatingFieldForForeignKey(String propertyName, String key, FieldMetadata fieldMetadata) ðŸ”µ</abbr></span>
<span class="-455994001361609896" onmouseenter="enter('-455994001361609896');" onmouseout="out('-455994001361609896');" style=""><abbr title="1480          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective().getPersistencePerspectiveItems().get(PersistencePerspectiveItemType.FOREIGNKEY);">1480          ForeignKey foreignKey = (ForeignKey) ((BasicCollectionMetadata) fieldMetadata).getPersistencePerspective()ðŸ”µ</abbr></span>
<span class="-8651086691149445731" onmouseenter="enter('-8651086691149445731');" onmouseout="out('-8651086691149445731');" style="">1481          foreignKey.setOriginatingField(propertyName + &#x27;.&#x27; + key);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1482      }                                                                                                             </span>
<span  style="">1483                                                                                                                    </span>
<span class="5319809149922063174" onmouseenter="enter('5319809149922063174');" onmouseout="out('5319809149922063174');" style="">1484      protected void buildComponentProperties(                                                                      </span>
<span class="-8325040302846877079" onmouseenter="enter('-8325040302846877079');" onmouseout="out('-8325040302846877079');" style="">1485              Class&lt;?&gt; targetClass,                                                                                 </span>
<span class="1900314131251100543" onmouseenter="enter('1900314131251100543');" onmouseout="out('1900314131251100543');" style="">1486              ForeignKey foreignField,                                                                              </span>
<span class="5694342082740978303" onmouseenter="enter('5694342082740978303');" onmouseout="out('5694342082740978303');" style="">1487              ForeignKey[] additionalForeignFields,                                                                 </span>
<span class="8816114374986029144" onmouseenter="enter('8816114374986029144');" onmouseout="out('8816114374986029144');" style="">1488              String[] additionalNonPersistentProperties,                                                           </span>
<span class="-21487424966792330" onmouseenter="enter('-21487424966792330');" onmouseout="out('-21487424966792330');" style="">1489              MergedPropertyType mergedPropertyType,                                                                </span>
<span class="1457218403804023788" onmouseenter="enter('1457218403804023788');" onmouseout="out('1457218403804023788');" style="">1490              Map&lt;String, FieldMetadata&gt; fields,                                                                    </span>
<span class="-466100764636508020" onmouseenter="enter('-466100764636508020');" onmouseout="out('-466100764636508020');" style="">1491              String idProperty,                                                                                    </span>
<span class="-4910524154512130269" onmouseenter="enter('-4910524154512130269');" onmouseout="out('-4910524154512130269');" style="">1492              Boolean populateManyToOneFields,                                                                      </span>
<span class="-5999893082608991936" onmouseenter="enter('-5999893082608991936');" onmouseout="out('-5999893082608991936');" style="">1493              String[] includeFields,                                                                               </span>
<span class="-2683529831838000932" onmouseenter="enter('-2683529831838000932');" onmouseout="out('-2683529831838000932');" style="">1494              String[] excludeFields,                                                                               </span>
<span class="1900824598123480904" onmouseenter="enter('1900824598123480904');" onmouseout="out('1900824598123480904');" style="">1495              String configurationKey,                                                                              </span>
<span class="1534793341678378199" onmouseenter="enter('1534793341678378199');" onmouseout="out('1534793341678378199');" style="">1496              String ceilingEntityFullyQualifiedClassname,                                                          </span>
<span class="1769711361708142675" onmouseenter="enter('1769711361708142675');" onmouseout="out('1769711361708142675');" style="">1497              String propertyName,                                                                                  </span>
<span class="-6427770331997670890" onmouseenter="enter('-6427770331997670890');" onmouseout="out('-6427770331997670890');" style="">1498              Type type,                                                                                            </span>
<span class="1484704386472410238" onmouseenter="enter('1484704386472410238');" onmouseout="out('1484704386472410238');" style="">1499              Class&lt;?&gt; returnedClass,                                                                               </span>
<span class="1847083649721756692" onmouseenter="enter('1847083649721756692');" onmouseout="out('1847083649721756692');" style="">1500              List&lt;Class&lt;?&gt;&gt; parentClasses,                                                                         </span>
<span class="-8151933191646740443" onmouseenter="enter('-8151933191646740443');" onmouseout="out('-8151933191646740443');" style="">1501              Boolean isParentExcluded,                                                                             </span>
<span class="3222866996879804345" onmouseenter="enter('3222866996879804345');" onmouseout="out('3222866996879804345');" style="">1502              String prefix,                                                                                        </span>
<span class="-2356116740422218014" onmouseenter="enter('-2356116740422218014');" onmouseout="out('-2356116740422218014');" style="">1503              String parentPrefix) {                                                                                </span>
<span class="-562790760045409676" onmouseenter="enter('-562790760045409676');" onmouseout="out('-562790760045409676');" style="">1504          String[] componentProperties = ((ComponentType) type).getPropertyNames();                                 </span>
<span class="6203409602235489969" onmouseenter="enter('6203409602235489969');" onmouseout="out('6203409602235489969');" style="">1505          List&lt;String&gt; componentPropertyNames = Arrays.asList(componentProperties);                                 </span>
<span class="-1351204172491465388" onmouseenter="enter('-1351204172491465388');" onmouseout="out('-1351204172491465388');" style="">1506          Type[] componentTypes = ((ComponentType) type).getSubtypes();                                             </span>
<span class="4123164749990017442" onmouseenter="enter('4123164749990017442');" onmouseout="out('4123164749990017442');" style="">1507          List&lt;Type&gt; componentPropertyTypes = Arrays.asList(componentTypes);                                        </span>
<span class="-5676049319628014078" onmouseenter="enter('-5676049319628014078');" onmouseout="out('-5676049319628014078');" style="">1508          String tempPrefix = &quot;&quot;;                                                                                   </span>
<span  style="">1509                                                                                                                    </span>
<span class="-6073651510847749464" onmouseenter="enter('-6073651510847749464');" onmouseout="out('-6073651510847749464');" style="">1510          int pos = prefix.indexOf(&quot;.&quot;);                                                                            </span>
<span class="2926885611127098927" onmouseenter="enter('2926885611127098927');" onmouseout="out('2926885611127098927');" style="">1511          final int prefixLength = prefix.length();                                                                 </span>
<span  style="">1512                                                                                                                    </span>
<span class="-8897814271174053967" onmouseenter="enter('-8897814271174053967');" onmouseout="out('-8897814271174053967');" style="">1513          if (pos &gt; 0 &amp;&amp; pos &lt; prefixLength - 1) {                                                                  </span>
<span class="5801400122674551103" onmouseenter="enter('5801400122674551103');" onmouseout="out('5801400122674551103');" style="">1514              //only use part of the prefix if it&#x27;s more than one layer deep                                        </span>
<span class="405114768499668989" onmouseenter="enter('405114768499668989');" onmouseout="out('405114768499668989');" style="">1515              tempPrefix = prefix.substring(pos + 1, prefixLength);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1516          }                                                                                                         </span>
<span  style="">1517                                                                                                                    </span>
<span class="2697916632630709672" onmouseenter="enter('2697916632630709672');" onmouseout="out('2697916632630709672');" style=""><abbr title="1518          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targetClass, returnedClass, this, tempPrefix + propertyName + &quot;.&quot;);">1518          Map&lt;String, FieldMetadata&gt; componentPresentationAttributes = metadata.getFieldMetadataForTargetClass(targeðŸ”µ</abbr></span>
<span  style="">1519                                                                                                                    </span>
<span class="3982914174490857563" onmouseenter="enter('3982914174490857563');" onmouseout="out('3982914174490857563');" style="">1520          if (isParentExcluded) {                                                                                   </span>
<span class="5817173304821662240" onmouseenter="enter('5817173304821662240');" onmouseout="out('5817173304821662240');" style="">1521              for (String key : componentPresentationAttributes.keySet()) {                                         </span>
<span class="7869152472649140809" onmouseenter="enter('7869152472649140809');" onmouseout="out('7869152472649140809');" style="">1522                  LOG.debug(&quot;buildComponentProperties:Excluding &quot; + key + &quot; because the parent was excluded&quot;);      </span>
<span class="2701178181031153312" onmouseenter="enter('2701178181031153312');" onmouseout="out('2701178181031153312');" style="">1523                  componentPresentationAttributes.get(key).setExcluded(true);                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1524              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1525          }                                                                                                         </span>
<span  style="">1526                                                                                                                    </span>
<span class="-613811737372307367" onmouseenter="enter('-613811737372307367');" onmouseout="out('-613811737372307367');" style="">1527          PersistentClass persistentClass = getPersistentClass(targetClass.getName());                              </span>
<span class="-2617337996100483457" onmouseenter="enter('-2617337996100483457');" onmouseout="out('-2617337996100483457');" style="">1528          Property property;                                                                                        </span>
<span  style="">1529                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">1530          try {                                                                                                     </span>
<span class="3568347009766859211" onmouseenter="enter('3568347009766859211');" onmouseout="out('3568347009766859211');" style="">1531              property = persistentClass.getProperty(propertyName);                                                 </span>
<span class="-3438910487687555768" onmouseenter="enter('-3438910487687555768');" onmouseout="out('-3438910487687555768');" style="">1532          } catch (MappingException e) {                                                                            </span>
<span class="-5755760191599977115" onmouseenter="enter('-5755760191599977115');" onmouseout="out('-5755760191599977115');" style="">1533              property = persistentClass.getProperty(prefix + propertyName);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1534          }                                                                                                         </span>
<span  style="">1535                                                                                                                    </span>
<span class="-6925586127893255930" onmouseenter="enter('-6925586127893255930');" onmouseout="out('-6925586127893255930');" style=""><abbr title="1536          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyIterator();">1536          Iterator componentPropertyIterator = ((org.hibernate.mapping.Component) property.getValue()).getPropertyItðŸ”µ</abbr></span>
<span class="7687136457266055815" onmouseenter="enter('7687136457266055815');" onmouseout="out('7687136457266055815');" style="">1537          List&lt;Property&gt; componentPropertyList = new ArrayList&lt;&gt;();                                                 </span>
<span  style="">1538                                                                                                                    </span>
<span class="-2749908704638528550" onmouseenter="enter('-2749908704638528550');" onmouseout="out('-2749908704638528550');" style="">1539          while (componentPropertyIterator.hasNext()) {                                                             </span>
<span class="4785086821968803677" onmouseenter="enter('4785086821968803677');" onmouseout="out('4785086821968803677');" style="">1540              componentPropertyList.add((Property) componentPropertyIterator.next());                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1541          }                                                                                                         </span>
<span  style="">1542                                                                                                                    </span>
<span class="-1040743772873316593" onmouseenter="enter('-1040743772873316593');" onmouseout="out('-1040743772873316593');" style="">1543          Map&lt;String, FieldMetadata&gt; newFields = new HashMap&lt;&gt;();                                                   </span>
<span class="6800008079527253836" onmouseenter="enter('6800008079527253836');" onmouseout="out('6800008079527253836');" style="">1544          buildProperties(                                                                                          </span>
<span class="-5363375471894123848" onmouseenter="enter('-5363375471894123848');" onmouseout="out('-5363375471894123848');" style="">1545                  targetClass,                                                                                      </span>
<span class="-1214475094517277094" onmouseenter="enter('-1214475094517277094');" onmouseout="out('-1214475094517277094');" style="">1546                  foreignField,                                                                                     </span>
<span class="894014159380736563" onmouseenter="enter('894014159380736563');" onmouseout="out('894014159380736563');" style="">1547                  additionalForeignFields,                                                                          </span>
<span class="2955925147693465376" onmouseenter="enter('2955925147693465376');" onmouseout="out('2955925147693465376');" style="">1548                  additionalNonPersistentProperties,                                                                </span>
<span class="7962840762197484130" onmouseenter="enter('7962840762197484130');" onmouseout="out('7962840762197484130');" style="">1549                  mergedPropertyType,                                                                               </span>
<span class="3037142964026731716" onmouseenter="enter('3037142964026731716');" onmouseout="out('3037142964026731716');" style="">1550                  componentPresentationAttributes,                                                                  </span>
<span class="-6048556032236932379" onmouseenter="enter('-6048556032236932379');" onmouseout="out('-6048556032236932379');" style="">1551                  componentPropertyList,                                                                            </span>
<span class="726222472458953079" onmouseenter="enter('726222472458953079');" onmouseout="out('726222472458953079');" style="">1552                  newFields,                                                                                        </span>
<span class="-3380587300733620078" onmouseenter="enter('-3380587300733620078');" onmouseout="out('-3380587300733620078');" style="">1553                  componentPropertyNames,                                                                           </span>
<span class="2680744735443449159" onmouseenter="enter('2680744735443449159');" onmouseout="out('2680744735443449159');" style="">1554                  componentPropertyTypes,                                                                           </span>
<span class="-1056591933381646218" onmouseenter="enter('-1056591933381646218');" onmouseout="out('-1056591933381646218');" style="">1555                  idProperty,                                                                                       </span>
<span class="-5975806077130683513" onmouseenter="enter('-5975806077130683513');" onmouseout="out('-5975806077130683513');" style="">1556                  populateManyToOneFields,                                                                          </span>
<span class="-541799809633970358" onmouseenter="enter('-541799809633970358');" onmouseout="out('-541799809633970358');" style="">1557                  includeFields,                                                                                    </span>
<span class="-2824911176048384034" onmouseenter="enter('-2824911176048384034');" onmouseout="out('-2824911176048384034');" style="">1558                  excludeFields,                                                                                    </span>
<span class="5886498750765433439" onmouseenter="enter('5886498750765433439');" onmouseout="out('5886498750765433439');" style="">1559                  configurationKey,                                                                                 </span>
<span class="1538663517770224953" onmouseenter="enter('1538663517770224953');" onmouseout="out('1538663517770224953');" style="">1560                  ceilingEntityFullyQualifiedClassname,                                                             </span>
<span class="-5330935578169988565" onmouseenter="enter('-5330935578169988565');" onmouseout="out('-5330935578169988565');" style="">1561                  parentClasses,                                                                                    </span>
<span class="1735714619161890770" onmouseenter="enter('1735714619161890770');" onmouseout="out('1735714619161890770');" style="">1562                  propertyName + &quot;.&quot;,                                                                               </span>
<span class="-2725412920593071496" onmouseenter="enter('-2725412920593071496');" onmouseout="out('-2725412920593071496');" style="">1563                  isParentExcluded,                                                                                 </span>
<span class="1283834832483333129" onmouseenter="enter('1283834832483333129');" onmouseout="out('1283834832483333129');" style="">1564                  true,                                                                                             </span>
<span class="3234193686904510727" onmouseenter="enter('3234193686904510727');" onmouseout="out('3234193686904510727');" style="">1565                  parentPrefix + prefix                                                                             </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">1566          );                                                                                                        </span>
<span  style="">1567                                                                                                                    </span>
<span class="-2813747877580444433" onmouseenter="enter('-2813747877580444433');" onmouseout="out('-2813747877580444433');" style="">1568          Map&lt;String, FieldMetadata&gt; convertedFields = new HashMap&lt;&gt;();                                             </span>
<span  style="">1569                                                                                                                    </span>
<span class="-8062024986267935961" onmouseenter="enter('-8062024986267935961');" onmouseout="out('-8062024986267935961');" style="">1570          for (String key : newFields.keySet()) {                                                                   </span>
<span class="-1539883378525608630" onmouseenter="enter('-1539883378525608630');" onmouseout="out('-1539883378525608630');" style="">1571              final FieldMetadata fieldMetadata = newFields.get(key);                                               </span>
<span class="8150020501548477072" onmouseenter="enter('8150020501548477072');" onmouseout="out('8150020501548477072');" style="">1572              convertedFields.put(propertyName + &quot;.&quot; + key, fieldMetadata);                                         </span>
<span  style="">1573                                                                                                                    </span>
<span class="-2688689402584485633" onmouseenter="enter('-2688689402584485633');" onmouseout="out('-2688689402584485633');" style="">1574              if (isForeignKey(fieldMetadata)) {                                                                    </span>
<span class="2221917715293514445" onmouseenter="enter('2221917715293514445');" onmouseout="out('2221917715293514445');" style="">1575                  setOriginatingFieldForForeignKey(propertyName, key, fieldMetadata);                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1576              }                                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1577          }                                                                                                         </span>
<span class="-5791153322126937654" onmouseenter="enter('-5791153322126937654');" onmouseout="out('-5791153322126937654');" style="">1578          fields.putAll(convertedFields);                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1579      }                                                                                                             </span>
<span  style="">1580                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1581      @Override                                                                                                     </span>
<span class="2512443845215180574" onmouseenter="enter('2512443845215180574');" onmouseout="out('2512443845215180574');" style="">1582      public EntityManager getStandardEntityManager() {                                                             </span>
<span class="-7573645230376845279" onmouseenter="enter('-7573645230376845279');" onmouseout="out('-7573645230376845279');" style="">1583          return standardEntityManager;                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1584      }                                                                                                             </span>
<span  style="">1585                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1586      @Override                                                                                                     </span>
<span class="-7891510267177688029" onmouseenter="enter('-7891510267177688029');" onmouseout="out('-7891510267177688029');" style="">1587      public void setStandardEntityManager(EntityManager entityManager) {                                           </span>
<span class="2929515292253404743" onmouseenter="enter('2929515292253404743');" onmouseout="out('2929515292253404743');" style="">1588          this.standardEntityManager = entityManager;                                                               </span>
<span class="-3639136150620828881" onmouseenter="enter('-3639136150620828881');" onmouseout="out('-3639136150620828881');" style="">1589          fieldManager = new FieldManager(entityConfiguration, entityManager);                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1590      }                                                                                                             </span>
<span  style="">1591                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1592      @Override                                                                                                     </span>
<span class="-4646037950621881232" onmouseenter="enter('-4646037950621881232');" onmouseout="out('-4646037950621881232');" style="">1593      public FieldManager getFieldManager() {                                                                       </span>
<span class="7287646354784095139" onmouseenter="enter('7287646354784095139');" onmouseout="out('7287646354784095139');" style="">1594          return this.getFieldManager(true);                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1595      }                                                                                                             </span>
<span  style="">1596                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1597      @Override                                                                                                     </span>
<span class="-7965069301203796338" onmouseenter="enter('-7965069301203796338');" onmouseout="out('-7965069301203796338');" style="">1598      public FieldManager getFieldManager(boolean cleanFieldManager) {                                              </span>
<span class="8508354605808024431" onmouseenter="enter('8508354605808024431');" onmouseout="out('8508354605808024431');" style="">1599          if (fieldManager == null) {                                                                               </span>
<span class="-8197444541204407429" onmouseenter="enter('-8197444541204407429');" onmouseout="out('-8197444541204407429');" style="">1600              //keep in mind that getStandardEntityManager() can return null, this is in general OK,                </span>
<span class="6417009978217926965" onmouseenter="enter('6417009978217926965');" onmouseout="out('6417009978217926965');" style="">1601              // we re-init fieldManager in setStandardEntityManager method                                         </span>
<span class="-7893876728745097595" onmouseenter="enter('-7893876728745097595');" onmouseout="out('-7893876728745097595');" style="">1602              fieldManager = new FieldManager(entityConfiguration, getStandardEntityManager());                     </span>
<span class="-2077683977082872872" onmouseenter="enter('-2077683977082872872');" onmouseout="out('-2077683977082872872');" style="">1603          } else if (cleanFieldManager){                                                                            </span>
<span class="986840479345246214" onmouseenter="enter('986840479345246214');" onmouseout="out('986840479345246214');" style="">1604              fieldManager.clearMiddleFields();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1605          }                                                                                                         </span>
<span class="7214041264257502650" onmouseenter="enter('7214041264257502650');" onmouseout="out('7214041264257502650');" style="">1606          return fieldManager;                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1607      }                                                                                                             </span>
<span  style="">1608                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1609      @Override                                                                                                     </span>
<span class="-3584407229104305571" onmouseenter="enter('-3584407229104305571');" onmouseout="out('-3584407229104305571');" style="">1610      public EntityConfiguration getEntityConfiguration() {                                                         </span>
<span class="-241045035233483896" onmouseenter="enter('-241045035233483896');" onmouseout="out('-241045035233483896');" style="">1611          return entityConfiguration;                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1612      }                                                                                                             </span>
<span  style="">1613                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1614      @Override                                                                                                     </span>
<span class="-5394574724272303593" onmouseenter="enter('-5394574724272303593');" onmouseout="out('-5394574724272303593');" style="">1615      public void setEntityConfiguration(EntityConfiguration entityConfiguration) {                                 </span>
<span class="-3154198317554890247" onmouseenter="enter('-3154198317554890247');" onmouseout="out('-3154198317554890247');" style="">1616          this.entityConfiguration = entityConfiguration;                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1617      }                                                                                                             </span>
<span  style="">1618                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1619      @Override                                                                                                     </span>
<span class="-9046660713759394532" onmouseenter="enter('-9046660713759394532');" onmouseout="out('-9046660713759394532');" style="">1620      public Metadata getMetadata() {                                                                               </span>
<span class="-6736542809122384852" onmouseenter="enter('-6736542809122384852');" onmouseout="out('-6736542809122384852');" style="">1621          return metadata;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1622      }                                                                                                             </span>
<span  style="">1623                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1624      @Override                                                                                                     </span>
<span class="7062731829908090597" onmouseenter="enter('7062731829908090597');" onmouseout="out('7062731829908090597');" style="">1625      public void setMetadata(Metadata metadata) {                                                                  </span>
<span class="-7628392980450037488" onmouseenter="enter('-7628392980450037488');" onmouseout="out('-7628392980450037488');" style="">1626          this.metadata = metadata;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1627      }                                                                                                             </span>
<span  style="">1628                                                                                                                    </span>
<span class="6448420512872302579" onmouseenter="enter('6448420512872302579');" onmouseout="out('6448420512872302579');" style="">1629      public List&lt;FieldMetadataProvider&gt; getFieldMetadataProviders() {                                              </span>
<span class="6516452056981209542" onmouseenter="enter('6516452056981209542');" onmouseout="out('6516452056981209542');" style="">1630          return fieldMetadataProviders;                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1631      }                                                                                                             </span>
<span  style="">1632                                                                                                                    </span>
<span class="2825613644868976176" onmouseenter="enter('2825613644868976176');" onmouseout="out('2825613644868976176');" style="">1633      public void setFieldMetadataProviders(List&lt;FieldMetadataProvider&gt; fieldMetadataProviders) {                   </span>
<span class="3465329925352310887" onmouseenter="enter('3465329925352310887');" onmouseout="out('3465329925352310887');" style="">1634          this.fieldMetadataProviders = fieldMetadataProviders;                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1635      }                                                                                                             </span>
<span  style="">1636                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1637      @Override                                                                                                     </span>
<span class="7850578414498496936" onmouseenter="enter('7850578414498496936');" onmouseout="out('7850578414498496936');" style="">1638      public FieldMetadataProvider getDefaultFieldMetadataProvider() {                                              </span>
<span class="4358943788840492753" onmouseenter="enter('4358943788840492753');" onmouseout="out('4358943788840492753');" style="">1639          return defaultFieldMetadataProvider;                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1640      }                                                                                                             </span>
<span  style="">1641                                                                                                                    </span>
<span class="-6422381445825460765" onmouseenter="enter('-6422381445825460765');" onmouseout="out('-6422381445825460765');" style="">1642      public void setDefaultFieldMetadataProvider(FieldMetadataProvider defaultFieldMetadataProvider) {             </span>
<span class="-1616384735813419020" onmouseenter="enter('-1616384735813419020');" onmouseout="out('-1616384735813419020');" style="">1643          this.defaultFieldMetadataProvider = defaultFieldMetadataProvider;                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1644      }                                                                                                             </span>
<span  style="">1645                                                                                                                    </span>
<span class="7863298916290726278" onmouseenter="enter('7863298916290726278');" onmouseout="out('7863298916290726278');" style="">1646      protected boolean isExcludeClassFromPolymorphism(Class&lt;?&gt; clazz) {                                            </span>
<span class="-274049166906889962" onmouseenter="enter('-274049166906889962');" onmouseout="out('-274049166906889962');" style="">1647          return dynamicDaoHelper.isExcludeClassFromPolymorphism(clazz);                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1648      }                                                                                                             </span>
<span  style="">1649                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">1650      @Override                                                                                                     </span>
<span class="-2407081257166189896" onmouseenter="enter('-2407081257166189896');" onmouseout="out('-2407081257166189896');" style="">1651      public DynamicDaoHelper getDynamicDaoHelper() {                                                               </span>
<span class="-1017641820821545915" onmouseenter="enter('-1017641820821545915');" onmouseout="out('-1017641820821545915');" style="">1652          return dynamicDaoHelper;                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1653      }                                                                                                             </span>
<span  style="">1654                                                                                                                    </span>
<span class="-8390754033417158121" onmouseenter="enter('-8390754033417158121');" onmouseout="out('-8390754033417158121');" style="">1655      public void setDynamicDaoHelper(DynamicDaoHelper dynamicDaoHelper) {                                          </span>
<span class="-7543100999714142214" onmouseenter="enter('-7543100999714142214');" onmouseout="out('-7543100999714142214');" style="">1656          this.dynamicDaoHelper = dynamicDaoHelper;                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1657      }                                                                                                             </span>
<span  style="">1658                                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">1659  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            