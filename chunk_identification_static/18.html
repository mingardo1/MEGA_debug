<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>18</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    18
                    <a href="17.html">prev</a>
                    <a href="19.html">next</a>
                    <a href="18_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    AriaLyy/Aria_1469ca1ceaae9c691eee7790de89a3ee1f571403_app/src/main/java/com/arialyy/simple/core/download/SingleTaskActivity.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;1469ca1ceaae9c691eee7790de89a3ee1f571403:app/src/main/java/com/arialyy/simple/core/download/SingleTaskActivity.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;1469ca1ceaae9c691eee7790de89a3ee1f571403^1:app/src/main/java/com/arialyy/simple/core/download/SingleTaskActivity.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;1469ca1ceaae9c691eee7790de89a3ee1f571403^2:app/src/main/java/com/arialyy/simple/core/download/SingleTaskActivity.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\AriaLyy\Aria show &quot;39a43c836d3309cbbf82de6d51309fe71fc25292:app/src/main/java/com/arialyy/simple/core/download/SingleTaskActivity.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bsj]], subset: [[bsj]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  17 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  18                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  21 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  22 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  23 import android.content.Intent;                                                                           </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  24 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  25 import android.support.annotation.Nullable;                                                              </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  26 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  27 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  30 import android.widget.Toast;                                                                             </span>
<span  style="">  31                                                                                                          </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  32 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  33 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  35 import com.arialyy.aria.core.download.DownloadTarget;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  36 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  37 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="3162312193092529740" onmouseenter="enter('3162312193092529740');" onmouseout="out('3162312193092529740');" style="">  38 import com.arialyy.aria.core.inf.IHttpFileLenAdapter;                                                    </span>
<span class="-1011357815313335831" onmouseenter="enter('-1011357815313335831');" onmouseout="out('-1011357815313335831');" style="">  39 import com.arialyy.aria.core.scheduler.ISchedulers;                                                      </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1656528164781514644" onmouseenter="enter('1656528164781514644');" onmouseout="out('1656528164781514644');" style="">  47 import com.arialyy.simple.databinding.ActivitySingleBinding;                                             </span>
<span  style="">  48                                                                                                          </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  49 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  50 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  51 import java.io.IOException;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  53 import java.util.Map;                                                                                    </span>
<span  style="">  54                                                                                                          </span>
<span class="4867221071252569906" onmouseenter="enter('4867221071252569906');" onmouseout="out('4867221071252569906');" style="">  55 public class SingleTaskActivity extends BaseActivity&lt;ActivitySingleBinding&gt; {                            </span>
<span  style="">  56                                                                                                          </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  57   private String mUrl;                                                                                   </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  58   private String mFilePath;                                                                              </span>
<span class="-270288361339542043" onmouseenter="enter('-270288361339542043');" onmouseout="out('-270288361339542043');" style="">  59   private HttpDownloadModule mModule;                                                                    </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  60   private DownloadTarget mTarget;                                                                        </span>
<span  style="">  61                                                                                                          </span>
<span class="-7246742105454978513" onmouseenter="enter('-7246742105454978513');" onmouseout="out('-7246742105454978513');" style="">  62   BroadcastReceiver receiver = new BroadcastReceiver() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style="">  64     public void onReceive(Context context, Intent intent) {                                              </span>
<span class="-2271368729994662387" onmouseenter="enter('-2271368729994662387');" onmouseout="out('-2271368729994662387');" style="">  65       if (intent.getAction().equals(ISchedulers.ARIA_TASK_INFO_ACTION)) {                                </span>
<span class="318909153217201271" onmouseenter="enter('318909153217201271');" onmouseout="out('318909153217201271');" style="">  66         ALog.d(TAG, &quot;state = &quot; + intent.getIntExtra(ISchedulers.TASK_STATE, -1));                        </span>
<span class="5277103122060001392" onmouseenter="enter('5277103122060001392');" onmouseout="out('5277103122060001392');" style="">  67         ALog.d(TAG, &quot;type = &quot; + intent.getIntExtra(ISchedulers.TASK_TYPE, -1));                          </span>
<span class="5557123844845336162" onmouseenter="enter('5557123844845336162');" onmouseout="out('5557123844845336162');" style="">  68         ALog.d(TAG, &quot;speed = &quot; + intent.getLongExtra(ISchedulers.TASK_SPEED, -1));                       </span>
<span class="2200172271181511925" onmouseenter="enter('2200172271181511925');" onmouseout="out('2200172271181511925');" style="">  69         ALog.d(TAG, &quot;percent = &quot; + intent.getIntExtra(ISchedulers.TASK_PERCENT, -1));                    </span>
<span class="5987635700832071209" onmouseenter="enter('5987635700832071209');" onmouseout="out('5987635700832071209');" style="">  70         ALog.d(TAG, &quot;entity = &quot; + intent.getParcelableExtra(ISchedulers.TASK_ENTITY).toString());        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  73   };                                                                                                     </span>
<span  style="">  74                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  75   @Override                                                                                              </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style="">  76   protected void onResume() {                                                                            </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  77     super.onResume();                                                                                    </span>
<span class="3034100045943114436" onmouseenter="enter('3034100045943114436');" onmouseout="out('3034100045943114436');" style="">  78     //registerReceiver(receiver, new IntentFilter(ISchedulers.ARIA_TASK_INFO_ACTION));                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79   }                                                                                                      </span>
<span  style="">  80                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81   @Override                                                                                              </span>
<span class="-6092584662135707990" onmouseenter="enter('-6092584662135707990');" onmouseout="out('-6092584662135707990');" style="">  82   protected void onDestroy() {                                                                           </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  83     super.onDestroy();                                                                                   </span>
<span class="-1778811199460095893" onmouseenter="enter('-1778811199460095893');" onmouseout="out('-1778811199460095893');" style="">  84     //unregisterReceiver(receiver);                                                                      </span>
<span class="-5601504215561350978" onmouseenter="enter('-5601504215561350978');" onmouseout="out('-5601504215561350978');" style="">  85     Aria.download(this).unRegister();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86   }                                                                                                      </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  89   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  90     super.init(savedInstanceState);                                                                      </span>
<span class="4324799316594254339" onmouseenter="enter('4324799316594254339');" onmouseout="out('4324799316594254339');" style="">  91     setTitle(&quot;单任务下载&quot;);                                                                                   </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  92     Aria.download(this).register();                                                                      </span>
<span class="413277007018527418" onmouseenter="enter('413277007018527418');" onmouseout="out('413277007018527418');" style="">  93     mModule = ViewModelProviders.of(this).get(HttpDownloadModule.class);                                 </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  94     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span  style="">  95                                                                                                          </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  96       @Override public void onChanged(@Nullable DownloadEntity entity) {                                 </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  97         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  98           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99         }                                                                                                </span>
<span class="5975588843875294056" onmouseenter="enter('5975588843875294056');" onmouseout="out('5975588843875294056');" style=""> 100         mTarget = Aria.download(SingleTaskActivity.this).load(entity.getUrl());                          </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style=""> 101         if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                              </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 102           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style=""> 103         } else if (mTarget.isRunning()) {                                                                </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 104           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105         }                                                                                                </span>
<span  style=""> 106                                                                                                          </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style=""> 107         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style=""> 108           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="5220159076671471735" onmouseenter="enter('5220159076671471735');" onmouseout="out('5220159076671471735');" style=""> 109           getBinding().setProgress(entity.isComplete() ? 100                                             </span>
<span class="-2601621280821840734" onmouseenter="enter('-2601621280821840734');" onmouseout="out('-2601621280821840734');" style=""> 110               : (int) (entity.getCurrentProgress() * 100 / entity.getFileSize()));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style=""> 112         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style=""> 113         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style=""> 114         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style=""> 115         mFilePath = entity.getFilePath();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 117     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 118     getBinding().setViewModel(this);                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 119     try {                                                                                                </span>
<span class="-9128970152216612812" onmouseenter="enter('-9128970152216612812');" onmouseout="out('-9128970152216612812');" style=""> 120       getBinding().codeView.setSource(AppUtil.getHelpCode(this, &quot;HttpDownload.java&quot;));                   </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 121     } catch (IOException e) {                                                                            </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 122       e.printStackTrace();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124   }                                                                                                      </span>
<span  style=""> 125                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 126   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 127     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 128         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 129     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130   }                                                                                                      </span>
<span  style=""> 131                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 132   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 133     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 134         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 135     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136   }                                                                                                      </span>
<span  style=""> 137                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 139   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 140     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 141     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142   }                                                                                                      </span>
<span  style=""> 143                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 145   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 146     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 147     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 148     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 149       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 150         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 151             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 152             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 153             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 154         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 156       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 157         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 159       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 160         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 162       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 163         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 165       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 166         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 167         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 168       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 169         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 170         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 172     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 173       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 174       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 175       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178   }                                                                                                      </span>
<span  style=""> 179                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 180   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 181   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 182     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 183       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 187   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 188   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 190       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192   }                                                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 194   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 195   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 197       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 198       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200   }                                                                                                      </span>
<span  style=""> 201                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 202   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 203   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 204     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6305071450384336211" onmouseenter="enter('-6305071450384336211');" onmouseout="out('-6305071450384336211');" style=""> 205       ALog.d(TAG, &quot;isRunning&quot;);                                                                          </span>
<span class="1585444540576691323" onmouseenter="enter('1585444540576691323');" onmouseout="out('1585444540576691323');" style=""> 206       //Log.d(TAG, task.getKey());                                                                       </span>
<span class="296011094599414321" onmouseenter="enter('296011094599414321');" onmouseout="out('296011094599414321');" style=""> 207       long len = task.getFileSize();                                                                     </span>
<span class="582183389259353379" onmouseenter="enter('582183389259353379');" onmouseout="out('582183389259353379');" style=""> 208       if (len == 0) {                                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 209         getBinding().setProgress(0);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 210       } else {                                                                                           </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211         getBinding().setProgress(task.getPercent());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212       }                                                                                                  </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 213       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215   }                                                                                                      </span>
<span  style=""> 216                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 217   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 218   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 219     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 220       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222   }                                                                                                      </span>
<span  style=""> 223                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 224   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 225   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 226     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 227       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 228       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230   }                                                                                                      </span>
<span  style=""> 231                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 232   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 233   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 234     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 235       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 236       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 237       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 238       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240   }                                                                                                      </span>
<span  style=""> 241                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 242   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 243   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 244     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="8345907169036095393" onmouseenter="enter('8345907169036095393');" onmouseout="out('8345907169036095393');" style=""> 245       Toast.makeText(SingleTaskActivity.this, getString(R.string.download_fail), Toast.LENGTH_SHORT)     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249   }                                                                                                      </span>
<span  style=""> 250                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 251   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 252   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 253     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 254       getBinding().setProgress(100);                                                                     </span>
<span class="-3508145684099413734" onmouseenter="enter('-3508145684099413734');" onmouseout="out('-3508145684099413734');" style=""> 255       Toast.makeText(SingleTaskActivity.this, getString(R.string.download_success),                      </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 256           Toast.LENGTH_SHORT).show();                                                                    </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 257       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 258       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 259 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 260       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 261 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262   }                                                                                                      </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 263 =======                                                                                                  </span>
<span class="1675326087271222970" onmouseenter="enter('1675326087271222970');" onmouseout="out('1675326087271222970');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getFilePath())));                        </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 265 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267   }                                                                                                      </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 270   protected int setLayoutId() {                                                                          </span>
<span class="-2531695323377925263" onmouseenter="enter('-2531695323377925263');" onmouseout="out('-2531695323377925263');" style=""> 271     return R.layout.activity_single;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272   }                                                                                                      </span>
<span  style=""> 273                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 274   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 275     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 276       case R.id.start:                                                                                   </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 277         if (mTarget.isRunning()) {                                                                       </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 278           Aria.download(this).load(mUrl).stop();                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 279         } else {                                                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 280           startD();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 282         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 283       case R.id.cancel:                                                                                  </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 284         Aria.download(this).load(mUrl).cancel(true);                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 285         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287   }                                                                                                      </span>
<span  style=""> 288                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 289   private void startD() {                                                                                </span>
<span class="-7253413116279463457" onmouseenter="enter('-7253413116279463457');" onmouseout="out('-7253413116279463457');" style=""> 290     Aria.download(SingleTaskActivity.this)                                                               </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 291         .load(mUrl)                                                                                      </span>
<span class="5250241690161518029" onmouseenter="enter('5250241690161518029');" onmouseout="out('5250241690161518029');" style=""><abbr title=" 292         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;)"> 292         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/ap🔵</abbr></span>
<span class="675193578950664775" onmouseenter="enter('675193578950664775');" onmouseout="out('675193578950664775');" style=""> 293         //.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)                                                 </span>
<span class="7432458207160587380" onmouseenter="enter('7432458207160587380');" onmouseout="out('7432458207160587380');" style=""> 294         //.addHeader(&quot;DNT&quot;, &quot;1&quot;)                                                                         </span>
<span class="3247758800684701674" onmouseenter="enter('3247758800684701674');" onmouseout="out('3247758800684701674');" style=""><abbr title=" 295         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D1068AAA9; PSTM=1519099573; BD_UPN=12314753; locale=zh; BDSVRTM=0&quot;)"> 295         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8D🔵</abbr></span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 296         .useServerFileName(true)                                                                         </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 297         .setFilePath(mFilePath, true)                                                                    </span>
<span class="-1588220677404808704" onmouseenter="enter('-1588220677404808704');" onmouseout="out('-1588220677404808704');" style=""> 298         .setFileLenAdapter(new IHttpFileLenAdapter() {                                                   </span>
<span class="-4968473764170008746" onmouseenter="enter('-4968473764170008746');" onmouseout="out('-4968473764170008746');" style=""> 299           @Override public long handleFileLen(Map&lt;String, List&lt;String&gt;&gt; headers) {                       </span>
<span  style=""> 300                                                                                                          </span>
<span class="-3327040667133742279" onmouseenter="enter('-3327040667133742279');" onmouseout="out('-3327040667133742279');" style=""> 301             List&lt;String&gt; sLength = headers.get(&quot;Content-Length&quot;);                                        </span>
<span class="-5638961086111332224" onmouseenter="enter('-5638961086111332224');" onmouseout="out('-5638961086111332224');" style=""> 302             if (sLength == null || sLength.isEmpty()) {                                                  </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 303               return -1;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304             }                                                                                            </span>
<span class="1006906766372690526" onmouseenter="enter('1006906766372690526');" onmouseout="out('1006906766372690526');" style=""> 305             String temp = sLength.get(0);                                                                </span>
<span  style=""> 306                                                                                                          </span>
<span class="91845659571875615" onmouseenter="enter('91845659571875615');" onmouseout="out('91845659571875615');" style=""> 307             return Long.parseLong(temp);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 309         })                                                                                               </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 310         .start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311   }                                                                                                      </span>
<span  style=""> 312                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 313   @Override                                                                                              </span>
<span class="-531063095242678892" onmouseenter="enter('-531063095242678892');" onmouseout="out('-531063095242678892');" style=""> 314   protected void onStop() {                                                                              </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 315     super.onStop();                                                                                      </span>
<span class="-550267535295661387" onmouseenter="enter('-550267535295661387');" onmouseout="out('-550267535295661387');" style=""> 316     //Aria.download(this).unRegister();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317   }                                                                                                      </span>
<span  style=""> 318                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 319   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 320     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 321     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 322       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 323     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 324       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327 }                                                                                                        </span>
</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span  style="">  16                                                                                                          </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  17 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  18                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  21 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  22 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  23 import android.content.Intent;                                                                           </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  24 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  25 import android.support.annotation.Nullable;                                                              </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  26 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  27 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  30 import android.widget.Toast;                                                                             </span>
<span  style="">  31                                                                                                          </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  32 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  33 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  35 import com.arialyy.aria.core.download.DownloadTarget;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  36 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  37 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="3162312193092529740" onmouseenter="enter('3162312193092529740');" onmouseout="out('3162312193092529740');" style="">  38 import com.arialyy.aria.core.inf.IHttpFileLenAdapter;                                                    </span>
<span class="-1011357815313335831" onmouseenter="enter('-1011357815313335831');" onmouseout="out('-1011357815313335831');" style="">  39 import com.arialyy.aria.core.scheduler.ISchedulers;                                                      </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1656528164781514644" onmouseenter="enter('1656528164781514644');" onmouseout="out('1656528164781514644');" style="">  47 import com.arialyy.simple.databinding.ActivitySingleBinding;                                             </span>
<span  style="">  48                                                                                                          </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  49 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  50 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  51 import java.io.IOException;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  53 import java.util.Map;                                                                                    </span>
<span  style="">  54                                                                                                          </span>
<span class="4867221071252569906" onmouseenter="enter('4867221071252569906');" onmouseout="out('4867221071252569906');" style="">  55 public class SingleTaskActivity extends BaseActivity&lt;ActivitySingleBinding&gt; {                            </span>
<span  style="">  56                                                                                                          </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  57   private String mUrl;                                                                                   </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  58   private String mFilePath;                                                                              </span>
<span class="-270288361339542043" onmouseenter="enter('-270288361339542043');" onmouseout="out('-270288361339542043');" style="">  59   private HttpDownloadModule mModule;                                                                    </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  60   private DownloadTarget mTarget;                                                                        </span>
<span  style="">  61                                                                                                          </span>
<span class="-7246742105454978513" onmouseenter="enter('-7246742105454978513');" onmouseout="out('-7246742105454978513');" style="">  62   BroadcastReceiver receiver = new BroadcastReceiver() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style="">  64     public void onReceive(Context context, Intent intent) {                                              </span>
<span class="-2271368729994662387" onmouseenter="enter('-2271368729994662387');" onmouseout="out('-2271368729994662387');" style="">  65       if (intent.getAction().equals(ISchedulers.ARIA_TASK_INFO_ACTION)) {                                </span>
<span class="318909153217201271" onmouseenter="enter('318909153217201271');" onmouseout="out('318909153217201271');" style="">  66         ALog.d(TAG, &quot;state = &quot; + intent.getIntExtra(ISchedulers.TASK_STATE, -1));                        </span>
<span class="5277103122060001392" onmouseenter="enter('5277103122060001392');" onmouseout="out('5277103122060001392');" style="">  67         ALog.d(TAG, &quot;type = &quot; + intent.getIntExtra(ISchedulers.TASK_TYPE, -1));                          </span>
<span class="5557123844845336162" onmouseenter="enter('5557123844845336162');" onmouseout="out('5557123844845336162');" style="">  68         ALog.d(TAG, &quot;speed = &quot; + intent.getLongExtra(ISchedulers.TASK_SPEED, -1));                       </span>
<span class="2200172271181511925" onmouseenter="enter('2200172271181511925');" onmouseout="out('2200172271181511925');" style="">  69         ALog.d(TAG, &quot;percent = &quot; + intent.getIntExtra(ISchedulers.TASK_PERCENT, -1));                    </span>
<span class="5987635700832071209" onmouseenter="enter('5987635700832071209');" onmouseout="out('5987635700832071209');" style="">  70         ALog.d(TAG, &quot;entity = &quot; + intent.getParcelableExtra(ISchedulers.TASK_ENTITY).toString());        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  73   };                                                                                                     </span>
<span  style="">  74                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  75   @Override                                                                                              </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style="">  76   protected void onResume() {                                                                            </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  77     super.onResume();                                                                                    </span>
<span class="3034100045943114436" onmouseenter="enter('3034100045943114436');" onmouseout="out('3034100045943114436');" style="">  78     //registerReceiver(receiver, new IntentFilter(ISchedulers.ARIA_TASK_INFO_ACTION));                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79   }                                                                                                      </span>
<span  style="">  80                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81   @Override                                                                                              </span>
<span class="-6092584662135707990" onmouseenter="enter('-6092584662135707990');" onmouseout="out('-6092584662135707990');" style="">  82   protected void onDestroy() {                                                                           </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  83     super.onDestroy();                                                                                   </span>
<span class="-1778811199460095893" onmouseenter="enter('-1778811199460095893');" onmouseout="out('-1778811199460095893');" style="">  84     //unregisterReceiver(receiver);                                                                      </span>
<span class="-5601504215561350978" onmouseenter="enter('-5601504215561350978');" onmouseout="out('-5601504215561350978');" style="">  85     Aria.download(this).unRegister();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86   }                                                                                                      </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  89   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  90     super.init(savedInstanceState);                                                                      </span>
<span class="4324799316594254339" onmouseenter="enter('4324799316594254339');" onmouseout="out('4324799316594254339');" style="">  91     setTitle(&quot;单任务下载&quot;);                                                                                   </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  92     Aria.download(this).register();                                                                      </span>
<span class="413277007018527418" onmouseenter="enter('413277007018527418');" onmouseout="out('413277007018527418');" style="">  93     mModule = ViewModelProviders.of(this).get(HttpDownloadModule.class);                                 </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  94     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span  style="">  95                                                                                                          </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  96       @Override public void onChanged(@Nullable DownloadEntity entity) {                                 </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  97         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  98           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99         }                                                                                                </span>
<span class="5975588843875294056" onmouseenter="enter('5975588843875294056');" onmouseout="out('5975588843875294056');" style=""> 100         mTarget = Aria.download(SingleTaskActivity.this).load(entity.getUrl());                          </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style=""> 101         if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                              </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 102           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style=""> 103         } else if (mTarget.isRunning()) {                                                                </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 104           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105         }                                                                                                </span>
<span  style=""> 106                                                                                                          </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style=""> 107         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style=""> 108           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="5220159076671471735" onmouseenter="enter('5220159076671471735');" onmouseout="out('5220159076671471735');" style=""> 109           getBinding().setProgress(entity.isComplete() ? 100                                             </span>
<span class="-2601621280821840734" onmouseenter="enter('-2601621280821840734');" onmouseout="out('-2601621280821840734');" style=""> 110               : (int) (entity.getCurrentProgress() * 100 / entity.getFileSize()));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style=""> 112         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style=""> 113         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style=""> 114         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style=""> 115         mFilePath = entity.getFilePath();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 117     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 118     getBinding().setViewModel(this);                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 119     try {                                                                                                </span>
<span class="-9128970152216612812" onmouseenter="enter('-9128970152216612812');" onmouseout="out('-9128970152216612812');" style=""> 120       getBinding().codeView.setSource(AppUtil.getHelpCode(this, &quot;HttpDownload.java&quot;));                   </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 121     } catch (IOException e) {                                                                            </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 122       e.printStackTrace();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124   }                                                                                                      </span>
<span  style=""> 125                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 126   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 127     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 128         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 129     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130   }                                                                                                      </span>
<span  style=""> 131                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 132   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 133     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 134         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 135     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136   }                                                                                                      </span>
<span  style=""> 137                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 139   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 140     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 141     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142   }                                                                                                      </span>
<span  style=""> 143                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 145   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 146     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 147     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 148     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 149       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 150         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 151             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 152             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 153             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 154         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 156       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 157         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 159       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 160         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 162       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 163         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 165       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 166         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 167         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 168       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 169         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 170         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 172     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 173       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 174       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 175       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178   }                                                                                                      </span>
<span  style=""> 179                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 180   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 181   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 182     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 183       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 187   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 188   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 190       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192   }                                                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 194   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 195   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 197       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 198       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200   }                                                                                                      </span>
<span  style=""> 201                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 202   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 203   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 204     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6305071450384336211" onmouseenter="enter('-6305071450384336211');" onmouseout="out('-6305071450384336211');" style=""> 205       ALog.d(TAG, &quot;isRunning&quot;);                                                                          </span>
<span class="1585444540576691323" onmouseenter="enter('1585444540576691323');" onmouseout="out('1585444540576691323');" style=""> 206       //Log.d(TAG, task.getKey());                                                                       </span>
<span class="296011094599414321" onmouseenter="enter('296011094599414321');" onmouseout="out('296011094599414321');" style=""> 207       long len = task.getFileSize();                                                                     </span>
<span class="582183389259353379" onmouseenter="enter('582183389259353379');" onmouseout="out('582183389259353379');" style=""> 208       if (len == 0) {                                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 209         getBinding().setProgress(0);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 210       } else {                                                                                           </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211         getBinding().setProgress(task.getPercent());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212       }                                                                                                  </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 213       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215   }                                                                                                      </span>
<span  style=""> 216                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 217   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 218   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 219     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 220       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222   }                                                                                                      </span>
<span  style=""> 223                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 224   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 225   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 226     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 227       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 228       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230   }                                                                                                      </span>
<span  style=""> 231                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 232   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 233   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 234     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 235       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 236       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 237       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 238       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240   }                                                                                                      </span>
<span  style=""> 241                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 242   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 243   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 244     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="8345907169036095393" onmouseenter="enter('8345907169036095393');" onmouseout="out('8345907169036095393');" style=""> 245       Toast.makeText(SingleTaskActivity.this, getString(R.string.download_fail), Toast.LENGTH_SHORT)     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249   }                                                                                                      </span>
<span  style=""> 250                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 251   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 252   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 253     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 254       getBinding().setProgress(100);                                                                     </span>
<span class="-3508145684099413734" onmouseenter="enter('-3508145684099413734');" onmouseout="out('-3508145684099413734');" style=""> 255       Toast.makeText(SingleTaskActivity.this, getString(R.string.download_success),                      </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 256           Toast.LENGTH_SHORT).show();                                                                    </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 257       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 258       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style=""> 259 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 260       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 261 ||||||| BASE                                                                                             </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 262       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 263 =======                                                                                                  </span>
<span class="1675326087271222970" onmouseenter="enter('1675326087271222970');" onmouseout="out('1675326087271222970');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getFilePath())));                        </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style=""> 265 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 266     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267   }                                                                                                      </span>
<span  style=""> 268                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 269   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 270   protected int setLayoutId() {                                                                          </span>
<span class="-2531695323377925263" onmouseenter="enter('-2531695323377925263');" onmouseout="out('-2531695323377925263');" style=""> 271     return R.layout.activity_single;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 272   }                                                                                                      </span>
<span  style=""> 273                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 274   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 275     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 276       case R.id.start:                                                                                   </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 277         if (mTarget.isRunning()) {                                                                       </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 278           Aria.download(this).load(mUrl).stop();                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 279         } else {                                                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 280           startD();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 282         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 283       case R.id.cancel:                                                                                  </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 284         Aria.download(this).load(mUrl).cancel(true);                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 285         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 286     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 287   }                                                                                                      </span>
<span  style=""> 288                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 289   private void startD() {                                                                                </span>
<span class="-7253413116279463457" onmouseenter="enter('-7253413116279463457');" onmouseout="out('-7253413116279463457');" style=""> 290     Aria.download(SingleTaskActivity.this)                                                               </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 291         .load(mUrl)                                                                                      </span>
<span class="5250241690161518029" onmouseenter="enter('5250241690161518029');" onmouseout="out('5250241690161518029');" style=""><abbr title=" 292         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;)"> 292         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/ap🔵</abbr></span>
<span class="675193578950664775" onmouseenter="enter('675193578950664775');" onmouseout="out('675193578950664775');" style=""> 293         //.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)                                                 </span>
<span class="7432458207160587380" onmouseenter="enter('7432458207160587380');" onmouseout="out('7432458207160587380');" style=""> 294         //.addHeader(&quot;DNT&quot;, &quot;1&quot;)                                                                         </span>
<span class="3247758800684701674" onmouseenter="enter('3247758800684701674');" onmouseout="out('3247758800684701674');" style=""><abbr title=" 295         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D1068AAA9; PSTM=1519099573; BD_UPN=12314753; locale=zh; BDSVRTM=0&quot;)"> 295         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8D🔵</abbr></span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 296         .useServerFileName(true)                                                                         </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 297         .setFilePath(mFilePath, true)                                                                    </span>
<span class="-1588220677404808704" onmouseenter="enter('-1588220677404808704');" onmouseout="out('-1588220677404808704');" style=""> 298         .setFileLenAdapter(new IHttpFileLenAdapter() {                                                   </span>
<span class="-4968473764170008746" onmouseenter="enter('-4968473764170008746');" onmouseout="out('-4968473764170008746');" style=""> 299           @Override public long handleFileLen(Map&lt;String, List&lt;String&gt;&gt; headers) {                       </span>
<span  style=""> 300                                                                                                          </span>
<span class="-3327040667133742279" onmouseenter="enter('-3327040667133742279');" onmouseout="out('-3327040667133742279');" style=""> 301             List&lt;String&gt; sLength = headers.get(&quot;Content-Length&quot;);                                        </span>
<span class="-5638961086111332224" onmouseenter="enter('-5638961086111332224');" onmouseout="out('-5638961086111332224');" style=""> 302             if (sLength == null || sLength.isEmpty()) {                                                  </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 303               return -1;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 304             }                                                                                            </span>
<span class="1006906766372690526" onmouseenter="enter('1006906766372690526');" onmouseout="out('1006906766372690526');" style=""> 305             String temp = sLength.get(0);                                                                </span>
<span  style=""> 306                                                                                                          </span>
<span class="91845659571875615" onmouseenter="enter('91845659571875615');" onmouseout="out('91845659571875615');" style=""> 307             return Long.parseLong(temp);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 308           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 309         })                                                                                               </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 310         .start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 311   }                                                                                                      </span>
<span  style=""> 312                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 313   @Override                                                                                              </span>
<span class="-531063095242678892" onmouseenter="enter('-531063095242678892');" onmouseout="out('-531063095242678892');" style=""> 314   protected void onStop() {                                                                              </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 315     super.onStop();                                                                                      </span>
<span class="-550267535295661387" onmouseenter="enter('-550267535295661387');" onmouseout="out('-550267535295661387');" style=""> 316     //Aria.download(this).unRegister();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 317   }                                                                                                      </span>
<span  style=""> 318                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 319   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 320     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 321     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 322       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 323     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 324       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 325     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 326   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327 }                                                                                                        </span>
</pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1 /*                                                                                                       </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2  * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                           </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3  *                                                                                                       </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4  * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                       </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5  * you may not use this file except in compliance with the License.                                      </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6  * You may obtain a copy of the License at                                                               </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7  *                                                                                                       </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8  *      http://www.apache.org/licenses/LICENSE-2.0                                                       </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9  *                                                                                                       </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10  * Unless required by applicable law or agreed to in writing, software                                   </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11  * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                     </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                              </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13  * See the License for the specific language governing permissions and                                   </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14  * limitations under the License.                                                                        </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15  */                                                                                                      </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  16 package com.arialyy.simple.core.download;                                                                </span>
<span  style="">  17                                                                                                          </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  18 import android.arch.lifecycle.Observer;                                                                  </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  19 import android.arch.lifecycle.ViewModelProviders;                                                        </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  20 import android.content.BroadcastReceiver;                                                                </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  21 import android.content.Context;                                                                          </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  22 import android.content.Intent;                                                                           </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  23 import android.os.Bundle;                                                                                </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  24 import android.support.annotation.Nullable;                                                              </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  25 import android.util.Log;                                                                                 </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  26 import android.view.Menu;                                                                                </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  27 import android.view.MenuItem;                                                                            </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  28 import android.view.View;                                                                                </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  29 import android.widget.Toast;                                                                             </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  30 import com.arialyy.annotations.Download;                                                                 </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  31 import com.arialyy.aria.core.Aria;                                                                       </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  32 import com.arialyy.aria.core.download.DownloadEntity;                                                    </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  33 import com.arialyy.aria.core.download.DownloadTarget;                                                    </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  34 import com.arialyy.aria.core.download.DownloadTask;                                                      </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  35 import com.arialyy.aria.core.inf.IEntity;                                                                </span>
<span class="3162312193092529740" onmouseenter="enter('3162312193092529740');" onmouseout="out('3162312193092529740');" style="">  36 import com.arialyy.aria.core.inf.IHttpFileLenAdapter;                                                    </span>
<span class="-1011357815313335831" onmouseenter="enter('-1011357815313335831');" onmouseout="out('-1011357815313335831');" style="">  37 import com.arialyy.aria.core.scheduler.ISchedulers;                                                      </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  38 import com.arialyy.aria.util.ALog;                                                                       </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  39 import com.arialyy.aria.util.CommonUtil;                                                                 </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  40 import com.arialyy.frame.util.show.T;                                                                    </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  41 import com.arialyy.simple.R;                                                                             </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  42 import com.arialyy.simple.base.BaseActivity;                                                             </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  43 import com.arialyy.simple.common.ModifyPathDialog;                                                       </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  44 import com.arialyy.simple.common.ModifyUrlDialog;                                                        </span>
<span class="1656528164781514644" onmouseenter="enter('1656528164781514644');" onmouseout="out('1656528164781514644');" style="">  45 import com.arialyy.simple.databinding.ActivitySingleBinding;                                             </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  46 import com.arialyy.simple.util.AppUtil;                                                                  </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="">  47 import java.io.File;                                                                                     </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  48 import java.io.IOException;                                                                              </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  49 import java.util.List;                                                                                   </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  50 import java.util.Map;                                                                                    </span>
<span  style="">  51                                                                                                          </span>
<span  style="">  52                                                                                                          </span>
<span class="4867221071252569906" onmouseenter="enter('4867221071252569906');" onmouseout="out('4867221071252569906');" style="">  53 public class SingleTaskActivity extends BaseActivity&lt;ActivitySingleBinding&gt; {                            </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  54   private String mUrl;                                                                                   </span>
<span  style="">  55                                                                                                          </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  56   private String mFilePath;                                                                              </span>
<span  style="">  57                                                                                                          </span>
<span class="-270288361339542043" onmouseenter="enter('-270288361339542043');" onmouseout="out('-270288361339542043');" style="">  58   private HttpDownloadModule mModule;                                                                    </span>
<span  style="">  59                                                                                                          </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  60   private DownloadTarget mTarget;                                                                        </span>
<span  style="">  61                                                                                                          </span>
<span class="-7246742105454978513" onmouseenter="enter('-7246742105454978513');" onmouseout="out('-7246742105454978513');" style="">  62   BroadcastReceiver receiver = new BroadcastReceiver() {                                                 </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63     @Override                                                                                            </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style="">  64     public void onReceive(Context context, Intent intent) {                                              </span>
<span class="-2271368729994662387" onmouseenter="enter('-2271368729994662387');" onmouseout="out('-2271368729994662387');" style="">  65       if (intent.getAction().equals(ISchedulers.ARIA_TASK_INFO_ACTION)) {                                </span>
<span class="318909153217201271" onmouseenter="enter('318909153217201271');" onmouseout="out('318909153217201271');" style="">  66         ALog.d(TAG, &quot;state = &quot; + intent.getIntExtra(ISchedulers.TASK_STATE, -1));                        </span>
<span class="5277103122060001392" onmouseenter="enter('5277103122060001392');" onmouseout="out('5277103122060001392');" style="">  67         ALog.d(TAG, &quot;type = &quot; + intent.getIntExtra(ISchedulers.TASK_TYPE, -1));                          </span>
<span class="5557123844845336162" onmouseenter="enter('5557123844845336162');" onmouseout="out('5557123844845336162');" style="">  68         ALog.d(TAG, &quot;speed = &quot; + intent.getLongExtra(ISchedulers.TASK_SPEED, -1));                       </span>
<span class="2200172271181511925" onmouseenter="enter('2200172271181511925');" onmouseout="out('2200172271181511925');" style="">  69         ALog.d(TAG, &quot;percent = &quot; + intent.getIntExtra(ISchedulers.TASK_PERCENT, -1));                    </span>
<span class="5987635700832071209" onmouseenter="enter('5987635700832071209');" onmouseout="out('5987635700832071209');" style="">  70         ALog.d(TAG, &quot;entity = &quot; + intent.getParcelableExtra(ISchedulers.TASK_ENTITY).toString());        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71       }                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72     }                                                                                                    </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  73   };                                                                                                     </span>
<span  style="">  74                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  75   @Override                                                                                              </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style="">  76   protected void onResume() {                                                                            </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  77     super.onResume();                                                                                    </span>
<span class="3034100045943114436" onmouseenter="enter('3034100045943114436');" onmouseout="out('3034100045943114436');" style="">  78     //registerReceiver(receiver, new IntentFilter(ISchedulers.ARIA_TASK_INFO_ACTION));                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79   }                                                                                                      </span>
<span  style="">  80                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81   @Override                                                                                              </span>
<span class="-6092584662135707990" onmouseenter="enter('-6092584662135707990');" onmouseout="out('-6092584662135707990');" style="">  82   protected void onDestroy() {                                                                           </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  83     super.onDestroy();                                                                                   </span>
<span class="-1778811199460095893" onmouseenter="enter('-1778811199460095893');" onmouseout="out('-1778811199460095893');" style="">  84     //unregisterReceiver(receiver);                                                                      </span>
<span class="-5601504215561350978" onmouseenter="enter('-5601504215561350978');" onmouseout="out('-5601504215561350978');" style="">  85     Aria.download(this).unRegister();                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86   }                                                                                                      </span>
<span  style="">  87                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88   @Override                                                                                              </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  89   protected void init(Bundle savedInstanceState) {                                                       </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  90     super.init(savedInstanceState);                                                                      </span>
<span class="4324799316594254339" onmouseenter="enter('4324799316594254339');" onmouseout="out('4324799316594254339');" style="">  91     setTitle(&quot;单任务下载&quot;);                                                                                   </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  92     Aria.download(this).register();                                                                      </span>
<span class="413277007018527418" onmouseenter="enter('413277007018527418');" onmouseout="out('413277007018527418');" style="">  93     mModule = ViewModelProviders.of(this).get(HttpDownloadModule.class);                                 </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  94     mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                     </span>
<span  style="">  95                                                                                                          </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  96       @Override public void onChanged(@Nullable DownloadEntity entity) {                                 </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  97         if (entity == null) {                                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  98           return;                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99         }                                                                                                </span>
<span class="5975588843875294056" onmouseenter="enter('5975588843875294056');" onmouseout="out('5975588843875294056');" style=""> 100         mTarget = Aria.download(SingleTaskActivity.this).load(entity.getUrl());                          </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style=""> 101         if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                              </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 102           getBinding().setStateStr(getString(R.string.resume));                                          </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style=""> 103         } else if (mTarget.isRunning()) {                                                                </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 104           getBinding().setStateStr(getString(R.string.stop));                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105         }                                                                                                </span>
<span  style=""> 106                                                                                                          </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style=""> 107         if (entity.getFileSize() != 0) {                                                                 </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style=""> 108           getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                     </span>
<span class="5220159076671471735" onmouseenter="enter('5220159076671471735');" onmouseout="out('5220159076671471735');" style=""> 109           getBinding().setProgress(entity.isComplete() ? 100                                             </span>
<span class="-2601621280821840734" onmouseenter="enter('-2601621280821840734');" onmouseout="out('-2601621280821840734');" style=""> 110               : (int) (entity.getCurrentProgress() * 100 / entity.getFileSize()));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style=""> 112         getBinding().setUrl(entity.getUrl());                                                            </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style=""> 113         getBinding().setFilePath(entity.getFilePath());                                                  </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style=""> 114         mUrl = entity.getUrl();                                                                          </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style=""> 115         mFilePath = entity.getFilePath();                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116       }                                                                                                  </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 117     });                                                                                                  </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 118     getBinding().setViewModel(this);                                                                     </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 119     try {                                                                                                </span>
<span class="-9128970152216612812" onmouseenter="enter('-9128970152216612812');" onmouseout="out('-9128970152216612812');" style=""> 120       getBinding().codeView.setSource(AppUtil.getHelpCode(this, &quot;HttpDownload.java&quot;));                   </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 121     } catch (IOException e) {                                                                            </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 122       e.printStackTrace();                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124   }                                                                                                      </span>
<span  style=""> 125                                                                                                          </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 126   public void chooseUrl() {                                                                              </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 127     ModifyUrlDialog dialog =                                                                             </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 128         new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                    </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 129     dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130   }                                                                                                      </span>
<span  style=""> 131                                                                                                          </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 132   public void chooseFilePath() {                                                                         </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 133     ModifyPathDialog dialog =                                                                            </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 134         new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                     </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 135     dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136   }                                                                                                      </span>
<span  style=""> 137                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138   @Override                                                                                              </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 139   public boolean onCreateOptionsMenu(Menu menu) {                                                        </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 140     getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                   </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 141     return super.onCreateOptionsMenu(menu);                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142   }                                                                                                      </span>
<span  style=""> 143                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144   @Override                                                                                              </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 145   public boolean onMenuItemClick(MenuItem item) {                                                        </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 146     int speed = -1;                                                                                      </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 147     String msg = &quot;&quot;;                                                                                     </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 148     switch (item.getItemId()) {                                                                          </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 149       case R.id.help:                                                                                    </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 150         msg = &quot;一些小知识点：\n&quot;                                                                                </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 151             + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                     </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 152             + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;        </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 153             + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 154         showMsgDialog(&quot;tip&quot;, msg);                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155         break;                                                                                           </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 156       case R.id.speed_0:                                                                                 </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 157         speed = 0;                                                                                       </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158         break;                                                                                           </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 159       case R.id.speed_128:                                                                               </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 160         speed = 128;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161         break;                                                                                           </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 162       case R.id.speed_256:                                                                               </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 163         speed = 256;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164         break;                                                                                           </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 165       case R.id.speed_512:                                                                               </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 166         speed = 512;                                                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 167         break;                                                                                           </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 168       case R.id.speed_1m:                                                                                </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 169         speed = 1024;                                                                                    </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 170         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 172     if (speed &gt; -1) {                                                                                    </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 173       msg = item.getTitle().toString();                                                                  </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 174       Aria.download(this).setMaxSpeed(speed);                                                            </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 175       T.showShort(this, msg);                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176     }                                                                                                    </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177     return true;                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178   }                                                                                                      </span>
<span  style=""> 179                                                                                                          </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 180   @Download.onWait                                                                                       </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 181   void onWait(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 182     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 183       Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185   }                                                                                                      </span>
<span  style=""> 186                                                                                                          </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 187   @Download.onPre                                                                                        </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 188   protected void onPre(DownloadTask task) {                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 190       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192   }                                                                                                      </span>
<span  style=""> 193                                                                                                          </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 194   @Download.onTaskStart                                                                                  </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 195   void taskStart(DownloadTask task) {                                                                    </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 197       getBinding().setFileSize(task.getConvertFileSize());                                               </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 198       ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200   }                                                                                                      </span>
<span  style=""> 201                                                                                                          </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 202   @Download.onTaskRunning                                                                                </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 203   protected void running(DownloadTask task) {                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 204     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6305071450384336211" onmouseenter="enter('-6305071450384336211');" onmouseout="out('-6305071450384336211');" style=""> 205       ALog.d(TAG, &quot;isRunning&quot;);                                                                          </span>
<span class="3071335269869745191" onmouseenter="enter('3071335269869745191');" onmouseout="out('3071335269869745191');" style=""> 206       // Log.d(TAG, task.getKey());                                                                      </span>
<span class="296011094599414321" onmouseenter="enter('296011094599414321');" onmouseout="out('296011094599414321');" style=""> 207       long len = task.getFileSize();                                                                     </span>
<span class="582183389259353379" onmouseenter="enter('582183389259353379');" onmouseout="out('582183389259353379');" style=""> 208       if (len == 0) {                                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 209         getBinding().setProgress(0);                                                                     </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 210       } else {                                                                                           </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211         getBinding().setProgress(task.getPercent());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212       }                                                                                                  </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 213       getBinding().setSpeed(task.getConvertSpeed());                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215   }                                                                                                      </span>
<span  style=""> 216                                                                                                          </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 217   @Download.onTaskResume                                                                                 </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 218   void taskResume(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 219     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 220       getBinding().setStateStr(getString(R.string.stop));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222   }                                                                                                      </span>
<span  style=""> 223                                                                                                          </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 224   @Download.onTaskStop                                                                                   </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 225   void taskStop(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 226     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 227       getBinding().setStateStr(getString(R.string.resume));                                              </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 228       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230   }                                                                                                      </span>
<span  style=""> 231                                                                                                          </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 232   @Download.onTaskCancel                                                                                 </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 233   void taskCancel(DownloadTask task) {                                                                   </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 234     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 235       getBinding().setProgress(0);                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 236       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 237       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 238       Log.d(TAG, &quot;cancel&quot;);                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240   }                                                                                                      </span>
<span  style=""> 241                                                                                                          </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 242   @Download.onTaskFail                                                                                   </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 243   void taskFail(DownloadTask task, Exception e) {                                                        </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 244     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="8345907169036095393" onmouseenter="enter('8345907169036095393');" onmouseout="out('8345907169036095393');" style=""> 245       Toast.makeText(SingleTaskActivity.this, getString(R.string.download_fail), Toast.LENGTH_SHORT)     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246           .show();                                                                                       </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247       getBinding().setStateStr(getString(R.string.start));                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249   }                                                                                                      </span>
<span  style=""> 250                                                                                                          </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 251   @Download.onTaskComplete                                                                               </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 252   void taskComplete(DownloadTask task) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 253     if (task.getKey().equals(mUrl)) {                                                                    </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 254       getBinding().setProgress(100);                                                                     </span>
<span class="-4897589381415375656" onmouseenter="enter('-4897589381415375656');" onmouseout="out('-4897589381415375656');" style=""> 255       Toast.makeText(this, getString(R.string.download_success), Toast.LENGTH_SHORT).show();             </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 256       getBinding().setStateStr(getString(R.string.re_start));                                            </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 257       getBinding().setSpeed(&quot;&quot;);                                                                         </span>
<span  style=""> 258                                                                                                          </span>
<span class="-6681681893462133916" onmouseenter="enter('-6681681893462133916');" onmouseout="out('-6681681893462133916');" style=""> 259 &lt;&lt;&lt;&lt;&lt;&lt;&lt; LEFT                                                                                             </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0"> 260       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                    </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style=""> 261 ||||||| BASE                                                                                             </span>
<span class="-3639349873877828882" onmouseenter="enter('-3639349873877828882');" onmouseout="out('-3639349873877828882');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 262 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kwohrp23k5b6vdk93d3r*/"> 262 /*d94z9sk0k4hf9j3ijd - note the base isn&#x27;t actually empty, spork simply doesn&#x27;t generate a base - gd930kw🔵</abbr></span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 263 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 264                                                                                                          </span>
<span class="1675326087271222970" onmouseenter="enter('1675326087271222970');" onmouseout="out('1675326087271222970');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 265       ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getFilePath())));                        </span>
<span class="-1814092468913316143" onmouseenter="enter('-1814092468913316143');" onmouseout="out('-1814092468913316143');" style=""> 266 &gt;&gt;&gt;&gt;&gt;&gt;&gt; RIGHT                                                                                            </span>
<span  style=""> 267                                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 268     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 269   }                                                                                                      </span>
<span  style=""> 270                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 271   @Override                                                                                              </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 272   protected int setLayoutId() {                                                                          </span>
<span class="-2531695323377925263" onmouseenter="enter('-2531695323377925263');" onmouseout="out('-2531695323377925263');" style=""> 273     return R.layout.activity_single;                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 274   }                                                                                                      </span>
<span  style=""> 275                                                                                                          </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 276   public void onClick(View view) {                                                                       </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 277     switch (view.getId()) {                                                                              </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 278       case R.id.start:                                                                                   </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 279         if (mTarget.isRunning()) {                                                                       </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 280           Aria.download(this).load(mUrl).stop();                                                         </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 281         } else {                                                                                         </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 282           startD();                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 283         }                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 284         break;                                                                                           </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 285       case R.id.cancel:                                                                                  </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 286         Aria.download(this).load(mUrl).cancel(true);                                                     </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 287         break;                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 288     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 289   }                                                                                                      </span>
<span  style=""> 290                                                                                                          </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 291   private void startD() {                                                                                </span>
<span class="-7253413116279463457" onmouseenter="enter('-7253413116279463457');" onmouseout="out('-7253413116279463457');" style=""> 292     Aria.download(SingleTaskActivity.this)                                                               </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 293         .load(mUrl)                                                                                      </span>
<span class="5250241690161518029" onmouseenter="enter('5250241690161518029');" onmouseout="out('5250241690161518029');" style=""><abbr title=" 294         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;)"> 294         //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/ap🔵</abbr></span>
<span class="675193578950664775" onmouseenter="enter('675193578950664775');" onmouseout="out('675193578950664775');" style=""> 295         //.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)                                                 </span>
<span class="7432458207160587380" onmouseenter="enter('7432458207160587380');" onmouseout="out('7432458207160587380');" style=""> 296         //.addHeader(&quot;DNT&quot;, &quot;1&quot;)                                                                         </span>
<span class="3247758800684701674" onmouseenter="enter('3247758800684701674');" onmouseout="out('3247758800684701674');" style=""><abbr title=" 297         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D1068AAA9; PSTM=1519099573; BD_UPN=12314753; locale=zh; BDSVRTM=0&quot;)"> 297         //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8D🔵</abbr></span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 298         .useServerFileName(true)                                                                         </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 299         .setFilePath(mFilePath, true)                                                                    </span>
<span class="-1588220677404808704" onmouseenter="enter('-1588220677404808704');" onmouseout="out('-1588220677404808704');" style=""> 300         .setFileLenAdapter(new IHttpFileLenAdapter() {                                                   </span>
<span class="-4968473764170008746" onmouseenter="enter('-4968473764170008746');" onmouseout="out('-4968473764170008746');" style=""> 301           @Override public long handleFileLen(Map&lt;String, List&lt;String&gt;&gt; headers) {                       </span>
<span  style=""> 302                                                                                                          </span>
<span class="-3327040667133742279" onmouseenter="enter('-3327040667133742279');" onmouseout="out('-3327040667133742279');" style=""> 303             List&lt;String&gt; sLength = headers.get(&quot;Content-Length&quot;);                                        </span>
<span class="-5638961086111332224" onmouseenter="enter('-5638961086111332224');" onmouseout="out('-5638961086111332224');" style=""> 304             if (sLength == null || sLength.isEmpty()) {                                                  </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 305               return -1;                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306             }                                                                                            </span>
<span class="1006906766372690526" onmouseenter="enter('1006906766372690526');" onmouseout="out('1006906766372690526');" style=""> 307             String temp = sLength.get(0);                                                                </span>
<span  style=""> 308                                                                                                          </span>
<span class="91845659571875615" onmouseenter="enter('91845659571875615');" onmouseout="out('91845659571875615');" style=""> 309             return Long.parseLong(temp);                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 310           }                                                                                              </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 311         })                                                                                               </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 312         .start();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 313   }                                                                                                      </span>
<span  style=""> 314                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 315   @Override                                                                                              </span>
<span class="-531063095242678892" onmouseenter="enter('-531063095242678892');" onmouseout="out('-531063095242678892');" style=""> 316   protected void onStop() {                                                                              </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 317     super.onStop();                                                                                      </span>
<span class="-550267535295661387" onmouseenter="enter('-550267535295661387');" onmouseout="out('-550267535295661387');" style=""> 318     //Aria.download(this).unRegister();                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 319   }                                                                                                      </span>
<span  style=""> 320                                                                                                          </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 321   @Override protected void dataCallback(int result, Object data) {                                       </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 322     super.dataCallback(result, data);                                                                    </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 323     if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                            </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 324       mModule.uploadUrl(this, String.valueOf(data));                                                     </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 325     } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                          </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 326       mModule.updateFilePath(this, String.valueOf(data));                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 327     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 328   }                                                                                                      </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 329 }                                                                                                        </span></pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  17  package com.arialyy.simple.core.download;                                                                         </span>
<span  style="">  18                                                                                                                    </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19  import android.arch.lifecycle.Observer;                                                                           </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20  import android.arch.lifecycle.ViewModelProviders;                                                                 </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  21  import android.content.BroadcastReceiver;                                                                         </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  22  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  23  import android.content.Intent;                                                                                    </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  24  import android.os.Bundle;                                                                                         </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  25  import android.support.annotation.Nullable;                                                                       </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  26  import android.util.Log;                                                                                          </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  27  import android.view.Menu;                                                                                         </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29  import android.view.View;                                                                                         </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  30  import android.widget.Toast;                                                                                      </span>
<span  style="">  31                                                                                                                    </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  32  import com.arialyy.annotations.Download;                                                                          </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  33  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34  import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  35  import com.arialyy.aria.core.download.DownloadTarget;                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  36  import com.arialyy.aria.core.download.DownloadTask;                                                               </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  37  import com.arialyy.aria.core.inf.IEntity;                                                                         </span>
<span class="3162312193092529740" onmouseenter="enter('3162312193092529740');" onmouseout="out('3162312193092529740');" style="">  38  import com.arialyy.aria.core.inf.IHttpFileLenAdapter;                                                             </span>
<span class="-1011357815313335831" onmouseenter="enter('-1011357815313335831');" onmouseout="out('-1011357815313335831');" style="">  39  import com.arialyy.aria.core.scheduler.ISchedulers;                                                               </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40  import com.arialyy.aria.util.ALog;                                                                                </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41  import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45  import com.arialyy.simple.common.ModifyPathDialog;                                                                </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46  import com.arialyy.simple.common.ModifyUrlDialog;                                                                 </span>
<span class="1656528164781514644" onmouseenter="enter('1656528164781514644');" onmouseout="out('1656528164781514644');" style="">  47  import com.arialyy.simple.databinding.ActivitySingleBinding;                                                      </span>
<span  style="">  48                                                                                                                    </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  49  import com.arialyy.simple.util.AppUtil;                                                                           </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +import java.io.File;                                                                                              </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  51  import java.io.IOException;                                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  53  import java.util.Map;                                                                                             </span>
<span  style="">  54                                                                                                                    </span>
<span class="4867221071252569906" onmouseenter="enter('4867221071252569906');" onmouseout="out('4867221071252569906');" style="">  55  public class SingleTaskActivity extends BaseActivity&lt;ActivitySingleBinding&gt; {                                     </span>
<span  style="">  56                                                                                                                    </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  57    private String mUrl;                                                                                            </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  58    private String mFilePath;                                                                                       </span>
<span class="-270288361339542043" onmouseenter="enter('-270288361339542043');" onmouseout="out('-270288361339542043');" style="">  59    private HttpDownloadModule mModule;                                                                             </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  60    private DownloadTarget mTarget;                                                                                 </span>
<span  style="">  61                                                                                                                    </span>
<span class="-7246742105454978513" onmouseenter="enter('-7246742105454978513');" onmouseout="out('-7246742105454978513');" style="">  62    BroadcastReceiver receiver = new BroadcastReceiver() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63      @Override                                                                                                     </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style="">  64      public void onReceive(Context context, Intent intent) {                                                       </span>
<span class="-2271368729994662387" onmouseenter="enter('-2271368729994662387');" onmouseout="out('-2271368729994662387');" style="">  65        if (intent.getAction().equals(ISchedulers.ARIA_TASK_INFO_ACTION)) {                                         </span>
<span class="318909153217201271" onmouseenter="enter('318909153217201271');" onmouseout="out('318909153217201271');" style="">  66          ALog.d(TAG, &quot;state = &quot; + intent.getIntExtra(ISchedulers.TASK_STATE, -1));                                 </span>
<span class="5277103122060001392" onmouseenter="enter('5277103122060001392');" onmouseout="out('5277103122060001392');" style="">  67          ALog.d(TAG, &quot;type = &quot; + intent.getIntExtra(ISchedulers.TASK_TYPE, -1));                                   </span>
<span class="5557123844845336162" onmouseenter="enter('5557123844845336162');" onmouseout="out('5557123844845336162');" style="">  68          ALog.d(TAG, &quot;speed = &quot; + intent.getLongExtra(ISchedulers.TASK_SPEED, -1));                                </span>
<span class="2200172271181511925" onmouseenter="enter('2200172271181511925');" onmouseout="out('2200172271181511925');" style="">  69          ALog.d(TAG, &quot;percent = &quot; + intent.getIntExtra(ISchedulers.TASK_PERCENT, -1));                             </span>
<span class="5987635700832071209" onmouseenter="enter('5987635700832071209');" onmouseout="out('5987635700832071209');" style="">  70          ALog.d(TAG, &quot;entity = &quot; + intent.getParcelableExtra(ISchedulers.TASK_ENTITY).toString());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72      }                                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  73    };                                                                                                              </span>
<span  style="">  74                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  75    @Override                                                                                                       </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style="">  76    protected void onResume() {                                                                                     </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  77      super.onResume();                                                                                             </span>
<span class="3034100045943114436" onmouseenter="enter('3034100045943114436');" onmouseout="out('3034100045943114436');" style="">  78      //registerReceiver(receiver, new IntentFilter(ISchedulers.ARIA_TASK_INFO_ACTION));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79    }                                                                                                               </span>
<span  style="">  80                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81    @Override                                                                                                       </span>
<span class="-6092584662135707990" onmouseenter="enter('-6092584662135707990');" onmouseout="out('-6092584662135707990');" style="">  82    protected void onDestroy() {                                                                                    </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  83      super.onDestroy();                                                                                            </span>
<span class="-1778811199460095893" onmouseenter="enter('-1778811199460095893');" onmouseout="out('-1778811199460095893');" style="">  84      //unregisterReceiver(receiver);                                                                               </span>
<span class="-5601504215561350978" onmouseenter="enter('-5601504215561350978');" onmouseout="out('-5601504215561350978');" style="">  85      Aria.download(this).unRegister();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86    }                                                                                                               </span>
<span  style="">  87                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88    @Override                                                                                                       </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  89    protected void init(Bundle savedInstanceState) {                                                                </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  90      super.init(savedInstanceState);                                                                               </span>
<span class="4324799316594254339" onmouseenter="enter('4324799316594254339');" onmouseout="out('4324799316594254339');" style="">  91      setTitle(&quot;单任务下载&quot;);                                                                                            </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  92      Aria.download(this).register();                                                                               </span>
<span class="413277007018527418" onmouseenter="enter('413277007018527418');" onmouseout="out('413277007018527418');" style="">  93      mModule = ViewModelProviders.of(this).get(HttpDownloadModule.class);                                          </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  94      mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                              </span>
<span  style="">  95                                                                                                                    </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  96        @Override public void onChanged(@Nullable DownloadEntity entity) {                                          </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  97          if (entity == null) {                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  98            return;                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99          }                                                                                                         </span>
<span class="5975588843875294056" onmouseenter="enter('5975588843875294056');" onmouseout="out('5975588843875294056');" style=""> 100          mTarget = Aria.download(SingleTaskActivity.this).load(entity.getUrl());                                   </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style=""> 101          if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                                       </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 102            getBinding().setStateStr(getString(R.string.resume));                                                   </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style=""> 103          } else if (mTarget.isRunning()) {                                                                         </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 104            getBinding().setStateStr(getString(R.string.stop));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105          }                                                                                                         </span>
<span  style=""> 106                                                                                                                    </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style=""> 107          if (entity.getFileSize() != 0) {                                                                          </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style=""> 108            getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                              </span>
<span class="5220159076671471735" onmouseenter="enter('5220159076671471735');" onmouseout="out('5220159076671471735');" style=""> 109            getBinding().setProgress(entity.isComplete() ? 100                                                      </span>
<span class="-2601621280821840734" onmouseenter="enter('-2601621280821840734');" onmouseout="out('-2601621280821840734');" style=""> 110                : (int) (entity.getCurrentProgress() * 100 / entity.getFileSize()));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111          }                                                                                                         </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style=""> 112          getBinding().setUrl(entity.getUrl());                                                                     </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style=""> 113          getBinding().setFilePath(entity.getFilePath());                                                           </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style=""> 114          mUrl = entity.getUrl();                                                                                   </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style=""> 115          mFilePath = entity.getFilePath();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116        }                                                                                                           </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 117      });                                                                                                           </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 118      getBinding().setViewModel(this);                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 119      try {                                                                                                         </span>
<span class="-9128970152216612812" onmouseenter="enter('-9128970152216612812');" onmouseout="out('-9128970152216612812');" style=""> 120        getBinding().codeView.setSource(AppUtil.getHelpCode(this, &quot;HttpDownload.java&quot;));                            </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 121      } catch (IOException e) {                                                                                     </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 122        e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124    }                                                                                                               </span>
<span  style=""> 125                                                                                                                    </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 126    public void chooseUrl() {                                                                                       </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 127      ModifyUrlDialog dialog =                                                                                      </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 128          new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                             </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 129      dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130    }                                                                                                               </span>
<span  style=""> 131                                                                                                                    </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 132    public void chooseFilePath() {                                                                                  </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 133      ModifyPathDialog dialog =                                                                                     </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 134          new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                              </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 135      dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136    }                                                                                                               </span>
<span  style=""> 137                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138    @Override                                                                                                       </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 139    public boolean onCreateOptionsMenu(Menu menu) {                                                                 </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 140      getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                            </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 141      return super.onCreateOptionsMenu(menu);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142    }                                                                                                               </span>
<span  style=""> 143                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144    @Override                                                                                                       </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 145    public boolean onMenuItemClick(MenuItem item) {                                                                 </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 146      int speed = -1;                                                                                               </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 147      String msg = &quot;&quot;;                                                                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 148      switch (item.getItemId()) {                                                                                   </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 149        case R.id.help:                                                                                             </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 150          msg = &quot;一些小知识点：\n&quot;                                                                                         </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 151              + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                              </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 152              + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;                 </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 153              + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                         </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 154          showMsgDialog(&quot;tip&quot;, msg);                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155          break;                                                                                                    </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 156        case R.id.speed_0:                                                                                          </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 157          speed = 0;                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158          break;                                                                                                    </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 159        case R.id.speed_128:                                                                                        </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 160          speed = 128;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161          break;                                                                                                    </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 162        case R.id.speed_256:                                                                                        </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 163          speed = 256;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164          break;                                                                                                    </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 165        case R.id.speed_512:                                                                                        </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 166          speed = 512;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 167          break;                                                                                                    </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 168        case R.id.speed_1m:                                                                                         </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 169          speed = 1024;                                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 170          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 172      if (speed &gt; -1) {                                                                                             </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 173        msg = item.getTitle().toString();                                                                           </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 174        Aria.download(this).setMaxSpeed(speed);                                                                     </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 175        T.showShort(this, msg);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177      return true;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178    }                                                                                                               </span>
<span  style=""> 179                                                                                                                    </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 180    @Download.onWait                                                                                                </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 181    void onWait(DownloadTask task) {                                                                                </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 182      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 183        Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185    }                                                                                                               </span>
<span  style=""> 186                                                                                                                    </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 187    @Download.onPre                                                                                                 </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 188    protected void onPre(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 190        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192    }                                                                                                               </span>
<span  style=""> 193                                                                                                                    </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 194    @Download.onTaskStart                                                                                           </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 195    void taskStart(DownloadTask task) {                                                                             </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 197        getBinding().setFileSize(task.getConvertFileSize());                                                        </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 198        ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200    }                                                                                                               </span>
<span  style=""> 201                                                                                                                    </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 202    @Download.onTaskRunning                                                                                         </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 203    protected void running(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 204      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6305071450384336211" onmouseenter="enter('-6305071450384336211');" onmouseout="out('-6305071450384336211');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +      ALog.d(TAG, &quot;isRunning&quot;);                                                                                   </span>
<span class="1585444540576691323" onmouseenter="enter('1585444540576691323');" onmouseout="out('1585444540576691323');" style=""> 206        //Log.d(TAG, task.getKey());                                                                                </span>
<span class="296011094599414321" onmouseenter="enter('296011094599414321');" onmouseout="out('296011094599414321');" style=""> 207        long len = task.getFileSize();                                                                              </span>
<span class="582183389259353379" onmouseenter="enter('582183389259353379');" onmouseout="out('582183389259353379');" style=""> 208        if (len == 0) {                                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 209          getBinding().setProgress(0);                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 210        } else {                                                                                                    </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211          getBinding().setProgress(task.getPercent());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212        }                                                                                                           </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 213        getBinding().setSpeed(task.getConvertSpeed());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215    }                                                                                                               </span>
<span  style=""> 216                                                                                                                    </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 217    @Download.onTaskResume                                                                                          </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 218    void taskResume(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 219      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 220        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222    }                                                                                                               </span>
<span  style=""> 223                                                                                                                    </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 224    @Download.onTaskStop                                                                                            </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 225    void taskStop(DownloadTask task) {                                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 226      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 227        getBinding().setStateStr(getString(R.string.resume));                                                       </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 228        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230    }                                                                                                               </span>
<span  style=""> 231                                                                                                                    </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 232    @Download.onTaskCancel                                                                                          </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 233    void taskCancel(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 234      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 235        getBinding().setProgress(0);                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 236        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 237        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 238        Log.d(TAG, &quot;cancel&quot;);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240    }                                                                                                               </span>
<span  style=""> 241                                                                                                                    </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 242    @Download.onTaskFail                                                                                            </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 243    void taskFail(DownloadTask task, Exception e) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 244      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="8345907169036095393" onmouseenter="enter('8345907169036095393');" onmouseout="out('8345907169036095393');" style=""> 245        Toast.makeText(SingleTaskActivity.this, getString(R.string.download_fail), Toast.LENGTH_SHORT)              </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246            .show();                                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249    }                                                                                                               </span>
<span  style=""> 250                                                                                                                    </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 251    @Download.onTaskComplete                                                                                        </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 252    void taskComplete(DownloadTask task) {                                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 253 -                                                                                                                  </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 254      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 255        getBinding().setProgress(100);                                                                              </span>
<span class="-3508145684099413734" onmouseenter="enter('-3508145684099413734');" onmouseout="out('-3508145684099413734');" style=""> 256        Toast.makeText(SingleTaskActivity.this, getString(R.string.download_success),                               </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 257            Toast.LENGTH_SHORT).show();                                                                             </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 258        getBinding().setStateStr(getString(R.string.re_start));                                                     </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 259        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="7091459193991095979" onmouseenter="enter('7091459193991095979');" onmouseout="out('7091459193991095979');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +      ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getDownloadPath())));                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262    }                                                                                                               </span>
<span  style=""> 263                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264    @Override                                                                                                       </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 265    protected int setLayoutId() {                                                                                   </span>
<span class="-2531695323377925263" onmouseenter="enter('-2531695323377925263');" onmouseout="out('-2531695323377925263');" style=""> 266      return R.layout.activity_single;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267    }                                                                                                               </span>
<span  style=""> 268                                                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 269    public void onClick(View view) {                                                                                </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 270      switch (view.getId()) {                                                                                       </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 271        case R.id.start:                                                                                            </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 272          if (mTarget.isRunning()) {                                                                                </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 273            Aria.download(this).load(mUrl).stop();                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 274          } else {                                                                                                  </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 275            startD();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276          }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 277          break;                                                                                                    </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 278        case R.id.cancel:                                                                                           </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 279          Aria.download(this).load(mUrl).cancel(true);                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 280          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282    }                                                                                                               </span>
<span  style=""> 283                                                                                                                    </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 284    private void startD() {                                                                                         </span>
<span class="-7253413116279463457" onmouseenter="enter('-7253413116279463457');" onmouseout="out('-7253413116279463457');" style=""> 285      Aria.download(SingleTaskActivity.this)                                                                        </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 286          .load(mUrl)                                                                                               </span>
<span class="5250241690161518029" onmouseenter="enter('5250241690161518029');" onmouseout="out('5250241690161518029');" style=""><abbr title=" 287          //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;)"> 287          //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=🔵</abbr></span>
<span class="675193578950664775" onmouseenter="enter('675193578950664775');" onmouseout="out('675193578950664775');" style=""> 288          //.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)                                                          </span>
<span class="7432458207160587380" onmouseenter="enter('7432458207160587380');" onmouseout="out('7432458207160587380');" style=""> 289          //.addHeader(&quot;DNT&quot;, &quot;1&quot;)                                                                                  </span>
<span class="3247758800684701674" onmouseenter="enter('3247758800684701674');" onmouseout="out('3247758800684701674');" style=""><abbr title=" 290          //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D1068AAA9; PSTM=1519099573; BD_UPN=12314753; locale=zh; BDSVRTM=0&quot;)"> 290          //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D10🔵</abbr></span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 291          .useServerFileName(true)                                                                                  </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 292          .setFilePath(mFilePath, true)                                                                             </span>
<span class="-1588220677404808704" onmouseenter="enter('-1588220677404808704');" onmouseout="out('-1588220677404808704');" style=""> 293          .setFileLenAdapter(new IHttpFileLenAdapter() {                                                            </span>
<span class="-4968473764170008746" onmouseenter="enter('-4968473764170008746');" onmouseout="out('-4968473764170008746');" style=""> 294            @Override public long handleFileLen(Map&lt;String, List&lt;String&gt;&gt; headers) {                                </span>
<span  style=""> 295                                                                                                                    </span>
<span class="-3327040667133742279" onmouseenter="enter('-3327040667133742279');" onmouseout="out('-3327040667133742279');" style=""> 296              List&lt;String&gt; sLength = headers.get(&quot;Content-Length&quot;);                                                 </span>
<span class="-5638961086111332224" onmouseenter="enter('-5638961086111332224');" onmouseout="out('-5638961086111332224');" style=""> 297              if (sLength == null || sLength.isEmpty()) {                                                           </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 298                return -1;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299              }                                                                                                     </span>
<span class="1006906766372690526" onmouseenter="enter('1006906766372690526');" onmouseout="out('1006906766372690526');" style=""> 300              String temp = sLength.get(0);                                                                         </span>
<span  style=""> 301                                                                                                                    </span>
<span class="91845659571875615" onmouseenter="enter('91845659571875615');" onmouseout="out('91845659571875615');" style=""> 302              return Long.parseLong(temp);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 304          })                                                                                                        </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 305          .start();                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306    }                                                                                                               </span>
<span  style=""> 307                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 308    @Override                                                                                                       </span>
<span class="-531063095242678892" onmouseenter="enter('-531063095242678892');" onmouseout="out('-531063095242678892');" style=""> 309    protected void onStop() {                                                                                       </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 310      super.onStop();                                                                                               </span>
<span class="-550267535295661387" onmouseenter="enter('-550267535295661387');" onmouseout="out('-550267535295661387');" style=""> 311      //Aria.download(this).unRegister();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312    }                                                                                                               </span>
<span  style=""> 313                                                                                                                    </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 314    @Override protected void dataCallback(int result, Object data) {                                                </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 315      super.dataCallback(result, data);                                                                             </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 316      if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                                     </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 317        mModule.uploadUrl(this, String.valueOf(data));                                                              </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 318      } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                                   </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 319        mModule.updateFilePath(this, String.valueOf(data));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="4534359625031764666" onmouseenter="enter('4534359625031764666');" onmouseout="out('4534359625031764666');" style="">   1  /*                                                                                                                </span>
<span class="-4176855950178531235" onmouseenter="enter('-4176855950178531235');" onmouseout="out('-4176855950178531235');" style="">   2   * Copyright (C) 2016 AriaLyy(https://github.com/AriaLyy/Aria)                                                    </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   3   *                                                                                                                </span>
<span class="-7144700690364548245" onmouseenter="enter('-7144700690364548245');" onmouseout="out('-7144700690364548245');" style="">   4   * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);                                                </span>
<span class="-6614298523444173250" onmouseenter="enter('-6614298523444173250');" onmouseout="out('-6614298523444173250');" style="">   5   * you may not use this file except in compliance with the License.                                               </span>
<span class="-4753901504248728101" onmouseenter="enter('-4753901504248728101');" onmouseout="out('-4753901504248728101');" style="">   6   * You may obtain a copy of the License at                                                                        </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   7   *                                                                                                                </span>
<span class="-763207030729826407" onmouseenter="enter('-763207030729826407');" onmouseout="out('-763207030729826407');" style="">   8   *      http://www.apache.org/licenses/LICENSE-2.0                                                                </span>
<span class="329605257831645060" onmouseenter="enter('329605257831645060');" onmouseout="out('329605257831645060');" style="">   9   *                                                                                                                </span>
<span class="2557607632756179983" onmouseenter="enter('2557607632756179983');" onmouseout="out('2557607632756179983');" style="">  10   * Unless required by applicable law or agreed to in writing, software                                            </span>
<span class="-9189129105512731955" onmouseenter="enter('-9189129105512731955');" onmouseout="out('-9189129105512731955');" style="">  11   * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,                                              </span>
<span class="5781161717946418340" onmouseenter="enter('5781161717946418340');" onmouseout="out('5781161717946418340');" style="">  12   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.                                       </span>
<span class="1761562277992059393" onmouseenter="enter('1761562277992059393');" onmouseout="out('1761562277992059393');" style="">  13   * See the License for the specific language governing permissions and                                            </span>
<span class="7217408601297779962" onmouseenter="enter('7217408601297779962');" onmouseout="out('7217408601297779962');" style="">  14   * limitations under the License.                                                                                 </span>
<span class="-3478703399357275674" onmouseenter="enter('-3478703399357275674');" onmouseout="out('-3478703399357275674');" style="">  15   */                                                                                                               </span>
<span  style="">  16                                                                                                                    </span>
<span class="7519035424828270405" onmouseenter="enter('7519035424828270405');" onmouseout="out('7519035424828270405');" style="">  17  package com.arialyy.simple.core.download;                                                                         </span>
<span  style="">  18                                                                                                                    </span>
<span class="-7230971990618671667" onmouseenter="enter('-7230971990618671667');" onmouseout="out('-7230971990618671667');" style="">  19  import android.arch.lifecycle.Observer;                                                                           </span>
<span class="7318642583539288218" onmouseenter="enter('7318642583539288218');" onmouseout="out('7318642583539288218');" style="">  20  import android.arch.lifecycle.ViewModelProviders;                                                                 </span>
<span class="-489389385851058391" onmouseenter="enter('-489389385851058391');" onmouseout="out('-489389385851058391');" style="">  21  import android.content.BroadcastReceiver;                                                                         </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">  22  import android.content.Context;                                                                                   </span>
<span class="6568903789857736568" onmouseenter="enter('6568903789857736568');" onmouseout="out('6568903789857736568');" style="">  23  import android.content.Intent;                                                                                    </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">  24  import android.os.Bundle;                                                                                         </span>
<span class="4394652512097310678" onmouseenter="enter('4394652512097310678');" onmouseout="out('4394652512097310678');" style="">  25  import android.support.annotation.Nullable;                                                                       </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  26  import android.util.Log;                                                                                          </span>
<span class="-603490076395619238" onmouseenter="enter('-603490076395619238');" onmouseout="out('-603490076395619238');" style="">  27  import android.view.Menu;                                                                                         </span>
<span class="6391706839654240930" onmouseenter="enter('6391706839654240930');" onmouseout="out('6391706839654240930');" style="">  28  import android.view.MenuItem;                                                                                     </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  29  import android.view.View;                                                                                         </span>
<span class="-4373317539211938720" onmouseenter="enter('-4373317539211938720');" onmouseout="out('-4373317539211938720');" style="">  30  import android.widget.Toast;                                                                                      </span>
<span  style="">  31                                                                                                                    </span>
<span class="-2380478474330800654" onmouseenter="enter('-2380478474330800654');" onmouseout="out('-2380478474330800654');" style="">  32  import com.arialyy.annotations.Download;                                                                          </span>
<span class="-3972257947549510103" onmouseenter="enter('-3972257947549510103');" onmouseout="out('-3972257947549510103');" style="">  33  import com.arialyy.aria.core.Aria;                                                                                </span>
<span class="1932658903610588883" onmouseenter="enter('1932658903610588883');" onmouseout="out('1932658903610588883');" style="">  34  import com.arialyy.aria.core.download.DownloadEntity;                                                             </span>
<span class="-7859806635464554587" onmouseenter="enter('-7859806635464554587');" onmouseout="out('-7859806635464554587');" style="">  35  import com.arialyy.aria.core.download.DownloadTarget;                                                             </span>
<span class="-2556631877775212617" onmouseenter="enter('-2556631877775212617');" onmouseout="out('-2556631877775212617');" style="">  36  import com.arialyy.aria.core.download.DownloadTask;                                                               </span>
<span class="-5016163043314935005" onmouseenter="enter('-5016163043314935005');" onmouseout="out('-5016163043314935005');" style="">  37  import com.arialyy.aria.core.inf.IEntity;                                                                         </span>
<span class="3162312193092529740" onmouseenter="enter('3162312193092529740');" onmouseout="out('3162312193092529740');" style="">  38  import com.arialyy.aria.core.inf.IHttpFileLenAdapter;                                                             </span>
<span class="-1011357815313335831" onmouseenter="enter('-1011357815313335831');" onmouseout="out('-1011357815313335831');" style="">  39  import com.arialyy.aria.core.scheduler.ISchedulers;                                                               </span>
<span class="-3586495952513455611" onmouseenter="enter('-3586495952513455611');" onmouseout="out('-3586495952513455611');" style="">  40  import com.arialyy.aria.util.ALog;                                                                                </span>
<span class="-3106139894727218967" onmouseenter="enter('-3106139894727218967');" onmouseout="out('-3106139894727218967');" style="">  41  import com.arialyy.aria.util.CommonUtil;                                                                          </span>
<span class="5440361504776615923" onmouseenter="enter('5440361504776615923');" onmouseout="out('5440361504776615923');" style="">  42  import com.arialyy.frame.util.show.T;                                                                             </span>
<span class="3085341167916309783" onmouseenter="enter('3085341167916309783');" onmouseout="out('3085341167916309783');" style="">  43  import com.arialyy.simple.R;                                                                                      </span>
<span class="-5031719793588748908" onmouseenter="enter('-5031719793588748908');" onmouseout="out('-5031719793588748908');" style="">  44  import com.arialyy.simple.base.BaseActivity;                                                                      </span>
<span class="-3257844576796942069" onmouseenter="enter('-3257844576796942069');" onmouseout="out('-3257844576796942069');" style="">  45  import com.arialyy.simple.common.ModifyPathDialog;                                                                </span>
<span class="-4585329163532252334" onmouseenter="enter('-4585329163532252334');" onmouseout="out('-4585329163532252334');" style="">  46  import com.arialyy.simple.common.ModifyUrlDialog;                                                                 </span>
<span class="1656528164781514644" onmouseenter="enter('1656528164781514644');" onmouseout="out('1656528164781514644');" style="">  47  import com.arialyy.simple.databinding.ActivitySingleBinding;                                                      </span>
<span  style="">  48                                                                                                                    </span>
<span class="7970511749747970078" onmouseenter="enter('7970511749747970078');" onmouseout="out('7970511749747970078');" style="">  49  import com.arialyy.simple.util.AppUtil;                                                                           </span>
<span class="-3926401431737521278" onmouseenter="enter('-3926401431737521278');" onmouseout="out('-3926401431737521278');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  50 +import java.io.File;                                                                                              </span>
<span class="103340661636203254" onmouseenter="enter('103340661636203254');" onmouseout="out('103340661636203254');" style="">  51  import java.io.IOException;                                                                                       </span>
<span class="-1786020958497218848" onmouseenter="enter('-1786020958497218848');" onmouseout="out('-1786020958497218848');" style="">  52  import java.util.List;                                                                                            </span>
<span class="6618655971923850695" onmouseenter="enter('6618655971923850695');" onmouseout="out('6618655971923850695');" style="">  53  import java.util.Map;                                                                                             </span>
<span  style="">  54                                                                                                                    </span>
<span class="4867221071252569906" onmouseenter="enter('4867221071252569906');" onmouseout="out('4867221071252569906');" style="">  55  public class SingleTaskActivity extends BaseActivity&lt;ActivitySingleBinding&gt; {                                     </span>
<span  style="">  56                                                                                                                    </span>
<span class="-4666459667448884810" onmouseenter="enter('-4666459667448884810');" onmouseout="out('-4666459667448884810');" style="">  57    private String mUrl;                                                                                            </span>
<span class="3205409208605352826" onmouseenter="enter('3205409208605352826');" onmouseout="out('3205409208605352826');" style="">  58    private String mFilePath;                                                                                       </span>
<span class="-270288361339542043" onmouseenter="enter('-270288361339542043');" onmouseout="out('-270288361339542043');" style="">  59    private HttpDownloadModule mModule;                                                                             </span>
<span class="-875037524065829818" onmouseenter="enter('-875037524065829818');" onmouseout="out('-875037524065829818');" style="">  60    private DownloadTarget mTarget;                                                                                 </span>
<span  style="">  61                                                                                                                    </span>
<span class="-7246742105454978513" onmouseenter="enter('-7246742105454978513');" onmouseout="out('-7246742105454978513');" style="">  62    BroadcastReceiver receiver = new BroadcastReceiver() {                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  63      @Override                                                                                                     </span>
<span class="-1520739091809898546" onmouseenter="enter('-1520739091809898546');" onmouseout="out('-1520739091809898546');" style="">  64      public void onReceive(Context context, Intent intent) {                                                       </span>
<span class="-2271368729994662387" onmouseenter="enter('-2271368729994662387');" onmouseout="out('-2271368729994662387');" style="">  65        if (intent.getAction().equals(ISchedulers.ARIA_TASK_INFO_ACTION)) {                                         </span>
<span class="318909153217201271" onmouseenter="enter('318909153217201271');" onmouseout="out('318909153217201271');" style="">  66          ALog.d(TAG, &quot;state = &quot; + intent.getIntExtra(ISchedulers.TASK_STATE, -1));                                 </span>
<span class="5277103122060001392" onmouseenter="enter('5277103122060001392');" onmouseout="out('5277103122060001392');" style="">  67          ALog.d(TAG, &quot;type = &quot; + intent.getIntExtra(ISchedulers.TASK_TYPE, -1));                                   </span>
<span class="5557123844845336162" onmouseenter="enter('5557123844845336162');" onmouseout="out('5557123844845336162');" style="">  68          ALog.d(TAG, &quot;speed = &quot; + intent.getLongExtra(ISchedulers.TASK_SPEED, -1));                                </span>
<span class="2200172271181511925" onmouseenter="enter('2200172271181511925');" onmouseout="out('2200172271181511925');" style="">  69          ALog.d(TAG, &quot;percent = &quot; + intent.getIntExtra(ISchedulers.TASK_PERCENT, -1));                             </span>
<span class="5987635700832071209" onmouseenter="enter('5987635700832071209');" onmouseout="out('5987635700832071209');" style="">  70          ALog.d(TAG, &quot;entity = &quot; + intent.getParcelableExtra(ISchedulers.TASK_ENTITY).toString());                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  71        }                                                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  72      }                                                                                                             </span>
<span class="2468309323999483380" onmouseenter="enter('2468309323999483380');" onmouseout="out('2468309323999483380');" style="">  73    };                                                                                                              </span>
<span  style="">  74                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  75    @Override                                                                                                       </span>
<span class="302393315460284103" onmouseenter="enter('302393315460284103');" onmouseout="out('302393315460284103');" style="">  76    protected void onResume() {                                                                                     </span>
<span class="-6840488528374549322" onmouseenter="enter('-6840488528374549322');" onmouseout="out('-6840488528374549322');" style="">  77      super.onResume();                                                                                             </span>
<span class="3034100045943114436" onmouseenter="enter('3034100045943114436');" onmouseout="out('3034100045943114436');" style="">  78      //registerReceiver(receiver, new IntentFilter(ISchedulers.ARIA_TASK_INFO_ACTION));                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  79    }                                                                                                               </span>
<span  style="">  80                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  81    @Override                                                                                                       </span>
<span class="-6092584662135707990" onmouseenter="enter('-6092584662135707990');" onmouseout="out('-6092584662135707990');" style="">  82    protected void onDestroy() {                                                                                    </span>
<span class="7275190530034972367" onmouseenter="enter('7275190530034972367');" onmouseout="out('7275190530034972367');" style="">  83      super.onDestroy();                                                                                            </span>
<span class="-1778811199460095893" onmouseenter="enter('-1778811199460095893');" onmouseout="out('-1778811199460095893');" style="">  84      //unregisterReceiver(receiver);                                                                               </span>
<span class="-5601504215561350978" onmouseenter="enter('-5601504215561350978');" onmouseout="out('-5601504215561350978');" style="">  85      Aria.download(this).unRegister();                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  86    }                                                                                                               </span>
<span  style="">  87                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  88    @Override                                                                                                       </span>
<span class="-1066104650697060826" onmouseenter="enter('-1066104650697060826');" onmouseout="out('-1066104650697060826');" style="">  89    protected void init(Bundle savedInstanceState) {                                                                </span>
<span class="-3681223745260146251" onmouseenter="enter('-3681223745260146251');" onmouseout="out('-3681223745260146251');" style="">  90      super.init(savedInstanceState);                                                                               </span>
<span class="4324799316594254339" onmouseenter="enter('4324799316594254339');" onmouseout="out('4324799316594254339');" style="">  91      setTitle(&quot;单任务下载&quot;);                                                                                            </span>
<span class="9009434824846724467" onmouseenter="enter('9009434824846724467');" onmouseout="out('9009434824846724467');" style="">  92      Aria.download(this).register();                                                                               </span>
<span class="413277007018527418" onmouseenter="enter('413277007018527418');" onmouseout="out('413277007018527418');" style="">  93      mModule = ViewModelProviders.of(this).get(HttpDownloadModule.class);                                          </span>
<span class="8581635610595934651" onmouseenter="enter('8581635610595934651');" onmouseout="out('8581635610595934651');" style="">  94      mModule.getHttpDownloadInfo(this).observe(this, new Observer&lt;DownloadEntity&gt;() {                              </span>
<span  style="">  95                                                                                                                    </span>
<span class="-8172591588167238843" onmouseenter="enter('-8172591588167238843');" onmouseout="out('-8172591588167238843');" style="">  96        @Override public void onChanged(@Nullable DownloadEntity entity) {                                          </span>
<span class="6617779912342853710" onmouseenter="enter('6617779912342853710');" onmouseout="out('6617779912342853710');" style="">  97          if (entity == null) {                                                                                     </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  98            return;                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99          }                                                                                                         </span>
<span class="5975588843875294056" onmouseenter="enter('5975588843875294056');" onmouseout="out('5975588843875294056');" style=""> 100          mTarget = Aria.download(SingleTaskActivity.this).load(entity.getUrl());                                   </span>
<span class="7200174763350758916" onmouseenter="enter('7200174763350758916');" onmouseout="out('7200174763350758916');" style=""> 101          if (mTarget.getTaskState() == IEntity.STATE_STOP) {                                                       </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 102            getBinding().setStateStr(getString(R.string.resume));                                                   </span>
<span class="5856760956219655137" onmouseenter="enter('5856760956219655137');" onmouseout="out('5856760956219655137');" style=""> 103          } else if (mTarget.isRunning()) {                                                                         </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 104            getBinding().setStateStr(getString(R.string.stop));                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105          }                                                                                                         </span>
<span  style=""> 106                                                                                                                    </span>
<span class="7649196229788926835" onmouseenter="enter('7649196229788926835');" onmouseout="out('7649196229788926835');" style=""> 107          if (entity.getFileSize() != 0) {                                                                          </span>
<span class="8859342593398829046" onmouseenter="enter('8859342593398829046');" onmouseout="out('8859342593398829046');" style=""> 108            getBinding().setFileSize(CommonUtil.formatFileSize(entity.getFileSize()));                              </span>
<span class="5220159076671471735" onmouseenter="enter('5220159076671471735');" onmouseout="out('5220159076671471735');" style=""> 109            getBinding().setProgress(entity.isComplete() ? 100                                                      </span>
<span class="-2601621280821840734" onmouseenter="enter('-2601621280821840734');" onmouseout="out('-2601621280821840734');" style=""> 110                : (int) (entity.getCurrentProgress() * 100 / entity.getFileSize()));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111          }                                                                                                         </span>
<span class="312669592212852878" onmouseenter="enter('312669592212852878');" onmouseout="out('312669592212852878');" style=""> 112          getBinding().setUrl(entity.getUrl());                                                                     </span>
<span class="-6636005988783009650" onmouseenter="enter('-6636005988783009650');" onmouseout="out('-6636005988783009650');" style=""> 113          getBinding().setFilePath(entity.getFilePath());                                                           </span>
<span class="7636402475563976368" onmouseenter="enter('7636402475563976368');" onmouseout="out('7636402475563976368');" style=""> 114          mUrl = entity.getUrl();                                                                                   </span>
<span class="6090178590722817679" onmouseenter="enter('6090178590722817679');" onmouseout="out('6090178590722817679');" style=""> 115          mFilePath = entity.getFilePath();                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116        }                                                                                                           </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style=""> 117      });                                                                                                           </span>
<span class="2689676048624088504" onmouseenter="enter('2689676048624088504');" onmouseout="out('2689676048624088504');" style=""> 118      getBinding().setViewModel(this);                                                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 119      try {                                                                                                         </span>
<span class="-9128970152216612812" onmouseenter="enter('-9128970152216612812');" onmouseout="out('-9128970152216612812');" style=""> 120        getBinding().codeView.setSource(AppUtil.getHelpCode(this, &quot;HttpDownload.java&quot;));                            </span>
<span class="7080241092423381085" onmouseenter="enter('7080241092423381085');" onmouseout="out('7080241092423381085');" style=""> 121      } catch (IOException e) {                                                                                     </span>
<span class="4090663313211582937" onmouseenter="enter('4090663313211582937');" onmouseout="out('4090663313211582937');" style=""> 122        e.printStackTrace();                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124    }                                                                                                               </span>
<span  style=""> 125                                                                                                                    </span>
<span class="4407272597767842221" onmouseenter="enter('4407272597767842221');" onmouseout="out('4407272597767842221');" style=""> 126    public void chooseUrl() {                                                                                       </span>
<span class="2248634149252729525" onmouseenter="enter('2248634149252729525');" onmouseout="out('2248634149252729525');" style=""> 127      ModifyUrlDialog dialog =                                                                                      </span>
<span class="8926493826148225538" onmouseenter="enter('8926493826148225538');" onmouseout="out('8926493826148225538');" style=""> 128          new ModifyUrlDialog(this, getString(R.string.modify_url_dialog_title), mUrl);                             </span>
<span class="9020756317713997367" onmouseenter="enter('9020756317713997367');" onmouseout="out('9020756317713997367');" style=""> 129      dialog.show(getSupportFragmentManager(), &quot;ModifyUrlDialog&quot;);                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130    }                                                                                                               </span>
<span  style=""> 131                                                                                                                    </span>
<span class="4839679526309528449" onmouseenter="enter('4839679526309528449');" onmouseout="out('4839679526309528449');" style=""> 132    public void chooseFilePath() {                                                                                  </span>
<span class="-1352144232472105960" onmouseenter="enter('-1352144232472105960');" onmouseout="out('-1352144232472105960');" style=""> 133      ModifyPathDialog dialog =                                                                                     </span>
<span class="5979254398312448055" onmouseenter="enter('5979254398312448055');" onmouseout="out('5979254398312448055');" style=""> 134          new ModifyPathDialog(this, getString(R.string.modify_file_path), mFilePath);                              </span>
<span class="9194111109437664418" onmouseenter="enter('9194111109437664418');" onmouseout="out('9194111109437664418');" style=""> 135      dialog.show(getSupportFragmentManager(), &quot;ModifyPathDialog&quot;);                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136    }                                                                                                               </span>
<span  style=""> 137                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 138    @Override                                                                                                       </span>
<span class="-2530560811565771476" onmouseenter="enter('-2530560811565771476');" onmouseout="out('-2530560811565771476');" style=""> 139    public boolean onCreateOptionsMenu(Menu menu) {                                                                 </span>
<span class="3754108192622572597" onmouseenter="enter('3754108192622572597');" onmouseout="out('3754108192622572597');" style=""> 140      getMenuInflater().inflate(R.menu.menu_single_task_activity, menu);                                            </span>
<span class="7051828724230799135" onmouseenter="enter('7051828724230799135');" onmouseout="out('7051828724230799135');" style=""> 141      return super.onCreateOptionsMenu(menu);                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142    }                                                                                                               </span>
<span  style=""> 143                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 144    @Override                                                                                                       </span>
<span class="5880999151807412293" onmouseenter="enter('5880999151807412293');" onmouseout="out('5880999151807412293');" style=""> 145    public boolean onMenuItemClick(MenuItem item) {                                                                 </span>
<span class="-6299314712448820598" onmouseenter="enter('-6299314712448820598');" onmouseout="out('-6299314712448820598');" style=""> 146      int speed = -1;                                                                                               </span>
<span class="-6430732183685696681" onmouseenter="enter('-6430732183685696681');" onmouseout="out('-6430732183685696681');" style=""> 147      String msg = &quot;&quot;;                                                                                              </span>
<span class="2068182408853392247" onmouseenter="enter('2068182408853392247');" onmouseout="out('2068182408853392247');" style=""> 148      switch (item.getItemId()) {                                                                                   </span>
<span class="-6521584821595940547" onmouseenter="enter('-6521584821595940547');" onmouseout="out('-6521584821595940547');" style=""> 149        case R.id.help:                                                                                             </span>
<span class="-3279023088935794772" onmouseenter="enter('-3279023088935794772');" onmouseout="out('-3279023088935794772');" style=""> 150          msg = &quot;一些小知识点：\n&quot;                                                                                         </span>
<span class="6301001880539717776" onmouseenter="enter('6301001880539717776');" onmouseout="out('6301001880539717776');" style=""> 151              + &quot;1、你可以在注解中增加链接，用于指定被注解的方法只能被特定的下载任务回调，以防止progress乱跳\n&quot;                                              </span>
<span class="-3224807043465458387" onmouseenter="enter('-3224807043465458387');" onmouseout="out('-3224807043465458387');" style=""> 152              + &quot;2、当遇到网络慢的情况时，你可以先使用onPre()更新UI界面，待连接成功时，再在onTaskPre()获取完整的task数据，然后给UI界面设置正确的数据\n&quot;                 </span>
<span class="-8150766010147884596" onmouseenter="enter('-8150766010147884596');" onmouseout="out('-8150766010147884596');" style=""> 153              + &quot;3、你可以在界面初始化时通过Aria.download(this).load(URL).getPercent()等方法快速获取相关任务的一些数据&quot;;                         </span>
<span class="-942095519300849433" onmouseenter="enter('-942095519300849433');" onmouseout="out('-942095519300849433');" style=""> 154          showMsgDialog(&quot;tip&quot;, msg);                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 155          break;                                                                                                    </span>
<span class="-1980788181597278092" onmouseenter="enter('-1980788181597278092');" onmouseout="out('-1980788181597278092');" style=""> 156        case R.id.speed_0:                                                                                          </span>
<span class="6444337346196179028" onmouseenter="enter('6444337346196179028');" onmouseout="out('6444337346196179028');" style=""> 157          speed = 0;                                                                                                </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 158          break;                                                                                                    </span>
<span class="-6840803512025361503" onmouseenter="enter('-6840803512025361503');" onmouseout="out('-6840803512025361503');" style=""> 159        case R.id.speed_128:                                                                                        </span>
<span class="8422772957632983035" onmouseenter="enter('8422772957632983035');" onmouseout="out('8422772957632983035');" style=""> 160          speed = 128;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 161          break;                                                                                                    </span>
<span class="-6067234910822117639" onmouseenter="enter('-6067234910822117639');" onmouseout="out('-6067234910822117639');" style=""> 162        case R.id.speed_256:                                                                                        </span>
<span class="1241639960729524413" onmouseenter="enter('1241639960729524413');" onmouseout="out('1241639960729524413');" style=""> 163          speed = 256;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 164          break;                                                                                                    </span>
<span class="-8197721130844978126" onmouseenter="enter('-8197721130844978126');" onmouseout="out('-8197721130844978126');" style=""> 165        case R.id.speed_512:                                                                                        </span>
<span class="8525785055317784521" onmouseenter="enter('8525785055317784521');" onmouseout="out('8525785055317784521');" style=""> 166          speed = 512;                                                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 167          break;                                                                                                    </span>
<span class="7703267709046074483" onmouseenter="enter('7703267709046074483');" onmouseout="out('7703267709046074483');" style=""> 168        case R.id.speed_1m:                                                                                         </span>
<span class="-3745771095863683531" onmouseenter="enter('-3745771095863683531');" onmouseout="out('-3745771095863683531');" style=""> 169          speed = 1024;                                                                                             </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 170          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171      }                                                                                                             </span>
<span class="-2591985979865907418" onmouseenter="enter('-2591985979865907418');" onmouseout="out('-2591985979865907418');" style=""> 172      if (speed &gt; -1) {                                                                                             </span>
<span class="-1556799122462941351" onmouseenter="enter('-1556799122462941351');" onmouseout="out('-1556799122462941351');" style=""> 173        msg = item.getTitle().toString();                                                                           </span>
<span class="-7090461456823314995" onmouseenter="enter('-7090461456823314995');" onmouseout="out('-7090461456823314995');" style=""> 174        Aria.download(this).setMaxSpeed(speed);                                                                     </span>
<span class="8778503033697707253" onmouseenter="enter('8778503033697707253');" onmouseout="out('8778503033697707253');" style=""> 175        T.showShort(this, msg);                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 176      }                                                                                                             </span>
<span class="-3118901906653197100" onmouseenter="enter('-3118901906653197100');" onmouseout="out('-3118901906653197100');" style=""> 177      return true;                                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178    }                                                                                                               </span>
<span  style=""> 179                                                                                                                    </span>
<span class="-8042411901897852112" onmouseenter="enter('-8042411901897852112');" onmouseout="out('-8042411901897852112');" style=""> 180    @Download.onWait                                                                                                </span>
<span class="-7667766434936538444" onmouseenter="enter('-7667766434936538444');" onmouseout="out('-7667766434936538444');" style=""> 181    void onWait(DownloadTask task) {                                                                                </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 182      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7527561602879099242" onmouseenter="enter('-7527561602879099242');" onmouseout="out('-7527561602879099242');" style=""> 183        Log.d(TAG, &quot;wait ==&gt; &quot; + task.getDownloadEntity().getFileName());                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 184      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185    }                                                                                                               </span>
<span  style=""> 186                                                                                                                    </span>
<span class="-6204759472658089530" onmouseenter="enter('-6204759472658089530');" onmouseout="out('-6204759472658089530');" style=""> 187    @Download.onPre                                                                                                 </span>
<span class="1401240859450162996" onmouseenter="enter('1401240859450162996');" onmouseout="out('1401240859450162996');" style=""> 188    protected void onPre(DownloadTask task) {                                                                       </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 189      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 190        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 191      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 192    }                                                                                                               </span>
<span  style=""> 193                                                                                                                    </span>
<span class="-5647464058097434391" onmouseenter="enter('-5647464058097434391');" onmouseout="out('-5647464058097434391');" style=""> 194    @Download.onTaskStart                                                                                           </span>
<span class="-3489728825152713992" onmouseenter="enter('-3489728825152713992');" onmouseout="out('-3489728825152713992');" style=""> 195    void taskStart(DownloadTask task) {                                                                             </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 196      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-7975025212613259562" onmouseenter="enter('-7975025212613259562');" onmouseout="out('-7975025212613259562');" style=""> 197        getBinding().setFileSize(task.getConvertFileSize());                                                        </span>
<span class="7370352785972890518" onmouseenter="enter('7370352785972890518');" onmouseout="out('7370352785972890518');" style=""> 198        ALog.d(TAG, &quot;isComplete = &quot; + task.isComplete() + &quot;, state = &quot; + task.getState());                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 199      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 200    }                                                                                                               </span>
<span  style=""> 201                                                                                                                    </span>
<span class="-864419370262419716" onmouseenter="enter('-864419370262419716');" onmouseout="out('-864419370262419716');" style=""> 202    @Download.onTaskRunning                                                                                         </span>
<span class="-5715397109330147487" onmouseenter="enter('-5715397109330147487');" onmouseout="out('-5715397109330147487');" style=""> 203    protected void running(DownloadTask task) {                                                                     </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 204      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6305071450384336211" onmouseenter="enter('-6305071450384336211');" onmouseout="out('-6305071450384336211');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 205 +      ALog.d(TAG, &quot;isRunning&quot;);                                                                                   </span>
<span class="1585444540576691323" onmouseenter="enter('1585444540576691323');" onmouseout="out('1585444540576691323');" style=""> 206        //Log.d(TAG, task.getKey());                                                                                </span>
<span class="296011094599414321" onmouseenter="enter('296011094599414321');" onmouseout="out('296011094599414321');" style=""> 207        long len = task.getFileSize();                                                                              </span>
<span class="582183389259353379" onmouseenter="enter('582183389259353379');" onmouseout="out('582183389259353379');" style=""> 208        if (len == 0) {                                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 209          getBinding().setProgress(0);                                                                              </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 210        } else {                                                                                                    </span>
<span class="-3397659741395891363" onmouseenter="enter('-3397659741395891363');" onmouseout="out('-3397659741395891363');" style=""> 211          getBinding().setProgress(task.getPercent());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 212        }                                                                                                           </span>
<span class="4249745566114124598" onmouseenter="enter('4249745566114124598');" onmouseout="out('4249745566114124598');" style=""> 213        getBinding().setSpeed(task.getConvertSpeed());                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 214      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 215    }                                                                                                               </span>
<span  style=""> 216                                                                                                                    </span>
<span class="-1964132591249110792" onmouseenter="enter('-1964132591249110792');" onmouseout="out('-1964132591249110792');" style=""> 217    @Download.onTaskResume                                                                                          </span>
<span class="1375985835195427479" onmouseenter="enter('1375985835195427479');" onmouseout="out('1375985835195427479');" style=""> 218    void taskResume(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 219      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5865798225043153352" onmouseenter="enter('5865798225043153352');" onmouseout="out('5865798225043153352');" style=""> 220        getBinding().setStateStr(getString(R.string.stop));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 221      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 222    }                                                                                                               </span>
<span  style=""> 223                                                                                                                    </span>
<span class="-3553711562265288575" onmouseenter="enter('-3553711562265288575');" onmouseout="out('-3553711562265288575');" style=""> 224    @Download.onTaskStop                                                                                            </span>
<span class="3257227039336827230" onmouseenter="enter('3257227039336827230');" onmouseout="out('3257227039336827230');" style=""> 225    void taskStop(DownloadTask task) {                                                                              </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 226      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="5627487529352218426" onmouseenter="enter('5627487529352218426');" onmouseout="out('5627487529352218426');" style=""> 227        getBinding().setStateStr(getString(R.string.resume));                                                       </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 228        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 229      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 230    }                                                                                                               </span>
<span  style=""> 231                                                                                                                    </span>
<span class="-5094580736328409260" onmouseenter="enter('-5094580736328409260');" onmouseout="out('-5094580736328409260');" style=""> 232    @Download.onTaskCancel                                                                                          </span>
<span class="-1000826273647183417" onmouseenter="enter('-1000826273647183417');" onmouseout="out('-1000826273647183417');" style=""> 233    void taskCancel(DownloadTask task) {                                                                            </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 234      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-6615254583173928520" onmouseenter="enter('-6615254583173928520');" onmouseout="out('-6615254583173928520');" style=""> 235        getBinding().setProgress(0);                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 236        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 237        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="-1197582212339690243" onmouseenter="enter('-1197582212339690243');" onmouseout="out('-1197582212339690243');" style=""> 238        Log.d(TAG, &quot;cancel&quot;);                                                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 239      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 240    }                                                                                                               </span>
<span  style=""> 241                                                                                                                    </span>
<span class="-2650846547464891141" onmouseenter="enter('-2650846547464891141');" onmouseout="out('-2650846547464891141');" style=""> 242    @Download.onTaskFail                                                                                            </span>
<span class="7260724064884477433" onmouseenter="enter('7260724064884477433');" onmouseout="out('7260724064884477433');" style=""> 243    void taskFail(DownloadTask task, Exception e) {                                                                 </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 244      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="8345907169036095393" onmouseenter="enter('8345907169036095393');" onmouseout="out('8345907169036095393');" style=""> 245        Toast.makeText(SingleTaskActivity.this, getString(R.string.download_fail), Toast.LENGTH_SHORT)              </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 246            .show();                                                                                                </span>
<span class="-8237366274974352164" onmouseenter="enter('-8237366274974352164');" onmouseout="out('-8237366274974352164');" style=""> 247        getBinding().setStateStr(getString(R.string.start));                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 248      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 249    }                                                                                                               </span>
<span  style=""> 250                                                                                                                    </span>
<span class="780253378671213610" onmouseenter="enter('780253378671213610');" onmouseout="out('780253378671213610');" style=""> 251    @Download.onTaskComplete                                                                                        </span>
<span class="-8934101011766573434" onmouseenter="enter('-8934101011766573434');" onmouseout="out('-8934101011766573434');" style=""> 252    void taskComplete(DownloadTask task) {                                                                          </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 253 -                                                                                                                  </span>
<span class="6424673623417423730" onmouseenter="enter('6424673623417423730');" onmouseout="out('6424673623417423730');" style=""> 254      if (task.getKey().equals(mUrl)) {                                                                             </span>
<span class="-8956796642254099642" onmouseenter="enter('-8956796642254099642');" onmouseout="out('-8956796642254099642');" style=""> 255        getBinding().setProgress(100);                                                                              </span>
<span class="-3508145684099413734" onmouseenter="enter('-3508145684099413734');" onmouseout="out('-3508145684099413734');" style=""> 256        Toast.makeText(SingleTaskActivity.this, getString(R.string.download_success),                               </span>
<span class="427556865284092623" onmouseenter="enter('427556865284092623');" onmouseout="out('427556865284092623');" style=""> 257            Toast.LENGTH_SHORT).show();                                                                             </span>
<span class="-3450815547370697159" onmouseenter="enter('-3450815547370697159');" onmouseout="out('-3450815547370697159');" style=""> 258        getBinding().setStateStr(getString(R.string.re_start));                                                     </span>
<span class="-7204993830601318352" onmouseenter="enter('-7204993830601318352');" onmouseout="out('-7204993830601318352');" style=""> 259        getBinding().setSpeed(&quot;&quot;);                                                                                  </span>
<span class="1675326087271222970" onmouseenter="enter('1675326087271222970');" onmouseout="out('1675326087271222970');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 260 +      ALog.d(TAG, &quot;md5: &quot; + CommonUtil.getFileMD5(new File(task.getFilePath())));                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 261      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 262    }                                                                                                               </span>
<span  style=""> 263                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 264    @Override                                                                                                       </span>
<span class="1005409546708381833" onmouseenter="enter('1005409546708381833');" onmouseout="out('1005409546708381833');" style=""> 265    protected int setLayoutId() {                                                                                   </span>
<span class="-2531695323377925263" onmouseenter="enter('-2531695323377925263');" onmouseout="out('-2531695323377925263');" style=""> 266      return R.layout.activity_single;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 267    }                                                                                                               </span>
<span  style=""> 268                                                                                                                    </span>
<span class="2630081792579352299" onmouseenter="enter('2630081792579352299');" onmouseout="out('2630081792579352299');" style=""> 269    public void onClick(View view) {                                                                                </span>
<span class="-2293149203572743010" onmouseenter="enter('-2293149203572743010');" onmouseout="out('-2293149203572743010');" style=""> 270      switch (view.getId()) {                                                                                       </span>
<span class="-3311102689091558194" onmouseenter="enter('-3311102689091558194');" onmouseout="out('-3311102689091558194');" style=""> 271        case R.id.start:                                                                                            </span>
<span class="-3967246952780070026" onmouseenter="enter('-3967246952780070026');" onmouseout="out('-3967246952780070026');" style=""> 272          if (mTarget.isRunning()) {                                                                                </span>
<span class="-7748529982514279025" onmouseenter="enter('-7748529982514279025');" onmouseout="out('-7748529982514279025');" style=""> 273            Aria.download(this).load(mUrl).stop();                                                                  </span>
<span class="-6023928394739582014" onmouseenter="enter('-6023928394739582014');" onmouseout="out('-6023928394739582014');" style=""> 274          } else {                                                                                                  </span>
<span class="-4323663740368471534" onmouseenter="enter('-4323663740368471534');" onmouseout="out('-4323663740368471534');" style=""> 275            startD();                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 276          }                                                                                                         </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 277          break;                                                                                                    </span>
<span class="7558418491601294886" onmouseenter="enter('7558418491601294886');" onmouseout="out('7558418491601294886');" style=""> 278        case R.id.cancel:                                                                                           </span>
<span class="8748184535234135730" onmouseenter="enter('8748184535234135730');" onmouseout="out('8748184535234135730');" style=""> 279          Aria.download(this).load(mUrl).cancel(true);                                                              </span>
<span class="-7917104194997868056" onmouseenter="enter('-7917104194997868056');" onmouseout="out('-7917104194997868056');" style=""> 280          break;                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 281      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 282    }                                                                                                               </span>
<span  style=""> 283                                                                                                                    </span>
<span class="-6650591043092460932" onmouseenter="enter('-6650591043092460932');" onmouseout="out('-6650591043092460932');" style=""> 284    private void startD() {                                                                                         </span>
<span class="-7253413116279463457" onmouseenter="enter('-7253413116279463457');" onmouseout="out('-7253413116279463457');" style=""> 285      Aria.download(SingleTaskActivity.this)                                                                        </span>
<span class="1137102464364625392" onmouseenter="enter('1137102464364625392');" onmouseout="out('1137102464364625392');" style=""> 286          .load(mUrl)                                                                                               </span>
<span class="5250241690161518029" onmouseenter="enter('5250241690161518029');" onmouseout="out('5250241690161518029');" style=""><abbr title=" 287          //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3&quot;)"> 287          //.addHeader(&quot;Accept&quot;, &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=🔵</abbr></span>
<span class="675193578950664775" onmouseenter="enter('675193578950664775');" onmouseout="out('675193578950664775');" style=""> 288          //.addHeader(&quot;Accept-Encoding&quot;, &quot;gzip, deflate&quot;)                                                          </span>
<span class="7432458207160587380" onmouseenter="enter('7432458207160587380');" onmouseout="out('7432458207160587380');" style=""> 289          //.addHeader(&quot;DNT&quot;, &quot;1&quot;)                                                                                  </span>
<span class="3247758800684701674" onmouseenter="enter('3247758800684701674');" onmouseout="out('3247758800684701674');" style=""><abbr title=" 290          //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D1068AAA9; PSTM=1519099573; BD_UPN=12314753; locale=zh; BDSVRTM=0&quot;)"> 290          //.addHeader(&quot;Cookie&quot;, &quot;BAIDUID=648E5FF020CC69E8DD6F492D1068AAA9:FG=1; BIDUPSID=648E5FF020CC69E8DD6F492D10🔵</abbr></span>
<span class="3998659641761292191" onmouseenter="enter('3998659641761292191');" onmouseout="out('3998659641761292191');" style=""> 291          .useServerFileName(true)                                                                                  </span>
<span class="-5584015512270433375" onmouseenter="enter('-5584015512270433375');" onmouseout="out('-5584015512270433375');" style=""> 292          .setFilePath(mFilePath, true)                                                                             </span>
<span class="-1588220677404808704" onmouseenter="enter('-1588220677404808704');" onmouseout="out('-1588220677404808704');" style=""> 293          .setFileLenAdapter(new IHttpFileLenAdapter() {                                                            </span>
<span class="-4968473764170008746" onmouseenter="enter('-4968473764170008746');" onmouseout="out('-4968473764170008746');" style=""> 294            @Override public long handleFileLen(Map&lt;String, List&lt;String&gt;&gt; headers) {                                </span>
<span  style=""> 295                                                                                                                    </span>
<span class="-3327040667133742279" onmouseenter="enter('-3327040667133742279');" onmouseout="out('-3327040667133742279');" style=""> 296              List&lt;String&gt; sLength = headers.get(&quot;Content-Length&quot;);                                                 </span>
<span class="-5638961086111332224" onmouseenter="enter('-5638961086111332224');" onmouseout="out('-5638961086111332224');" style=""> 297              if (sLength == null || sLength.isEmpty()) {                                                           </span>
<span class="7311380543145824752" onmouseenter="enter('7311380543145824752');" onmouseout="out('7311380543145824752');" style=""> 298                return -1;                                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 299              }                                                                                                     </span>
<span class="1006906766372690526" onmouseenter="enter('1006906766372690526');" onmouseout="out('1006906766372690526');" style=""> 300              String temp = sLength.get(0);                                                                         </span>
<span  style=""> 301                                                                                                                    </span>
<span class="91845659571875615" onmouseenter="enter('91845659571875615');" onmouseout="out('91845659571875615');" style=""> 302              return Long.parseLong(temp);                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 303            }                                                                                                       </span>
<span class="7022022634399588778" onmouseenter="enter('7022022634399588778');" onmouseout="out('7022022634399588778');" style=""> 304          })                                                                                                        </span>
<span class="-5663652060622804884" onmouseenter="enter('-5663652060622804884');" onmouseout="out('-5663652060622804884');" style=""> 305          .start();                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 306    }                                                                                                               </span>
<span  style=""> 307                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 308    @Override                                                                                                       </span>
<span class="-531063095242678892" onmouseenter="enter('-531063095242678892');" onmouseout="out('-531063095242678892');" style=""> 309    protected void onStop() {                                                                                       </span>
<span class="-4376279779571809033" onmouseenter="enter('-4376279779571809033');" onmouseout="out('-4376279779571809033');" style=""> 310      super.onStop();                                                                                               </span>
<span class="-550267535295661387" onmouseenter="enter('-550267535295661387');" onmouseout="out('-550267535295661387');" style=""> 311      //Aria.download(this).unRegister();                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 312    }                                                                                                               </span>
<span  style=""> 313                                                                                                                    </span>
<span class="4494231215439110667" onmouseenter="enter('4494231215439110667');" onmouseout="out('4494231215439110667');" style=""> 314    @Override protected void dataCallback(int result, Object data) {                                                </span>
<span class="-8512226688665405478" onmouseenter="enter('-8512226688665405478');" onmouseout="out('-8512226688665405478');" style=""> 315      super.dataCallback(result, data);                                                                             </span>
<span class="-5264462094926871279" onmouseenter="enter('-5264462094926871279');" onmouseout="out('-5264462094926871279');" style=""> 316      if (result == ModifyUrlDialog.MODIFY_URL_DIALOG_RESULT) {                                                     </span>
<span class="3410814719232640782" onmouseenter="enter('3410814719232640782');" onmouseout="out('3410814719232640782');" style=""> 317        mModule.uploadUrl(this, String.valueOf(data));                                                              </span>
<span class="-1920600613338105685" onmouseenter="enter('-1920600613338105685');" onmouseout="out('-1920600613338105685');" style=""> 318      } else if (result == ModifyPathDialog.MODIFY_PATH_RESULT) {                                                   </span>
<span class="-9075595162261224678" onmouseenter="enter('-9075595162261224678');" onmouseout="out('-9075595162261224678');" style=""> 319        mModule.updateFilePath(this, String.valueOf(data));                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 320      }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 321    }                                                                                                               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 322  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            