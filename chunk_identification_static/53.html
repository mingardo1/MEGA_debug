<!DOCTYPE html>
    <html lang="en">
              <head>
                <meta charset="utf-8">
                <title>53</title>
                    <style>
                        #top {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        #bottom {
                            height: 48vh;
                            overflow-y: auto;
                        }
                        .highlighted {
                            background-color: rgba(177, 82, 227, 0.85) !important;
                        }
                    </style>
                    <script>
                        function enter(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.add('highlighted');
                            }
                        }
                        function out(c) {
                            const lines = document.getElementsByClassName(c);
                            for (let i = 0; i < lines.length; i++) {
                               lines.item(i).classList.remove('highlighted');
                            }
                        }
                    </script>
              </head>
              <body>
                <span style="height: 4vh">
                    53
                    <a href="52.html">prev</a>
                    <a href="54.html">next</a>
                    <a href="53_chunks.html">chunks</a>
                    <a href="index.html">index</a>
                    Automattic/simplenote-android_6020f2a3c2babcb562f1c4f882a7bf72bc791743_Simplenote/src/main/java/com/automattic/simplenote/TagDialogFragment.java
                    <textarea rows=1 onclick='navigator.clipboard.writeText(this.value)'>cd C:\studies\se\mega\git-analyzer-plus\notebooks\debug
del /Q *
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6020f2a3c2babcb562f1c4f882a7bf72bc791743:Simplenote/src/main/java/com/automattic/simplenote/TagDialogFragment.java&quot; &gt; committed.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6020f2a3c2babcb562f1c4f882a7bf72bc791743^1:Simplenote/src/main/java/com/automattic/simplenote/TagDialogFragment.java&quot; &gt; ours.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;6020f2a3c2babcb562f1c4f882a7bf72bc791743^2:Simplenote/src/main/java/com/automattic/simplenote/TagDialogFragment.java&quot; &gt; theirs.java
git -C C:\studies\se\mega\project-dirs\projects_Java_desc-stars-1000\Automattic\simplenote-android show &quot;5266af6a72f7c0d45cea79dfbb0a05758c02acad:Simplenote/src/main/java/com/automattic/simplenote/TagDialogFragment.java&quot; &gt; base.java
copy ours.java 1ours.java
copy ours.java 2ours.java
copy theirs.java 1theirs.java
copy theirs.java 2theirs.java
copy base.java 1base.java
copy base.java 2base.java
&quot;C:\Program Files\Java\jdk1.8.0_241\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\jFSTMerge\build\libs\jFSTMerge-all.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\1theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\jfstmerge.java --show-base
&quot;C:\Program Files\Eclipse Adoptium\jdk-17.0.11.9-hotspot\bin\java.exe&quot; -Dfile.encoding=UTF-8 -jar &quot;C:\studies\se\spork\target\spork-0.5.0-SNAPSHOT.jar&quot; C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2ours.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2base.java C:\studies\se\mega\git-analyzer-plus\notebooks\debug\2theirs.java -o C:\studies\se\mega\git-analyzer-plus\notebooks\debug\spork.java
del /Q 1*.java
del /Q 2*.java
del /Q jfstmerge.java.merge
</textarea>
                    {strict: [[bj], [b]], subset: [[bj], [b]]}
                </span>
                <div id="top">

                    <table>
                        <tr>
                            <th>line based (standard git)</th>
                            <th>jfstmerge</th>
                            <th>spork</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">   3 import android.app.Dialog;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="5120588093825807819" onmouseenter="enter('5120588093825807819');" onmouseout="out('5120588093825807819');" style="">   6 import android.content.DialogInterface.OnShowListener;                                                   </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   7 import android.os.Bundle;                                                                                </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">   8 import android.text.Editable;                                                                            </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">   9 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  10 import android.util.Log;                                                                                 </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  11 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  12 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  13 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  14 import android.widget.Button;                                                                            </span>
<span  style="">  15                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  16 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  17 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-2329980159743646291" onmouseenter="enter('-2329980159743646291');" onmouseout="out('-2329980159743646291');" style="">  18 import androidx.appcompat.app.AppCompatDialogFragment;                                                   </span>
<span  style="">  19                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  20 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  21 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  22 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  23 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="-643769428942460504" onmouseenter="enter('-643769428942460504');" onmouseout="out('-643769428942460504');" style="">  24 import com.automattic.simplenote.utils.TagUtils;                                                         </span>
<span class="-163370588600223430" onmouseenter="enter('-163370588600223430');" onmouseout="out('-163370588600223430');" style="">  25 import com.google.android.material.textfield.TextInputEditText;                                          </span>
<span class="4676291190299489748" onmouseenter="enter('4676291190299489748');" onmouseout="out('4676291190299489748');" style="">  26 import com.google.android.material.textfield.TextInputLayout;                                            </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  27 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  28 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span  style="">  29                                                                                                          </span>
<span class="4251413361595014742" onmouseenter="enter('4251413361595014742');" onmouseout="out('4251413361595014742');" style="">  30 public class TagDialogFragment extends AppCompatDialogFragment implements TextWatcher, OnShowListener {  </span>
<span class="5537373882139325799" onmouseenter="enter('5537373882139325799');" onmouseout="out('5537373882139325799');" style="">  31     public static String DIALOG_TAG = &quot;dialog_tag&quot;;                                                      </span>
<span  style="">  32                                                                                                          </span>
<span class="442006960909860217" onmouseenter="enter('442006960909860217');" onmouseout="out('442006960909860217');" style="">  33     private AlertDialog mDialogEditTag;                                                                  </span>
<span class="6753807459084570132" onmouseenter="enter('6753807459084570132');" onmouseout="out('6753807459084570132');" style="">  34     private Bucket&lt;Note&gt; mBucketNote;                                                                    </span>
<span class="-3890855770468776049" onmouseenter="enter('-3890855770468776049');" onmouseout="out('-3890855770468776049');" style="">  35     private Bucket&lt;Tag&gt; mBucketTag;                                                                      </span>
<span class="-8841444528549159439" onmouseenter="enter('-8841444528549159439');" onmouseout="out('-8841444528549159439');" style="">  36     private Button mButtonPositive;                                                                      </span>
<span class="-8017567455626702712" onmouseenter="enter('-8017567455626702712');" onmouseout="out('-8017567455626702712');" style="">  37     private String mTagOld;                                                                              </span>
<span class="-8184777672973242555" onmouseenter="enter('-8184777672973242555');" onmouseout="out('-8184777672973242555');" style="">  38     private Tag mTag;                                                                                    </span>
<span class="-7591720298883354674" onmouseenter="enter('-7591720298883354674');" onmouseout="out('-7591720298883354674');" style="">  39     private TextInputEditText mEditTextTag;                                                              </span>
<span class="-339847538703613437" onmouseenter="enter('-339847538703613437');" onmouseout="out('-339847538703613437');" style="">  40     private TextInputLayout mEditTextLayout;                                                             </span>
<span  style="">  41                                                                                                          </span>
<span class="-4291494885611338789" onmouseenter="enter('-4291494885611338789');" onmouseout="out('-4291494885611338789');" style="">  42     public TagDialogFragment(Tag tag, Bucket&lt;Note&gt; bucketNote, Bucket&lt;Tag&gt; bucketTag) {                  </span>
<span class="33622927522891611" onmouseenter="enter('33622927522891611');" onmouseout="out('33622927522891611');" style="">  43         mTag = tag;                                                                                      </span>
<span class="-8365526099772723424" onmouseenter="enter('-8365526099772723424');" onmouseout="out('-8365526099772723424');" style="">  44         mBucketNote = bucketNote;                                                                        </span>
<span class="-6662372173638377991" onmouseenter="enter('-6662372173638377991');" onmouseout="out('-6662372173638377991');" style="">  45         mBucketTag = bucketTag;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  46     }                                                                                                    </span>
<span  style="">  47                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="">  48     @NonNull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  49     @Override                                                                                            </span>
<span class="-1996677151110261268" onmouseenter="enter('-1996677151110261268');" onmouseout="out('-1996677151110261268');" style="">  50     public Dialog onCreateDialog(Bundle savedInstanceState) {                                            </span>
<span class="-6828054537806445503" onmouseenter="enter('-6828054537806445503');" onmouseout="out('-6828054537806445503');" style="">  51         Context context = new ContextThemeWrapper(requireContext(), R.style.Dialog);                     </span>
<span class="-3127835005269421656" onmouseenter="enter('-3127835005269421656');" onmouseout="out('-3127835005269421656');" style="">  52         AlertDialog.Builder builder = new AlertDialog.Builder(context);                                  </span>
<span class="5172596270847189428" onmouseenter="enter('5172596270847189428');" onmouseout="out('5172596270847189428');" style="">  53         builder.setTitle(R.string.rename_tag);                                                           </span>
<span class="-9151336580514573681" onmouseenter="enter('-9151336580514573681');" onmouseout="out('-9151336580514573681');" style="">  54         builder.setNegativeButton(R.string.cancel, null);                                                </span>
<span class="-6905730424985733351" onmouseenter="enter('-6905730424985733351');" onmouseout="out('-6905730424985733351');" style="">  55         builder.setPositiveButton(                                                                       </span>
<span class="7150269752415003601" onmouseenter="enter('7150269752415003601');" onmouseout="out('7150269752415003601');" style="">  56             R.string.save,                                                                               </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="">  57             new DialogInterface.OnClickListener() {                                                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="">  58                 public void onClick(DialogInterface dialog, int whichButton) {                           </span>
<span class="1557854570547195237" onmouseenter="enter('1557854570547195237');" onmouseout="out('1557854570547195237');" style=""><abbr title="  59                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  59                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().tr🔵</abbr></span>
<span  style="">  60                                                                                                          </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style="">  61 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  62                     try {                                                                                </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  63                         mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  64                         AnalyticsTracker.track(                                                          </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  65                             AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  66                             AnalyticsTracker.CATEGORY_TAG,                                               </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  67                             &quot;tag_alert_edit_box&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  68                         );                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  69                     } catch (BucketObjectNameInvalid e) {                                                </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  70                         Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  71                         DialogUtils.showDialogWithEmail(                                                 </span>
<span class="-1922245487729536443" onmouseenter="enter('-1922245487729536443');" onmouseout="out('-1922245487729536443');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  72                             requireContext(),                                                            </span>
<span class="-2955281638418738093" onmouseenter="enter('-2955281638418738093');" onmouseout="out('-2955281638418738093');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  73                             getString(R.string.error),                                                   </span>
<span class="-6347072831338425491" onmouseenter="enter('-6347072831338425491');" onmouseout="out('-6347072831338425491');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  74                             getString(R.string.rename_tag_message)                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  75                         );                                                                               </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style="">  76 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77             new DialogInterface.OnClickListener() {                                                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78                 public void onClick(DialogInterface dialog, int whichButton) {                           </span>
<span class="1557854570547195237" onmouseenter="enter('1557854570547195237');" onmouseout="out('1557854570547195237');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title="  79                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  79                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().tr🔵</abbr></span>
<span class="-6355342768531921756" onmouseenter="enter('-6355342768531921756');" onmouseout="out('-6355342768531921756');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80                     int index = mTag.hasIndex() ? mTag.getIndex() : mBucketTag.count();                  </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82                     try {                                                                                </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83                         mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84                         AnalyticsTracker.track(                                                          </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                             AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86                             AnalyticsTracker.CATEGORY_TAG,                                               </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87                             &quot;tag_alert_edit_box&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88                         );                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89                     } catch (BucketObjectNameInvalid e) {                                                </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90                         Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  91 =======                                                                                                  </span>
<span class="9040690389905476739" onmouseenter="enter('9040690389905476739');" onmouseout="out('9040690389905476739');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  92                     if (tagNew.equals(mTagOld)) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93                         return;                                                                          </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style="">  94 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95                     }                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="-6355342768531921756" onmouseenter="enter('-6355342768531921756');" onmouseout="out('-6355342768531921756');" style="">  97                     int index = mTag.hasIndex() ? mTag.getIndex() : mBucketTag.count();                  </span>
<span class="8984751593155817155" onmouseenter="enter('8984751593155817155');" onmouseout="out('8984751593155817155');" style=""><abbr title="  98                     boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTagOld));">  98                     boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTa🔵</abbr></span>
<span class="7581268061079215482" onmouseenter="enter('7581268061079215482');" onmouseout="out('7581268061079215482');" style="">  99                     boolean hasCanonicalTag = TagUtils.hasCanonicalOfLexical(mBucketTag, tagNew);        </span>
<span  style=""> 100                                                                                                          </span>
<span class="407683281186936177" onmouseenter="enter('407683281186936177');" onmouseout="out('407683281186936177');" style=""> 101                     if (hasCanonicalTag &amp;&amp; !isRenamingToLexicalTag) {                                    </span>
<span class="6558054485502523997" onmouseenter="enter('6558054485502523997');" onmouseout="out('6558054485502523997');" style=""> 102                         String tagCanonical = TagUtils.getCanonicalFromLexical(mBucketTag, tagNew);      </span>
<span class="-3826221793829500822" onmouseenter="enter('-3826221793829500822');" onmouseout="out('-3826221793829500822');" style=""> 103                         showDialogErrorConflict(tagCanonical, mTagOld, tagNew, index);                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 104                         return;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 105                     }                                                                                    </span>
<span  style=""> 106                                                                                                          </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style=""> 107                     tryToRenameTag(tagNew, index);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 108                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109             }                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 110         );                                                                                               </span>
<span class="6198620581626322987" onmouseenter="enter('6198620581626322987');" onmouseout="out('6198620581626322987');" style=""> 111         View view = LayoutInflater.from(context).inflate(R.layout.edit_tag, null);                       </span>
<span class="1121131251930072401" onmouseenter="enter('1121131251930072401');" onmouseout="out('1121131251930072401');" style=""> 112         mEditTextLayout = view.findViewById(R.id.input_tag_name);                                        </span>
<span class="-7114137022069097485" onmouseenter="enter('-7114137022069097485');" onmouseout="out('-7114137022069097485');" style=""> 113         mEditTextTag = (TextInputEditText) mEditTextLayout.getEditText();                                </span>
<span  style=""> 114                                                                                                          </span>
<span class="7735754244257240639" onmouseenter="enter('7735754244257240639');" onmouseout="out('7735754244257240639');" style=""> 115         if (mEditTextTag != null) {                                                                      </span>
<span class="447465716922311914" onmouseenter="enter('447465716922311914');" onmouseout="out('447465716922311914');" style=""> 116             mEditTextTag.addTextChangedListener(this);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 117         }                                                                                                </span>
<span  style=""> 118                                                                                                          </span>
<span class="-8435563844252015090" onmouseenter="enter('-8435563844252015090');" onmouseout="out('-8435563844252015090');" style=""> 119         builder.setView(view);                                                                           </span>
<span class="9056313008121515285" onmouseenter="enter('9056313008121515285');" onmouseout="out('9056313008121515285');" style=""> 120         mDialogEditTag = builder.create();                                                               </span>
<span class="4630150356335865678" onmouseenter="enter('4630150356335865678');" onmouseout="out('4630150356335865678');" style=""> 121         mDialogEditTag.setOnShowListener(this);                                                          </span>
<span class="-3065065285145787290" onmouseenter="enter('-3065065285145787290');" onmouseout="out('-3065065285145787290');" style=""> 122         return mDialogEditTag;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123     }                                                                                                    </span>
<span  style=""> 124                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125     @Override                                                                                            </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 126     public void onShow(DialogInterface dialog) {                                                         </span>
<span class="-1708220890195378177" onmouseenter="enter('-1708220890195378177');" onmouseout="out('-1708220890195378177');" style=""> 127         mButtonPositive = mDialogEditTag.getButton(DialogInterface.BUTTON_POSITIVE);                     </span>
<span class="6073625129885142737" onmouseenter="enter('6073625129885142737');" onmouseout="out('6073625129885142737');" style=""> 128         mEditTextTag.setText(mTag.getName());                                                            </span>
<span class="1321112473525763562" onmouseenter="enter('1321112473525763562');" onmouseout="out('1321112473525763562');" style=""> 129         mTagOld = mEditTextTag.getText() != null ? mEditTextTag.getText().toString() : &quot;&quot;;               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130     }                                                                                                    </span>
<span  style=""> 131                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132     @Override                                                                                            </span>
<span class="-4437132573704634147" onmouseenter="enter('-4437132573704634147');" onmouseout="out('-4437132573704634147');" style=""> 133     public void afterTextChanged(Editable s) {                                                           </span>
<span class="-26058557839881173" onmouseenter="enter('-26058557839881173');" onmouseout="out('-26058557839881173');" style=""> 134         if (isTagNameValid()) {                                                                          </span>
<span class="4899269093150510543" onmouseenter="enter('4899269093150510543');" onmouseout="out('4899269093150510543');" style=""> 135             mButtonPositive.setEnabled(true);                                                            </span>
<span class="-5697024561503719332" onmouseenter="enter('-5697024561503719332');" onmouseout="out('-5697024561503719332');" style=""> 136             mEditTextLayout.setError(null);                                                              </span>
<span class="-5913541246256061459" onmouseenter="enter('-5913541246256061459');" onmouseout="out('-5913541246256061459');" style=""> 137         } else if (isTagNameInvalidEmpty()) {                                                            </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 138             mButtonPositive.setEnabled(false);                                                           </span>
<span class="424029332147889126" onmouseenter="enter('424029332147889126');" onmouseout="out('424029332147889126');" style=""> 139             mEditTextLayout.setError(getString(R.string.rename_tag_error_empty));                        </span>
<span class="-2577912726669612155" onmouseenter="enter('-2577912726669612155');" onmouseout="out('-2577912726669612155');" style=""> 140         } else if (isTagNameInvalidLength()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 141             mButtonPositive.setEnabled(false);                                                           </span>
<span class="-2602820246149814170" onmouseenter="enter('-2602820246149814170');" onmouseout="out('-2602820246149814170');" style=""> 142             mEditTextLayout.setError(getString(R.string.rename_tag_error_length));                       </span>
<span class="6152624911744093661" onmouseenter="enter('6152624911744093661');" onmouseout="out('6152624911744093661');" style=""> 143         } else if (isTagNameInvalidSpaces()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 144             mButtonPositive.setEnabled(false);                                                           </span>
<span class="8143005098769142401" onmouseenter="enter('8143005098769142401');" onmouseout="out('8143005098769142401');" style=""> 145             mEditTextLayout.setError(getString(R.string.rename_tag_error_spaces));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147     }                                                                                                    </span>
<span  style=""> 148                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 149     @Override                                                                                            </span>
<span class="-3570328658461450353" onmouseenter="enter('-3570328658461450353');" onmouseout="out('-3570328658461450353');" style=""> 150     public void beforeTextChanged(CharSequence s, int start, int count, int after) {                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 151     }                                                                                                    </span>
<span  style=""> 152                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 153     @Override                                                                                            </span>
<span class="-8664753840714296524" onmouseenter="enter('-8664753840714296524');" onmouseout="out('-8664753840714296524');" style=""> 154     public void onTextChanged(CharSequence s, int start, int before, int count) {                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 155     }                                                                                                    </span>
<span  style=""> 156                                                                                                          </span>
<span class="7655823983800358667" onmouseenter="enter('7655823983800358667');" onmouseout="out('7655823983800358667');" style=""> 157     private boolean isTagNameValid() {                                                                   </span>
<span class="643762818301545765" onmouseenter="enter('643762818301545765');" onmouseout="out('643762818301545765');" style=""> 158         return !isTagNameInvalidSpaces() &amp;&amp; !isTagNameInvalidLength() &amp;&amp; !isTagNameInvalidEmpty();       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 159     }                                                                                                    </span>
<span  style=""> 160                                                                                                          </span>
<span class="1327392678981763021" onmouseenter="enter('1327392678981763021');" onmouseout="out('1327392678981763021');" style=""> 161     private boolean isTagNameInvalidEmpty() {                                                            </span>
<span class="4474573016225835188" onmouseenter="enter('4474573016225835188');" onmouseout="out('4474573016225835188');" style=""> 162         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().isEmpty();            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 163     }                                                                                                    </span>
<span  style=""> 164                                                                                                          </span>
<span class="-2592942555996691000" onmouseenter="enter('-2592942555996691000');" onmouseout="out('-2592942555996691000');" style=""> 165     private boolean isTagNameInvalidLength() {                                                           </span>
<span class="6239636414937327552" onmouseenter="enter('6239636414937327552');" onmouseout="out('6239636414937327552');" style=""><abbr title=" 166         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString());"> 166         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString()🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 167     }                                                                                                    </span>
<span  style=""> 168                                                                                                          </span>
<span class="7695349952704721969" onmouseenter="enter('7695349952704721969');" onmouseout="out('7695349952704721969');" style=""> 169     private boolean isTagNameInvalidSpaces() {                                                           </span>
<span class="7255418825221320611" onmouseenter="enter('7255418825221320611');" onmouseout="out('7255418825221320611');" style=""> 170         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().contains(&quot; &quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 171     }                                                                                                    </span>
<span class="-4667942192763773056" onmouseenter="enter('-4667942192763773056');" onmouseout="out('-4667942192763773056');" style=""> 172 &lt;&lt;&lt;&lt;&lt;&lt;&lt; GitAnalyzerPlus_ours                                                                             </span>
<span class="6741223626729319096" onmouseenter="enter('6741223626729319096');" onmouseout="out('6741223626729319096');" style=""> 173 ||||||| GitAnalyzerPlus_base                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 174     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 175                                                                                                          </span>
<span class="4099293535497344121" onmouseenter="enter('4099293535497344121');" onmouseout="out('4099293535497344121');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 176     private void showDialogErrorRename() {                                                               </span>
<span class="2674388753395344135" onmouseenter="enter('2674388753395344135');" onmouseout="out('2674388753395344135');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 177         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))"> 177         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.st🔵</abbr></span>
<span class="-1953659942132584336" onmouseenter="enter('-1953659942132584336');" onmouseout="out('-1953659942132584336');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 178             .setTitle(R.string.error)                                                                    </span>
<span class="1257332449968202961" onmouseenter="enter('1257332449968202961');" onmouseout="out('1257332449968202961');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 179             .setMessage(HtmlCompat.fromHtml(String.format(                                               </span>
<span class="-8543938198145642849" onmouseenter="enter('-8543938198145642849');" onmouseout="out('-8543938198145642849');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 180                 getString(R.string.rename_tag_message),                                                  </span>
<span class="4009043354217021380" onmouseenter="enter('4009043354217021380');" onmouseout="out('4009043354217021380');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 181                 getString(R.string.rename_tag_message_email),                                            </span>
<span class="-1722874118564332797" onmouseenter="enter('-1722874118564332797');" onmouseout="out('-1722874118564332797');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 182                 &quot;&lt;span style=\&quot;color:#&quot;,                                                                 </span>
<span class="2083799212419745609" onmouseenter="enter('2083799212419745609');" onmouseout="out('2083799212419745609');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 183                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xffffff),"> 183                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent🔵</abbr></span>
<span class="6715716597467463749" onmouseenter="enter('6715716597467463749');" onmouseout="out('6715716597467463749');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 184                 &quot;\&quot;&gt;&quot;,                                                                                   </span>
<span class="-4604162135783998682" onmouseenter="enter('-4604162135783998682');" onmouseout="out('-4604162135783998682');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 185                 &quot;&lt;/span&gt;&quot;                                                                                </span>
<span class="4874958601941260770" onmouseenter="enter('4874958601941260770');" onmouseout="out('4874958601941260770');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 186             )))                                                                                          </span>
<span class="8109469258891206403" onmouseenter="enter('8109469258891206403');" onmouseout="out('8109469258891206403');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 187             .setPositiveButton(android.R.string.ok, null)                                                </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 188             .show();                                                                                     </span>
<span class="-8995908398685960365" onmouseenter="enter('-8995908398685960365');" onmouseout="out('-8995908398685960365');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"><abbr title=" 189         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovementMethod.getInstance());"> 189         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 190     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0"> 191 }                                                                                                        </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style=""> 192 =======                                                                                                  </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 193                                                                                                          </span>
<span class="-3905316698805032920" onmouseenter="enter('-3905316698805032920');" onmouseout="out('-3905316698805032920');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 194     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int index) {"> 194     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int 🔵</abbr></span>
<span class="3552563853693048709" onmouseenter="enter('3552563853693048709');" onmouseout="out('3552563853693048709');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 195         new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))               </span>
<span class="6446248235830128324" onmouseenter="enter('6446248235830128324');" onmouseout="out('6446248235830128324');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 196             .setTitle(R.string.dialog_tag_conflict_title)                                                </span>
<span class="4586707364289698024" onmouseenter="enter('4586707364289698024');" onmouseout="out('4586707364289698024');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 197             .setMessage(getString(R.string.dialog_tag_conflict_message, canonical, tagOld, canonical))   </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 198             .setNegativeButton(R.string.cancel, null)                                                    </span>
<span class="4175557063650855703" onmouseenter="enter('4175557063650855703');" onmouseout="out('4175557063650855703');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 199             .setPositiveButton(                                                                          </span>
<span class="5471402993924395688" onmouseenter="enter('5471402993924395688');" onmouseout="out('5471402993924395688');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 200                 R.string.dialog_tag_conflict_button_positive,                                            </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 201                 new DialogInterface.OnClickListener() {                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 202                     @Override                                                                            </span>
<span class="-1165462893937301465" onmouseenter="enter('-1165462893937301465');" onmouseout="out('-1165462893937301465');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 203                     public void onClick(DialogInterface dialog, int which) {                             </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 204                         tryToRenameTag(tagNew, index);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 205                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 206                 }                                                                                        </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 207             )                                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 208             .show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 209     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 210                                                                                                          </span>
<span class="4099293535497344121" onmouseenter="enter('4099293535497344121');" onmouseout="out('4099293535497344121');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 211     private void showDialogErrorRename() {                                                               </span>
<span class="2674388753395344135" onmouseenter="enter('2674388753395344135');" onmouseout="out('2674388753395344135');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 212         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))"> 212         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.st🔵</abbr></span>
<span class="-1953659942132584336" onmouseenter="enter('-1953659942132584336');" onmouseout="out('-1953659942132584336');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 213             .setTitle(R.string.error)                                                                    </span>
<span class="1257332449968202961" onmouseenter="enter('1257332449968202961');" onmouseout="out('1257332449968202961');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 214             .setMessage(HtmlCompat.fromHtml(String.format(                                               </span>
<span class="-8543938198145642849" onmouseenter="enter('-8543938198145642849');" onmouseout="out('-8543938198145642849');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 215                 getString(R.string.rename_tag_message),                                                  </span>
<span class="4009043354217021380" onmouseenter="enter('4009043354217021380');" onmouseout="out('4009043354217021380');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 216                 getString(R.string.rename_tag_message_email),                                            </span>
<span class="-1722874118564332797" onmouseenter="enter('-1722874118564332797');" onmouseout="out('-1722874118564332797');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 217                 &quot;&lt;span style=\&quot;color:#&quot;,                                                                 </span>
<span class="2083799212419745609" onmouseenter="enter('2083799212419745609');" onmouseout="out('2083799212419745609');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 218                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xffffff),"> 218                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent🔵</abbr></span>
<span class="6715716597467463749" onmouseenter="enter('6715716597467463749');" onmouseout="out('6715716597467463749');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 219                 &quot;\&quot;&gt;&quot;,                                                                                   </span>
<span class="-4604162135783998682" onmouseenter="enter('-4604162135783998682');" onmouseout="out('-4604162135783998682');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 220                 &quot;&lt;/span&gt;&quot;                                                                                </span>
<span class="4874958601941260770" onmouseenter="enter('4874958601941260770');" onmouseout="out('4874958601941260770');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 221             )))                                                                                          </span>
<span class="8109469258891206403" onmouseenter="enter('8109469258891206403');" onmouseout="out('8109469258891206403');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 222             .setPositiveButton(android.R.string.ok, null)                                                </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 223             .show();                                                                                     </span>
<span class="-8995908398685960365" onmouseenter="enter('-8995908398685960365');" onmouseout="out('-8995908398685960365');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"><abbr title=" 224         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovementMethod.getInstance());"> 224         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 225     }                                                                                                    </span>
<span  style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 226                                                                                                          </span>
<span class="-8542749061850330587" onmouseenter="enter('-8542749061850330587');" onmouseout="out('-8542749061850330587');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 227     private void tryToRenameTag(String tagNew, int index) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 228         try {                                                                                            </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 229             mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 230             AnalyticsTracker.track(                                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 231                 AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                               </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 232                 AnalyticsTracker.CATEGORY_TAG,                                                           </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 233                 &quot;tag_alert_edit_box&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 234             );                                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 235         } catch (BucketObjectNameInvalid e) {                                                            </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 236             Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                            </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 237             showDialogErrorRename();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 238         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0"> 239     }                                                                                                    </span>
<span class="-1382546150375666264" onmouseenter="enter('-1382546150375666264');" onmouseout="out('-1382546150375666264');" style=""> 240 &gt;&gt;&gt;&gt;&gt;&gt;&gt; GitAnalyzerPlus_theirs                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 241 }                                                                                                        </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">   3 import android.app.Dialog;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5 import android.content.DialogInterface;                                                                  </span>
<span class="5120588093825807819" onmouseenter="enter('5120588093825807819');" onmouseout="out('5120588093825807819');" style="">   6 import android.content.DialogInterface.OnShowListener;                                                   </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   7 import android.os.Bundle;                                                                                </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">   8 import android.text.Editable;                                                                            </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">   9 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  10 import android.util.Log;                                                                                 </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  11 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  12 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  13 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  14 import android.widget.Button;                                                                            </span>
<span  style="">  15                                                                                                          </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  16 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  17 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-2329980159743646291" onmouseenter="enter('-2329980159743646291');" onmouseout="out('-2329980159743646291');" style="">  18 import androidx.appcompat.app.AppCompatDialogFragment;                                                   </span>
<span  style="">  19                                                                                                          </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  20 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  21 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  22 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  23 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="-643769428942460504" onmouseenter="enter('-643769428942460504');" onmouseout="out('-643769428942460504');" style="">  24 import com.automattic.simplenote.utils.TagUtils;                                                         </span>
<span class="-163370588600223430" onmouseenter="enter('-163370588600223430');" onmouseout="out('-163370588600223430');" style="">  25 import com.google.android.material.textfield.TextInputEditText;                                          </span>
<span class="4676291190299489748" onmouseenter="enter('4676291190299489748');" onmouseout="out('4676291190299489748');" style="">  26 import com.google.android.material.textfield.TextInputLayout;                                            </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  27 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  28 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span  style="">  29                                                                                                          </span>
<span class="4251413361595014742" onmouseenter="enter('4251413361595014742');" onmouseout="out('4251413361595014742');" style="">  30 public class TagDialogFragment extends AppCompatDialogFragment implements TextWatcher, OnShowListener {  </span>
<span class="5537373882139325799" onmouseenter="enter('5537373882139325799');" onmouseout="out('5537373882139325799');" style="">  31     public static String DIALOG_TAG = &quot;dialog_tag&quot;;                                                      </span>
<span  style="">  32                                                                                                          </span>
<span class="442006960909860217" onmouseenter="enter('442006960909860217');" onmouseout="out('442006960909860217');" style="">  33     private AlertDialog mDialogEditTag;                                                                  </span>
<span class="6753807459084570132" onmouseenter="enter('6753807459084570132');" onmouseout="out('6753807459084570132');" style="">  34     private Bucket&lt;Note&gt; mBucketNote;                                                                    </span>
<span class="-3890855770468776049" onmouseenter="enter('-3890855770468776049');" onmouseout="out('-3890855770468776049');" style="">  35     private Bucket&lt;Tag&gt; mBucketTag;                                                                      </span>
<span class="-8841444528549159439" onmouseenter="enter('-8841444528549159439');" onmouseout="out('-8841444528549159439');" style="">  36     private Button mButtonPositive;                                                                      </span>
<span class="-8017567455626702712" onmouseenter="enter('-8017567455626702712');" onmouseout="out('-8017567455626702712');" style="">  37     private String mTagOld;                                                                              </span>
<span class="-8184777672973242555" onmouseenter="enter('-8184777672973242555');" onmouseout="out('-8184777672973242555');" style="">  38     private Tag mTag;                                                                                    </span>
<span class="-7591720298883354674" onmouseenter="enter('-7591720298883354674');" onmouseout="out('-7591720298883354674');" style="">  39     private TextInputEditText mEditTextTag;                                                              </span>
<span class="-339847538703613437" onmouseenter="enter('-339847538703613437');" onmouseout="out('-339847538703613437');" style="">  40     private TextInputLayout mEditTextLayout;                                                             </span>
<span  style="">  41                                                                                                          </span>
<span class="-4291494885611338789" onmouseenter="enter('-4291494885611338789');" onmouseout="out('-4291494885611338789');" style="">  42     public TagDialogFragment(Tag tag, Bucket&lt;Note&gt; bucketNote, Bucket&lt;Tag&gt; bucketTag) {                  </span>
<span class="33622927522891611" onmouseenter="enter('33622927522891611');" onmouseout="out('33622927522891611');" style="">  43         mTag = tag;                                                                                      </span>
<span class="-8365526099772723424" onmouseenter="enter('-8365526099772723424');" onmouseout="out('-8365526099772723424');" style="">  44         mBucketNote = bucketNote;                                                                        </span>
<span class="-6662372173638377991" onmouseenter="enter('-6662372173638377991');" onmouseout="out('-6662372173638377991');" style="">  45         mBucketTag = bucketTag;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  46     }                                                                                                    </span>
<span  style="">  47                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="">  48     @NonNull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  49     @Override                                                                                            </span>
<span class="-1996677151110261268" onmouseenter="enter('-1996677151110261268');" onmouseout="out('-1996677151110261268');" style="">  50     public Dialog onCreateDialog(Bundle savedInstanceState) {                                            </span>
<span class="-6828054537806445503" onmouseenter="enter('-6828054537806445503');" onmouseout="out('-6828054537806445503');" style="">  51         Context context = new ContextThemeWrapper(requireContext(), R.style.Dialog);                     </span>
<span class="-3127835005269421656" onmouseenter="enter('-3127835005269421656');" onmouseout="out('-3127835005269421656');" style="">  52         AlertDialog.Builder builder = new AlertDialog.Builder(context);                                  </span>
<span class="5172596270847189428" onmouseenter="enter('5172596270847189428');" onmouseout="out('5172596270847189428');" style="">  53         builder.setTitle(R.string.rename_tag);                                                           </span>
<span class="-9151336580514573681" onmouseenter="enter('-9151336580514573681');" onmouseout="out('-9151336580514573681');" style="">  54         builder.setNegativeButton(R.string.cancel, null);                                                </span>
<span class="-6905730424985733351" onmouseenter="enter('-6905730424985733351');" onmouseout="out('-6905730424985733351');" style="">  55         builder.setPositiveButton(                                                                       </span>
<span class="7150269752415003601" onmouseenter="enter('7150269752415003601');" onmouseout="out('7150269752415003601');" style="">  56             R.string.save,                                                                               </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="">  57             new DialogInterface.OnClickListener() {                                                      </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="">  58                 public void onClick(DialogInterface dialog, int whichButton) {                           </span>
<span class="1557854570547195237" onmouseenter="enter('1557854570547195237');" onmouseout="out('1557854570547195237');" style=""><abbr title="  59                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  59                     String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().tr🔵</abbr></span>
<span  style="">  60                                                                                                          </span>
<span class="7598536375028459133" onmouseenter="enter('7598536375028459133');" onmouseout="out('7598536375028459133');" style="">  61 &lt;&lt;&lt;&lt;&lt;&lt;&lt; MINE                                                                                             </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  62                     try {                                                                                </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  63                         mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  64                         AnalyticsTracker.track(                                                          </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  65                             AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  66                             AnalyticsTracker.CATEGORY_TAG,                                               </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  67                             &quot;tag_alert_edit_box&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  68                         );                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  69                     } catch (BucketObjectNameInvalid e) {                                                </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  70                         Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  71                         DialogUtils.showDialogWithEmail(                                                 </span>
<span class="-1922245487729536443" onmouseenter="enter('-1922245487729536443');" onmouseout="out('-1922245487729536443');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  72                             requireContext(),                                                            </span>
<span class="-2955281638418738093" onmouseenter="enter('-2955281638418738093');" onmouseout="out('-2955281638418738093');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  73                             getString(R.string.error),                                                   </span>
<span class="-6347072831338425491" onmouseenter="enter('-6347072831338425491');" onmouseout="out('-6347072831338425491');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  74                             getString(R.string.rename_tag_message)                                       </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 167, 0, 0.24); margin: 0">  75                         );                                                                               </span>
<span class="7991106586064342212" onmouseenter="enter('7991106586064342212');" onmouseout="out('7991106586064342212');" style="">  76 ||||||| BASE                                                                                             </span>
<span  style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  77                                                                                                          </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  78                     try {                                                                                </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  79                         mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                              </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  80                         AnalyticsTracker.track(                                                          </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  81                             AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                   </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  82                             AnalyticsTracker.CATEGORY_TAG,                                               </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  83                             &quot;tag_alert_edit_box&quot;                                                         </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  84                         );                                                                               </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  85                     } catch (BucketObjectNameInvalid e) {                                                </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  86                         Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  87                         showDialogErrorRename();                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  88                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  89                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  90             }                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 0, 0, 0.15); margin: 0">  91         );                                                                                               </span>
<span class="3796057323931724632" onmouseenter="enter('3796057323931724632');" onmouseout="out('3796057323931724632');" style="">  92 =======                                                                                                  </span>
<span class="9040690389905476739" onmouseenter="enter('9040690389905476739');" onmouseout="out('9040690389905476739');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  93                     if (tagNew.equals(mTagOld)) {                                                        </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 0, 255, 0.24); margin: 0">  94                         return;                                                                          </span>
<span class="-5027112130205478640" onmouseenter="enter('-5027112130205478640');" onmouseout="out('-5027112130205478640');" style="">  95 &gt;&gt;&gt;&gt;&gt;&gt;&gt; YOURS                                                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  96                     }                                                                                    </span>
<span  style="">  97                                                                                                          </span>
<span class="-6355342768531921756" onmouseenter="enter('-6355342768531921756');" onmouseout="out('-6355342768531921756');" style="">  98                     int index = mTag.hasIndex() ? mTag.getIndex() : mBucketTag.count();                  </span>
<span class="8984751593155817155" onmouseenter="enter('8984751593155817155');" onmouseout="out('8984751593155817155');" style=""><abbr title="  99                     boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTagOld));">  99                     boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTa🔵</abbr></span>
<span class="7581268061079215482" onmouseenter="enter('7581268061079215482');" onmouseout="out('7581268061079215482');" style=""> 100                     boolean hasCanonicalTag = TagUtils.hasCanonicalOfLexical(mBucketTag, tagNew);        </span>
<span  style=""> 101                                                                                                          </span>
<span class="407683281186936177" onmouseenter="enter('407683281186936177');" onmouseout="out('407683281186936177');" style=""> 102                     if (hasCanonicalTag &amp;&amp; !isRenamingToLexicalTag) {                                    </span>
<span class="6558054485502523997" onmouseenter="enter('6558054485502523997');" onmouseout="out('6558054485502523997');" style=""> 103                         String tagCanonical = TagUtils.getCanonicalFromLexical(mBucketTag, tagNew);      </span>
<span class="-3826221793829500822" onmouseenter="enter('-3826221793829500822');" onmouseout="out('-3826221793829500822');" style=""> 104                         showDialogErrorConflict(tagCanonical, mTagOld, tagNew, index);                   </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style=""> 105                         return;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106                     }                                                                                    </span>
<span  style=""> 107                                                                                                          </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style=""> 108                     tryToRenameTag(tagNew, index);                                                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 109                 }                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 110             }                                                                                            </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 111         );                                                                                               </span>
<span class="6198620581626322987" onmouseenter="enter('6198620581626322987');" onmouseout="out('6198620581626322987');" style=""> 112         View view = LayoutInflater.from(context).inflate(R.layout.edit_tag, null);                       </span>
<span class="1121131251930072401" onmouseenter="enter('1121131251930072401');" onmouseout="out('1121131251930072401');" style=""> 113         mEditTextLayout = view.findViewById(R.id.input_tag_name);                                        </span>
<span class="-7114137022069097485" onmouseenter="enter('-7114137022069097485');" onmouseout="out('-7114137022069097485');" style=""> 114         mEditTextTag = (TextInputEditText) mEditTextLayout.getEditText();                                </span>
<span  style=""> 115                                                                                                          </span>
<span class="7735754244257240639" onmouseenter="enter('7735754244257240639');" onmouseout="out('7735754244257240639');" style=""> 116         if (mEditTextTag != null) {                                                                      </span>
<span class="447465716922311914" onmouseenter="enter('447465716922311914');" onmouseout="out('447465716922311914');" style=""> 117             mEditTextTag.addTextChangedListener(this);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 118         }                                                                                                </span>
<span  style=""> 119                                                                                                          </span>
<span class="-8435563844252015090" onmouseenter="enter('-8435563844252015090');" onmouseout="out('-8435563844252015090');" style=""> 120         builder.setView(view);                                                                           </span>
<span class="9056313008121515285" onmouseenter="enter('9056313008121515285');" onmouseout="out('9056313008121515285');" style=""> 121         mDialogEditTag = builder.create();                                                               </span>
<span class="4630150356335865678" onmouseenter="enter('4630150356335865678');" onmouseout="out('4630150356335865678');" style=""> 122         mDialogEditTag.setOnShowListener(this);                                                          </span>
<span class="-3065065285145787290" onmouseenter="enter('-3065065285145787290');" onmouseout="out('-3065065285145787290');" style=""> 123         return mDialogEditTag;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span  style=""> 125                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 126     @Override                                                                                            </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 127     public void onShow(DialogInterface dialog) {                                                         </span>
<span class="-1708220890195378177" onmouseenter="enter('-1708220890195378177');" onmouseout="out('-1708220890195378177');" style=""> 128         mButtonPositive = mDialogEditTag.getButton(DialogInterface.BUTTON_POSITIVE);                     </span>
<span class="6073625129885142737" onmouseenter="enter('6073625129885142737');" onmouseout="out('6073625129885142737');" style=""> 129         mEditTextTag.setText(mTag.getName());                                                            </span>
<span class="1321112473525763562" onmouseenter="enter('1321112473525763562');" onmouseout="out('1321112473525763562');" style=""> 130         mTagOld = mEditTextTag.getText() != null ? mEditTextTag.getText().toString() : &quot;&quot;;               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131     }                                                                                                    </span>
<span  style=""> 132                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 133     @Override                                                                                            </span>
<span class="-4437132573704634147" onmouseenter="enter('-4437132573704634147');" onmouseout="out('-4437132573704634147');" style=""> 134     public void afterTextChanged(Editable s) {                                                           </span>
<span class="-26058557839881173" onmouseenter="enter('-26058557839881173');" onmouseout="out('-26058557839881173');" style=""> 135         if (isTagNameValid()) {                                                                          </span>
<span class="4899269093150510543" onmouseenter="enter('4899269093150510543');" onmouseout="out('4899269093150510543');" style=""> 136             mButtonPositive.setEnabled(true);                                                            </span>
<span class="-5697024561503719332" onmouseenter="enter('-5697024561503719332');" onmouseout="out('-5697024561503719332');" style=""> 137             mEditTextLayout.setError(null);                                                              </span>
<span class="-5913541246256061459" onmouseenter="enter('-5913541246256061459');" onmouseout="out('-5913541246256061459');" style=""> 138         } else if (isTagNameInvalidEmpty()) {                                                            </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 139             mButtonPositive.setEnabled(false);                                                           </span>
<span class="424029332147889126" onmouseenter="enter('424029332147889126');" onmouseout="out('424029332147889126');" style=""> 140             mEditTextLayout.setError(getString(R.string.rename_tag_error_empty));                        </span>
<span class="-2577912726669612155" onmouseenter="enter('-2577912726669612155');" onmouseout="out('-2577912726669612155');" style=""> 141         } else if (isTagNameInvalidLength()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 142             mButtonPositive.setEnabled(false);                                                           </span>
<span class="-2602820246149814170" onmouseenter="enter('-2602820246149814170');" onmouseout="out('-2602820246149814170');" style=""> 143             mEditTextLayout.setError(getString(R.string.rename_tag_error_length));                       </span>
<span class="6152624911744093661" onmouseenter="enter('6152624911744093661');" onmouseout="out('6152624911744093661');" style=""> 144         } else if (isTagNameInvalidSpaces()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 145             mButtonPositive.setEnabled(false);                                                           </span>
<span class="8143005098769142401" onmouseenter="enter('8143005098769142401');" onmouseout="out('8143005098769142401');" style=""> 146             mEditTextLayout.setError(getString(R.string.rename_tag_error_spaces));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 148     }                                                                                                    </span>
<span  style=""> 149                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 150     @Override                                                                                            </span>
<span class="-3570328658461450353" onmouseenter="enter('-3570328658461450353');" onmouseout="out('-3570328658461450353');" style=""> 151     public void beforeTextChanged(CharSequence s, int start, int count, int after) {                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 152     }                                                                                                    </span>
<span  style=""> 153                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 154     @Override                                                                                            </span>
<span class="-8664753840714296524" onmouseenter="enter('-8664753840714296524');" onmouseout="out('-8664753840714296524');" style=""> 155     public void onTextChanged(CharSequence s, int start, int before, int count) {                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 156     }                                                                                                    </span>
<span  style=""> 157                                                                                                          </span>
<span class="7655823983800358667" onmouseenter="enter('7655823983800358667');" onmouseout="out('7655823983800358667');" style=""> 158     private boolean isTagNameValid() {                                                                   </span>
<span class="643762818301545765" onmouseenter="enter('643762818301545765');" onmouseout="out('643762818301545765');" style=""> 159         return !isTagNameInvalidSpaces() &amp;&amp; !isTagNameInvalidLength() &amp;&amp; !isTagNameInvalidEmpty();       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 160     }                                                                                                    </span>
<span  style=""> 161                                                                                                          </span>
<span class="1327392678981763021" onmouseenter="enter('1327392678981763021');" onmouseout="out('1327392678981763021');" style=""> 162     private boolean isTagNameInvalidEmpty() {                                                            </span>
<span class="4474573016225835188" onmouseenter="enter('4474573016225835188');" onmouseout="out('4474573016225835188');" style=""> 163         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().isEmpty();            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164     }                                                                                                    </span>
<span  style=""> 165                                                                                                          </span>
<span class="-2592942555996691000" onmouseenter="enter('-2592942555996691000');" onmouseout="out('-2592942555996691000');" style=""> 166     private boolean isTagNameInvalidLength() {                                                           </span>
<span class="6239636414937327552" onmouseenter="enter('6239636414937327552');" onmouseout="out('6239636414937327552');" style=""><abbr title=" 167         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString());"> 167         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString()🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 168     }                                                                                                    </span>
<span  style=""> 169                                                                                                          </span>
<span class="7695349952704721969" onmouseenter="enter('7695349952704721969');" onmouseout="out('7695349952704721969');" style=""> 170     private boolean isTagNameInvalidSpaces() {                                                           </span>
<span class="7255418825221320611" onmouseenter="enter('7255418825221320611');" onmouseout="out('7255418825221320611');" style=""> 171         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().contains(&quot; &quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 172     }                                                                                                    </span>
<span  style=""> 173                                                                                                          </span>
<span class="-3905316698805032920" onmouseenter="enter('-3905316698805032920');" onmouseout="out('-3905316698805032920');" style=""><abbr title=" 174     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int index) {"> 174     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int 🔵</abbr></span>
<span class="3552563853693048709" onmouseenter="enter('3552563853693048709');" onmouseout="out('3552563853693048709');" style=""> 175         new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))               </span>
<span class="6446248235830128324" onmouseenter="enter('6446248235830128324');" onmouseout="out('6446248235830128324');" style=""> 176             .setTitle(R.string.dialog_tag_conflict_title)                                                </span>
<span class="4586707364289698024" onmouseenter="enter('4586707364289698024');" onmouseout="out('4586707364289698024');" style=""> 177             .setMessage(getString(R.string.dialog_tag_conflict_message, canonical, tagOld, canonical))   </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 178             .setNegativeButton(R.string.cancel, null)                                                    </span>
<span class="4175557063650855703" onmouseenter="enter('4175557063650855703');" onmouseout="out('4175557063650855703');" style=""> 179             .setPositiveButton(                                                                          </span>
<span class="5471402993924395688" onmouseenter="enter('5471402993924395688');" onmouseout="out('5471402993924395688');" style=""> 180                 R.string.dialog_tag_conflict_button_positive,                                            </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 181                 new DialogInterface.OnClickListener() {                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 182                     @Override                                                                            </span>
<span class="-1165462893937301465" onmouseenter="enter('-1165462893937301465');" onmouseout="out('-1165462893937301465');" style=""> 183                     public void onClick(DialogInterface dialog, int which) {                             </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style=""> 184                         tryToRenameTag(tagNew, index);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 185                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 186                 }                                                                                        </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 187             )                                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 188             .show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 189     }                                                                                                    </span>
<span  style=""> 190                                                                                                          </span>
<span class="-8542749061850330587" onmouseenter="enter('-8542749061850330587');" onmouseout="out('-8542749061850330587');" style=""> 191     private void tryToRenameTag(String tagNew, int index) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 192         try {                                                                                            </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style=""> 193             mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                          </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style=""> 194             AnalyticsTracker.track(                                                                      </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style=""> 195                 AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                               </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style=""> 196                 AnalyticsTracker.CATEGORY_TAG,                                                           </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style=""> 197                 &quot;tag_alert_edit_box&quot;                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style=""> 198             );                                                                                           </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 199         } catch (BucketObjectNameInvalid e) {                                                            </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style=""> 200             Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                            </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style=""> 201             showDialogErrorRename();                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 203     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 204 }                                                                                                        </span>



































</pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1 package com.automattic.simplenote;                                                                       </span>
<span  style="">   2                                                                                                          </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">   3 import android.app.Dialog;                                                                               </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4 import android.content.Context;                                                                          </span>
<span class="5120588093825807819" onmouseenter="enter('5120588093825807819');" onmouseout="out('5120588093825807819');" style="">   5 import android.content.DialogInterface.OnShowListener;                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   6 import android.content.DialogInterface;                                                                  </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   7 import android.os.Bundle;                                                                                </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">   8 import android.text.Editable;                                                                            </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">   9 import android.text.TextWatcher;                                                                         </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  10 import android.util.Log;                                                                                 </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  11 import android.view.ContextThemeWrapper;                                                                 </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  12 import android.view.LayoutInflater;                                                                      </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  13 import android.view.View;                                                                                </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  14 import android.widget.Button;                                                                            </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  15 import androidx.annotation.NonNull;                                                                      </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  16 import androidx.appcompat.app.AlertDialog;                                                               </span>
<span class="-2329980159743646291" onmouseenter="enter('-2329980159743646291');" onmouseout="out('-2329980159743646291');" style="">  17 import androidx.appcompat.app.AppCompatDialogFragment;                                                   </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  18 import com.automattic.simplenote.analytics.AnalyticsTracker;                                             </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  19 import com.automattic.simplenote.models.Note;                                                            </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  20 import com.automattic.simplenote.models.Tag;                                                             </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="">  21 import com.automattic.simplenote.utils.DialogUtils;                                                      </span>
<span class="-643769428942460504" onmouseenter="enter('-643769428942460504');" onmouseout="out('-643769428942460504');" style="">  22 import com.automattic.simplenote.utils.TagUtils;                                                         </span>
<span class="-163370588600223430" onmouseenter="enter('-163370588600223430');" onmouseout="out('-163370588600223430');" style="">  23 import com.google.android.material.textfield.TextInputEditText;                                          </span>
<span class="4676291190299489748" onmouseenter="enter('4676291190299489748');" onmouseout="out('4676291190299489748');" style="">  24 import com.google.android.material.textfield.TextInputLayout;                                            </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  25 import com.simperium.client.Bucket;                                                                      </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  26 import com.simperium.client.BucketObjectNameInvalid;                                                     </span>
<span  style="">  27                                                                                                          </span>
<span  style="">  28                                                                                                          </span>
<span class="-3735317766224450871" onmouseenter="enter('-3735317766224450871');" onmouseout="out('-3735317766224450871');" style="">  29 public class TagDialogFragment extends AppCompatDialogFragment implements TextWatcher , OnShowListener { </span>
<span class="5537373882139325799" onmouseenter="enter('5537373882139325799');" onmouseout="out('5537373882139325799');" style="">  30     public static String DIALOG_TAG = &quot;dialog_tag&quot;;                                                      </span>
<span  style="">  31                                                                                                          </span>
<span class="442006960909860217" onmouseenter="enter('442006960909860217');" onmouseout="out('442006960909860217');" style="">  32     private AlertDialog mDialogEditTag;                                                                  </span>
<span  style="">  33                                                                                                          </span>
<span class="6753807459084570132" onmouseenter="enter('6753807459084570132');" onmouseout="out('6753807459084570132');" style="">  34     private Bucket&lt;Note&gt; mBucketNote;                                                                    </span>
<span  style="">  35                                                                                                          </span>
<span class="-3890855770468776049" onmouseenter="enter('-3890855770468776049');" onmouseout="out('-3890855770468776049');" style="">  36     private Bucket&lt;Tag&gt; mBucketTag;                                                                      </span>
<span  style="">  37                                                                                                          </span>
<span class="-8841444528549159439" onmouseenter="enter('-8841444528549159439');" onmouseout="out('-8841444528549159439');" style="">  38     private Button mButtonPositive;                                                                      </span>
<span  style="">  39                                                                                                          </span>
<span class="-8017567455626702712" onmouseenter="enter('-8017567455626702712');" onmouseout="out('-8017567455626702712');" style="">  40     private String mTagOld;                                                                              </span>
<span  style="">  41                                                                                                          </span>
<span class="-8184777672973242555" onmouseenter="enter('-8184777672973242555');" onmouseout="out('-8184777672973242555');" style="">  42     private Tag mTag;                                                                                    </span>
<span  style="">  43                                                                                                          </span>
<span class="-7591720298883354674" onmouseenter="enter('-7591720298883354674');" onmouseout="out('-7591720298883354674');" style="">  44     private TextInputEditText mEditTextTag;                                                              </span>
<span  style="">  45                                                                                                          </span>
<span class="-339847538703613437" onmouseenter="enter('-339847538703613437');" onmouseout="out('-339847538703613437');" style="">  46     private TextInputLayout mEditTextLayout;                                                             </span>
<span  style="">  47                                                                                                          </span>
<span class="-4291494885611338789" onmouseenter="enter('-4291494885611338789');" onmouseout="out('-4291494885611338789');" style="">  48     public TagDialogFragment(Tag tag, Bucket&lt;Note&gt; bucketNote, Bucket&lt;Tag&gt; bucketTag) {                  </span>
<span class="33622927522891611" onmouseenter="enter('33622927522891611');" onmouseout="out('33622927522891611');" style="">  49         mTag = tag;                                                                                      </span>
<span class="-8365526099772723424" onmouseenter="enter('-8365526099772723424');" onmouseout="out('-8365526099772723424');" style="">  50         mBucketNote = bucketNote;                                                                        </span>
<span class="-6662372173638377991" onmouseenter="enter('-6662372173638377991');" onmouseout="out('-6662372173638377991');" style="">  51         mBucketTag = bucketTag;                                                                          </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  52     }                                                                                                    </span>
<span  style="">  53                                                                                                          </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="">  54     @NonNull                                                                                             </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  55     @Override                                                                                            </span>
<span class="-1996677151110261268" onmouseenter="enter('-1996677151110261268');" onmouseout="out('-1996677151110261268');" style="">  56     public Dialog onCreateDialog(Bundle savedInstanceState) {                                            </span>
<span class="-6828054537806445503" onmouseenter="enter('-6828054537806445503');" onmouseout="out('-6828054537806445503');" style="">  57         Context context = new ContextThemeWrapper(requireContext(), R.style.Dialog);                     </span>
<span class="-3127835005269421656" onmouseenter="enter('-3127835005269421656');" onmouseout="out('-3127835005269421656');" style="">  58         AlertDialog.Builder builder = new AlertDialog.Builder(context);                                  </span>
<span class="5172596270847189428" onmouseenter="enter('5172596270847189428');" onmouseout="out('5172596270847189428');" style="">  59         builder.setTitle(R.string.rename_tag);                                                           </span>
<span class="-9151336580514573681" onmouseenter="enter('-9151336580514573681');" onmouseout="out('-9151336580514573681');" style="">  60         builder.setNegativeButton(R.string.cancel, null);                                                </span>
<span class="-3450607551888340686" onmouseenter="enter('-3450607551888340686');" onmouseout="out('-3450607551888340686');" style="">  61         builder.setPositiveButton(R.string.save, new DialogInterface.OnClickListener() {                 </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="">  62             public void onClick(DialogInterface dialog, int whichButton) {                               </span>
<span class="116185088525280165" onmouseenter="enter('116185088525280165');" onmouseout="out('116185088525280165');" style=""><abbr title="  63                 String tagNew = (mEditTextTag.getText() != null) ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  63                 String tagNew = (mEditTextTag.getText() != null) ? mEditTextTag.getText().toString().trim🔵</abbr></span>
<span class="9040690389905476739" onmouseenter="enter('9040690389905476739');" onmouseout="out('9040690389905476739');" style="">  64                 if (tagNew.equals(mTagOld)) {                                                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  65                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  66                 }                                                                                        </span>
<span class="9119750190943034161" onmouseenter="enter('9119750190943034161');" onmouseout="out('9119750190943034161');" style="">  67                 int index = (mTag.hasIndex()) ? mTag.getIndex() : mBucketTag.count();                    </span>
<span class="8984751593155817155" onmouseenter="enter('8984751593155817155');" onmouseout="out('8984751593155817155');" style=""><abbr title="  68                 boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTagOld));">  68                 boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTagOld🔵</abbr></span>
<span class="7581268061079215482" onmouseenter="enter('7581268061079215482');" onmouseout="out('7581268061079215482');" style="">  69                 boolean hasCanonicalTag = TagUtils.hasCanonicalOfLexical(mBucketTag, tagNew);            </span>
<span class="1879040354663357493" onmouseenter="enter('1879040354663357493');" onmouseout="out('1879040354663357493');" style="">  70                 if (hasCanonicalTag &amp;&amp; (!isRenamingToLexicalTag)) {                                      </span>
<span class="6558054485502523997" onmouseenter="enter('6558054485502523997');" onmouseout="out('6558054485502523997');" style="">  71                     String tagCanonical = TagUtils.getCanonicalFromLexical(mBucketTag, tagNew);          </span>
<span class="-3826221793829500822" onmouseenter="enter('-3826221793829500822');" onmouseout="out('-3826221793829500822');" style="">  72                     showDialogErrorConflict(tagCanonical, mTagOld, tagNew, index);                       </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="">  73                     return;                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  74                 }                                                                                        </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style="">  75                 tryToRenameTag(tagNew, index);                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  76             }                                                                                            </span>
<span class="7938821646327104961" onmouseenter="enter('7938821646327104961');" onmouseout="out('7938821646327104961');" style="">  77         });                                                                                              </span>
<span class="6198620581626322987" onmouseenter="enter('6198620581626322987');" onmouseout="out('6198620581626322987');" style="">  78         View view = LayoutInflater.from(context).inflate(R.layout.edit_tag, null);                       </span>
<span class="1121131251930072401" onmouseenter="enter('1121131251930072401');" onmouseout="out('1121131251930072401');" style="">  79         mEditTextLayout = view.findViewById(R.id.input_tag_name);                                        </span>
<span class="-4736683562245540692" onmouseenter="enter('-4736683562245540692');" onmouseout="out('-4736683562245540692');" style="">  80         mEditTextTag = ((TextInputEditText) (mEditTextLayout.getEditText()));                            </span>
<span class="7735754244257240639" onmouseenter="enter('7735754244257240639');" onmouseout="out('7735754244257240639');" style="">  81         if (mEditTextTag != null) {                                                                      </span>
<span class="447465716922311914" onmouseenter="enter('447465716922311914');" onmouseout="out('447465716922311914');" style="">  82             mEditTextTag.addTextChangedListener(this);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83         }                                                                                                </span>
<span class="-8435563844252015090" onmouseenter="enter('-8435563844252015090');" onmouseout="out('-8435563844252015090');" style="">  84         builder.setView(view);                                                                           </span>
<span class="9056313008121515285" onmouseenter="enter('9056313008121515285');" onmouseout="out('9056313008121515285');" style="">  85         mDialogEditTag = builder.create();                                                               </span>
<span class="4630150356335865678" onmouseenter="enter('4630150356335865678');" onmouseout="out('4630150356335865678');" style="">  86         mDialogEditTag.setOnShowListener(this);                                                          </span>
<span class="-3065065285145787290" onmouseenter="enter('-3065065285145787290');" onmouseout="out('-3065065285145787290');" style="">  87         return mDialogEditTag;                                                                           </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88     }                                                                                                    </span>
<span  style="">  89                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  90     @Override                                                                                            </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style="">  91     public void onShow(DialogInterface dialog) {                                                         </span>
<span class="-1708220890195378177" onmouseenter="enter('-1708220890195378177');" onmouseout="out('-1708220890195378177');" style="">  92         mButtonPositive = mDialogEditTag.getButton(DialogInterface.BUTTON_POSITIVE);                     </span>
<span class="6073625129885142737" onmouseenter="enter('6073625129885142737');" onmouseout="out('6073625129885142737');" style="">  93         mEditTextTag.setText(mTag.getName());                                                            </span>
<span class="1321112473525763562" onmouseenter="enter('1321112473525763562');" onmouseout="out('1321112473525763562');" style="">  94         mTagOld = mEditTextTag.getText() != null ? mEditTextTag.getText().toString() : &quot;&quot;;               </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  95     }                                                                                                    </span>
<span  style="">  96                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  97     @Override                                                                                            </span>
<span class="-4437132573704634147" onmouseenter="enter('-4437132573704634147');" onmouseout="out('-4437132573704634147');" style="">  98     public void afterTextChanged(Editable s) {                                                           </span>
<span class="-26058557839881173" onmouseenter="enter('-26058557839881173');" onmouseout="out('-26058557839881173');" style="">  99         if (isTagNameValid()) {                                                                          </span>
<span class="4899269093150510543" onmouseenter="enter('4899269093150510543');" onmouseout="out('4899269093150510543');" style=""> 100             mButtonPositive.setEnabled(true);                                                            </span>
<span class="-5697024561503719332" onmouseenter="enter('-5697024561503719332');" onmouseout="out('-5697024561503719332');" style=""> 101             mEditTextLayout.setError(null);                                                              </span>
<span class="-5913541246256061459" onmouseenter="enter('-5913541246256061459');" onmouseout="out('-5913541246256061459');" style=""> 102         } else if (isTagNameInvalidEmpty()) {                                                            </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 103             mButtonPositive.setEnabled(false);                                                           </span>
<span class="424029332147889126" onmouseenter="enter('424029332147889126');" onmouseout="out('424029332147889126');" style=""> 104             mEditTextLayout.setError(getString(R.string.rename_tag_error_empty));                        </span>
<span class="-2577912726669612155" onmouseenter="enter('-2577912726669612155');" onmouseout="out('-2577912726669612155');" style=""> 105         } else if (isTagNameInvalidLength()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 106             mButtonPositive.setEnabled(false);                                                           </span>
<span class="-2602820246149814170" onmouseenter="enter('-2602820246149814170');" onmouseout="out('-2602820246149814170');" style=""> 107             mEditTextLayout.setError(getString(R.string.rename_tag_error_length));                       </span>
<span class="6152624911744093661" onmouseenter="enter('6152624911744093661');" onmouseout="out('6152624911744093661');" style=""> 108         } else if (isTagNameInvalidSpaces()) {                                                           </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 109             mButtonPositive.setEnabled(false);                                                           </span>
<span class="8143005098769142401" onmouseenter="enter('8143005098769142401');" onmouseout="out('8143005098769142401');" style=""> 110             mEditTextLayout.setError(getString(R.string.rename_tag_error_spaces));                       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 111         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 112     }                                                                                                    </span>
<span  style=""> 113                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 114     @Override                                                                                            </span>
<span class="-3570328658461450353" onmouseenter="enter('-3570328658461450353');" onmouseout="out('-3570328658461450353');" style=""> 115     public void beforeTextChanged(CharSequence s, int start, int count, int after) {                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 116     }                                                                                                    </span>
<span  style=""> 117                                                                                                          </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 118     @Override                                                                                            </span>
<span class="-8664753840714296524" onmouseenter="enter('-8664753840714296524');" onmouseout="out('-8664753840714296524');" style=""> 119     public void onTextChanged(CharSequence s, int start, int before, int count) {                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 120     }                                                                                                    </span>
<span  style=""> 121                                                                                                          </span>
<span class="7655823983800358667" onmouseenter="enter('7655823983800358667');" onmouseout="out('7655823983800358667');" style=""> 122     private boolean isTagNameValid() {                                                                   </span>
<span class="643762818301545765" onmouseenter="enter('643762818301545765');" onmouseout="out('643762818301545765');" style=""> 123         return !isTagNameInvalidSpaces() &amp;&amp; !isTagNameInvalidLength() &amp;&amp; !isTagNameInvalidEmpty();       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 124     }                                                                                                    </span>
<span  style=""> 125                                                                                                          </span>
<span class="1327392678981763021" onmouseenter="enter('1327392678981763021');" onmouseout="out('1327392678981763021');" style=""> 126     private boolean isTagNameInvalidEmpty() {                                                            </span>
<span class="4474573016225835188" onmouseenter="enter('4474573016225835188');" onmouseout="out('4474573016225835188');" style=""> 127         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().isEmpty();            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 128     }                                                                                                    </span>
<span  style=""> 129                                                                                                          </span>
<span class="-2592942555996691000" onmouseenter="enter('-2592942555996691000');" onmouseout="out('-2592942555996691000');" style=""> 130     private boolean isTagNameInvalidLength() {                                                           </span>
<span class="6239636414937327552" onmouseenter="enter('6239636414937327552');" onmouseout="out('6239636414937327552');" style=""><abbr title=" 131         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString());"> 131         return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString()🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 132     }                                                                                                    </span>
<span  style=""> 133                                                                                                          </span>
<span class="7695349952704721969" onmouseenter="enter('7695349952704721969');" onmouseout="out('7695349952704721969');" style=""> 134     private boolean isTagNameInvalidSpaces() {                                                           </span>
<span class="7255418825221320611" onmouseenter="enter('7255418825221320611');" onmouseout="out('7255418825221320611');" style=""> 135         return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().contains(&quot; &quot;);        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 136     }                                                                                                    </span>
<span  style=""> 137                                                                                                          </span>
<span class="-3905316698805032920" onmouseenter="enter('-3905316698805032920');" onmouseout="out('-3905316698805032920');" style=""><abbr title=" 138     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int index) {"> 138     private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int 🔵</abbr></span>
<span class="3552563853693048709" onmouseenter="enter('3552563853693048709');" onmouseout="out('3552563853693048709');" style=""> 139         new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))               </span>
<span class="6446248235830128324" onmouseenter="enter('6446248235830128324');" onmouseout="out('6446248235830128324');" style=""> 140             .setTitle(R.string.dialog_tag_conflict_title)                                                </span>
<span class="4586707364289698024" onmouseenter="enter('4586707364289698024');" onmouseout="out('4586707364289698024');" style=""> 141             .setMessage(getString(R.string.dialog_tag_conflict_message, canonical, tagOld, canonical))   </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style=""> 142             .setNegativeButton(R.string.cancel, null)                                                    </span>
<span class="4175557063650855703" onmouseenter="enter('4175557063650855703');" onmouseout="out('4175557063650855703');" style=""> 143             .setPositiveButton(                                                                          </span>
<span class="5471402993924395688" onmouseenter="enter('5471402993924395688');" onmouseout="out('5471402993924395688');" style=""> 144                 R.string.dialog_tag_conflict_button_positive,                                            </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style=""> 145                 new DialogInterface.OnClickListener() {                                                  </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 146                     @Override                                                                            </span>
<span class="-1165462893937301465" onmouseenter="enter('-1165462893937301465');" onmouseout="out('-1165462893937301465');" style=""> 147                     public void onClick(DialogInterface dialog, int which) {                             </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style=""> 148                         tryToRenameTag(tagNew, index);                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 149                     }                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150                 }                                                                                        </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style=""> 151             )                                                                                            </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 152             .show();                                                                                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 153     }                                                                                                    </span>
<span  style=""> 154                                                                                                          </span>
<span class="4099293535497344121" onmouseenter="enter('4099293535497344121');" onmouseout="out('4099293535497344121');" style=""> 155     private void showDialogErrorRename() {                                                               </span>
<span class="2674388753395344135" onmouseenter="enter('2674388753395344135');" onmouseout="out('2674388753395344135');" style=""><abbr title=" 156         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))"> 156         final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.st🔵</abbr></span>
<span class="-1953659942132584336" onmouseenter="enter('-1953659942132584336');" onmouseout="out('-1953659942132584336');" style=""> 157             .setTitle(R.string.error)                                                                    </span>
<span class="1257332449968202961" onmouseenter="enter('1257332449968202961');" onmouseout="out('1257332449968202961');" style=""> 158             .setMessage(HtmlCompat.fromHtml(String.format(                                               </span>
<span class="-8543938198145642849" onmouseenter="enter('-8543938198145642849');" onmouseout="out('-8543938198145642849');" style=""> 159                 getString(R.string.rename_tag_message),                                                  </span>
<span class="4009043354217021380" onmouseenter="enter('4009043354217021380');" onmouseout="out('4009043354217021380');" style=""> 160                 getString(R.string.rename_tag_message_email),                                            </span>
<span class="-1722874118564332797" onmouseenter="enter('-1722874118564332797');" onmouseout="out('-1722874118564332797');" style=""> 161                 &quot;&lt;span style=\&quot;color:#&quot;,                                                                 </span>
<span class="2083799212419745609" onmouseenter="enter('2083799212419745609');" onmouseout="out('2083799212419745609');" style=""><abbr title=" 162                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xffffff),"> 162                 Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent🔵</abbr></span>
<span class="6715716597467463749" onmouseenter="enter('6715716597467463749');" onmouseout="out('6715716597467463749');" style=""> 163                 &quot;\&quot;&gt;&quot;,                                                                                   </span>
<span class="-4604162135783998682" onmouseenter="enter('-4604162135783998682');" onmouseout="out('-4604162135783998682');" style=""> 164                 &quot;&lt;/span&gt;&quot;                                                                                </span>
<span class="4874958601941260770" onmouseenter="enter('4874958601941260770');" onmouseout="out('4874958601941260770');" style=""> 165             )))                                                                                          </span>
<span class="8109469258891206403" onmouseenter="enter('8109469258891206403');" onmouseout="out('8109469258891206403');" style=""> 166             .setPositiveButton(android.R.string.ok, null)                                                </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 167             .show();                                                                                     </span>
<span class="-8995908398685960365" onmouseenter="enter('-8995908398685960365');" onmouseout="out('-8995908398685960365');" style=""><abbr title=" 168         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovementMethod.getInstance());"> 168         ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 169     }                                                                                                    </span>
<span  style=""> 170                                                                                                          </span>
<span class="-8542749061850330587" onmouseenter="enter('-8542749061850330587');" onmouseout="out('-8542749061850330587');" style=""> 171     private void tryToRenameTag(String tagNew, int index) {                                              </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style=""> 172         try {                                                                                            </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style=""> 173             mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                          </span>
<span class="3099152705005215757" onmouseenter="enter('3099152705005215757');" onmouseout="out('3099152705005215757');" style=""><abbr title=" 174             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTracker.CATEGORY_TAG, &quot;tag_alert_edit_box&quot;);"> 174             AnalyticsTracker.track(AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED, AnalyticsTracker.CATEGORY_T🔵</abbr></span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style=""> 175         } catch (BucketObjectNameInvalid e) {                                                            </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style=""> 176             Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                            </span>
<span class="5188036720687785163" onmouseenter="enter('5188036720687785163');" onmouseout="out('5188036720687785163');" style=""><abbr title=" 177             DialogUtils.showDialogWithEmail(requireContext(), getString(R.string.error), getString(R.string.rename_tag_message));"> 177             DialogUtils.showDialogWithEmail(requireContext(), getString(R.string.error), getString(R.stri🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 178         }                                                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 179     }                                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 180 }                                                                                                        </span>



























































</pre></td>
                        </tr>
                    </table>
                </div>
                <div id="bottom">
                    <table style="margin:auto">
                        <tr>
                            <th>ours vs. base</th>
                            <th>theirs vs. base</th>
                        </tr>
                        <tr>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">   3  import android.app.Dialog;                                                                                        </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="5120588093825807819" onmouseenter="enter('5120588093825807819');" onmouseout="out('5120588093825807819');" style="">   6  import android.content.DialogInterface.OnShowListener;                                                            </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   7  import android.os.Bundle;                                                                                         </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">   8  import android.text.Editable;                                                                                     </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">   9  import android.text.TextWatcher;                                                                                  </span>
<span class="7667853897029253413" onmouseenter="enter('7667853897029253413');" onmouseout="out('7667853897029253413');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  10 -import android.text.method.LinkMovementMethod;                                                                    </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  11  import android.util.Log;                                                                                          </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  12  import android.view.ContextThemeWrapper;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  13  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  14  import android.view.View;                                                                                         </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  15  import android.widget.Button;                                                                                     </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  16 -import android.widget.TextView;                                                                                   </span>
<span  style="">  17                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  18  import androidx.annotation.NonNull;                                                                               </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  19  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-2329980159743646291" onmouseenter="enter('-2329980159743646291');" onmouseout="out('-2329980159743646291');" style="">  20  import androidx.appcompat.app.AppCompatDialogFragment;                                                            </span>
<span  style="">  21                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  23  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  24  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  25 -import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>
<span class="8245575215535056595" onmouseenter="enter('8245575215535056595');" onmouseout="out('8245575215535056595');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  26 +import com.automattic.simplenote.utils.DialogUtils;                                                               </span>
<span class="-643769428942460504" onmouseenter="enter('-643769428942460504');" onmouseout="out('-643769428942460504');" style="">  27  import com.automattic.simplenote.utils.TagUtils;                                                                  </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  28 -import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>
<span class="-163370588600223430" onmouseenter="enter('-163370588600223430');" onmouseout="out('-163370588600223430');" style="">  29  import com.google.android.material.textfield.TextInputEditText;                                                   </span>
<span class="4676291190299489748" onmouseenter="enter('4676291190299489748');" onmouseout="out('4676291190299489748');" style="">  30  import com.google.android.material.textfield.TextInputLayout;                                                     </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  31  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  32  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  33 -                                                                                                                  </span>
<span class="6306724220981822255" onmouseenter="enter('6306724220981822255');" onmouseout="out('6306724220981822255');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  34 -import java.util.Objects;                                                                                         </span>
<span  style="">  35                                                                                                                    </span>
<span class="4251413361595014742" onmouseenter="enter('4251413361595014742');" onmouseout="out('4251413361595014742');" style="">  36  public class TagDialogFragment extends AppCompatDialogFragment implements TextWatcher, OnShowListener {           </span>
<span class="5537373882139325799" onmouseenter="enter('5537373882139325799');" onmouseout="out('5537373882139325799');" style="">  37      public static String DIALOG_TAG = &quot;dialog_tag&quot;;                                                               </span>
<span  style="">  38                                                                                                                    </span>
<span class="442006960909860217" onmouseenter="enter('442006960909860217');" onmouseout="out('442006960909860217');" style="">  39      private AlertDialog mDialogEditTag;                                                                           </span>
<span class="6753807459084570132" onmouseenter="enter('6753807459084570132');" onmouseout="out('6753807459084570132');" style="">  40      private Bucket&lt;Note&gt; mBucketNote;                                                                             </span>
<span class="-3890855770468776049" onmouseenter="enter('-3890855770468776049');" onmouseout="out('-3890855770468776049');" style="">  41      private Bucket&lt;Tag&gt; mBucketTag;                                                                               </span>
<span class="-8841444528549159439" onmouseenter="enter('-8841444528549159439');" onmouseout="out('-8841444528549159439');" style="">  42      private Button mButtonPositive;                                                                               </span>
<span class="-8017567455626702712" onmouseenter="enter('-8017567455626702712');" onmouseout="out('-8017567455626702712');" style="">  43      private String mTagOld;                                                                                       </span>
<span class="-8184777672973242555" onmouseenter="enter('-8184777672973242555');" onmouseout="out('-8184777672973242555');" style="">  44      private Tag mTag;                                                                                             </span>
<span class="-7591720298883354674" onmouseenter="enter('-7591720298883354674');" onmouseout="out('-7591720298883354674');" style="">  45      private TextInputEditText mEditTextTag;                                                                       </span>
<span class="-339847538703613437" onmouseenter="enter('-339847538703613437');" onmouseout="out('-339847538703613437');" style="">  46      private TextInputLayout mEditTextLayout;                                                                      </span>
<span  style="">  47                                                                                                                    </span>
<span class="-4291494885611338789" onmouseenter="enter('-4291494885611338789');" onmouseout="out('-4291494885611338789');" style="">  48      public TagDialogFragment(Tag tag, Bucket&lt;Note&gt; bucketNote, Bucket&lt;Tag&gt; bucketTag) {                           </span>
<span class="33622927522891611" onmouseenter="enter('33622927522891611');" onmouseout="out('33622927522891611');" style="">  49          mTag = tag;                                                                                               </span>
<span class="-8365526099772723424" onmouseenter="enter('-8365526099772723424');" onmouseout="out('-8365526099772723424');" style="">  50          mBucketNote = bucketNote;                                                                                 </span>
<span class="-6662372173638377991" onmouseenter="enter('-6662372173638377991');" onmouseout="out('-6662372173638377991');" style="">  51          mBucketTag = bucketTag;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  52      }                                                                                                             </span>
<span  style="">  53                                                                                                                    </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="">  54      @NonNull                                                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  55      @Override                                                                                                     </span>
<span class="-1996677151110261268" onmouseenter="enter('-1996677151110261268');" onmouseout="out('-1996677151110261268');" style="">  56      public Dialog onCreateDialog(Bundle savedInstanceState) {                                                     </span>
<span class="-6828054537806445503" onmouseenter="enter('-6828054537806445503');" onmouseout="out('-6828054537806445503');" style="">  57          Context context = new ContextThemeWrapper(requireContext(), R.style.Dialog);                              </span>
<span class="-3127835005269421656" onmouseenter="enter('-3127835005269421656');" onmouseout="out('-3127835005269421656');" style="">  58          AlertDialog.Builder builder = new AlertDialog.Builder(context);                                           </span>
<span class="5172596270847189428" onmouseenter="enter('5172596270847189428');" onmouseout="out('5172596270847189428');" style="">  59          builder.setTitle(R.string.rename_tag);                                                                    </span>
<span class="-9151336580514573681" onmouseenter="enter('-9151336580514573681');" onmouseout="out('-9151336580514573681');" style="">  60          builder.setNegativeButton(R.string.cancel, null);                                                         </span>
<span class="-6905730424985733351" onmouseenter="enter('-6905730424985733351');" onmouseout="out('-6905730424985733351');" style="">  61          builder.setPositiveButton(                                                                                </span>
<span class="7150269752415003601" onmouseenter="enter('7150269752415003601');" onmouseout="out('7150269752415003601');" style="">  62              R.string.save,                                                                                        </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="">  63              new DialogInterface.OnClickListener() {                                                               </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="">  64                  public void onClick(DialogInterface dialog, int whichButton) {                                    </span>
<span class="1557854570547195237" onmouseenter="enter('1557854570547195237');" onmouseout="out('1557854570547195237');" style=""><abbr title="  65                      String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  65                      String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;🔵</abbr></span>





<span class="-6355342768531921756" onmouseenter="enter('-6355342768531921756');" onmouseout="out('-6355342768531921756');" style="">  66                      int index = mTag.hasIndex() ? mTag.getIndex() : mBucketTag.count();                           </span>


<span  style="">  67                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="">  68                      try {                                                                                         </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="">  69                          mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                       </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="">  70                          AnalyticsTracker.track(                                                                   </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="">  71                              AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                            </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="">  72                              AnalyticsTracker.CATEGORY_TAG,                                                        </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="">  73                              &quot;tag_alert_edit_box&quot;                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  74                          );                                                                                        </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="">  75                      } catch (BucketObjectNameInvalid e) {                                                         </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="">  76                          Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                         </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                        showDialogErrorRename();                                                                  </span>
<span class="967411361434393723" onmouseenter="enter('967411361434393723');" onmouseout="out('967411361434393723');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  78 +                        DialogUtils.showDialogWithEmail(                                                          </span>
<span class="-1922245487729536443" onmouseenter="enter('-1922245487729536443');" onmouseout="out('-1922245487729536443');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  79 +                            requireContext(),                                                                     </span>
<span class="-2955281638418738093" onmouseenter="enter('-2955281638418738093');" onmouseout="out('-2955281638418738093');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  80 +                            getString(R.string.error),                                                            </span>
<span class="-6347072831338425491" onmouseenter="enter('-6347072831338425491');" onmouseout="out('-6347072831338425491');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  81 +                            getString(R.string.rename_tag_message)                                                </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  82 +                        );                                                                                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  83                      }                                                                                             </span>


<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  84                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  85              }                                                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  86          );                                                                                                        </span>
<span class="6198620581626322987" onmouseenter="enter('6198620581626322987');" onmouseout="out('6198620581626322987');" style="">  87          View view = LayoutInflater.from(context).inflate(R.layout.edit_tag, null);                                </span>
<span class="1121131251930072401" onmouseenter="enter('1121131251930072401');" onmouseout="out('1121131251930072401');" style="">  88          mEditTextLayout = view.findViewById(R.id.input_tag_name);                                                 </span>
<span class="-7114137022069097485" onmouseenter="enter('-7114137022069097485');" onmouseout="out('-7114137022069097485');" style="">  89          mEditTextTag = (TextInputEditText) mEditTextLayout.getEditText();                                         </span>
<span  style="">  90                                                                                                                    </span>
<span class="7735754244257240639" onmouseenter="enter('7735754244257240639');" onmouseout="out('7735754244257240639');" style="">  91          if (mEditTextTag != null) {                                                                               </span>
<span class="447465716922311914" onmouseenter="enter('447465716922311914');" onmouseout="out('447465716922311914');" style="">  92              mEditTextTag.addTextChangedListener(this);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  93          }                                                                                                         </span>
<span  style="">  94                                                                                                                    </span>
<span class="-8435563844252015090" onmouseenter="enter('-8435563844252015090');" onmouseout="out('-8435563844252015090');" style="">  95          builder.setView(view);                                                                                    </span>
<span class="9056313008121515285" onmouseenter="enter('9056313008121515285');" onmouseout="out('9056313008121515285');" style="">  96          mDialogEditTag = builder.create();                                                                        </span>
<span class="4630150356335865678" onmouseenter="enter('4630150356335865678');" onmouseout="out('4630150356335865678');" style="">  97          mDialogEditTag.setOnShowListener(this);                                                                   </span>
<span class="-3065065285145787290" onmouseenter="enter('-3065065285145787290');" onmouseout="out('-3065065285145787290');" style="">  98          return mDialogEditTag;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  99      }                                                                                                             </span>
<span  style=""> 100                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 101      @Override                                                                                                     </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 102      public void onShow(DialogInterface dialog) {                                                                  </span>
<span class="-1708220890195378177" onmouseenter="enter('-1708220890195378177');" onmouseout="out('-1708220890195378177');" style=""> 103          mButtonPositive = mDialogEditTag.getButton(DialogInterface.BUTTON_POSITIVE);                              </span>
<span class="6073625129885142737" onmouseenter="enter('6073625129885142737');" onmouseout="out('6073625129885142737');" style=""> 104          mEditTextTag.setText(mTag.getName());                                                                     </span>
<span class="1321112473525763562" onmouseenter="enter('1321112473525763562');" onmouseout="out('1321112473525763562');" style=""> 105          mTagOld = mEditTextTag.getText() != null ? mEditTextTag.getText().toString() : &quot;&quot;;                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106      }                                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 108      @Override                                                                                                     </span>
<span class="-4437132573704634147" onmouseenter="enter('-4437132573704634147');" onmouseout="out('-4437132573704634147');" style=""> 109      public void afterTextChanged(Editable s) {                                                                    </span>
<span class="-26058557839881173" onmouseenter="enter('-26058557839881173');" onmouseout="out('-26058557839881173');" style=""> 110          if (isTagNameValid()) {                                                                                   </span>
<span class="4899269093150510543" onmouseenter="enter('4899269093150510543');" onmouseout="out('4899269093150510543');" style=""> 111              mButtonPositive.setEnabled(true);                                                                     </span>
<span class="-5697024561503719332" onmouseenter="enter('-5697024561503719332');" onmouseout="out('-5697024561503719332');" style=""> 112              mEditTextLayout.setError(null);                                                                       </span>
<span class="-5913541246256061459" onmouseenter="enter('-5913541246256061459');" onmouseout="out('-5913541246256061459');" style=""> 113          } else if (isTagNameInvalidEmpty()) {                                                                     </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 114              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="424029332147889126" onmouseenter="enter('424029332147889126');" onmouseout="out('424029332147889126');" style=""> 115              mEditTextLayout.setError(getString(R.string.rename_tag_error_empty));                                 </span>
<span class="-2577912726669612155" onmouseenter="enter('-2577912726669612155');" onmouseout="out('-2577912726669612155');" style=""> 116          } else if (isTagNameInvalidLength()) {                                                                    </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 117              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="-2602820246149814170" onmouseenter="enter('-2602820246149814170');" onmouseout="out('-2602820246149814170');" style=""> 118              mEditTextLayout.setError(getString(R.string.rename_tag_error_length));                                </span>
<span class="6152624911744093661" onmouseenter="enter('6152624911744093661');" onmouseout="out('6152624911744093661');" style=""> 119          } else if (isTagNameInvalidSpaces()) {                                                                    </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 120              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="8143005098769142401" onmouseenter="enter('8143005098769142401');" onmouseout="out('8143005098769142401');" style=""> 121              mEditTextLayout.setError(getString(R.string.rename_tag_error_spaces));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 122          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 123      }                                                                                                             </span>
<span  style=""> 124                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 125      @Override                                                                                                     </span>
<span class="-3570328658461450353" onmouseenter="enter('-3570328658461450353');" onmouseout="out('-3570328658461450353');" style=""> 126      public void beforeTextChanged(CharSequence s, int start, int count, int after) {                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 127      }                                                                                                             </span>
<span  style=""> 128                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 129      @Override                                                                                                     </span>
<span class="-8664753840714296524" onmouseenter="enter('-8664753840714296524');" onmouseout="out('-8664753840714296524');" style=""> 130      public void onTextChanged(CharSequence s, int start, int before, int count) {                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 131      }                                                                                                             </span>
<span  style=""> 132                                                                                                                    </span>
<span class="7655823983800358667" onmouseenter="enter('7655823983800358667');" onmouseout="out('7655823983800358667');" style=""> 133      private boolean isTagNameValid() {                                                                            </span>
<span class="643762818301545765" onmouseenter="enter('643762818301545765');" onmouseout="out('643762818301545765');" style=""> 134          return !isTagNameInvalidSpaces() &amp;&amp; !isTagNameInvalidLength() &amp;&amp; !isTagNameInvalidEmpty();                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 135      }                                                                                                             </span>
<span  style=""> 136                                                                                                                    </span>
<span class="1327392678981763021" onmouseenter="enter('1327392678981763021');" onmouseout="out('1327392678981763021');" style=""> 137      private boolean isTagNameInvalidEmpty() {                                                                     </span>
<span class="4474573016225835188" onmouseenter="enter('4474573016225835188');" onmouseout="out('4474573016225835188');" style=""> 138          return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().isEmpty();                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 139      }                                                                                                             </span>
<span  style=""> 140                                                                                                                    </span>
<span class="-2592942555996691000" onmouseenter="enter('-2592942555996691000');" onmouseout="out('-2592942555996691000');" style=""> 141      private boolean isTagNameInvalidLength() {                                                                    </span>
<span class="6239636414937327552" onmouseenter="enter('6239636414937327552');" onmouseout="out('6239636414937327552');" style=""> 142          return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString());       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 143      }                                                                                                             </span>
<span  style=""> 144                                                                                                                    </span>
<span class="7695349952704721969" onmouseenter="enter('7695349952704721969');" onmouseout="out('7695349952704721969');" style=""> 145      private boolean isTagNameInvalidSpaces() {                                                                    </span>
<span class="7255418825221320611" onmouseenter="enter('7255418825221320611');" onmouseout="out('7255418825221320611');" style=""> 146          return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().contains(&quot; &quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 147      }                                                                                                             </span>
<span  style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 148 -                                                                                                                  </span>

















<span class="4099293535497344121" onmouseenter="enter('4099293535497344121');" onmouseout="out('4099293535497344121');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 149 -    private void showDialogErrorRename() {                                                                        </span>
<span class="2674388753395344135" onmouseenter="enter('2674388753395344135');" onmouseout="out('2674388753395344135');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 150 -        final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))"> 150 -        final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialo🔵</abbr></span>
<span class="-1953659942132584336" onmouseenter="enter('-1953659942132584336');" onmouseout="out('-1953659942132584336');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 151 -            .setTitle(R.string.error)                                                                             </span>
<span class="1257332449968202961" onmouseenter="enter('1257332449968202961');" onmouseout="out('1257332449968202961');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 152 -            .setMessage(HtmlCompat.fromHtml(String.format(                                                        </span>
<span class="-8543938198145642849" onmouseenter="enter('-8543938198145642849');" onmouseout="out('-8543938198145642849');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 153 -                getString(R.string.rename_tag_message),                                                           </span>
<span class="4009043354217021380" onmouseenter="enter('4009043354217021380');" onmouseout="out('4009043354217021380');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 154 -                getString(R.string.rename_tag_message_email),                                                     </span>
<span class="-1722874118564332797" onmouseenter="enter('-1722874118564332797');" onmouseout="out('-1722874118564332797');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 155 -                &quot;&lt;span style=\&quot;color:#&quot;,                                                                          </span>
<span class="2083799212419745609" onmouseenter="enter('2083799212419745609');" onmouseout="out('2083799212419745609');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 156 -                Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xffffff),"> 156 -                Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xfff🔵</abbr></span>
<span class="6715716597467463749" onmouseenter="enter('6715716597467463749');" onmouseout="out('6715716597467463749');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 157 -                &quot;\&quot;&gt;&quot;,                                                                                            </span>
<span class="-4604162135783998682" onmouseenter="enter('-4604162135783998682');" onmouseout="out('-4604162135783998682');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 158 -                &quot;&lt;/span&gt;&quot;                                                                                         </span>
<span class="4874958601941260770" onmouseenter="enter('4874958601941260770');" onmouseout="out('4874958601941260770');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 159 -            )))                                                                                                   </span>
<span class="8109469258891206403" onmouseenter="enter('8109469258891206403');" onmouseout="out('8109469258891206403');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 160 -            .setPositiveButton(android.R.string.ok, null)                                                         </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 161 -            .show();                                                                                              </span>
<span class="-8995908398685960365" onmouseenter="enter('-8995908398685960365');" onmouseout="out('-8995908398685960365');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"><abbr title=" 162 -        ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovementMethod.getInstance());"> 162 -        ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovem🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0"> 163 -    }                                                                                                             </span>














<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 164  }                                                                                                                 </span></pre></td>
                            <td><pre><span class="8328120990598135231" onmouseenter="enter('8328120990598135231');" onmouseout="out('8328120990598135231');" style="">   1  package com.automattic.simplenote;                                                                                </span>
<span  style="">   2                                                                                                                    </span>
<span class="-1440843073414233844" onmouseenter="enter('-1440843073414233844');" onmouseout="out('-1440843073414233844');" style="">   3  import android.app.Dialog;                                                                                        </span>
<span class="5922045460006936195" onmouseenter="enter('5922045460006936195');" onmouseout="out('5922045460006936195');" style="">   4  import android.content.Context;                                                                                   </span>
<span class="-5438333149234786386" onmouseenter="enter('-5438333149234786386');" onmouseout="out('-5438333149234786386');" style="">   5  import android.content.DialogInterface;                                                                           </span>
<span class="5120588093825807819" onmouseenter="enter('5120588093825807819');" onmouseout="out('5120588093825807819');" style="">   6  import android.content.DialogInterface.OnShowListener;                                                            </span>
<span class="8096531590004379472" onmouseenter="enter('8096531590004379472');" onmouseout="out('8096531590004379472');" style="">   7  import android.os.Bundle;                                                                                         </span>
<span class="4177373235046048356" onmouseenter="enter('4177373235046048356');" onmouseout="out('4177373235046048356');" style="">   8  import android.text.Editable;                                                                                     </span>
<span class="4038639591141008331" onmouseenter="enter('4038639591141008331');" onmouseout="out('4038639591141008331');" style="">   9  import android.text.TextWatcher;                                                                                  </span>
<span class="7667853897029253413" onmouseenter="enter('7667853897029253413');" onmouseout="out('7667853897029253413');" style="">  10  import android.text.method.LinkMovementMethod;                                                                    </span>
<span class="7196841398407674858" onmouseenter="enter('7196841398407674858');" onmouseout="out('7196841398407674858');" style="">  11  import android.util.Log;                                                                                          </span>
<span class="-4301724490516415610" onmouseenter="enter('-4301724490516415610');" onmouseout="out('-4301724490516415610');" style="">  12  import android.view.ContextThemeWrapper;                                                                          </span>
<span class="8553241717595905778" onmouseenter="enter('8553241717595905778');" onmouseout="out('8553241717595905778');" style="">  13  import android.view.LayoutInflater;                                                                               </span>
<span class="-8980485571216513882" onmouseenter="enter('-8980485571216513882');" onmouseout="out('-8980485571216513882');" style="">  14  import android.view.View;                                                                                         </span>
<span class="1133222559545955472" onmouseenter="enter('1133222559545955472');" onmouseout="out('1133222559545955472');" style="">  15  import android.widget.Button;                                                                                     </span>
<span class="-4961528671422147708" onmouseenter="enter('-4961528671422147708');" onmouseout="out('-4961528671422147708');" style="">  16  import android.widget.TextView;                                                                                   </span>
<span  style="">  17                                                                                                                    </span>
<span class="6963272077887521702" onmouseenter="enter('6963272077887521702');" onmouseout="out('6963272077887521702');" style="">  18  import androidx.annotation.NonNull;                                                                               </span>
<span class="-8930837843172754904" onmouseenter="enter('-8930837843172754904');" onmouseout="out('-8930837843172754904');" style="">  19  import androidx.appcompat.app.AlertDialog;                                                                        </span>
<span class="-2329980159743646291" onmouseenter="enter('-2329980159743646291');" onmouseout="out('-2329980159743646291');" style="">  20  import androidx.appcompat.app.AppCompatDialogFragment;                                                            </span>
<span  style="">  21                                                                                                                    </span>
<span class="-155835000323929258" onmouseenter="enter('-155835000323929258');" onmouseout="out('-155835000323929258');" style="">  22  import com.automattic.simplenote.analytics.AnalyticsTracker;                                                      </span>
<span class="9061368408436996655" onmouseenter="enter('9061368408436996655');" onmouseout="out('9061368408436996655');" style="">  23  import com.automattic.simplenote.models.Note;                                                                     </span>
<span class="107771998888903823" onmouseenter="enter('107771998888903823');" onmouseout="out('107771998888903823');" style="">  24  import com.automattic.simplenote.models.Tag;                                                                      </span>
<span class="5145471914103640094" onmouseenter="enter('5145471914103640094');" onmouseout="out('5145471914103640094');" style="">  25  import com.automattic.simplenote.utils.HtmlCompat;                                                                </span>

<span class="-643769428942460504" onmouseenter="enter('-643769428942460504');" onmouseout="out('-643769428942460504');" style="">  26  import com.automattic.simplenote.utils.TagUtils;                                                                  </span>
<span class="7305000128845659611" onmouseenter="enter('7305000128845659611');" onmouseout="out('7305000128845659611');" style="">  27  import com.automattic.simplenote.utils.ThemeUtils;                                                                </span>
<span class="-163370588600223430" onmouseenter="enter('-163370588600223430');" onmouseout="out('-163370588600223430');" style="">  28  import com.google.android.material.textfield.TextInputEditText;                                                   </span>
<span class="4676291190299489748" onmouseenter="enter('4676291190299489748');" onmouseout="out('4676291190299489748');" style="">  29  import com.google.android.material.textfield.TextInputLayout;                                                     </span>
<span class="-8170925370861558125" onmouseenter="enter('-8170925370861558125');" onmouseout="out('-8170925370861558125');" style="">  30  import com.simperium.client.Bucket;                                                                               </span>
<span class="-3142233007863984129" onmouseenter="enter('-3142233007863984129');" onmouseout="out('-3142233007863984129');" style="">  31  import com.simperium.client.BucketObjectNameInvalid;                                                              </span>
<span  style="">  32                                                                                                                    </span>
<span class="6306724220981822255" onmouseenter="enter('6306724220981822255');" onmouseout="out('6306724220981822255');" style="">  33  import java.util.Objects;                                                                                         </span>
<span  style="">  34                                                                                                                    </span>
<span class="4251413361595014742" onmouseenter="enter('4251413361595014742');" onmouseout="out('4251413361595014742');" style="">  35  public class TagDialogFragment extends AppCompatDialogFragment implements TextWatcher, OnShowListener {           </span>
<span class="5537373882139325799" onmouseenter="enter('5537373882139325799');" onmouseout="out('5537373882139325799');" style="">  36      public static String DIALOG_TAG = &quot;dialog_tag&quot;;                                                               </span>
<span  style="">  37                                                                                                                    </span>
<span class="442006960909860217" onmouseenter="enter('442006960909860217');" onmouseout="out('442006960909860217');" style="">  38      private AlertDialog mDialogEditTag;                                                                           </span>
<span class="6753807459084570132" onmouseenter="enter('6753807459084570132');" onmouseout="out('6753807459084570132');" style="">  39      private Bucket&lt;Note&gt; mBucketNote;                                                                             </span>
<span class="-3890855770468776049" onmouseenter="enter('-3890855770468776049');" onmouseout="out('-3890855770468776049');" style="">  40      private Bucket&lt;Tag&gt; mBucketTag;                                                                               </span>
<span class="-8841444528549159439" onmouseenter="enter('-8841444528549159439');" onmouseout="out('-8841444528549159439');" style="">  41      private Button mButtonPositive;                                                                               </span>
<span class="-8017567455626702712" onmouseenter="enter('-8017567455626702712');" onmouseout="out('-8017567455626702712');" style="">  42      private String mTagOld;                                                                                       </span>
<span class="-8184777672973242555" onmouseenter="enter('-8184777672973242555');" onmouseout="out('-8184777672973242555');" style="">  43      private Tag mTag;                                                                                             </span>
<span class="-7591720298883354674" onmouseenter="enter('-7591720298883354674');" onmouseout="out('-7591720298883354674');" style="">  44      private TextInputEditText mEditTextTag;                                                                       </span>
<span class="-339847538703613437" onmouseenter="enter('-339847538703613437');" onmouseout="out('-339847538703613437');" style="">  45      private TextInputLayout mEditTextLayout;                                                                      </span>
<span  style="">  46                                                                                                                    </span>
<span class="-4291494885611338789" onmouseenter="enter('-4291494885611338789');" onmouseout="out('-4291494885611338789');" style="">  47      public TagDialogFragment(Tag tag, Bucket&lt;Note&gt; bucketNote, Bucket&lt;Tag&gt; bucketTag) {                           </span>
<span class="33622927522891611" onmouseenter="enter('33622927522891611');" onmouseout="out('33622927522891611');" style="">  48          mTag = tag;                                                                                               </span>
<span class="-8365526099772723424" onmouseenter="enter('-8365526099772723424');" onmouseout="out('-8365526099772723424');" style="">  49          mBucketNote = bucketNote;                                                                                 </span>
<span class="-6662372173638377991" onmouseenter="enter('-6662372173638377991');" onmouseout="out('-6662372173638377991');" style="">  50          mBucketTag = bucketTag;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  51      }                                                                                                             </span>
<span  style="">  52                                                                                                                    </span>
<span class="5154748246392482767" onmouseenter="enter('5154748246392482767');" onmouseout="out('5154748246392482767');" style="">  53      @NonNull                                                                                                      </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="">  54      @Override                                                                                                     </span>
<span class="-1996677151110261268" onmouseenter="enter('-1996677151110261268');" onmouseout="out('-1996677151110261268');" style="">  55      public Dialog onCreateDialog(Bundle savedInstanceState) {                                                     </span>
<span class="-6828054537806445503" onmouseenter="enter('-6828054537806445503');" onmouseout="out('-6828054537806445503');" style="">  56          Context context = new ContextThemeWrapper(requireContext(), R.style.Dialog);                              </span>
<span class="-3127835005269421656" onmouseenter="enter('-3127835005269421656');" onmouseout="out('-3127835005269421656');" style="">  57          AlertDialog.Builder builder = new AlertDialog.Builder(context);                                           </span>
<span class="5172596270847189428" onmouseenter="enter('5172596270847189428');" onmouseout="out('5172596270847189428');" style="">  58          builder.setTitle(R.string.rename_tag);                                                                    </span>
<span class="-9151336580514573681" onmouseenter="enter('-9151336580514573681');" onmouseout="out('-9151336580514573681');" style="">  59          builder.setNegativeButton(R.string.cancel, null);                                                         </span>
<span class="-6905730424985733351" onmouseenter="enter('-6905730424985733351');" onmouseout="out('-6905730424985733351');" style="">  60          builder.setPositiveButton(                                                                                </span>
<span class="7150269752415003601" onmouseenter="enter('7150269752415003601');" onmouseout="out('7150269752415003601');" style="">  61              R.string.save,                                                                                        </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="">  62              new DialogInterface.OnClickListener() {                                                               </span>
<span class="-2102608506618919323" onmouseenter="enter('-2102608506618919323');" onmouseout="out('-2102608506618919323');" style="">  63                  public void onClick(DialogInterface dialog, int whichButton) {                                    </span>
<span class="1557854570547195237" onmouseenter="enter('1557854570547195237');" onmouseout="out('1557854570547195237');" style=""><abbr title="  64                      String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;;">  64                      String tagNew = mEditTextTag.getText() != null ? mEditTextTag.getText().toString().trim() : &quot;&quot;🔵</abbr></span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  65 +                                                                                                                  </span>
<span class="9040690389905476739" onmouseenter="enter('9040690389905476739');" onmouseout="out('9040690389905476739');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  66 +                    if (tagNew.equals(mTagOld)) {                                                                 </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  67 +                        return;                                                                                   </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  68 +                    }                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  69 +                                                                                                                  </span>
<span class="-6355342768531921756" onmouseenter="enter('-6355342768531921756');" onmouseout="out('-6355342768531921756');" style="">  70                      int index = mTag.hasIndex() ? mTag.getIndex() : mBucketTag.count();                           </span>
<span class="8984751593155817155" onmouseenter="enter('8984751593155817155');" onmouseout="out('8984751593155817155');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  71 +                    boolean isRenamingToLexicalTag = TagUtils.hashTag(tagNew).equals(TagUtils.hashTag(mTagOld));  </span>
<span class="7581268061079215482" onmouseenter="enter('7581268061079215482');" onmouseout="out('7581268061079215482');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  72 +                    boolean hasCanonicalTag = TagUtils.hasCanonicalOfLexical(mBucketTag, tagNew);                 </span>
<span  style="">  73                                                                                                                    </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  74 -                    try {                                                                                         </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  75 -                        mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                       </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  76 -                        AnalyticsTracker.track(                                                                   </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  77 -                            AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                            </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  78 -                            AnalyticsTracker.CATEGORY_TAG,                                                        </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  79 -                            &quot;tag_alert_edit_box&quot;                                                                  </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  80 -                        );                                                                                        </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  81 -                    } catch (BucketObjectNameInvalid e) {                                                         </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  82 -                        Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                         </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style="background-color: rgba(255, 0, 0, 0.2); margin: 0">  83 -                        showDialogErrorRename();                                                                  </span>
<span class="407683281186936177" onmouseenter="enter('407683281186936177');" onmouseout="out('407683281186936177');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  84 +                    if (hasCanonicalTag &amp;&amp; !isRenamingToLexicalTag) {                                             </span>
<span class="6558054485502523997" onmouseenter="enter('6558054485502523997');" onmouseout="out('6558054485502523997');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  85 +                        String tagCanonical = TagUtils.getCanonicalFromLexical(mBucketTag, tagNew);               </span>
<span class="-3826221793829500822" onmouseenter="enter('-3826221793829500822');" onmouseout="out('-3826221793829500822');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  86 +                        showDialogErrorConflict(tagCanonical, mTagOld, tagNew, index);                            </span>
<span class="4043029072030362567" onmouseenter="enter('4043029072030362567');" onmouseout="out('4043029072030362567');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  87 +                        return;                                                                                   </span>

<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  88                      }                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  89 +                                                                                                                  </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0">  90 +                    tryToRenameTag(tagNew, index);                                                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  91                  }                                                                                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="">  92              }                                                                                                     </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="">  93          );                                                                                                        </span>
<span class="6198620581626322987" onmouseenter="enter('6198620581626322987');" onmouseout="out('6198620581626322987');" style="">  94          View view = LayoutInflater.from(context).inflate(R.layout.edit_tag, null);                                </span>
<span class="1121131251930072401" onmouseenter="enter('1121131251930072401');" onmouseout="out('1121131251930072401');" style="">  95          mEditTextLayout = view.findViewById(R.id.input_tag_name);                                                 </span>
<span class="-7114137022069097485" onmouseenter="enter('-7114137022069097485');" onmouseout="out('-7114137022069097485');" style="">  96          mEditTextTag = (TextInputEditText) mEditTextLayout.getEditText();                                         </span>
<span  style="">  97                                                                                                                    </span>
<span class="7735754244257240639" onmouseenter="enter('7735754244257240639');" onmouseout="out('7735754244257240639');" style="">  98          if (mEditTextTag != null) {                                                                               </span>
<span class="447465716922311914" onmouseenter="enter('447465716922311914');" onmouseout="out('447465716922311914');" style="">  99              mEditTextTag.addTextChangedListener(this);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 100          }                                                                                                         </span>
<span  style=""> 101                                                                                                                    </span>
<span class="-8435563844252015090" onmouseenter="enter('-8435563844252015090');" onmouseout="out('-8435563844252015090');" style=""> 102          builder.setView(view);                                                                                    </span>
<span class="9056313008121515285" onmouseenter="enter('9056313008121515285');" onmouseout="out('9056313008121515285');" style=""> 103          mDialogEditTag = builder.create();                                                                        </span>
<span class="4630150356335865678" onmouseenter="enter('4630150356335865678');" onmouseout="out('4630150356335865678');" style=""> 104          mDialogEditTag.setOnShowListener(this);                                                                   </span>
<span class="-3065065285145787290" onmouseenter="enter('-3065065285145787290');" onmouseout="out('-3065065285145787290');" style=""> 105          return mDialogEditTag;                                                                                    </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 106      }                                                                                                             </span>
<span  style=""> 107                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 108      @Override                                                                                                     </span>
<span class="-3204481412747554569" onmouseenter="enter('-3204481412747554569');" onmouseout="out('-3204481412747554569');" style=""> 109      public void onShow(DialogInterface dialog) {                                                                  </span>
<span class="-1708220890195378177" onmouseenter="enter('-1708220890195378177');" onmouseout="out('-1708220890195378177');" style=""> 110          mButtonPositive = mDialogEditTag.getButton(DialogInterface.BUTTON_POSITIVE);                              </span>
<span class="6073625129885142737" onmouseenter="enter('6073625129885142737');" onmouseout="out('6073625129885142737');" style=""> 111          mEditTextTag.setText(mTag.getName());                                                                     </span>
<span class="1321112473525763562" onmouseenter="enter('1321112473525763562');" onmouseout="out('1321112473525763562');" style=""> 112          mTagOld = mEditTextTag.getText() != null ? mEditTextTag.getText().toString() : &quot;&quot;;                        </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 113      }                                                                                                             </span>
<span  style=""> 114                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 115      @Override                                                                                                     </span>
<span class="-4437132573704634147" onmouseenter="enter('-4437132573704634147');" onmouseout="out('-4437132573704634147');" style=""> 116      public void afterTextChanged(Editable s) {                                                                    </span>
<span class="-26058557839881173" onmouseenter="enter('-26058557839881173');" onmouseout="out('-26058557839881173');" style=""> 117          if (isTagNameValid()) {                                                                                   </span>
<span class="4899269093150510543" onmouseenter="enter('4899269093150510543');" onmouseout="out('4899269093150510543');" style=""> 118              mButtonPositive.setEnabled(true);                                                                     </span>
<span class="-5697024561503719332" onmouseenter="enter('-5697024561503719332');" onmouseout="out('-5697024561503719332');" style=""> 119              mEditTextLayout.setError(null);                                                                       </span>
<span class="-5913541246256061459" onmouseenter="enter('-5913541246256061459');" onmouseout="out('-5913541246256061459');" style=""> 120          } else if (isTagNameInvalidEmpty()) {                                                                     </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 121              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="424029332147889126" onmouseenter="enter('424029332147889126');" onmouseout="out('424029332147889126');" style=""> 122              mEditTextLayout.setError(getString(R.string.rename_tag_error_empty));                                 </span>
<span class="-2577912726669612155" onmouseenter="enter('-2577912726669612155');" onmouseout="out('-2577912726669612155');" style=""> 123          } else if (isTagNameInvalidLength()) {                                                                    </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 124              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="-2602820246149814170" onmouseenter="enter('-2602820246149814170');" onmouseout="out('-2602820246149814170');" style=""> 125              mEditTextLayout.setError(getString(R.string.rename_tag_error_length));                                </span>
<span class="6152624911744093661" onmouseenter="enter('6152624911744093661');" onmouseout="out('6152624911744093661');" style=""> 126          } else if (isTagNameInvalidSpaces()) {                                                                    </span>
<span class="-4056720984632199759" onmouseenter="enter('-4056720984632199759');" onmouseout="out('-4056720984632199759');" style=""> 127              mButtonPositive.setEnabled(false);                                                                    </span>
<span class="8143005098769142401" onmouseenter="enter('8143005098769142401');" onmouseout="out('8143005098769142401');" style=""> 128              mEditTextLayout.setError(getString(R.string.rename_tag_error_spaces));                                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 129          }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 130      }                                                                                                             </span>
<span  style=""> 131                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 132      @Override                                                                                                     </span>
<span class="-3570328658461450353" onmouseenter="enter('-3570328658461450353');" onmouseout="out('-3570328658461450353');" style=""> 133      public void beforeTextChanged(CharSequence s, int start, int count, int after) {                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 134      }                                                                                                             </span>
<span  style=""> 135                                                                                                                    </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style=""> 136      @Override                                                                                                     </span>
<span class="-8664753840714296524" onmouseenter="enter('-8664753840714296524');" onmouseout="out('-8664753840714296524');" style=""> 137      public void onTextChanged(CharSequence s, int start, int before, int count) {                                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 138      }                                                                                                             </span>
<span  style=""> 139                                                                                                                    </span>
<span class="7655823983800358667" onmouseenter="enter('7655823983800358667');" onmouseout="out('7655823983800358667');" style=""> 140      private boolean isTagNameValid() {                                                                            </span>
<span class="643762818301545765" onmouseenter="enter('643762818301545765');" onmouseout="out('643762818301545765');" style=""> 141          return !isTagNameInvalidSpaces() &amp;&amp; !isTagNameInvalidLength() &amp;&amp; !isTagNameInvalidEmpty();                </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 142      }                                                                                                             </span>
<span  style=""> 143                                                                                                                    </span>
<span class="1327392678981763021" onmouseenter="enter('1327392678981763021');" onmouseout="out('1327392678981763021');" style=""> 144      private boolean isTagNameInvalidEmpty() {                                                                     </span>
<span class="4474573016225835188" onmouseenter="enter('4474573016225835188');" onmouseout="out('4474573016225835188');" style=""> 145          return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().isEmpty();                     </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 146      }                                                                                                             </span>
<span  style=""> 147                                                                                                                    </span>
<span class="-2592942555996691000" onmouseenter="enter('-2592942555996691000');" onmouseout="out('-2592942555996691000');" style=""> 148      private boolean isTagNameInvalidLength() {                                                                    </span>
<span class="6239636414937327552" onmouseenter="enter('6239636414937327552');" onmouseout="out('6239636414937327552');" style=""> 149          return mEditTextTag.getText() != null &amp;&amp; !TagUtils.hashTagValid(mEditTextTag.getText().toString());       </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 150      }                                                                                                             </span>
<span  style=""> 151                                                                                                                    </span>
<span class="7695349952704721969" onmouseenter="enter('7695349952704721969');" onmouseout="out('7695349952704721969');" style=""> 152      private boolean isTagNameInvalidSpaces() {                                                                    </span>
<span class="7255418825221320611" onmouseenter="enter('7255418825221320611');" onmouseout="out('7255418825221320611');" style=""> 153          return mEditTextTag.getText() != null &amp;&amp; mEditTextTag.getText().toString().contains(&quot; &quot;);                 </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 154      }                                                                                                             </span>
<span  style=""> 155                                                                                                                    </span>
<span class="-3905316698805032920" onmouseenter="enter('-3905316698805032920');" onmouseout="out('-3905316698805032920');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 156 +    private void showDialogErrorConflict(String canonical, String tagOld, final String tagNew, final int index) { </span>
<span class="3552563853693048709" onmouseenter="enter('3552563853693048709');" onmouseout="out('3552563853693048709');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 157 +        new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))                        </span>
<span class="6446248235830128324" onmouseenter="enter('6446248235830128324');" onmouseout="out('6446248235830128324');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 158 +            .setTitle(R.string.dialog_tag_conflict_title)                                                         </span>
<span class="4586707364289698024" onmouseenter="enter('4586707364289698024');" onmouseout="out('4586707364289698024');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 159 +            .setMessage(getString(R.string.dialog_tag_conflict_message, canonical, tagOld, canonical))            </span>
<span class="-1520918194926717469" onmouseenter="enter('-1520918194926717469');" onmouseout="out('-1520918194926717469');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 160 +            .setNegativeButton(R.string.cancel, null)                                                             </span>
<span class="4175557063650855703" onmouseenter="enter('4175557063650855703');" onmouseout="out('4175557063650855703');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 161 +            .setPositiveButton(                                                                                   </span>
<span class="5471402993924395688" onmouseenter="enter('5471402993924395688');" onmouseout="out('5471402993924395688');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 162 +                R.string.dialog_tag_conflict_button_positive,                                                     </span>
<span class="559575208408342007" onmouseenter="enter('559575208408342007');" onmouseout="out('559575208408342007');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 163 +                new DialogInterface.OnClickListener() {                                                           </span>
<span class="5563255192340639251" onmouseenter="enter('5563255192340639251');" onmouseout="out('5563255192340639251');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 164 +                    @Override                                                                                     </span>
<span class="-1165462893937301465" onmouseenter="enter('-1165462893937301465');" onmouseout="out('-1165462893937301465');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 165 +                    public void onClick(DialogInterface dialog, int which) {                                      </span>
<span class="-5621803770538819641" onmouseenter="enter('-5621803770538819641');" onmouseout="out('-5621803770538819641');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 166 +                        tryToRenameTag(tagNew, index);                                                            </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 167 +                    }                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 168 +                }                                                                                                 </span>
<span class="-2015476096144723150" onmouseenter="enter('-2015476096144723150');" onmouseout="out('-2015476096144723150');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 169 +            )                                                                                                     </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 170 +            .show();                                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 171 +    }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 172 +                                                                                                                  </span>
<span class="4099293535497344121" onmouseenter="enter('4099293535497344121');" onmouseout="out('4099293535497344121');" style=""> 173      private void showDialogErrorRename() {                                                                        </span>
<span class="2674388753395344135" onmouseenter="enter('2674388753395344135');" onmouseout="out('2674388753395344135');" style=""><abbr title=" 174          final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialog))"> 174          final AlertDialog dialog = new AlertDialog.Builder(new ContextThemeWrapper(requireContext(), R.style.Dialo🔵</abbr></span>
<span class="-1953659942132584336" onmouseenter="enter('-1953659942132584336');" onmouseout="out('-1953659942132584336');" style=""> 175              .setTitle(R.string.error)                                                                             </span>
<span class="1257332449968202961" onmouseenter="enter('1257332449968202961');" onmouseout="out('1257332449968202961');" style=""> 176              .setMessage(HtmlCompat.fromHtml(String.format(                                                        </span>
<span class="-8543938198145642849" onmouseenter="enter('-8543938198145642849');" onmouseout="out('-8543938198145642849');" style=""> 177                  getString(R.string.rename_tag_message),                                                           </span>
<span class="4009043354217021380" onmouseenter="enter('4009043354217021380');" onmouseout="out('4009043354217021380');" style=""> 178                  getString(R.string.rename_tag_message_email),                                                     </span>
<span class="-1722874118564332797" onmouseenter="enter('-1722874118564332797');" onmouseout="out('-1722874118564332797');" style=""> 179                  &quot;&lt;span style=\&quot;color:#&quot;,                                                                          </span>
<span class="2083799212419745609" onmouseenter="enter('2083799212419745609');" onmouseout="out('2083799212419745609');" style=""><abbr title=" 180                  Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xffffff),"> 180                  Integer.toHexString(ThemeUtils.getColorFromAttribute(requireContext(), R.attr.colorAccent) &amp; 0xfff🔵</abbr></span>
<span class="6715716597467463749" onmouseenter="enter('6715716597467463749');" onmouseout="out('6715716597467463749');" style=""> 181                  &quot;\&quot;&gt;&quot;,                                                                                            </span>
<span class="-4604162135783998682" onmouseenter="enter('-4604162135783998682');" onmouseout="out('-4604162135783998682');" style=""> 182                  &quot;&lt;/span&gt;&quot;                                                                                         </span>
<span class="4874958601941260770" onmouseenter="enter('4874958601941260770');" onmouseout="out('4874958601941260770');" style=""> 183              )))                                                                                                   </span>
<span class="8109469258891206403" onmouseenter="enter('8109469258891206403');" onmouseout="out('8109469258891206403');" style=""> 184              .setPositiveButton(android.R.string.ok, null)                                                         </span>
<span class="-4298987925833899609" onmouseenter="enter('-4298987925833899609');" onmouseout="out('-4298987925833899609');" style=""> 185              .show();                                                                                              </span>
<span class="-8995908398685960365" onmouseenter="enter('-8995908398685960365');" onmouseout="out('-8995908398685960365');" style=""><abbr title=" 186          ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovementMethod.getInstance());"> 186          ((TextView) Objects.requireNonNull(dialog.findViewById(android.R.id.message))).setMovementMethod(LinkMovem🔵</abbr></span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 187      }                                                                                                             </span>
<span  style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 188 +                                                                                                                  </span>
<span class="-8542749061850330587" onmouseenter="enter('-8542749061850330587');" onmouseout="out('-8542749061850330587');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 189 +    private void tryToRenameTag(String tagNew, int index) {                                                       </span>
<span class="-2989978199866728989" onmouseenter="enter('-2989978199866728989');" onmouseout="out('-2989978199866728989');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 190 +        try {                                                                                                     </span>
<span class="8112240866973462220" onmouseenter="enter('8112240866973462220');" onmouseout="out('8112240866973462220');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 191 +            mTag.renameTo(mTagOld, tagNew, index, mBucketNote);                                                   </span>
<span class="-3532167543267950700" onmouseenter="enter('-3532167543267950700');" onmouseout="out('-3532167543267950700');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 192 +            AnalyticsTracker.track(                                                                               </span>
<span class="8403274813969416071" onmouseenter="enter('8403274813969416071');" onmouseout="out('8403274813969416071');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 193 +                AnalyticsTracker.Stat.TAG_EDITOR_ACCESSED,                                                        </span>
<span class="5706860438217985089" onmouseenter="enter('5706860438217985089');" onmouseout="out('5706860438217985089');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 194 +                AnalyticsTracker.CATEGORY_TAG,                                                                    </span>
<span class="233226442233904152" onmouseenter="enter('233226442233904152');" onmouseout="out('233226442233904152');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 195 +                &quot;tag_alert_edit_box&quot;                                                                              </span>
<span class="-4075588097149809180" onmouseenter="enter('-4075588097149809180');" onmouseout="out('-4075588097149809180');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 196 +            );                                                                                                    </span>
<span class="-1947392774679043932" onmouseenter="enter('-1947392774679043932');" onmouseout="out('-1947392774679043932');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 197 +        } catch (BucketObjectNameInvalid e) {                                                                     </span>
<span class="8676811142725573618" onmouseenter="enter('8676811142725573618');" onmouseout="out('8676811142725573618');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 198 +            Log.e(Simplenote.TAG, &quot;Unable to rename tag&quot;, e);                                                     </span>
<span class="6944793667119270544" onmouseenter="enter('6944793667119270544');" onmouseout="out('6944793667119270544');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 199 +            showDialogErrorRename();                                                                              </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 200 +        }                                                                                                         </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style="background-color: rgba(0, 255, 0, 0.2); margin: 0"> 201 +    }                                                                                                             </span>
<span class="-1659227874853751674" onmouseenter="enter('-1659227874853751674');" onmouseout="out('-1659227874853751674');" style=""> 202  }                                                                                                                 </span></pre></td>
                        </tr>
                    </table>
                </div>
              </body>
            </html>
            